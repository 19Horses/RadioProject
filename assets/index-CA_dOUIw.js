var o3=Object.defineProperty;var a3=(r,t,s)=>t in r?o3(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var cr=(r,t,s)=>a3(r,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const y of l)if(y.type==="childList")for(const R of y.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&i(R)}).observe(document,{childList:!0,subtree:!0});function s(l){const y={};return l.integrity&&(y.integrity=l.integrity),l.referrerPolicy&&(y.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?y.credentials="include":l.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function i(l){if(l.ep)return;l.ep=!0;const y=s(l);fetch(l.href,y)}})();function zj(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ag={exports:{}},Zd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function l3(){if(yx)return Zd;yx=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(i,l,y){var R=null;if(y!==void 0&&(R=""+y),l.key!==void 0&&(R=""+l.key),"key"in l){y={};for(var n in l)n!=="key"&&(y[n]=l[n])}else y=l;return l=y.ref,{$$typeof:r,type:i,key:R,ref:l!==void 0?l:null,props:y}}return Zd.Fragment=t,Zd.jsx=s,Zd.jsxs=s,Zd}var gx;function u3(){return gx||(gx=1,Ag.exports=l3()),Ag.exports}var ge=u3(),Cg={exports:{}},vr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function c3(){if(vx)return vr;vx=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),y=Symbol.for("react.consumer"),R=Symbol.for("react.context"),n=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),d=Symbol.iterator;function c($){return $===null||typeof $!="object"?null:($=d&&$[d]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,f={};function h($,Q,te){this.props=$,this.context=Q,this.refs=f,this.updater=te||T}h.prototype.isReactComponent={},h.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},h.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function p(){}p.prototype=h.prototype;function u($,Q,te){this.props=$,this.context=Q,this.refs=f,this.updater=te||T}var g=u.prototype=new p;g.constructor=u,A(g,h.prototype),g.isPureReactComponent=!0;var S=Array.isArray,j={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function b($,Q,te,ne,ae,ce){return te=ce.ref,{$$typeof:r,type:$,key:Q,ref:te!==void 0?te:null,props:ce}}function E($,Q){return b($.type,Q,void 0,void 0,void 0,$.props)}function M($){return typeof $=="object"&&$!==null&&$.$$typeof===r}function P($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(te){return Q[te]})}var D=/\/+/g;function O($,Q){return typeof $=="object"&&$!==null&&$.key!=null?P(""+$.key):Q.toString(36)}function U(){}function F($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(U,U):($.status="pending",$.then(function(Q){$.status==="pending"&&($.status="fulfilled",$.value=Q)},function(Q){$.status==="pending"&&($.status="rejected",$.reason=Q)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,Q,te,ne,ae){var ce=typeof $;(ce==="undefined"||ce==="boolean")&&($=null);var de=!1;if($===null)de=!0;else switch(ce){case"bigint":case"string":case"number":de=!0;break;case"object":switch($.$$typeof){case r:case t:de=!0;break;case m:return de=$._init,H(de($._payload),Q,te,ne,ae)}}if(de)return ae=ae($),de=ne===""?"."+O($,0):ne,S(ae)?(te="",de!=null&&(te=de.replace(D,"$&/")+"/"),H(ae,Q,te,"",function(ie){return ie})):ae!=null&&(M(ae)&&(ae=E(ae,te+(ae.key==null||$&&$.key===ae.key?"":(""+ae.key).replace(D,"$&/")+"/")+de)),Q.push(ae)),1;de=0;var X=ne===""?".":ne+":";if(S($))for(var Z=0;Z<$.length;Z++)ne=$[Z],ce=X+O(ne,Z),de+=H(ne,Q,te,ce,ae);else if(Z=c($),typeof Z=="function")for($=Z.call($),Z=0;!(ne=$.next()).done;)ne=ne.value,ce=X+O(ne,Z++),de+=H(ne,Q,te,ce,ae);else if(ce==="object"){if(typeof $.then=="function")return H(F($),Q,te,ne,ae);throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return de}function G($,Q,te){if($==null)return $;var ne=[],ae=0;return H($,ne,"","",function(ce){return Q.call(te,ce,ae++)}),ne}function Y($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(te){($._status===0||$._status===-1)&&($._status=1,$._result=te)},function(te){($._status===0||$._status===-1)&&($._status=2,$._result=te)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var q=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function V(){}return vr.Children={map:G,forEach:function($,Q,te){G($,function(){Q.apply(this,arguments)},te)},count:function($){var Q=0;return G($,function(){Q++}),Q},toArray:function($){return G($,function(Q){return Q})||[]},only:function($){if(!M($))throw Error("React.Children.only expected to receive a single React element child.");return $}},vr.Component=h,vr.Fragment=s,vr.Profiler=l,vr.PureComponent=u,vr.StrictMode=i,vr.Suspense=C,vr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,vr.act=function(){throw Error("act(...) is not supported in production builds of React.")},vr.cache=function($){return function(){return $.apply(null,arguments)}},vr.cloneElement=function($,Q,te){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ne=A({},$.props),ae=$.key,ce=void 0;if(Q!=null)for(de in Q.ref!==void 0&&(ce=void 0),Q.key!==void 0&&(ae=""+Q.key),Q)!_.call(Q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Q.ref===void 0||(ne[de]=Q[de]);var de=arguments.length-2;if(de===1)ne.children=te;else if(1<de){for(var X=Array(de),Z=0;Z<de;Z++)X[Z]=arguments[Z+2];ne.children=X}return b($.type,ae,void 0,void 0,ce,ne)},vr.createContext=function($){return $={$$typeof:R,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:y,_context:$},$},vr.createElement=function($,Q,te){var ne,ae={},ce=null;if(Q!=null)for(ne in Q.key!==void 0&&(ce=""+Q.key),Q)_.call(Q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ae[ne]=Q[ne]);var de=arguments.length-2;if(de===1)ae.children=te;else if(1<de){for(var X=Array(de),Z=0;Z<de;Z++)X[Z]=arguments[Z+2];ae.children=X}if($&&$.defaultProps)for(ne in de=$.defaultProps,de)ae[ne]===void 0&&(ae[ne]=de[ne]);return b($,ce,void 0,void 0,null,ae)},vr.createRef=function(){return{current:null}},vr.forwardRef=function($){return{$$typeof:n,render:$}},vr.isValidElement=M,vr.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:Y}},vr.memo=function($,Q){return{$$typeof:x,type:$,compare:Q===void 0?null:Q}},vr.startTransition=function($){var Q=j.T,te={};j.T=te;try{var ne=$(),ae=j.S;ae!==null&&ae(te,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(V,q)}catch(ce){q(ce)}finally{j.T=Q}},vr.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},vr.use=function($){return j.H.use($)},vr.useActionState=function($,Q,te){return j.H.useActionState($,Q,te)},vr.useCallback=function($,Q){return j.H.useCallback($,Q)},vr.useContext=function($){return j.H.useContext($)},vr.useDebugValue=function(){},vr.useDeferredValue=function($,Q){return j.H.useDeferredValue($,Q)},vr.useEffect=function($,Q){return j.H.useEffect($,Q)},vr.useId=function(){return j.H.useId()},vr.useImperativeHandle=function($,Q,te){return j.H.useImperativeHandle($,Q,te)},vr.useInsertionEffect=function($,Q){return j.H.useInsertionEffect($,Q)},vr.useLayoutEffect=function($,Q){return j.H.useLayoutEffect($,Q)},vr.useMemo=function($,Q){return j.H.useMemo($,Q)},vr.useOptimistic=function($,Q){return j.H.useOptimistic($,Q)},vr.useReducer=function($,Q,te){return j.H.useReducer($,Q,te)},vr.useRef=function($){return j.H.useRef($)},vr.useState=function($){return j.H.useState($)},vr.useSyncExternalStore=function($,Q,te){return j.H.useSyncExternalStore($,Q,te)},vr.useTransition=function(){return j.H.useTransition()},vr.version="19.0.0",vr}var bx;function um(){return bx||(bx=1,Cg.exports=c3()),Cg.exports}var Pe=um();const Au=zj(Pe);var Rg={exports:{}},Jd={},Mg={exports:{}},kg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _x;function d3(){return _x||(_x=1,function(r){function t(G,Y){var q=G.length;G.push(Y);e:for(;0<q;){var V=q-1>>>1,$=G[V];if(0<l($,Y))G[V]=Y,G[q]=$,q=V;else break e}}function s(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var Y=G[0],q=G.pop();if(q!==Y){G[0]=q;e:for(var V=0,$=G.length,Q=$>>>1;V<Q;){var te=2*(V+1)-1,ne=G[te],ae=te+1,ce=G[ae];if(0>l(ne,q))ae<$&&0>l(ce,ne)?(G[V]=ce,G[ae]=q,V=ae):(G[V]=ne,G[te]=q,V=te);else if(ae<$&&0>l(ce,q))G[V]=ce,G[ae]=q,V=ae;else break e}}return Y}function l(G,Y){var q=G.sortIndex-Y.sortIndex;return q!==0?q:G.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;r.unstable_now=function(){return y.now()}}else{var R=Date,n=R.now();r.unstable_now=function(){return R.now()-n}}var C=[],x=[],m=1,d=null,c=3,T=!1,A=!1,f=!1,h=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;function g(G){for(var Y=s(x);Y!==null;){if(Y.callback===null)i(x);else if(Y.startTime<=G)i(x),Y.sortIndex=Y.expirationTime,t(C,Y);else break;Y=s(x)}}function S(G){if(f=!1,g(G),!A)if(s(C)!==null)A=!0,F();else{var Y=s(x);Y!==null&&H(S,Y.startTime-G)}}var j=!1,_=-1,b=5,E=-1;function M(){return!(r.unstable_now()-E<b)}function P(){if(j){var G=r.unstable_now();E=G;var Y=!0;try{e:{A=!1,f&&(f=!1,p(_),_=-1),T=!0;var q=c;try{t:{for(g(G),d=s(C);d!==null&&!(d.expirationTime>G&&M());){var V=d.callback;if(typeof V=="function"){d.callback=null,c=d.priorityLevel;var $=V(d.expirationTime<=G);if(G=r.unstable_now(),typeof $=="function"){d.callback=$,g(G),Y=!0;break t}d===s(C)&&i(C),g(G)}else i(C);d=s(C)}if(d!==null)Y=!0;else{var Q=s(x);Q!==null&&H(S,Q.startTime-G),Y=!1}}break e}finally{d=null,c=q,T=!1}Y=void 0}}finally{Y?D():j=!1}}}var D;if(typeof u=="function")D=function(){u(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=P,D=function(){U.postMessage(null)}}else D=function(){h(P,0)};function F(){j||(j=!0,D())}function H(G,Y){_=h(function(){G(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){A||T||(A=!0,F())},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return c},r.unstable_getFirstCallbackNode=function(){return s(C)},r.unstable_next=function(G){switch(c){case 1:case 2:case 3:var Y=3;break;default:Y=c}var q=c;c=Y;try{return G()}finally{c=q}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,Y){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var q=c;c=G;try{return Y()}finally{c=q}},r.unstable_scheduleCallback=function(G,Y,q){var V=r.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?V+q:V):q=V,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=q+$,G={id:m++,callback:Y,priorityLevel:G,startTime:q,expirationTime:$,sortIndex:-1},q>V?(G.sortIndex=q,t(x,G),s(C)===null&&G===s(x)&&(f?(p(_),_=-1):f=!0,H(S,q-V))):(G.sortIndex=$,t(C,G),A||T||(A=!0,F())),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var Y=c;return function(){var q=c;c=Y;try{return G.apply(this,arguments)}finally{c=q}}}}(kg)),kg}var wx;function h3(){return wx||(wx=1,Mg.exports=d3()),Mg.exports}var Ig={exports:{}},Vs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function f3(){if(xx)return Vs;xx=1;var r=um();function t(C){var x="https://react.dev/errors/"+C;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)x+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+C+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var i={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function y(C,x,m){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:d==null?null:""+d,children:C,containerInfo:x,implementation:m}}var R=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function n(C,x){if(C==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Vs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vs.createPortal=function(C,x){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return y(C,x,null,m)},Vs.flushSync=function(C){var x=R.T,m=i.p;try{if(R.T=null,i.p=2,C)return C()}finally{R.T=x,i.p=m,i.d.f()}},Vs.preconnect=function(C,x){typeof C=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,i.d.C(C,x))},Vs.prefetchDNS=function(C){typeof C=="string"&&i.d.D(C)},Vs.preinit=function(C,x){if(typeof C=="string"&&x&&typeof x.as=="string"){var m=x.as,d=n(m,x.crossOrigin),c=typeof x.integrity=="string"?x.integrity:void 0,T=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;m==="style"?i.d.S(C,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:d,integrity:c,fetchPriority:T}):m==="script"&&i.d.X(C,{crossOrigin:d,integrity:c,fetchPriority:T,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Vs.preinitModule=function(C,x){if(typeof C=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var m=n(x.as,x.crossOrigin);i.d.M(C,{crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&i.d.M(C)},Vs.preload=function(C,x){if(typeof C=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var m=x.as,d=n(m,x.crossOrigin);i.d.L(C,m,{crossOrigin:d,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Vs.preloadModule=function(C,x){if(typeof C=="string")if(x){var m=n(x.as,x.crossOrigin);i.d.m(C,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:m,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else i.d.m(C)},Vs.requestFormReset=function(C){i.d.r(C)},Vs.unstable_batchedUpdates=function(C,x){return C(x)},Vs.useFormState=function(C,x,m){return R.H.useFormState(C,x,m)},Vs.useFormStatus=function(){return R.H.useHostTransitionStatus()},Vs.version="19.0.0",Vs}var Sx;function p3(){if(Sx)return Ig.exports;Sx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ig.exports=f3(),Ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex;function m3(){if(Ex)return Jd;Ex=1;var r=h3(),t=um(),s=p3();function i(o){var a="https://react.dev/errors/"+o;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)a+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}var y=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),c=Symbol.for("react.consumer"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),S=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function _(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var b=Symbol.for("react.client.reference");function E(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===b?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case C:return"Fragment";case n:return"Portal";case m:return"Profiler";case x:return"StrictMode";case f:return"Suspense";case h:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case T:return(o.displayName||"Context")+".Provider";case c:return(o._context.displayName||"Context")+".Consumer";case A:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case p:return a=o.displayName||null,a!==null?a:E(o.type)||"Memo";case u:a=o._payload,o=o._init;try{return E(o(a))}catch{}}return null}var M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=Object.assign,D,O;function U(o){if(D===void 0)try{throw Error()}catch(v){var a=v.stack.trim().match(/\n( *(at )?)/);D=a&&a[1]||"",O=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D+o+O}var F=!1;function H(o,a){if(!o||F)return"";F=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(a){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(lt){var nt=lt}Reflect.construct(o,[],St)}else{try{St.call()}catch(lt){nt=lt}o.call(St.prototype)}}else{try{throw Error()}catch(lt){nt=lt}(St=o())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(lt){if(lt&&nt&&typeof lt.stack=="string")return[lt.stack,nt.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var B=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");B&&B.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=k.DetermineComponentFrameRoot(),oe=W[0],be=W[1];if(oe&&be){var Oe=oe.split(`
`),Ve=be.split(`
`);for(B=k=0;k<Oe.length&&!Oe[k].includes("DetermineComponentFrameRoot");)k++;for(;B<Ve.length&&!Ve[B].includes("DetermineComponentFrameRoot");)B++;if(k===Oe.length||B===Ve.length)for(k=Oe.length-1,B=Ve.length-1;1<=k&&0<=B&&Oe[k]!==Ve[B];)B--;for(;1<=k&&0<=B;k--,B--)if(Oe[k]!==Ve[B]){if(k!==1||B!==1)do if(k--,B--,0>B||Oe[k]!==Ve[B]){var ct=`
`+Oe[k].replace(" at new "," at ");return o.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",o.displayName)),ct}while(1<=k&&0<=B);break}}}finally{F=!1,Error.prepareStackTrace=v}return(v=o?o.displayName||o.name:"")?U(v):""}function G(o){switch(o.tag){case 26:case 27:case 5:return U(o.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return o=H(o.type,!1),o;case 11:return o=H(o.type.render,!1),o;case 1:return o=H(o.type,!0),o;default:return""}}function Y(o){try{var a="";do a+=G(o),o=o.return;while(o);return a}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function q(o){var a=o,v=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(v=a.return),o=a.return;while(o)}return a.tag===3?v:null}function V(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function $(o){if(q(o)!==o)throw Error(i(188))}function Q(o){var a=o.alternate;if(!a){if(a=q(o),a===null)throw Error(i(188));return a!==o?null:o}for(var v=o,k=a;;){var B=v.return;if(B===null)break;var W=B.alternate;if(W===null){if(k=B.return,k!==null){v=k;continue}break}if(B.child===W.child){for(W=B.child;W;){if(W===v)return $(B),o;if(W===k)return $(B),a;W=W.sibling}throw Error(i(188))}if(v.return!==k.return)v=B,k=W;else{for(var oe=!1,be=B.child;be;){if(be===v){oe=!0,v=B,k=W;break}if(be===k){oe=!0,k=B,v=W;break}be=be.sibling}if(!oe){for(be=W.child;be;){if(be===v){oe=!0,v=W,k=B;break}if(be===k){oe=!0,k=W,v=B;break}be=be.sibling}if(!oe)throw Error(i(189))}}if(v.alternate!==k)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?o:a}function te(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o;for(o=o.child;o!==null;){if(a=te(o),a!==null)return a;o=o.sibling}return null}var ne=Array.isArray,ae=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},de=[],X=-1;function Z(o){return{current:o}}function ie(o){0>X||(o.current=de[X],de[X]=null,X--)}function he(o,a){X++,de[X]=o.current,o.current=a}var ye=Z(null),ve=Z(null),le=Z(null),me=Z(null);function Se(o,a){switch(he(le,a),he(ve,o),he(ye,null),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?qw(a):0;break;default:if(o=o===8?a.parentNode:a,a=o.tagName,o=o.namespaceURI)o=qw(o),a=$w(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(ye),he(ye,a)}function Re(){ie(ye),ie(ve),ie(le)}function Ee(o){o.memoizedState!==null&&he(me,o);var a=ye.current,v=$w(a,o.type);a!==v&&(he(ve,o),he(ye,v))}function Ae(o){ve.current===o&&(ie(ye),ie(ve)),me.current===o&&(ie(me),Wd._currentValue=ce)}var Be=Object.prototype.hasOwnProperty,et=r.unstable_scheduleCallback,$e=r.unstable_cancelCallback,at=r.unstable_shouldYield,jt=r.unstable_requestPaint,_t=r.unstable_now,Yt=r.unstable_getCurrentPriorityLevel,Tt=r.unstable_ImmediatePriority,je=r.unstable_UserBlockingPriority,We=r.unstable_NormalPriority,Ye=r.unstable_LowPriority,ft=r.unstable_IdlePriority,Ct=r.log,Vt=r.unstable_setDisableYieldValue,Ot=null,At=null;function fe(o){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ot,o,void 0,(o.current.flags&128)===128)}catch{}}function ue(o){if(typeof Ct=="function"&&Vt(o),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ot,o)}catch{}}var pe=Math.clz32?Math.clz32:Ke,xe=Math.log,De=Math.LN2;function Ke(o){return o>>>=0,o===0?32:31-(xe(o)/De|0)|0}var mt=128,ht=4194304;function Le(o){var a=o&42;if(a!==0)return a;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function gt(o,a){var v=o.pendingLanes;if(v===0)return 0;var k=0,B=o.suspendedLanes,W=o.pingedLanes,oe=o.warmLanes;o=o.finishedLanes!==0;var be=v&134217727;return be!==0?(v=be&~B,v!==0?k=Le(v):(W&=be,W!==0?k=Le(W):o||(oe=be&~oe,oe!==0&&(k=Le(oe))))):(be=v&~B,be!==0?k=Le(be):W!==0?k=Le(W):o||(oe=v&~oe,oe!==0&&(k=Le(oe)))),k===0?0:a!==0&&a!==k&&(a&B)===0&&(B=k&-k,oe=a&-a,B>=oe||B===32&&(oe&4194176)!==0)?a:k}function Mt(o,a){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&a)===0}function sr(o,a){switch(o){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var o=mt;return mt<<=1,(mt&4194176)===0&&(mt=128),o}function tr(){var o=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),o}function er(o){for(var a=[],v=0;31>v;v++)a.push(o);return a}function $t(o,a){o.pendingLanes|=a,a!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function kr(o,a,v,k,B,W){var oe=o.pendingLanes;o.pendingLanes=v,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=v,o.entangledLanes&=v,o.errorRecoveryDisabledLanes&=v,o.shellSuspendCounter=0;var be=o.entanglements,Oe=o.expirationTimes,Ve=o.hiddenUpdates;for(v=oe&~v;0<v;){var ct=31-pe(v),St=1<<ct;be[ct]=0,Oe[ct]=-1;var nt=Ve[ct];if(nt!==null)for(Ve[ct]=null,ct=0;ct<nt.length;ct++){var lt=nt[ct];lt!==null&&(lt.lane&=-536870913)}v&=~St}k!==0&&Cr(o,k,0),W!==0&&B===0&&o.tag!==0&&(o.suspendedLanes|=W&~(oe&~a))}function Cr(o,a,v){o.pendingLanes|=a,o.suspendedLanes&=~a;var k=31-pe(a);o.entangledLanes|=a,o.entanglements[k]=o.entanglements[k]|1073741824|v&4194218}function _n(o,a){var v=o.entangledLanes|=a;for(o=o.entanglements;v;){var k=31-pe(v),B=1<<k;B&a|o[k]&a&&(o[k]|=a),v&=~B}}function Fr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function hn(){var o=ae.p;return o!==0?o:(o=window.event,o===void 0?32:cx(o.type))}function wn(o,a){var v=ae.p;try{return ae.p=o,a()}finally{ae.p=v}}var lr=Math.random().toString(36).slice(2),Ir="__reactFiber$"+lr,Er="__reactProps$"+lr,jr="__reactContainer$"+lr,Oi="__reactEvents$"+lr,no="__reactListeners$"+lr,Js="__reactHandles$"+lr,wo="__reactResources$"+lr,bi="__reactMarker$"+lr;function ke(o){delete o[Ir],delete o[Er],delete o[Oi],delete o[no],delete o[Js]}function vt(o){var a=o[Ir];if(a)return a;for(var v=o.parentNode;v;){if(a=v[jr]||v[Ir]){if(v=a.alternate,a.child!==null||v!==null&&v.child!==null)for(o=Xw(o);o!==null;){if(v=o[Ir])return v;o=Xw(o)}return a}o=v,v=o.parentNode}return null}function Ut(o){if(o=o[Ir]||o[jr]){var a=o.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return o}return null}function pt(o){var a=o.tag;if(a===5||a===26||a===27||a===6)return o.stateNode;throw Error(i(33))}function ar(o){var a=o[wo];return a||(a=o[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function st(o){o[bi]=!0}var Wr=new Set,Bt={};function Jt(o,a){Rt(o,a),Rt(o+"Capture",a)}function Rt(o,a){for(Bt[o]=a,o=0;o<a.length;o++)Wr.add(a[o])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ms={},fn={};function pn(o){return Be.call(fn,o)?!0:Be.call(ms,o)?!1:Fn.test(o)?fn[o]=!0:(ms[o]=!0,!1)}function jn(o,a,v){if(pn(a))if(v===null)o.removeAttribute(a);else{switch(typeof v){case"undefined":case"function":case"symbol":o.removeAttribute(a);return;case"boolean":var k=a.toLowerCase().slice(0,5);if(k!=="data-"&&k!=="aria-"){o.removeAttribute(a);return}}o.setAttribute(a,""+v)}}function An(o,a,v){if(v===null)o.removeAttribute(a);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(a);return}o.setAttribute(a,""+v)}}function sn(o,a,v,k){if(k===null)o.removeAttribute(v);else{switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(v);return}o.setAttributeNS(a,v,""+k)}}function Cs(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ll(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function pd(o){var a=Ll(o)?"checked":"value",v=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),k=""+o[a];if(!o.hasOwnProperty(a)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var B=v.get,W=v.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return B.call(this)},set:function(oe){k=""+oe,W.call(this,oe)}}),Object.defineProperty(o,a,{enumerable:v.enumerable}),{getValue:function(){return k},setValue:function(oe){k=""+oe},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Wo(o){o._valueTracker||(o._valueTracker=pd(o))}function Nl(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var v=a.getValue(),k="";return o&&(k=Ll(o)?o.checked?"true":"false":o.value),o=k,o!==v?(a.setValue(o),!0):!1}function Ca(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var so=/[\n"\\]/g;function Vr(o){return o.replace(so,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ei(o,a,v,k,B,W,oe,be){o.name="",oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?o.type=oe:o.removeAttribute("type"),a!=null?oe==="number"?(a===0&&o.value===""||o.value!=a)&&(o.value=""+Cs(a)):o.value!==""+Cs(a)&&(o.value=""+Cs(a)):oe!=="submit"&&oe!=="reset"||o.removeAttribute("value"),a!=null?Ra(o,oe,Cs(a)):v!=null?Ra(o,oe,Cs(v)):k!=null&&o.removeAttribute("value"),B==null&&W!=null&&(o.defaultChecked=!!W),B!=null&&(o.checked=B&&typeof B!="function"&&typeof B!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?o.name=""+Cs(be):o.removeAttribute("name")}function Di(o,a,v,k,B,W,oe,be){if(W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(o.type=W),a!=null||v!=null){if(!(W!=="submit"&&W!=="reset"||a!=null))return;v=v!=null?""+Cs(v):"",a=a!=null?""+Cs(a):v,be||a===o.value||(o.value=a),o.defaultValue=a}k=k??B,k=typeof k!="function"&&typeof k!="symbol"&&!!k,o.checked=be?o.checked:!!k,o.defaultChecked=!!k,oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"&&(o.name=oe)}function Ra(o,a,v){a==="number"&&Ca(o.ownerDocument)===o||o.defaultValue===""+v||(o.defaultValue=""+v)}function zr(o,a,v,k){if(o=o.options,a){a={};for(var B=0;B<v.length;B++)a["$"+v[B]]=!0;for(v=0;v<o.length;v++)B=a.hasOwnProperty("$"+o[v].value),o[v].selected!==B&&(o[v].selected=B),B&&k&&(o[v].defaultSelected=!0)}else{for(v=""+Cs(v),a=null,B=0;B<o.length;B++){if(o[B].value===v){o[B].selected=!0,k&&(o[B].defaultSelected=!0);return}a!==null||o[B].disabled||(a=o[B])}a!==null&&(a.selected=!0)}}function Yo(o,a,v){if(a!=null&&(a=""+Cs(a),a!==o.value&&(o.value=a),v==null)){o.defaultValue!==a&&(o.defaultValue=a);return}o.defaultValue=v!=null?""+Cs(v):""}function xo(o,a,v,k){if(a==null){if(k!=null){if(v!=null)throw Error(i(92));if(ne(k)){if(1<k.length)throw Error(i(93));k=k[0]}v=k}v==null&&(v=""),a=v}v=Cs(a),o.defaultValue=v,k=o.textContent,k===v&&k!==""&&k!==null&&(o.value=k)}function ti(o,a){if(a){var v=o.firstChild;if(v&&v===o.lastChild&&v.nodeType===3){v.nodeValue=a;return}}o.textContent=a}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ma(o,a,v){var k=a.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?k?o.setProperty(a,""):a==="float"?o.cssFloat="":o[a]="":k?o.setProperty(a,v):typeof v!="number"||v===0||Lu.has(a)?a==="float"?o.cssFloat=v:o[a]=(""+v).trim():o[a]=v+"px"}function Nu(o,a,v){if(a!=null&&typeof a!="object")throw Error(i(62));if(o=o.style,v!=null){for(var k in v)!v.hasOwnProperty(k)||a!=null&&a.hasOwnProperty(k)||(k.indexOf("--")===0?o.setProperty(k,""):k==="float"?o.cssFloat="":o[k]="");for(var B in a)k=a[B],a.hasOwnProperty(B)&&v[B]!==k&&Ma(o,B,k)}else for(var W in a)a.hasOwnProperty(W)&&Ma(o,W,a[W])}function ka(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var md=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ul=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _i(o){return Ul.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ri=null;function io(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var hi=null,Zn=null;function Pi(o){var a=Ut(o);if(a&&(o=a.stateNode)){var v=o[Er]||null;e:switch(o=a.stateNode,a.type){case"input":if(ei(o,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),a=v.name,v.type==="radio"&&a!=null){for(v=o;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Vr(""+a)+'"][type="radio"]'),a=0;a<v.length;a++){var k=v[a];if(k!==o&&k.form===o.form){var B=k[Er]||null;if(!B)throw Error(i(90));ei(k,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(a=0;a<v.length;a++)k=v[a],k.form===o.form&&Nl(k)}break e;case"textarea":Yo(o,v.value,v.defaultValue);break e;case"select":a=v.value,a!=null&&zr(o,!!v.multiple,a,!1)}}}var Ia=!1;function oo(o,a,v){if(Ia)return o(a,v);Ia=!0;try{var k=o(a);return k}finally{if(Ia=!1,(hi!==null||Zn!==null)&&(jf(),hi&&(a=hi,o=Zn,Zn=hi=null,Pi(a),o)))for(a=0;a<o.length;a++)Pi(o[a])}}function So(o,a){var v=o.stateNode;if(v===null)return null;var k=v[Er]||null;if(k===null)return null;v=k[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(o=o.type,k=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!k;break e;default:o=!1}if(o)return null;if(v&&typeof v!="function")throw Error(i(231,a,typeof v));return v}var fi=!1;if(Kr)try{var ao={};Object.defineProperty(ao,"passive",{get:function(){fi=!0}}),window.addEventListener("test",ao,ao),window.removeEventListener("test",ao,ao)}catch{fi=!1}var wi=null,Eo=null,Li=null;function Oa(){if(Li)return Li;var o,a=Eo,v=a.length,k,B="value"in wi?wi.value:wi.textContent,W=B.length;for(o=0;o<v&&a[o]===B[o];o++);var oe=v-o;for(k=1;k<=oe&&a[v-k]===B[W-k];k++);return Li=B.slice(o,1<k?1-k:void 0)}function Ni(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function xi(){return!0}function Bl(){return!1}function Jn(o){function a(v,k,B,W,oe){this._reactName=v,this._targetInst=B,this.type=k,this.nativeEvent=W,this.target=oe,this.currentTarget=null;for(var be in o)o.hasOwnProperty(be)&&(v=o[be],this[be]=v?v(W):W[be]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?xi:Bl,this.isPropagationStopped=Bl,this}return P(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),a}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Jn(Qr),jo=P({},Qr,{view:0,detail:0}),ni=Jn(jo),Us,Ui,Bs,Rs=P({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Bs&&(Bs&&o.type==="mousemove"?(Us=o.screenX-Bs.screenX,Ui=o.screenY-Bs.screenY):Ui=Us=0,Bs=o),Us)},movementY:function(o){return"movementY"in o?o.movementY:Ui}}),ys=Jn(Rs),Uu=P({},Rs,{dataTransfer:0}),Bi=Jn(Uu),Fi=P({},jo,{relatedTarget:0}),Xo=Jn(Fi),Pa=P({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ko=Jn(Pa),Fl=P({},Qr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Qo=Jn(Fl),Bu=P({},Qr,{data:0}),Zo=Jn(Bu),To={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function La(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=zl[o])?!!a[o]:!1}function Ao(){return La}var Gl=P({},jo,{key:function(o){if(o.key){var a=To[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Ni(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Vl[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(o){return o.type==="keypress"?Ni(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ni(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Jo=Jn(Gl),Hl=P({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Na=Jn(Hl),Si=P({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),ea=Jn(Si),Ua=P({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ql=Jn(Ua),Ei=P({},Rs,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),si=Jn(Ei),Pt=P({},Qr,{newState:0,oldState:0}),Fu=Jn(Pt),$l=[9,13,27,32],Ms=Kr&&"CompositionEvent"in window,L=null;Kr&&"documentMode"in document&&(L=document.documentMode);var J=Kr&&"TextEvent"in window&&!L,se=Kr&&(!Ms||L&&8<L&&11>=L),we=" ",Ge=!1;function it(o,a){switch(o){case"keyup":return $l.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kt(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Or=!1;function Vn(o,a){switch(o){case"compositionend":return kt(a);case"keypress":return a.which!==32?null:(Ge=!0,we);case"textInput":return o=a.data,o===we&&Ge?null:o;default:return null}}function Dr(o,a){if(Or)return o==="compositionend"||!Ms&&it(o,a)?(o=Oa(),Li=Eo=wi=null,Or=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return se&&a.locale!=="ko"?null:a.data;default:return null}}var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function br(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!zn[o.type]:a==="textarea"}function ji(o,a,v,k){hi?Zn?Zn.push(k):Zn=[k]:hi=k,a=Mf(a,"onChange"),0<a.length&&(v=new Da("onChange","change",null,v,k),o.push({event:v,listeners:a}))}var w=null,I=null;function N(o){Fw(o,0)}function z(o){var a=pt(o);if(Nl(a))return o}function K(o,a){if(o==="change")return a}var ee=!1;if(Kr){var re;if(Kr){var _e="oninput"in document;if(!_e){var Te=document.createElement("div");Te.setAttribute("oninput","return;"),_e=typeof Te.oninput=="function"}re=_e}else re=!1;ee=re&&(!document.documentMode||9<document.documentMode)}function Ce(){w&&(w.detachEvent("onpropertychange",Ne),I=w=null)}function Ne(o){if(o.propertyName==="value"&&z(I)){var a=[];ji(a,I,o,io(o)),oo(N,a)}}function ze(o,a,v){o==="focusin"?(Ce(),w=a,I=v,w.attachEvent("onpropertychange",Ne)):o==="focusout"&&Ce()}function He(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return z(I)}function Ie(o,a){if(o==="click")return z(a)}function xt(o,a){if(o==="input"||o==="change")return z(a)}function tt(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var Qe=typeof Object.is=="function"?Object.is:tt;function rt(o,a){if(Qe(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var v=Object.keys(o),k=Object.keys(a);if(v.length!==k.length)return!1;for(k=0;k<v.length;k++){var B=v[k];if(!Be.call(a,B)||!Qe(o[B],a[B]))return!1}return!0}function ot(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Lt(o,a){var v=ot(o);o=0;for(var k;v;){if(v.nodeType===3){if(k=o+v.textContent.length,o<=a&&k>=a)return{node:v,offset:a-o};o=k}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=ot(v)}}function Dt(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?Dt(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function Nt(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var a=Ca(o.document);a instanceof o.HTMLIFrameElement;){try{var v=typeof a.contentWindow.location.href=="string"}catch{v=!1}if(v)o=a.contentWindow;else break;a=Ca(o.document)}return a}function yr(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function xr(o,a){var v=Nt(a);a=o.focusedElem;var k=o.selectionRange;if(v!==a&&a&&a.ownerDocument&&Dt(a.ownerDocument.documentElement,a)){if(k!==null&&yr(a)){if(o=k.start,v=k.end,v===void 0&&(v=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(v,a.value.length);else if(v=(o=a.ownerDocument||document)&&o.defaultView||window,v.getSelection){v=v.getSelection();var B=a.textContent.length,W=Math.min(k.start,B);k=k.end===void 0?W:Math.min(k.end,B),!v.extend&&W>k&&(B=k,k=W,W=B),B=Lt(a,W);var oe=Lt(a,k);B&&oe&&(v.rangeCount!==1||v.anchorNode!==B.node||v.anchorOffset!==B.offset||v.focusNode!==oe.node||v.focusOffset!==oe.offset)&&(o=o.createRange(),o.setStart(B.node,B.offset),v.removeAllRanges(),W>k?(v.addRange(o),v.extend(oe.node,oe.offset)):(o.setEnd(oe.node,oe.offset),v.addRange(o)))}}for(o=[],v=a;v=v.parentNode;)v.nodeType===1&&o.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)v=o[a],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}var en=Kr&&"documentMode"in document&&11>=document.documentMode,tn=null,on=null,Nr=null,ir=!1;function Rn(o,a,v){var k=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;ir||tn==null||tn!==Ca(k)||(k=tn,"selectionStart"in k&&yr(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Nr&&rt(Nr,k)||(Nr=k,k=Mf(on,"onSelect"),0<k.length&&(a=new Da("onSelect","select",null,a,v),o.push({event:a,listeners:k}),a.target=tn)))}function rn(o,a){var v={};return v[o.toLowerCase()]=a.toLowerCase(),v["Webkit"+o]="webkit"+a,v["Moz"+o]="moz"+a,v}var an={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},Yr={},Pn={};Kr&&(Pn=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function ln(o){if(Yr[o])return Yr[o];if(!an[o])return o;var a=an[o],v;for(v in a)if(a.hasOwnProperty(v)&&v in Pn)return Yr[o]=a[v];return o}var cs=ln("animationend"),un=ln("animationiteration"),Ln=ln("animationstart"),Wl=ln("transitionrun"),Yl=ln("transitionstart"),qM=ln("transitioncancel"),R1=ln("transitionend"),M1=new Map,k1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function lo(o,a){M1.set(o,a),Jt(a,[o])}var Vi=[],Vu=0,Hm=0;function Yh(){for(var o=Vu,a=Hm=Vu=0;a<o;){var v=Vi[a];Vi[a++]=null;var k=Vi[a];Vi[a++]=null;var B=Vi[a];Vi[a++]=null;var W=Vi[a];if(Vi[a++]=null,k!==null&&B!==null){var oe=k.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),k.pending=B}W!==0&&I1(v,B,W)}}function Xh(o,a,v,k){Vi[Vu++]=o,Vi[Vu++]=a,Vi[Vu++]=v,Vi[Vu++]=k,Hm|=k,o.lanes|=k,o=o.alternate,o!==null&&(o.lanes|=k)}function qm(o,a,v,k){return Xh(o,a,v,k),Kh(o)}function Ba(o,a){return Xh(o,null,null,a),Kh(o)}function I1(o,a,v){o.lanes|=v;var k=o.alternate;k!==null&&(k.lanes|=v);for(var B=!1,W=o.return;W!==null;)W.childLanes|=v,k=W.alternate,k!==null&&(k.childLanes|=v),W.tag===22&&(o=W.stateNode,o===null||o._visibility&1||(B=!0)),o=W,W=W.return;B&&a!==null&&o.tag===3&&(W=o.stateNode,B=31-pe(v),W=W.hiddenUpdates,o=W[B],o===null?W[B]=[a]:o.push(a),a.lane=v|536870912)}function Kh(o){if(50<Fd)throw Fd=0,Qy=null,Error(i(185));for(var a=o.return;a!==null;)o=a,a=o.return;return o.tag===3?o.stateNode:null}var zu={},O1=new WeakMap;function zi(o,a){if(typeof o=="object"&&o!==null){var v=O1.get(o);return v!==void 0?v:(a={value:o,source:a,stack:Y(a)},O1.set(o,a),a)}return{value:o,source:a,stack:Y(a)}}var Gu=[],Hu=0,Qh=null,Zh=0,Gi=[],Hi=0,Xl=null,ta=1,ra="";function Kl(o,a){Gu[Hu++]=Zh,Gu[Hu++]=Qh,Qh=o,Zh=a}function D1(o,a,v){Gi[Hi++]=ta,Gi[Hi++]=ra,Gi[Hi++]=Xl,Xl=o;var k=ta;o=ra;var B=32-pe(k)-1;k&=~(1<<B),v+=1;var W=32-pe(a)+B;if(30<W){var oe=B-B%5;W=(k&(1<<oe)-1).toString(32),k>>=oe,B-=oe,ta=1<<32-pe(a)+B|v<<B|k,ra=W+o}else ta=1<<W|v<<B|k,ra=o}function $m(o){o.return!==null&&(Kl(o,1),D1(o,1,0))}function Wm(o){for(;o===Qh;)Qh=Gu[--Hu],Gu[Hu]=null,Zh=Gu[--Hu],Gu[Hu]=null;for(;o===Xl;)Xl=Gi[--Hi],Gi[Hi]=null,ra=Gi[--Hi],Gi[Hi]=null,ta=Gi[--Hi],Gi[Hi]=null}var ii=null,ks=null,Zr=!1,uo=null,Co=!1,Ym=Error(i(519));function Ql(o){var a=Error(i(418,""));throw vd(zi(a,o)),Ym}function P1(o){var a=o.stateNode,v=o.type,k=o.memoizedProps;switch(a[Ir]=o,a[Er]=k,v){case"dialog":Ur("cancel",a),Ur("close",a);break;case"iframe":case"object":case"embed":Ur("load",a);break;case"video":case"audio":for(v=0;v<zd.length;v++)Ur(zd[v],a);break;case"source":Ur("error",a);break;case"img":case"image":case"link":Ur("error",a),Ur("load",a);break;case"details":Ur("toggle",a);break;case"input":Ur("invalid",a),Di(a,k.value,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name,!0),Wo(a);break;case"select":Ur("invalid",a);break;case"textarea":Ur("invalid",a),xo(a,k.value,k.defaultValue,k.children),Wo(a)}v=k.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||a.textContent===""+v||k.suppressHydrationWarning===!0||Hw(a.textContent,v)?(k.popover!=null&&(Ur("beforetoggle",a),Ur("toggle",a)),k.onScroll!=null&&Ur("scroll",a),k.onScrollEnd!=null&&Ur("scrollend",a),k.onClick!=null&&(a.onclick=kf),a=!0):a=!1,a||Ql(o)}function L1(o){for(ii=o.return;ii;)switch(ii.tag){case 3:case 27:Co=!0;return;case 5:case 13:Co=!1;return;default:ii=ii.return}}function yd(o){if(o!==ii)return!1;if(!Zr)return L1(o),Zr=!0,!1;var a=!1,v;if((v=o.tag!==3&&o.tag!==27)&&((v=o.tag===5)&&(v=o.type,v=!(v!=="form"&&v!=="button")||pg(o.type,o.memoizedProps)),v=!v),v&&(a=!0),a&&ks&&Ql(o),L1(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8)if(v=o.data,v==="/$"){if(a===0){ks=ho(o.nextSibling);break e}a--}else v!=="$"&&v!=="$!"&&v!=="$?"||a++;o=o.nextSibling}ks=null}}else ks=ii?ho(o.stateNode.nextSibling):null;return!0}function gd(){ks=ii=null,Zr=!1}function vd(o){uo===null?uo=[o]:uo.push(o)}var bd=Error(i(460)),N1=Error(i(474)),Xm={then:function(){}};function U1(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Jh(){}function B1(o,a,v){switch(v=o[v],v===void 0?o.push(a):v!==a&&(a.then(Jh,Jh),a=v),a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===bd?Error(i(483)):o;default:if(typeof a.status=="string")a.then(Jh,Jh);else{if(o=xn,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=a,o.status="pending",o.then(function(k){if(a.status==="pending"){var B=a;B.status="fulfilled",B.value=k}},function(k){if(a.status==="pending"){var B=a;B.status="rejected",B.reason=k}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw o=a.reason,o===bd?Error(i(483)):o}throw _d=a,bd}}var _d=null;function F1(){if(_d===null)throw Error(i(459));var o=_d;return _d=null,o}var qu=null,wd=0;function ef(o){var a=wd;return wd+=1,qu===null&&(qu=[]),B1(qu,o,a)}function xd(o,a){a=a.props.ref,o.ref=a!==void 0?a:null}function tf(o,a){throw a.$$typeof===y?Error(i(525)):(o=Object.prototype.toString.call(a),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o)))}function V1(o){var a=o._init;return a(o._payload)}function z1(o){function a(qe,Fe){if(o){var Xe=qe.deletions;Xe===null?(qe.deletions=[Fe],qe.flags|=16):Xe.push(Fe)}}function v(qe,Fe){if(!o)return null;for(;Fe!==null;)a(qe,Fe),Fe=Fe.sibling;return null}function k(qe){for(var Fe=new Map;qe!==null;)qe.key!==null?Fe.set(qe.key,qe):Fe.set(qe.index,qe),qe=qe.sibling;return Fe}function B(qe,Fe){return qe=Qa(qe,Fe),qe.index=0,qe.sibling=null,qe}function W(qe,Fe,Xe){return qe.index=Xe,o?(Xe=qe.alternate,Xe!==null?(Xe=Xe.index,Xe<Fe?(qe.flags|=33554434,Fe):Xe):(qe.flags|=33554434,Fe)):(qe.flags|=1048576,Fe)}function oe(qe){return o&&qe.alternate===null&&(qe.flags|=33554434),qe}function be(qe,Fe,Xe,yt){return Fe===null||Fe.tag!==6?(Fe=Gy(Xe,qe.mode,yt),Fe.return=qe,Fe):(Fe=B(Fe,Xe),Fe.return=qe,Fe)}function Oe(qe,Fe,Xe,yt){var Wt=Xe.type;return Wt===C?ct(qe,Fe,Xe.props.children,yt,Xe.key):Fe!==null&&(Fe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===u&&V1(Wt)===Fe.type)?(Fe=B(Fe,Xe.props),xd(Fe,Xe),Fe.return=qe,Fe):(Fe=_f(Xe.type,Xe.key,Xe.props,null,qe.mode,yt),xd(Fe,Xe),Fe.return=qe,Fe)}function Ve(qe,Fe,Xe,yt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Xe.containerInfo||Fe.stateNode.implementation!==Xe.implementation?(Fe=Hy(Xe,qe.mode,yt),Fe.return=qe,Fe):(Fe=B(Fe,Xe.children||[]),Fe.return=qe,Fe)}function ct(qe,Fe,Xe,yt,Wt){return Fe===null||Fe.tag!==7?(Fe=au(Xe,qe.mode,yt,Wt),Fe.return=qe,Fe):(Fe=B(Fe,Xe),Fe.return=qe,Fe)}function St(qe,Fe,Xe){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=Gy(""+Fe,qe.mode,Xe),Fe.return=qe,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case R:return Xe=_f(Fe.type,Fe.key,Fe.props,null,qe.mode,Xe),xd(Xe,Fe),Xe.return=qe,Xe;case n:return Fe=Hy(Fe,qe.mode,Xe),Fe.return=qe,Fe;case u:var yt=Fe._init;return Fe=yt(Fe._payload),St(qe,Fe,Xe)}if(ne(Fe)||_(Fe))return Fe=au(Fe,qe.mode,Xe,null),Fe.return=qe,Fe;if(typeof Fe.then=="function")return St(qe,ef(Fe),Xe);if(Fe.$$typeof===T)return St(qe,gf(qe,Fe),Xe);tf(qe,Fe)}return null}function nt(qe,Fe,Xe,yt){var Wt=Fe!==null?Fe.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return Wt!==null?null:be(qe,Fe,""+Xe,yt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case R:return Xe.key===Wt?Oe(qe,Fe,Xe,yt):null;case n:return Xe.key===Wt?Ve(qe,Fe,Xe,yt):null;case u:return Wt=Xe._init,Xe=Wt(Xe._payload),nt(qe,Fe,Xe,yt)}if(ne(Xe)||_(Xe))return Wt!==null?null:ct(qe,Fe,Xe,yt,null);if(typeof Xe.then=="function")return nt(qe,Fe,ef(Xe),yt);if(Xe.$$typeof===T)return nt(qe,Fe,gf(qe,Xe),yt);tf(qe,Xe)}return null}function lt(qe,Fe,Xe,yt,Wt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return qe=qe.get(Xe)||null,be(Fe,qe,""+yt,Wt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case R:return qe=qe.get(yt.key===null?Xe:yt.key)||null,Oe(Fe,qe,yt,Wt);case n:return qe=qe.get(yt.key===null?Xe:yt.key)||null,Ve(Fe,qe,yt,Wt);case u:var Tr=yt._init;return yt=Tr(yt._payload),lt(qe,Fe,Xe,yt,Wt)}if(ne(yt)||_(yt))return qe=qe.get(Xe)||null,ct(Fe,qe,yt,Wt,null);if(typeof yt.then=="function")return lt(qe,Fe,Xe,ef(yt),Wt);if(yt.$$typeof===T)return lt(qe,Fe,Xe,gf(Fe,yt),Wt);tf(Fe,yt)}return null}function Qt(qe,Fe,Xe,yt){for(var Wt=null,Tr=null,Zt=Fe,rr=Fe=0,bs=null;Zt!==null&&rr<Xe.length;rr++){Zt.index>rr?(bs=Zt,Zt=null):bs=Zt.sibling;var Jr=nt(qe,Zt,Xe[rr],yt);if(Jr===null){Zt===null&&(Zt=bs);break}o&&Zt&&Jr.alternate===null&&a(qe,Zt),Fe=W(Jr,Fe,rr),Tr===null?Wt=Jr:Tr.sibling=Jr,Tr=Jr,Zt=bs}if(rr===Xe.length)return v(qe,Zt),Zr&&Kl(qe,rr),Wt;if(Zt===null){for(;rr<Xe.length;rr++)Zt=St(qe,Xe[rr],yt),Zt!==null&&(Fe=W(Zt,Fe,rr),Tr===null?Wt=Zt:Tr.sibling=Zt,Tr=Zt);return Zr&&Kl(qe,rr),Wt}for(Zt=k(Zt);rr<Xe.length;rr++)bs=lt(Zt,qe,rr,Xe[rr],yt),bs!==null&&(o&&bs.alternate!==null&&Zt.delete(bs.key===null?rr:bs.key),Fe=W(bs,Fe,rr),Tr===null?Wt=bs:Tr.sibling=bs,Tr=bs);return o&&Zt.forEach(function(sl){return a(qe,sl)}),Zr&&Kl(qe,rr),Wt}function ur(qe,Fe,Xe,yt){if(Xe==null)throw Error(i(151));for(var Wt=null,Tr=null,Zt=Fe,rr=Fe=0,bs=null,Jr=Xe.next();Zt!==null&&!Jr.done;rr++,Jr=Xe.next()){Zt.index>rr?(bs=Zt,Zt=null):bs=Zt.sibling;var sl=nt(qe,Zt,Jr.value,yt);if(sl===null){Zt===null&&(Zt=bs);break}o&&Zt&&sl.alternate===null&&a(qe,Zt),Fe=W(sl,Fe,rr),Tr===null?Wt=sl:Tr.sibling=sl,Tr=sl,Zt=bs}if(Jr.done)return v(qe,Zt),Zr&&Kl(qe,rr),Wt;if(Zt===null){for(;!Jr.done;rr++,Jr=Xe.next())Jr=St(qe,Jr.value,yt),Jr!==null&&(Fe=W(Jr,Fe,rr),Tr===null?Wt=Jr:Tr.sibling=Jr,Tr=Jr);return Zr&&Kl(qe,rr),Wt}for(Zt=k(Zt);!Jr.done;rr++,Jr=Xe.next())Jr=lt(Zt,qe,rr,Jr.value,yt),Jr!==null&&(o&&Jr.alternate!==null&&Zt.delete(Jr.key===null?rr:Jr.key),Fe=W(Jr,Fe,rr),Tr===null?Wt=Jr:Tr.sibling=Jr,Tr=Jr);return o&&Zt.forEach(function(i3){return a(qe,i3)}),Zr&&Kl(qe,rr),Wt}function Bn(qe,Fe,Xe,yt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===C&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case R:e:{for(var Wt=Xe.key;Fe!==null;){if(Fe.key===Wt){if(Wt=Xe.type,Wt===C){if(Fe.tag===7){v(qe,Fe.sibling),yt=B(Fe,Xe.props.children),yt.return=qe,qe=yt;break e}}else if(Fe.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===u&&V1(Wt)===Fe.type){v(qe,Fe.sibling),yt=B(Fe,Xe.props),xd(yt,Xe),yt.return=qe,qe=yt;break e}v(qe,Fe);break}else a(qe,Fe);Fe=Fe.sibling}Xe.type===C?(yt=au(Xe.props.children,qe.mode,yt,Xe.key),yt.return=qe,qe=yt):(yt=_f(Xe.type,Xe.key,Xe.props,null,qe.mode,yt),xd(yt,Xe),yt.return=qe,qe=yt)}return oe(qe);case n:e:{for(Wt=Xe.key;Fe!==null;){if(Fe.key===Wt)if(Fe.tag===4&&Fe.stateNode.containerInfo===Xe.containerInfo&&Fe.stateNode.implementation===Xe.implementation){v(qe,Fe.sibling),yt=B(Fe,Xe.children||[]),yt.return=qe,qe=yt;break e}else{v(qe,Fe);break}else a(qe,Fe);Fe=Fe.sibling}yt=Hy(Xe,qe.mode,yt),yt.return=qe,qe=yt}return oe(qe);case u:return Wt=Xe._init,Xe=Wt(Xe._payload),Bn(qe,Fe,Xe,yt)}if(ne(Xe))return Qt(qe,Fe,Xe,yt);if(_(Xe)){if(Wt=_(Xe),typeof Wt!="function")throw Error(i(150));return Xe=Wt.call(Xe),ur(qe,Fe,Xe,yt)}if(typeof Xe.then=="function")return Bn(qe,Fe,ef(Xe),yt);if(Xe.$$typeof===T)return Bn(qe,Fe,gf(qe,Xe),yt);tf(qe,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Fe!==null&&Fe.tag===6?(v(qe,Fe.sibling),yt=B(Fe,Xe),yt.return=qe,qe=yt):(v(qe,Fe),yt=Gy(Xe,qe.mode,yt),yt.return=qe,qe=yt),oe(qe)):v(qe,Fe)}return function(qe,Fe,Xe,yt){try{wd=0;var Wt=Bn(qe,Fe,Xe,yt);return qu=null,Wt}catch(Zt){if(Zt===bd)throw Zt;var Tr=Yi(29,Zt,null,qe.mode);return Tr.lanes=yt,Tr.return=qe,Tr}finally{}}}var Zl=z1(!0),G1=z1(!1),$u=Z(null),rf=Z(0);function H1(o,a){o=fa,he(rf,o),he($u,a),fa=o|a.baseLanes}function Km(){he(rf,fa),he($u,$u.current)}function Qm(){fa=rf.current,ie($u),ie(rf)}var qi=Z(null),Ro=null;function Fa(o){var a=o.alternate;he(ds,ds.current&1),he(qi,o),Ro===null&&(a===null||$u.current!==null||a.memoizedState!==null)&&(Ro=o)}function q1(o){if(o.tag===22){if(he(ds,ds.current),he(qi,o),Ro===null){var a=o.alternate;a!==null&&a.memoizedState!==null&&(Ro=o)}}else Va()}function Va(){he(ds,ds.current),he(qi,qi.current)}function na(o){ie(qi),Ro===o&&(Ro=null),ie(ds)}var ds=Z(0);function nf(o){for(var a=o;a!==null;){if(a.tag===13){var v=a.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var $M=typeof AbortController<"u"?AbortController:function(){var o=[],a=this.signal={aborted:!1,addEventListener:function(v,k){o.push(k)}};this.abort=function(){a.aborted=!0,o.forEach(function(v){return v()})}},WM=r.unstable_scheduleCallback,YM=r.unstable_NormalPriority,hs={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new $M,data:new Map,refCount:0}}function Sd(o){o.refCount--,o.refCount===0&&WM(YM,function(){o.controller.abort()})}var Ed=null,Jm=0,Wu=0,Yu=null;function XM(o,a){if(Ed===null){var v=Ed=[];Jm=0,Wu=ig(),Yu={status:"pending",value:void 0,then:function(k){v.push(k)}}}return Jm++,a.then($1,$1),a}function $1(){if(--Jm===0&&Ed!==null){Yu!==null&&(Yu.status="fulfilled");var o=Ed;Ed=null,Wu=0,Yu=null;for(var a=0;a<o.length;a++)(0,o[a])()}}function KM(o,a){var v=[],k={status:"pending",value:null,reason:null,then:function(B){v.push(B)}};return o.then(function(){k.status="fulfilled",k.value=a;for(var B=0;B<v.length;B++)(0,v[B])(a)},function(B){for(k.status="rejected",k.reason=B,B=0;B<v.length;B++)(0,v[B])(void 0)}),k}var W1=M.S;M.S=function(o,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&XM(o,a),W1!==null&&W1(o,a)};var Jl=Z(null);function ey(){var o=Jl.current;return o!==null?o:xn.pooledCache}function sf(o,a){a===null?he(Jl,Jl.current):he(Jl,a.pool)}function Y1(){var o=ey();return o===null?null:{parent:hs._currentValue,pool:o}}var za=0,Sr=null,cn=null,es=null,of=!1,Xu=!1,eu=!1,af=0,jd=0,Ku=null,QM=0;function Gn(){throw Error(i(321))}function ty(o,a){if(a===null)return!1;for(var v=0;v<a.length&&v<o.length;v++)if(!Qe(o[v],a[v]))return!1;return!0}function ry(o,a,v,k,B,W){return za=W,Sr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,M.H=o===null||o.memoizedState===null?tu:Ga,eu=!1,W=v(k,B),eu=!1,Xu&&(W=K1(a,v,k,B)),X1(o),W}function X1(o){M.H=Mo;var a=cn!==null&&cn.next!==null;if(za=0,es=cn=Sr=null,of=!1,jd=0,Ku=null,a)throw Error(i(300));o===null||gs||(o=o.dependencies,o!==null&&yf(o)&&(gs=!0))}function K1(o,a,v,k){Sr=o;var B=0;do{if(Xu&&(Ku=null),jd=0,Xu=!1,25<=B)throw Error(i(301));if(B+=1,es=cn=null,o.updateQueue!=null){var W=o.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}M.H=ru,W=a(v,k)}while(Xu);return W}function ZM(){var o=M.H,a=o.useState()[0];return a=typeof a.then=="function"?Td(a):a,o=o.useState()[0],(cn!==null?cn.memoizedState:null)!==o&&(Sr.flags|=1024),a}function ny(){var o=af!==0;return af=0,o}function sy(o,a,v){a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~v}function iy(o){if(of){for(o=o.memoizedState;o!==null;){var a=o.queue;a!==null&&(a.pending=null),o=o.next}of=!1}za=0,es=cn=Sr=null,Xu=!1,jd=af=0,Ku=null}function pi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?Sr.memoizedState=es=o:es=es.next=o,es}function ts(){if(cn===null){var o=Sr.alternate;o=o!==null?o.memoizedState:null}else o=cn.next;var a=es===null?Sr.memoizedState:es.next;if(a!==null)es=a,cn=o;else{if(o===null)throw Sr.alternate===null?Error(i(467)):Error(i(310));cn=o,o={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},es===null?Sr.memoizedState=es=o:es=es.next=o}return es}var lf;lf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Td(o){var a=jd;return jd+=1,Ku===null&&(Ku=[]),o=B1(Ku,o,a),a=Sr,(es===null?a.memoizedState:es.next)===null&&(a=a.alternate,M.H=a===null||a.memoizedState===null?tu:Ga),o}function uf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Td(o);if(o.$$typeof===T)return Fs(o)}throw Error(i(438,String(o)))}function oy(o){var a=null,v=Sr.updateQueue;if(v!==null&&(a=v.memoCache),a==null){var k=Sr.alternate;k!==null&&(k=k.updateQueue,k!==null&&(k=k.memoCache,k!=null&&(a={data:k.data.map(function(B){return B.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),v===null&&(v=lf(),Sr.updateQueue=v),v.memoCache=a,v=a.data[a.index],v===void 0)for(v=a.data[a.index]=Array(o),k=0;k<o;k++)v[k]=S;return a.index++,v}function sa(o,a){return typeof a=="function"?a(o):a}function cf(o){var a=ts();return ay(a,cn,o)}function ay(o,a,v){var k=o.queue;if(k===null)throw Error(i(311));k.lastRenderedReducer=v;var B=o.baseQueue,W=k.pending;if(W!==null){if(B!==null){var oe=B.next;B.next=W.next,W.next=oe}a.baseQueue=B=W,k.pending=null}if(W=o.baseState,B===null)o.memoizedState=W;else{a=B.next;var be=oe=null,Oe=null,Ve=a,ct=!1;do{var St=Ve.lane&-536870913;if(St!==Ve.lane?(Gr&St)===St:(za&St)===St){var nt=Ve.revertLane;if(nt===0)Oe!==null&&(Oe=Oe.next={lane:0,revertLane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),St===Wu&&(ct=!0);else if((za&nt)===nt){Ve=Ve.next,nt===Wu&&(ct=!0);continue}else St={lane:0,revertLane:Ve.revertLane,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Oe===null?(be=Oe=St,oe=W):Oe=Oe.next=St,Sr.lanes|=nt,Za|=nt;St=Ve.action,eu&&v(W,St),W=Ve.hasEagerState?Ve.eagerState:v(W,St)}else nt={lane:St,revertLane:Ve.revertLane,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null},Oe===null?(be=Oe=nt,oe=W):Oe=Oe.next=nt,Sr.lanes|=St,Za|=St;Ve=Ve.next}while(Ve!==null&&Ve!==a);if(Oe===null?oe=W:Oe.next=be,!Qe(W,o.memoizedState)&&(gs=!0,ct&&(v=Yu,v!==null)))throw v;o.memoizedState=W,o.baseState=oe,o.baseQueue=Oe,k.lastRenderedState=W}return B===null&&(k.lanes=0),[o.memoizedState,k.dispatch]}function ly(o){var a=ts(),v=a.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=o;var k=v.dispatch,B=v.pending,W=a.memoizedState;if(B!==null){v.pending=null;var oe=B=B.next;do W=o(W,oe.action),oe=oe.next;while(oe!==B);Qe(W,a.memoizedState)||(gs=!0),a.memoizedState=W,a.baseQueue===null&&(a.baseState=W),v.lastRenderedState=W}return[W,k]}function Q1(o,a,v){var k=Sr,B=ts(),W=Zr;if(W){if(v===void 0)throw Error(i(407));v=v()}else v=a();var oe=!Qe((cn||B).memoizedState,v);if(oe&&(B.memoizedState=v,gs=!0),B=B.queue,dy(e_.bind(null,k,B,o),[o]),B.getSnapshot!==a||oe||es!==null&&es.memoizedState.tag&1){if(k.flags|=2048,Qu(9,J1.bind(null,k,B,v,a),{destroy:void 0},null),xn===null)throw Error(i(349));W||(za&60)!==0||Z1(k,a,v)}return v}function Z1(o,a,v){o.flags|=16384,o={getSnapshot:a,value:v},a=Sr.updateQueue,a===null?(a=lf(),Sr.updateQueue=a,a.stores=[o]):(v=a.stores,v===null?a.stores=[o]:v.push(o))}function J1(o,a,v,k){a.value=v,a.getSnapshot=k,t_(a)&&r_(o)}function e_(o,a,v){return v(function(){t_(a)&&r_(o)})}function t_(o){var a=o.getSnapshot;o=o.value;try{var v=a();return!Qe(o,v)}catch{return!0}}function r_(o){var a=Ba(o,2);a!==null&&oi(a,o,2)}function uy(o){var a=pi();if(typeof o=="function"){var v=o;if(o=v(),eu){ue(!0);try{v()}finally{ue(!1)}}}return a.memoizedState=a.baseState=o,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:o},a}function n_(o,a,v,k){return o.baseState=v,ay(o,cn,typeof k=="function"?k:sa)}function JM(o,a,v,k,B){if(ff(o))throw Error(i(485));if(o=a.action,o!==null){var W={payload:B,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(oe){W.listeners.push(oe)}};M.T!==null?v(!0):W.isTransition=!1,k(W),v=a.pending,v===null?(W.next=a.pending=W,s_(a,W)):(W.next=v.next,a.pending=v.next=W)}}function s_(o,a){var v=a.action,k=a.payload,B=o.state;if(a.isTransition){var W=M.T,oe={};M.T=oe;try{var be=v(B,k),Oe=M.S;Oe!==null&&Oe(oe,be),i_(o,a,be)}catch(Ve){cy(o,a,Ve)}finally{M.T=W}}else try{W=v(B,k),i_(o,a,W)}catch(Ve){cy(o,a,Ve)}}function i_(o,a,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(k){o_(o,a,k)},function(k){return cy(o,a,k)}):o_(o,a,v)}function o_(o,a,v){a.status="fulfilled",a.value=v,a_(a),o.state=v,a=o.pending,a!==null&&(v=a.next,v===a?o.pending=null:(v=v.next,a.next=v,s_(o,v)))}function cy(o,a,v){var k=o.pending;if(o.pending=null,k!==null){k=k.next;do a.status="rejected",a.reason=v,a_(a),a=a.next;while(a!==k)}o.action=null}function a_(o){o=o.listeners;for(var a=0;a<o.length;a++)(0,o[a])()}function l_(o,a){return a}function u_(o,a){if(Zr){var v=xn.formState;if(v!==null){e:{var k=Sr;if(Zr){if(ks){t:{for(var B=ks,W=Co;B.nodeType!==8;){if(!W){B=null;break t}if(B=ho(B.nextSibling),B===null){B=null;break t}}W=B.data,B=W==="F!"||W==="F"?B:null}if(B){ks=ho(B.nextSibling),k=B.data==="F!";break e}}Ql(k)}k=!1}k&&(a=v[0])}}return v=pi(),v.memoizedState=v.baseState=a,k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:a},v.queue=k,v=A_.bind(null,Sr,k),k.dispatch=v,k=uy(!1),W=yy.bind(null,Sr,!1,k.queue),k=pi(),B={state:a,dispatch:null,action:o,pending:null},k.queue=B,v=JM.bind(null,Sr,B,W,v),B.dispatch=v,k.memoizedState=o,[a,v,!1]}function c_(o){var a=ts();return d_(a,cn,o)}function d_(o,a,v){a=ay(o,a,l_)[0],o=cf(sa)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Td(a):a;var k=ts(),B=k.queue,W=B.dispatch;return v!==k.memoizedState&&(Sr.flags|=2048,Qu(9,ek.bind(null,B,v),{destroy:void 0},null)),[a,W,o]}function ek(o,a){o.action=a}function h_(o){var a=ts(),v=cn;if(v!==null)return d_(a,v,o);ts(),a=a.memoizedState,v=ts();var k=v.queue.dispatch;return v.memoizedState=o,[a,k,!1]}function Qu(o,a,v,k){return o={tag:o,create:a,inst:v,deps:k,next:null},a=Sr.updateQueue,a===null&&(a=lf(),Sr.updateQueue=a),v=a.lastEffect,v===null?a.lastEffect=o.next=o:(k=v.next,v.next=o,o.next=k,a.lastEffect=o),o}function f_(){return ts().memoizedState}function df(o,a,v,k){var B=pi();Sr.flags|=o,B.memoizedState=Qu(1|a,v,{destroy:void 0},k===void 0?null:k)}function hf(o,a,v,k){var B=ts();k=k===void 0?null:k;var W=B.memoizedState.inst;cn!==null&&k!==null&&ty(k,cn.memoizedState.deps)?B.memoizedState=Qu(a,v,W,k):(Sr.flags|=o,B.memoizedState=Qu(1|a,v,W,k))}function p_(o,a){df(8390656,8,o,a)}function dy(o,a){hf(2048,8,o,a)}function m_(o,a){return hf(4,2,o,a)}function y_(o,a){return hf(4,4,o,a)}function g_(o,a){if(typeof a=="function"){o=o();var v=a(o);return function(){typeof v=="function"?v():a(null)}}if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function v_(o,a,v){v=v!=null?v.concat([o]):null,hf(4,4,g_.bind(null,a,o),v)}function hy(){}function b_(o,a){var v=ts();a=a===void 0?null:a;var k=v.memoizedState;return a!==null&&ty(a,k[1])?k[0]:(v.memoizedState=[o,a],o)}function __(o,a){var v=ts();a=a===void 0?null:a;var k=v.memoizedState;if(a!==null&&ty(a,k[1]))return k[0];if(k=o(),eu){ue(!0);try{o()}finally{ue(!1)}}return v.memoizedState=[k,a],k}function fy(o,a,v){return v===void 0||(za&1073741824)!==0?o.memoizedState=a:(o.memoizedState=v,o=xw(),Sr.lanes|=o,Za|=o,v)}function w_(o,a,v,k){return Qe(v,a)?v:$u.current!==null?(o=fy(o,v,k),Qe(o,a)||(gs=!0),o):(za&42)===0?(gs=!0,o.memoizedState=v):(o=xw(),Sr.lanes|=o,Za|=o,a)}function x_(o,a,v,k,B){var W=ae.p;ae.p=W!==0&&8>W?W:8;var oe=M.T,be={};M.T=be,yy(o,!1,a,v);try{var Oe=B(),Ve=M.S;if(Ve!==null&&Ve(be,Oe),Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var ct=KM(Oe,k);Ad(o,a,ct,Ri(o))}else Ad(o,a,k,Ri(o))}catch(St){Ad(o,a,{then:function(){},status:"rejected",reason:St},Ri())}finally{ae.p=W,M.T=oe}}function tk(){}function py(o,a,v,k){if(o.tag!==5)throw Error(i(476));var B=S_(o).queue;x_(o,B,a,ce,v===null?tk:function(){return E_(o),v(k)})}function S_(o){var a=o.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:ce},next:null};var v={};return a.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:v},next:null},o.memoizedState=a,o=o.alternate,o!==null&&(o.memoizedState=a),a}function E_(o){var a=S_(o).next.queue;Ad(o,a,{},Ri())}function my(){return Fs(Wd)}function j_(){return ts().memoizedState}function T_(){return ts().memoizedState}function rk(o){for(var a=o.return;a!==null;){switch(a.tag){case 24:case 3:var v=Ri();o=$a(v);var k=Wa(a,o,v);k!==null&&(oi(k,a,v),Md(k,a,v)),a={cache:Zm()},o.payload=a;return}a=a.return}}function nk(o,a,v){var k=Ri();v={lane:k,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},ff(o)?C_(a,v):(v=qm(o,a,v,k),v!==null&&(oi(v,o,k),R_(v,a,k)))}function A_(o,a,v){var k=Ri();Ad(o,a,v,k)}function Ad(o,a,v,k){var B={lane:k,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(ff(o))C_(a,B);else{var W=o.alternate;if(o.lanes===0&&(W===null||W.lanes===0)&&(W=a.lastRenderedReducer,W!==null))try{var oe=a.lastRenderedState,be=W(oe,v);if(B.hasEagerState=!0,B.eagerState=be,Qe(be,oe))return Xh(o,a,B,0),xn===null&&Yh(),!1}catch{}finally{}if(v=qm(o,a,B,k),v!==null)return oi(v,o,k),R_(v,a,k),!0}return!1}function yy(o,a,v,k){if(k={lane:2,revertLane:ig(),action:k,hasEagerState:!1,eagerState:null,next:null},ff(o)){if(a)throw Error(i(479))}else a=qm(o,v,k,2),a!==null&&oi(a,o,2)}function ff(o){var a=o.alternate;return o===Sr||a!==null&&a===Sr}function C_(o,a){Xu=of=!0;var v=o.pending;v===null?a.next=a:(a.next=v.next,v.next=a),o.pending=a}function R_(o,a,v){if((v&4194176)!==0){var k=a.lanes;k&=o.pendingLanes,v|=k,a.lanes=v,_n(o,v)}}var Mo={readContext:Fs,use:uf,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn};Mo.useCacheRefresh=Gn,Mo.useMemoCache=Gn,Mo.useHostTransitionStatus=Gn,Mo.useFormState=Gn,Mo.useActionState=Gn,Mo.useOptimistic=Gn;var tu={readContext:Fs,use:uf,useCallback:function(o,a){return pi().memoizedState=[o,a===void 0?null:a],o},useContext:Fs,useEffect:p_,useImperativeHandle:function(o,a,v){v=v!=null?v.concat([o]):null,df(4194308,4,g_.bind(null,a,o),v)},useLayoutEffect:function(o,a){return df(4194308,4,o,a)},useInsertionEffect:function(o,a){df(4,2,o,a)},useMemo:function(o,a){var v=pi();a=a===void 0?null:a;var k=o();if(eu){ue(!0);try{o()}finally{ue(!1)}}return v.memoizedState=[k,a],k},useReducer:function(o,a,v){var k=pi();if(v!==void 0){var B=v(a);if(eu){ue(!0);try{v(a)}finally{ue(!1)}}}else B=a;return k.memoizedState=k.baseState=B,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:B},k.queue=o,o=o.dispatch=nk.bind(null,Sr,o),[k.memoizedState,o]},useRef:function(o){var a=pi();return o={current:o},a.memoizedState=o},useState:function(o){o=uy(o);var a=o.queue,v=A_.bind(null,Sr,a);return a.dispatch=v,[o.memoizedState,v]},useDebugValue:hy,useDeferredValue:function(o,a){var v=pi();return fy(v,o,a)},useTransition:function(){var o=uy(!1);return o=x_.bind(null,Sr,o.queue,!0,!1),pi().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,a,v){var k=Sr,B=pi();if(Zr){if(v===void 0)throw Error(i(407));v=v()}else{if(v=a(),xn===null)throw Error(i(349));(Gr&60)!==0||Z1(k,a,v)}B.memoizedState=v;var W={value:v,getSnapshot:a};return B.queue=W,p_(e_.bind(null,k,W,o),[o]),k.flags|=2048,Qu(9,J1.bind(null,k,W,v,a),{destroy:void 0},null),v},useId:function(){var o=pi(),a=xn.identifierPrefix;if(Zr){var v=ra,k=ta;v=(k&~(1<<32-pe(k)-1)).toString(32)+v,a=":"+a+"R"+v,v=af++,0<v&&(a+="H"+v.toString(32)),a+=":"}else v=QM++,a=":"+a+"r"+v.toString(32)+":";return o.memoizedState=a},useCacheRefresh:function(){return pi().memoizedState=rk.bind(null,Sr)}};tu.useMemoCache=oy,tu.useHostTransitionStatus=my,tu.useFormState=u_,tu.useActionState=u_,tu.useOptimistic=function(o){var a=pi();a.memoizedState=a.baseState=o;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=v,a=yy.bind(null,Sr,!0,v),v.dispatch=a,[o,a]};var Ga={readContext:Fs,use:uf,useCallback:b_,useContext:Fs,useEffect:dy,useImperativeHandle:v_,useInsertionEffect:m_,useLayoutEffect:y_,useMemo:__,useReducer:cf,useRef:f_,useState:function(){return cf(sa)},useDebugValue:hy,useDeferredValue:function(o,a){var v=ts();return w_(v,cn.memoizedState,o,a)},useTransition:function(){var o=cf(sa)[0],a=ts().memoizedState;return[typeof o=="boolean"?o:Td(o),a]},useSyncExternalStore:Q1,useId:j_};Ga.useCacheRefresh=T_,Ga.useMemoCache=oy,Ga.useHostTransitionStatus=my,Ga.useFormState=c_,Ga.useActionState=c_,Ga.useOptimistic=function(o,a){var v=ts();return n_(v,cn,o,a)};var ru={readContext:Fs,use:uf,useCallback:b_,useContext:Fs,useEffect:dy,useImperativeHandle:v_,useInsertionEffect:m_,useLayoutEffect:y_,useMemo:__,useReducer:ly,useRef:f_,useState:function(){return ly(sa)},useDebugValue:hy,useDeferredValue:function(o,a){var v=ts();return cn===null?fy(v,o,a):w_(v,cn.memoizedState,o,a)},useTransition:function(){var o=ly(sa)[0],a=ts().memoizedState;return[typeof o=="boolean"?o:Td(o),a]},useSyncExternalStore:Q1,useId:j_};ru.useCacheRefresh=T_,ru.useMemoCache=oy,ru.useHostTransitionStatus=my,ru.useFormState=h_,ru.useActionState=h_,ru.useOptimistic=function(o,a){var v=ts();return cn!==null?n_(v,cn,o,a):(v.baseState=o,[o,v.queue.dispatch])};function gy(o,a,v,k){a=o.memoizedState,v=v(k,a),v=v==null?a:P({},a,v),o.memoizedState=v,o.lanes===0&&(o.updateQueue.baseState=v)}var vy={isMounted:function(o){return(o=o._reactInternals)?q(o)===o:!1},enqueueSetState:function(o,a,v){o=o._reactInternals;var k=Ri(),B=$a(k);B.payload=a,v!=null&&(B.callback=v),a=Wa(o,B,k),a!==null&&(oi(a,o,k),Md(a,o,k))},enqueueReplaceState:function(o,a,v){o=o._reactInternals;var k=Ri(),B=$a(k);B.tag=1,B.payload=a,v!=null&&(B.callback=v),a=Wa(o,B,k),a!==null&&(oi(a,o,k),Md(a,o,k))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var v=Ri(),k=$a(v);k.tag=2,a!=null&&(k.callback=a),a=Wa(o,k,v),a!==null&&(oi(a,o,v),Md(a,o,v))}};function M_(o,a,v,k,B,W,oe){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(k,W,oe):a.prototype&&a.prototype.isPureReactComponent?!rt(v,k)||!rt(B,W):!0}function k_(o,a,v,k){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(v,k),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(v,k),a.state!==o&&vy.enqueueReplaceState(a,a.state,null)}function nu(o,a){var v=a;if("ref"in a){v={};for(var k in a)k!=="ref"&&(v[k]=a[k])}if(o=o.defaultProps){v===a&&(v=P({},v));for(var B in o)v[B]===void 0&&(v[B]=o[B])}return v}var pf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function I_(o){pf(o)}function O_(o){console.error(o)}function D_(o){pf(o)}function mf(o,a){try{var v=o.onUncaughtError;v(a.value,{componentStack:a.stack})}catch(k){setTimeout(function(){throw k})}}function P_(o,a,v){try{var k=o.onCaughtError;k(v.value,{componentStack:v.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function by(o,a,v){return v=$a(v),v.tag=3,v.payload={element:null},v.callback=function(){mf(o,a)},v}function L_(o){return o=$a(o),o.tag=3,o}function N_(o,a,v,k){var B=v.type.getDerivedStateFromError;if(typeof B=="function"){var W=k.value;o.payload=function(){return B(W)},o.callback=function(){P_(a,v,k)}}var oe=v.stateNode;oe!==null&&typeof oe.componentDidCatch=="function"&&(o.callback=function(){P_(a,v,k),typeof B!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var be=k.stack;this.componentDidCatch(k.value,{componentStack:be!==null?be:""})})}function sk(o,a,v,k,B){if(v.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){if(a=v.alternate,a!==null&&Rd(a,v,B,!0),v=qi.current,v!==null){switch(v.tag){case 13:return Ro===null?eg():v.alternate===null&&Un===0&&(Un=3),v.flags&=-257,v.flags|=65536,v.lanes=B,k===Xm?v.flags|=16384:(a=v.updateQueue,a===null?v.updateQueue=new Set([k]):a.add(k),rg(o,k,B)),!1;case 22:return v.flags|=65536,k===Xm?v.flags|=16384:(a=v.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([k])},v.updateQueue=a):(v=a.retryQueue,v===null?a.retryQueue=new Set([k]):v.add(k)),rg(o,k,B)),!1}throw Error(i(435,v.tag))}return rg(o,k,B),eg(),!1}if(Zr)return a=qi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=B,k!==Ym&&(o=Error(i(422),{cause:k}),vd(zi(o,v)))):(k!==Ym&&(a=Error(i(423),{cause:k}),vd(zi(a,v))),o=o.current.alternate,o.flags|=65536,B&=-B,o.lanes|=B,k=zi(k,v),B=by(o.stateNode,k,B),Dy(o,B),Un!==4&&(Un=2)),!1;var W=Error(i(520),{cause:k});if(W=zi(W,v),Ud===null?Ud=[W]:Ud.push(W),Un!==4&&(Un=2),a===null)return!0;k=zi(k,v),v=a;do{switch(v.tag){case 3:return v.flags|=65536,o=B&-B,v.lanes|=o,o=by(v.stateNode,k,o),Dy(v,o),!1;case 1:if(a=v.type,W=v.stateNode,(v.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ja===null||!Ja.has(W))))return v.flags|=65536,B&=-B,v.lanes|=B,B=L_(B),N_(B,o,v,k),Dy(v,B),!1}v=v.return}while(v!==null);return!1}var U_=Error(i(461)),gs=!1;function Is(o,a,v,k){a.child=o===null?G1(a,null,v,k):Zl(a,o.child,v,k)}function B_(o,a,v,k,B){v=v.render;var W=a.ref;if("ref"in k){var oe={};for(var be in k)be!=="ref"&&(oe[be]=k[be])}else oe=k;return iu(a),k=ry(o,a,v,oe,W,B),be=ny(),o!==null&&!gs?(sy(o,a,B),ia(o,a,B)):(Zr&&be&&$m(a),a.flags|=1,Is(o,a,k,B),a.child)}function F_(o,a,v,k,B){if(o===null){var W=v.type;return typeof W=="function"&&!zy(W)&&W.defaultProps===void 0&&v.compare===null?(a.tag=15,a.type=W,V_(o,a,W,k,B)):(o=_f(v.type,null,k,a,a.mode,B),o.ref=a.ref,o.return=a,a.child=o)}if(W=o.child,!Cy(o,B)){var oe=W.memoizedProps;if(v=v.compare,v=v!==null?v:rt,v(oe,k)&&o.ref===a.ref)return ia(o,a,B)}return a.flags|=1,o=Qa(W,k),o.ref=a.ref,o.return=a,a.child=o}function V_(o,a,v,k,B){if(o!==null){var W=o.memoizedProps;if(rt(W,k)&&o.ref===a.ref)if(gs=!1,a.pendingProps=k=W,Cy(o,B))(o.flags&131072)!==0&&(gs=!0);else return a.lanes=o.lanes,ia(o,a,B)}return _y(o,a,v,k,B)}function z_(o,a,v){var k=a.pendingProps,B=k.children,W=(a.stateNode._pendingVisibility&2)!==0,oe=o!==null?o.memoizedState:null;if(Cd(o,a),k.mode==="hidden"||W){if((a.flags&128)!==0){if(k=oe!==null?oe.baseLanes|v:v,o!==null){for(B=a.child=o.child,W=0;B!==null;)W=W|B.lanes|B.childLanes,B=B.sibling;a.childLanes=W&~k}else a.childLanes=0,a.child=null;return G_(o,a,k,v)}if((v&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},o!==null&&sf(a,oe!==null?oe.cachePool:null),oe!==null?H1(a,oe):Km(),q1(a);else return a.lanes=a.childLanes=536870912,G_(o,a,oe!==null?oe.baseLanes|v:v,v)}else oe!==null?(sf(a,oe.cachePool),H1(a,oe),Va(),a.memoizedState=null):(o!==null&&sf(a,null),Km(),Va());return Is(o,a,B,v),a.child}function G_(o,a,v,k){var B=ey();return B=B===null?null:{parent:hs._currentValue,pool:B},a.memoizedState={baseLanes:v,cachePool:B},o!==null&&sf(a,null),Km(),q1(a),o!==null&&Rd(o,a,k,!0),null}function Cd(o,a){var v=a.ref;if(v===null)o!==null&&o.ref!==null&&(a.flags|=2097664);else{if(typeof v!="function"&&typeof v!="object")throw Error(i(284));(o===null||o.ref!==v)&&(a.flags|=2097664)}}function _y(o,a,v,k,B){return iu(a),v=ry(o,a,v,k,void 0,B),k=ny(),o!==null&&!gs?(sy(o,a,B),ia(o,a,B)):(Zr&&k&&$m(a),a.flags|=1,Is(o,a,v,B),a.child)}function H_(o,a,v,k,B,W){return iu(a),a.updateQueue=null,v=K1(a,k,v,B),X1(o),k=ny(),o!==null&&!gs?(sy(o,a,W),ia(o,a,W)):(Zr&&k&&$m(a),a.flags|=1,Is(o,a,v,W),a.child)}function q_(o,a,v,k,B){if(iu(a),a.stateNode===null){var W=zu,oe=v.contextType;typeof oe=="object"&&oe!==null&&(W=Fs(oe)),W=new v(k,W),a.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=vy,a.stateNode=W,W._reactInternals=a,W=a.stateNode,W.props=k,W.state=a.memoizedState,W.refs={},Iy(a),oe=v.contextType,W.context=typeof oe=="object"&&oe!==null?Fs(oe):zu,W.state=a.memoizedState,oe=v.getDerivedStateFromProps,typeof oe=="function"&&(gy(a,v,oe,k),W.state=a.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(oe=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),oe!==W.state&&vy.enqueueReplaceState(W,W.state,null),Id(a,k,W,B),kd(),W.state=a.memoizedState),typeof W.componentDidMount=="function"&&(a.flags|=4194308),k=!0}else if(o===null){W=a.stateNode;var be=a.memoizedProps,Oe=nu(v,be);W.props=Oe;var Ve=W.context,ct=v.contextType;oe=zu,typeof ct=="object"&&ct!==null&&(oe=Fs(ct));var St=v.getDerivedStateFromProps;ct=typeof St=="function"||typeof W.getSnapshotBeforeUpdate=="function",be=a.pendingProps!==be,ct||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(be||Ve!==oe)&&k_(a,W,k,oe),qa=!1;var nt=a.memoizedState;W.state=nt,Id(a,k,W,B),kd(),Ve=a.memoizedState,be||nt!==Ve||qa?(typeof St=="function"&&(gy(a,v,St,k),Ve=a.memoizedState),(Oe=qa||M_(a,v,Oe,k,nt,Ve,oe))?(ct||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(a.flags|=4194308)):(typeof W.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=k,a.memoizedState=Ve),W.props=k,W.state=Ve,W.context=oe,k=Oe):(typeof W.componentDidMount=="function"&&(a.flags|=4194308),k=!1)}else{W=a.stateNode,Oy(o,a),oe=a.memoizedProps,ct=nu(v,oe),W.props=ct,St=a.pendingProps,nt=W.context,Ve=v.contextType,Oe=zu,typeof Ve=="object"&&Ve!==null&&(Oe=Fs(Ve)),be=v.getDerivedStateFromProps,(Ve=typeof be=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(oe!==St||nt!==Oe)&&k_(a,W,k,Oe),qa=!1,nt=a.memoizedState,W.state=nt,Id(a,k,W,B),kd();var lt=a.memoizedState;oe!==St||nt!==lt||qa||o!==null&&o.dependencies!==null&&yf(o.dependencies)?(typeof be=="function"&&(gy(a,v,be,k),lt=a.memoizedState),(ct=qa||M_(a,v,ct,k,nt,lt,Oe)||o!==null&&o.dependencies!==null&&yf(o.dependencies))?(Ve||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(k,lt,Oe),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(k,lt,Oe)),typeof W.componentDidUpdate=="function"&&(a.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof W.componentDidUpdate!="function"||oe===o.memoizedProps&&nt===o.memoizedState||(a.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||oe===o.memoizedProps&&nt===o.memoizedState||(a.flags|=1024),a.memoizedProps=k,a.memoizedState=lt),W.props=k,W.state=lt,W.context=Oe,k=ct):(typeof W.componentDidUpdate!="function"||oe===o.memoizedProps&&nt===o.memoizedState||(a.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||oe===o.memoizedProps&&nt===o.memoizedState||(a.flags|=1024),k=!1)}return W=k,Cd(o,a),k=(a.flags&128)!==0,W||k?(W=a.stateNode,v=k&&typeof v.getDerivedStateFromError!="function"?null:W.render(),a.flags|=1,o!==null&&k?(a.child=Zl(a,o.child,null,B),a.child=Zl(a,null,v,B)):Is(o,a,v,B),a.memoizedState=W.state,o=a.child):o=ia(o,a,B),o}function $_(o,a,v,k){return gd(),a.flags|=256,Is(o,a,v,k),a.child}var wy={dehydrated:null,treeContext:null,retryLane:0};function xy(o){return{baseLanes:o,cachePool:Y1()}}function Sy(o,a,v){return o=o!==null?o.childLanes&~v:0,a&&(o|=Xi),o}function W_(o,a,v){var k=a.pendingProps,B=!1,W=(a.flags&128)!==0,oe;if((oe=W)||(oe=o!==null&&o.memoizedState===null?!1:(ds.current&2)!==0),oe&&(B=!0,a.flags&=-129),oe=(a.flags&32)!==0,a.flags&=-33,o===null){if(Zr){if(B?Fa(a):Va(),Zr){var be=ks,Oe;if(Oe=be){e:{for(Oe=be,be=Co;Oe.nodeType!==8;){if(!be){be=null;break e}if(Oe=ho(Oe.nextSibling),Oe===null){be=null;break e}}be=Oe}be!==null?(a.memoizedState={dehydrated:be,treeContext:Xl!==null?{id:ta,overflow:ra}:null,retryLane:536870912},Oe=Yi(18,null,null,0),Oe.stateNode=be,Oe.return=a,a.child=Oe,ii=a,ks=null,Oe=!0):Oe=!1}Oe||Ql(a)}if(be=a.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return be.data==="$!"?a.lanes=16:a.lanes=536870912,null;na(a)}return be=k.children,k=k.fallback,B?(Va(),B=a.mode,be=jy({mode:"hidden",children:be},B),k=au(k,B,v,null),be.return=a,k.return=a,be.sibling=k,a.child=be,B=a.child,B.memoizedState=xy(v),B.childLanes=Sy(o,oe,v),a.memoizedState=wy,k):(Fa(a),Ey(a,be))}if(Oe=o.memoizedState,Oe!==null&&(be=Oe.dehydrated,be!==null)){if(W)a.flags&256?(Fa(a),a.flags&=-257,a=Ty(o,a,v)):a.memoizedState!==null?(Va(),a.child=o.child,a.flags|=128,a=null):(Va(),B=k.fallback,be=a.mode,k=jy({mode:"visible",children:k.children},be),B=au(B,be,v,null),B.flags|=2,k.return=a,B.return=a,k.sibling=B,a.child=k,Zl(a,o.child,null,v),k=a.child,k.memoizedState=xy(v),k.childLanes=Sy(o,oe,v),a.memoizedState=wy,a=B);else if(Fa(a),be.data==="$!"){if(oe=be.nextSibling&&be.nextSibling.dataset,oe)var Ve=oe.dgst;oe=Ve,k=Error(i(419)),k.stack="",k.digest=oe,vd({value:k,source:null,stack:null}),a=Ty(o,a,v)}else if(gs||Rd(o,a,v,!1),oe=(v&o.childLanes)!==0,gs||oe){if(oe=xn,oe!==null){if(k=v&-v,(k&42)!==0)k=1;else switch(k){case 2:k=1;break;case 8:k=4;break;case 32:k=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:k=64;break;case 268435456:k=134217728;break;default:k=0}if(k=(k&(oe.suspendedLanes|v))!==0?0:k,k!==0&&k!==Oe.retryLane)throw Oe.retryLane=k,Ba(o,k),oi(oe,o,k),U_}be.data==="$?"||eg(),a=Ty(o,a,v)}else be.data==="$?"?(a.flags|=128,a.child=o.child,a=bk.bind(null,o),be._reactRetry=a,a=null):(o=Oe.treeContext,ks=ho(be.nextSibling),ii=a,Zr=!0,uo=null,Co=!1,o!==null&&(Gi[Hi++]=ta,Gi[Hi++]=ra,Gi[Hi++]=Xl,ta=o.id,ra=o.overflow,Xl=a),a=Ey(a,k.children),a.flags|=4096);return a}return B?(Va(),B=k.fallback,be=a.mode,Oe=o.child,Ve=Oe.sibling,k=Qa(Oe,{mode:"hidden",children:k.children}),k.subtreeFlags=Oe.subtreeFlags&31457280,Ve!==null?B=Qa(Ve,B):(B=au(B,be,v,null),B.flags|=2),B.return=a,k.return=a,k.sibling=B,a.child=k,k=B,B=a.child,be=o.child.memoizedState,be===null?be=xy(v):(Oe=be.cachePool,Oe!==null?(Ve=hs._currentValue,Oe=Oe.parent!==Ve?{parent:Ve,pool:Ve}:Oe):Oe=Y1(),be={baseLanes:be.baseLanes|v,cachePool:Oe}),B.memoizedState=be,B.childLanes=Sy(o,oe,v),a.memoizedState=wy,k):(Fa(a),v=o.child,o=v.sibling,v=Qa(v,{mode:"visible",children:k.children}),v.return=a,v.sibling=null,o!==null&&(oe=a.deletions,oe===null?(a.deletions=[o],a.flags|=16):oe.push(o)),a.child=v,a.memoizedState=null,v)}function Ey(o,a){return a=jy({mode:"visible",children:a},o.mode),a.return=o,o.child=a}function jy(o,a){return bw(o,a,0,null)}function Ty(o,a,v){return Zl(a,o.child,null,v),o=Ey(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function Y_(o,a,v){o.lanes|=a;var k=o.alternate;k!==null&&(k.lanes|=a),My(o.return,a,v)}function Ay(o,a,v,k,B){var W=o.memoizedState;W===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:k,tail:v,tailMode:B}:(W.isBackwards=a,W.rendering=null,W.renderingStartTime=0,W.last=k,W.tail=v,W.tailMode=B)}function X_(o,a,v){var k=a.pendingProps,B=k.revealOrder,W=k.tail;if(Is(o,a,k.children,v),k=ds.current,(k&2)!==0)k=k&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Y_(o,v,a);else if(o.tag===19)Y_(o,v,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}k&=1}switch(he(ds,k),B){case"forwards":for(v=a.child,B=null;v!==null;)o=v.alternate,o!==null&&nf(o)===null&&(B=v),v=v.sibling;v=B,v===null?(B=a.child,a.child=null):(B=v.sibling,v.sibling=null),Ay(a,!1,B,v,W);break;case"backwards":for(v=null,B=a.child,a.child=null;B!==null;){if(o=B.alternate,o!==null&&nf(o)===null){a.child=B;break}o=B.sibling,B.sibling=v,v=B,B=o}Ay(a,!0,v,null,W);break;case"together":Ay(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ia(o,a,v){if(o!==null&&(a.dependencies=o.dependencies),Za|=a.lanes,(v&a.childLanes)===0)if(o!==null){if(Rd(o,a,v,!1),(v&a.childLanes)===0)return null}else return null;if(o!==null&&a.child!==o.child)throw Error(i(153));if(a.child!==null){for(o=a.child,v=Qa(o,o.pendingProps),a.child=v,v.return=a;o.sibling!==null;)o=o.sibling,v=v.sibling=Qa(o,o.pendingProps),v.return=a;v.sibling=null}return a.child}function Cy(o,a){return(o.lanes&a)!==0?!0:(o=o.dependencies,!!(o!==null&&yf(o)))}function ik(o,a,v){switch(a.tag){case 3:Se(a,a.stateNode.containerInfo),Ha(a,hs,o.memoizedState.cache),gd();break;case 27:case 5:Ee(a);break;case 4:Se(a,a.stateNode.containerInfo);break;case 10:Ha(a,a.type,a.memoizedProps.value);break;case 13:var k=a.memoizedState;if(k!==null)return k.dehydrated!==null?(Fa(a),a.flags|=128,null):(v&a.child.childLanes)!==0?W_(o,a,v):(Fa(a),o=ia(o,a,v),o!==null?o.sibling:null);Fa(a);break;case 19:var B=(o.flags&128)!==0;if(k=(v&a.childLanes)!==0,k||(Rd(o,a,v,!1),k=(v&a.childLanes)!==0),B){if(k)return X_(o,a,v);a.flags|=128}if(B=a.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),he(ds,ds.current),k)break;return null;case 22:case 23:return a.lanes=0,z_(o,a,v);case 24:Ha(a,hs,o.memoizedState.cache)}return ia(o,a,v)}function K_(o,a,v){if(o!==null)if(o.memoizedProps!==a.pendingProps)gs=!0;else{if(!Cy(o,v)&&(a.flags&128)===0)return gs=!1,ik(o,a,v);gs=(o.flags&131072)!==0}else gs=!1,Zr&&(a.flags&1048576)!==0&&D1(a,Zh,a.index);switch(a.lanes=0,a.tag){case 16:e:{o=a.pendingProps;var k=a.elementType,B=k._init;if(k=B(k._payload),a.type=k,typeof k=="function")zy(k)?(o=nu(k,o),a.tag=1,a=q_(null,a,k,o,v)):(a.tag=0,a=_y(null,a,k,o,v));else{if(k!=null){if(B=k.$$typeof,B===A){a.tag=11,a=B_(null,a,k,o,v);break e}else if(B===p){a.tag=14,a=F_(null,a,k,o,v);break e}}throw a=E(k)||k,Error(i(306,a,""))}}return a;case 0:return _y(o,a,a.type,a.pendingProps,v);case 1:return k=a.type,B=nu(k,a.pendingProps),q_(o,a,k,B,v);case 3:e:{if(Se(a,a.stateNode.containerInfo),o===null)throw Error(i(387));var W=a.pendingProps;B=a.memoizedState,k=B.element,Oy(o,a),Id(a,W,null,v);var oe=a.memoizedState;if(W=oe.cache,Ha(a,hs,W),W!==B.cache&&ky(a,[hs],v,!0),kd(),W=oe.element,B.isDehydrated)if(B={element:W,isDehydrated:!1,cache:oe.cache},a.updateQueue.baseState=B,a.memoizedState=B,a.flags&256){a=$_(o,a,W,v);break e}else if(W!==k){k=zi(Error(i(424)),a),vd(k),a=$_(o,a,W,v);break e}else for(ks=ho(a.stateNode.containerInfo.firstChild),ii=a,Zr=!0,uo=null,Co=!0,v=G1(a,null,W,v),a.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(gd(),W===k){a=ia(o,a,v);break e}Is(o,a,W,v)}a=a.child}return a;case 26:return Cd(o,a),o===null?(v=Jw(a.type,null,a.pendingProps,null))?a.memoizedState=v:Zr||(v=a.type,o=a.pendingProps,k=If(le.current).createElement(v),k[Ir]=a,k[Er]=o,Os(k,v,o),st(k),a.stateNode=k):a.memoizedState=Jw(a.type,o.memoizedProps,a.pendingProps,o.memoizedState),null;case 27:return Ee(a),o===null&&Zr&&(k=a.stateNode=Kw(a.type,a.pendingProps,le.current),ii=a,Co=!0,ks=ho(k.firstChild)),k=a.pendingProps.children,o!==null||Zr?Is(o,a,k,v):a.child=Zl(a,null,k,v),Cd(o,a),a.child;case 5:return o===null&&Zr&&((B=k=ks)&&(k=Pk(k,a.type,a.pendingProps,Co),k!==null?(a.stateNode=k,ii=a,ks=ho(k.firstChild),Co=!1,B=!0):B=!1),B||Ql(a)),Ee(a),B=a.type,W=a.pendingProps,oe=o!==null?o.memoizedProps:null,k=W.children,pg(B,W)?k=null:oe!==null&&pg(B,oe)&&(a.flags|=32),a.memoizedState!==null&&(B=ry(o,a,ZM,null,null,v),Wd._currentValue=B),Cd(o,a),Is(o,a,k,v),a.child;case 6:return o===null&&Zr&&((o=v=ks)&&(v=Lk(v,a.pendingProps,Co),v!==null?(a.stateNode=v,ii=a,ks=null,o=!0):o=!1),o||Ql(a)),null;case 13:return W_(o,a,v);case 4:return Se(a,a.stateNode.containerInfo),k=a.pendingProps,o===null?a.child=Zl(a,null,k,v):Is(o,a,k,v),a.child;case 11:return B_(o,a,a.type,a.pendingProps,v);case 7:return Is(o,a,a.pendingProps,v),a.child;case 8:return Is(o,a,a.pendingProps.children,v),a.child;case 12:return Is(o,a,a.pendingProps.children,v),a.child;case 10:return k=a.pendingProps,Ha(a,a.type,k.value),Is(o,a,k.children,v),a.child;case 9:return B=a.type._context,k=a.pendingProps.children,iu(a),B=Fs(B),k=k(B),a.flags|=1,Is(o,a,k,v),a.child;case 14:return F_(o,a,a.type,a.pendingProps,v);case 15:return V_(o,a,a.type,a.pendingProps,v);case 19:return X_(o,a,v);case 22:return z_(o,a,v);case 24:return iu(a),k=Fs(hs),o===null?(B=ey(),B===null&&(B=xn,W=Zm(),B.pooledCache=W,W.refCount++,W!==null&&(B.pooledCacheLanes|=v),B=W),a.memoizedState={parent:k,cache:B},Iy(a),Ha(a,hs,B)):((o.lanes&v)!==0&&(Oy(o,a),Id(a,null,null,v),kd()),B=o.memoizedState,W=a.memoizedState,B.parent!==k?(B={parent:k,cache:k},a.memoizedState=B,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=B),Ha(a,hs,k)):(k=W.cache,Ha(a,hs,k),k!==B.cache&&ky(a,[hs],v,!0))),Is(o,a,a.pendingProps.children,v),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Ry=Z(null),su=null,oa=null;function Ha(o,a,v){he(Ry,a._currentValue),a._currentValue=v}function aa(o){o._currentValue=Ry.current,ie(Ry)}function My(o,a,v){for(;o!==null;){var k=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,k!==null&&(k.childLanes|=a)):k!==null&&(k.childLanes&a)!==a&&(k.childLanes|=a),o===v)break;o=o.return}}function ky(o,a,v,k){var B=o.child;for(B!==null&&(B.return=o);B!==null;){var W=B.dependencies;if(W!==null){var oe=B.child;W=W.firstContext;e:for(;W!==null;){var be=W;W=B;for(var Oe=0;Oe<a.length;Oe++)if(be.context===a[Oe]){W.lanes|=v,be=W.alternate,be!==null&&(be.lanes|=v),My(W.return,v,o),k||(oe=null);break e}W=be.next}}else if(B.tag===18){if(oe=B.return,oe===null)throw Error(i(341));oe.lanes|=v,W=oe.alternate,W!==null&&(W.lanes|=v),My(oe,v,o),oe=null}else oe=B.child;if(oe!==null)oe.return=B;else for(oe=B;oe!==null;){if(oe===o){oe=null;break}if(B=oe.sibling,B!==null){B.return=oe.return,oe=B;break}oe=oe.return}B=oe}}function Rd(o,a,v,k){o=null;for(var B=a,W=!1;B!==null;){if(!W){if((B.flags&524288)!==0)W=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var oe=B.alternate;if(oe===null)throw Error(i(387));if(oe=oe.memoizedProps,oe!==null){var be=B.type;Qe(B.pendingProps.value,oe.value)||(o!==null?o.push(be):o=[be])}}else if(B===me.current){if(oe=B.alternate,oe===null)throw Error(i(387));oe.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(o!==null?o.push(Wd):o=[Wd])}B=B.return}o!==null&&ky(a,o,v,k),a.flags|=262144}function yf(o){for(o=o.firstContext;o!==null;){if(!Qe(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function iu(o){su=o,oa=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Fs(o){return Q_(su,o)}function gf(o,a){return su===null&&iu(o),Q_(o,a)}function Q_(o,a){var v=a._currentValue;if(a={context:a,memoizedValue:v,next:null},oa===null){if(o===null)throw Error(i(308));oa=a,o.dependencies={lanes:0,firstContext:a},o.flags|=524288}else oa=oa.next=a;return v}var qa=!1;function Iy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oy(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function $a(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Wa(o,a,v){var k=o.updateQueue;if(k===null)return null;if(k=k.shared,(kn&2)!==0){var B=k.pending;return B===null?a.next=a:(a.next=B.next,B.next=a),k.pending=a,a=Kh(o),I1(o,null,v),a}return Xh(o,k,a,v),Kh(o)}function Md(o,a,v){if(a=a.updateQueue,a!==null&&(a=a.shared,(v&4194176)!==0)){var k=a.lanes;k&=o.pendingLanes,v|=k,a.lanes=v,_n(o,v)}}function Dy(o,a){var v=o.updateQueue,k=o.alternate;if(k!==null&&(k=k.updateQueue,v===k)){var B=null,W=null;if(v=v.firstBaseUpdate,v!==null){do{var oe={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};W===null?B=W=oe:W=W.next=oe,v=v.next}while(v!==null);W===null?B=W=a:W=W.next=a}else B=W=a;v={baseState:k.baseState,firstBaseUpdate:B,lastBaseUpdate:W,shared:k.shared,callbacks:k.callbacks},o.updateQueue=v;return}o=v.lastBaseUpdate,o===null?v.firstBaseUpdate=a:o.next=a,v.lastBaseUpdate=a}var Py=!1;function kd(){if(Py){var o=Yu;if(o!==null)throw o}}function Id(o,a,v,k){Py=!1;var B=o.updateQueue;qa=!1;var W=B.firstBaseUpdate,oe=B.lastBaseUpdate,be=B.shared.pending;if(be!==null){B.shared.pending=null;var Oe=be,Ve=Oe.next;Oe.next=null,oe===null?W=Ve:oe.next=Ve,oe=Oe;var ct=o.alternate;ct!==null&&(ct=ct.updateQueue,be=ct.lastBaseUpdate,be!==oe&&(be===null?ct.firstBaseUpdate=Ve:be.next=Ve,ct.lastBaseUpdate=Oe))}if(W!==null){var St=B.baseState;oe=0,ct=Ve=Oe=null,be=W;do{var nt=be.lane&-536870913,lt=nt!==be.lane;if(lt?(Gr&nt)===nt:(k&nt)===nt){nt!==0&&nt===Wu&&(Py=!0),ct!==null&&(ct=ct.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Qt=o,ur=be;nt=a;var Bn=v;switch(ur.tag){case 1:if(Qt=ur.payload,typeof Qt=="function"){St=Qt.call(Bn,St,nt);break e}St=Qt;break e;case 3:Qt.flags=Qt.flags&-65537|128;case 0:if(Qt=ur.payload,nt=typeof Qt=="function"?Qt.call(Bn,St,nt):Qt,nt==null)break e;St=P({},St,nt);break e;case 2:qa=!0}}nt=be.callback,nt!==null&&(o.flags|=64,lt&&(o.flags|=8192),lt=B.callbacks,lt===null?B.callbacks=[nt]:lt.push(nt))}else lt={lane:nt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},ct===null?(Ve=ct=lt,Oe=St):ct=ct.next=lt,oe|=nt;if(be=be.next,be===null){if(be=B.shared.pending,be===null)break;lt=be,be=lt.next,lt.next=null,B.lastBaseUpdate=lt,B.shared.pending=null}}while(!0);ct===null&&(Oe=St),B.baseState=Oe,B.firstBaseUpdate=Ve,B.lastBaseUpdate=ct,W===null&&(B.shared.lanes=0),Za|=oe,o.lanes=oe,o.memoizedState=St}}function Z_(o,a){if(typeof o!="function")throw Error(i(191,o));o.call(a)}function J_(o,a){var v=o.callbacks;if(v!==null)for(o.callbacks=null,o=0;o<v.length;o++)Z_(v[o],a)}function Od(o,a){try{var v=a.updateQueue,k=v!==null?v.lastEffect:null;if(k!==null){var B=k.next;v=B;do{if((v.tag&o)===o){k=void 0;var W=v.create,oe=v.inst;k=W(),oe.destroy=k}v=v.next}while(v!==B)}}catch(be){mn(a,a.return,be)}}function Ya(o,a,v){try{var k=a.updateQueue,B=k!==null?k.lastEffect:null;if(B!==null){var W=B.next;k=W;do{if((k.tag&o)===o){var oe=k.inst,be=oe.destroy;if(be!==void 0){oe.destroy=void 0,B=a;var Oe=v;try{be()}catch(Ve){mn(B,Oe,Ve)}}}k=k.next}while(k!==W)}}catch(Ve){mn(a,a.return,Ve)}}function ew(o){var a=o.updateQueue;if(a!==null){var v=o.stateNode;try{J_(a,v)}catch(k){mn(o,o.return,k)}}}function tw(o,a,v){v.props=nu(o.type,o.memoizedProps),v.state=o.memoizedState;try{v.componentWillUnmount()}catch(k){mn(o,a,k)}}function ou(o,a){try{var v=o.ref;if(v!==null){var k=o.stateNode;switch(o.tag){case 26:case 27:case 5:var B=k;break;default:B=k}typeof v=="function"?o.refCleanup=v(B):v.current=B}}catch(W){mn(o,a,W)}}function Ti(o,a){var v=o.ref,k=o.refCleanup;if(v!==null)if(typeof k=="function")try{k()}catch(B){mn(o,a,B)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(B){mn(o,a,B)}else v.current=null}function rw(o){var a=o.type,v=o.memoizedProps,k=o.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":v.autoFocus&&k.focus();break e;case"img":v.src?k.src=v.src:v.srcSet&&(k.srcset=v.srcSet)}}catch(B){mn(o,o.return,B)}}function nw(o,a,v){try{var k=o.stateNode;Mk(k,o.type,v,a),k[Er]=a}catch(B){mn(o,o.return,B)}}function sw(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27||o.tag===4}function Ly(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||sw(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==27&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ny(o,a,v){var k=o.tag;if(k===5||k===6)o=o.stateNode,a?v.nodeType===8?v.parentNode.insertBefore(o,a):v.insertBefore(o,a):(v.nodeType===8?(a=v.parentNode,a.insertBefore(o,v)):(a=v,a.appendChild(o)),v=v._reactRootContainer,v!=null||a.onclick!==null||(a.onclick=kf));else if(k!==4&&k!==27&&(o=o.child,o!==null))for(Ny(o,a,v),o=o.sibling;o!==null;)Ny(o,a,v),o=o.sibling}function vf(o,a,v){var k=o.tag;if(k===5||k===6)o=o.stateNode,a?v.insertBefore(o,a):v.appendChild(o);else if(k!==4&&k!==27&&(o=o.child,o!==null))for(vf(o,a,v),o=o.sibling;o!==null;)vf(o,a,v),o=o.sibling}var la=!1,Nn=!1,Uy=!1,iw=typeof WeakSet=="function"?WeakSet:Set,vs=null,ow=!1;function ok(o,a){if(o=o.containerInfo,hg=Uf,o=Nt(o),yr(o)){if("selectionStart"in o)var v={start:o.selectionStart,end:o.selectionEnd};else e:{v=(v=o.ownerDocument)&&v.defaultView||window;var k=v.getSelection&&v.getSelection();if(k&&k.rangeCount!==0){v=k.anchorNode;var B=k.anchorOffset,W=k.focusNode;k=k.focusOffset;try{v.nodeType,W.nodeType}catch{v=null;break e}var oe=0,be=-1,Oe=-1,Ve=0,ct=0,St=o,nt=null;t:for(;;){for(var lt;St!==v||B!==0&&St.nodeType!==3||(be=oe+B),St!==W||k!==0&&St.nodeType!==3||(Oe=oe+k),St.nodeType===3&&(oe+=St.nodeValue.length),(lt=St.firstChild)!==null;)nt=St,St=lt;for(;;){if(St===o)break t;if(nt===v&&++Ve===B&&(be=oe),nt===W&&++ct===k&&(Oe=oe),(lt=St.nextSibling)!==null)break;St=nt,nt=St.parentNode}St=lt}v=be===-1||Oe===-1?null:{start:be,end:Oe}}else v=null}v=v||{start:0,end:0}}else v=null;for(fg={focusedElem:o,selectionRange:v},Uf=!1,vs=a;vs!==null;)if(a=vs,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,vs=o;else for(;vs!==null;){switch(a=vs,W=a.alternate,o=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&W!==null){o=void 0,v=a,B=W.memoizedProps,W=W.memoizedState,k=v.stateNode;try{var Qt=nu(v.type,B,v.elementType===v.type);o=k.getSnapshotBeforeUpdate(Qt,W),k.__reactInternalSnapshotBeforeUpdate=o}catch(ur){mn(v,v.return,ur)}}break;case 3:if((o&1024)!==0){if(o=a.stateNode.containerInfo,v=o.nodeType,v===9)gg(o);else if(v===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":gg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=a.sibling,o!==null){o.return=a.return,vs=o;break}vs=a.return}return Qt=ow,ow=!1,Qt}function aw(o,a,v){var k=v.flags;switch(v.tag){case 0:case 11:case 15:ca(o,v),k&4&&Od(5,v);break;case 1:if(ca(o,v),k&4)if(o=v.stateNode,a===null)try{o.componentDidMount()}catch(be){mn(v,v.return,be)}else{var B=nu(v.type,a.memoizedProps);a=a.memoizedState;try{o.componentDidUpdate(B,a,o.__reactInternalSnapshotBeforeUpdate)}catch(be){mn(v,v.return,be)}}k&64&&ew(v),k&512&&ou(v,v.return);break;case 3:if(ca(o,v),k&64&&(k=v.updateQueue,k!==null)){if(o=null,v.child!==null)switch(v.child.tag){case 27:case 5:o=v.child.stateNode;break;case 1:o=v.child.stateNode}try{J_(k,o)}catch(be){mn(v,v.return,be)}}break;case 26:ca(o,v),k&512&&ou(v,v.return);break;case 27:case 5:ca(o,v),a===null&&k&4&&rw(v),k&512&&ou(v,v.return);break;case 12:ca(o,v);break;case 13:ca(o,v),k&4&&cw(o,v);break;case 22:if(B=v.memoizedState!==null||la,!B){a=a!==null&&a.memoizedState!==null||Nn;var W=la,oe=Nn;la=B,(Nn=a)&&!oe?Xa(o,v,(v.subtreeFlags&8772)!==0):ca(o,v),la=W,Nn=oe}k&512&&(v.memoizedProps.mode==="manual"?ou(v,v.return):Ti(v,v.return));break;default:ca(o,v)}}function lw(o){var a=o.alternate;a!==null&&(o.alternate=null,lw(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&ke(a)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var rs=null,Ai=!1;function ua(o,a,v){for(v=v.child;v!==null;)uw(o,a,v),v=v.sibling}function uw(o,a,v){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ot,v)}catch{}switch(v.tag){case 26:Nn||Ti(v,a),ua(o,a,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Nn||Ti(v,a);var k=rs,B=Ai;for(rs=v.stateNode,ua(o,a,v),v=v.stateNode,a=v.attributes;a.length;)v.removeAttributeNode(a[0]);ke(v),rs=k,Ai=B;break;case 5:Nn||Ti(v,a);case 6:B=rs;var W=Ai;if(rs=null,ua(o,a,v),rs=B,Ai=W,rs!==null)if(Ai)try{o=rs,k=v.stateNode,o.nodeType===8?o.parentNode.removeChild(k):o.removeChild(k)}catch(oe){mn(v,a,oe)}else try{rs.removeChild(v.stateNode)}catch(oe){mn(v,a,oe)}break;case 18:rs!==null&&(Ai?(a=rs,v=v.stateNode,a.nodeType===8?yg(a.parentNode,v):a.nodeType===1&&yg(a,v),Qd(a)):yg(rs,v.stateNode));break;case 4:k=rs,B=Ai,rs=v.stateNode.containerInfo,Ai=!0,ua(o,a,v),rs=k,Ai=B;break;case 0:case 11:case 14:case 15:Nn||Ya(2,v,a),Nn||Ya(4,v,a),ua(o,a,v);break;case 1:Nn||(Ti(v,a),k=v.stateNode,typeof k.componentWillUnmount=="function"&&tw(v,a,k)),ua(o,a,v);break;case 21:ua(o,a,v);break;case 22:Nn||Ti(v,a),Nn=(k=Nn)||v.memoizedState!==null,ua(o,a,v),Nn=k;break;default:ua(o,a,v)}}function cw(o,a){if(a.memoizedState===null&&(o=a.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Qd(o)}catch(v){mn(a,a.return,v)}}function ak(o){switch(o.tag){case 13:case 19:var a=o.stateNode;return a===null&&(a=o.stateNode=new iw),a;case 22:return o=o.stateNode,a=o._retryCache,a===null&&(a=o._retryCache=new iw),a;default:throw Error(i(435,o.tag))}}function By(o,a){var v=ak(o);a.forEach(function(k){var B=_k.bind(null,o,k);v.has(k)||(v.add(k),k.then(B,B))})}function $i(o,a){var v=a.deletions;if(v!==null)for(var k=0;k<v.length;k++){var B=v[k],W=o,oe=a,be=oe;e:for(;be!==null;){switch(be.tag){case 27:case 5:rs=be.stateNode,Ai=!1;break e;case 3:rs=be.stateNode.containerInfo,Ai=!0;break e;case 4:rs=be.stateNode.containerInfo,Ai=!0;break e}be=be.return}if(rs===null)throw Error(i(160));uw(W,oe,B),rs=null,Ai=!1,W=B.alternate,W!==null&&(W.return=null),B.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)dw(a,o),a=a.sibling}var co=null;function dw(o,a){var v=o.alternate,k=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:$i(a,o),Wi(o),k&4&&(Ya(3,o,o.return),Od(3,o),Ya(5,o,o.return));break;case 1:$i(a,o),Wi(o),k&512&&(Nn||v===null||Ti(v,v.return)),k&64&&la&&(o=o.updateQueue,o!==null&&(k=o.callbacks,k!==null&&(v=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=v===null?k:v.concat(k))));break;case 26:var B=co;if($i(a,o),Wi(o),k&512&&(Nn||v===null||Ti(v,v.return)),k&4){var W=v!==null?v.memoizedState:null;if(k=o.memoizedState,v===null)if(k===null)if(o.stateNode===null){e:{k=o.type,v=o.memoizedProps,B=B.ownerDocument||B;t:switch(k){case"title":W=B.getElementsByTagName("title")[0],(!W||W[bi]||W[Ir]||W.namespaceURI==="http://www.w3.org/2000/svg"||W.hasAttribute("itemprop"))&&(W=B.createElement(k),B.head.insertBefore(W,B.querySelector("head > title"))),Os(W,k,v),W[Ir]=o,st(W),k=W;break e;case"link":var oe=rx("link","href",B).get(k+(v.href||""));if(oe){for(var be=0;be<oe.length;be++)if(W=oe[be],W.getAttribute("href")===(v.href==null?null:v.href)&&W.getAttribute("rel")===(v.rel==null?null:v.rel)&&W.getAttribute("title")===(v.title==null?null:v.title)&&W.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){oe.splice(be,1);break t}}W=B.createElement(k),Os(W,k,v),B.head.appendChild(W);break;case"meta":if(oe=rx("meta","content",B).get(k+(v.content||""))){for(be=0;be<oe.length;be++)if(W=oe[be],W.getAttribute("content")===(v.content==null?null:""+v.content)&&W.getAttribute("name")===(v.name==null?null:v.name)&&W.getAttribute("property")===(v.property==null?null:v.property)&&W.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&W.getAttribute("charset")===(v.charSet==null?null:v.charSet)){oe.splice(be,1);break t}}W=B.createElement(k),Os(W,k,v),B.head.appendChild(W);break;default:throw Error(i(468,k))}W[Ir]=o,st(W),k=W}o.stateNode=k}else nx(B,o.type,o.stateNode);else o.stateNode=tx(B,k,o.memoizedProps);else W!==k?(W===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):W.count--,k===null?nx(B,o.type,o.stateNode):tx(B,k,o.memoizedProps)):k===null&&o.stateNode!==null&&nw(o,o.memoizedProps,v.memoizedProps)}break;case 27:if(k&4&&o.alternate===null){B=o.stateNode,W=o.memoizedProps;try{for(var Oe=B.firstChild;Oe;){var Ve=Oe.nextSibling,ct=Oe.nodeName;Oe[bi]||ct==="HEAD"||ct==="BODY"||ct==="SCRIPT"||ct==="STYLE"||ct==="LINK"&&Oe.rel.toLowerCase()==="stylesheet"||B.removeChild(Oe),Oe=Ve}for(var St=o.type,nt=B.attributes;nt.length;)B.removeAttributeNode(nt[0]);Os(B,St,W),B[Ir]=o,B[Er]=W}catch(Qt){mn(o,o.return,Qt)}}case 5:if($i(a,o),Wi(o),k&512&&(Nn||v===null||Ti(v,v.return)),o.flags&32){B=o.stateNode;try{ti(B,"")}catch(Qt){mn(o,o.return,Qt)}}k&4&&o.stateNode!=null&&(B=o.memoizedProps,nw(o,B,v!==null?v.memoizedProps:B)),k&1024&&(Uy=!0);break;case 6:if($i(a,o),Wi(o),k&4){if(o.stateNode===null)throw Error(i(162));k=o.memoizedProps,v=o.stateNode;try{v.nodeValue=k}catch(Qt){mn(o,o.return,Qt)}}break;case 3:if(Pf=null,B=co,co=Of(a.containerInfo),$i(a,o),co=B,Wi(o),k&4&&v!==null&&v.memoizedState.isDehydrated)try{Qd(a.containerInfo)}catch(Qt){mn(o,o.return,Qt)}Uy&&(Uy=!1,hw(o));break;case 4:k=co,co=Of(o.stateNode.containerInfo),$i(a,o),Wi(o),co=k;break;case 12:$i(a,o),Wi(o);break;case 13:$i(a,o),Wi(o),o.child.flags&8192&&o.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Yy=_t()),k&4&&(k=o.updateQueue,k!==null&&(o.updateQueue=null,By(o,k)));break;case 22:if(k&512&&(Nn||v===null||Ti(v,v.return)),Oe=o.memoizedState!==null,Ve=v!==null&&v.memoizedState!==null,ct=la,St=Nn,la=ct||Oe,Nn=St||Ve,$i(a,o),Nn=St,la=ct,Wi(o),a=o.stateNode,a._current=o,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,k&8192&&(a._visibility=Oe?a._visibility&-2:a._visibility|1,Oe&&(a=la||Nn,v===null||Ve||a||Zu(o)),o.memoizedProps===null||o.memoizedProps.mode!=="manual"))e:for(v=null,a=o;;){if(a.tag===5||a.tag===26||a.tag===27){if(v===null){Ve=v=a;try{if(B=Ve.stateNode,Oe)W=B.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{oe=Ve.stateNode,be=Ve.memoizedProps.style;var lt=be!=null&&be.hasOwnProperty("display")?be.display:null;oe.style.display=lt==null||typeof lt=="boolean"?"":(""+lt).trim()}}catch(Qt){mn(Ve,Ve.return,Qt)}}}else if(a.tag===6){if(v===null){Ve=a;try{Ve.stateNode.nodeValue=Oe?"":Ve.memoizedProps}catch(Qt){mn(Ve,Ve.return,Qt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===o)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;v===a&&(v=null),a=a.return}v===a&&(v=null),a.sibling.return=a.return,a=a.sibling}k&4&&(k=o.updateQueue,k!==null&&(v=k.retryQueue,v!==null&&(k.retryQueue=null,By(o,v))));break;case 19:$i(a,o),Wi(o),k&4&&(k=o.updateQueue,k!==null&&(o.updateQueue=null,By(o,k)));break;case 21:break;default:$i(a,o),Wi(o)}}function Wi(o){var a=o.flags;if(a&2){try{if(o.tag!==27){e:{for(var v=o.return;v!==null;){if(sw(v)){var k=v;break e}v=v.return}throw Error(i(160))}switch(k.tag){case 27:var B=k.stateNode,W=Ly(o);vf(o,W,B);break;case 5:var oe=k.stateNode;k.flags&32&&(ti(oe,""),k.flags&=-33);var be=Ly(o);vf(o,be,oe);break;case 3:case 4:var Oe=k.stateNode.containerInfo,Ve=Ly(o);Ny(o,Ve,Oe);break;default:throw Error(i(161))}}}catch(ct){mn(o,o.return,ct)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function hw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var a=o;hw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),o=o.sibling}}function ca(o,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)aw(o,a.alternate,a),a=a.sibling}function Zu(o){for(o=o.child;o!==null;){var a=o;switch(a.tag){case 0:case 11:case 14:case 15:Ya(4,a,a.return),Zu(a);break;case 1:Ti(a,a.return);var v=a.stateNode;typeof v.componentWillUnmount=="function"&&tw(a,a.return,v),Zu(a);break;case 26:case 27:case 5:Ti(a,a.return),Zu(a);break;case 22:Ti(a,a.return),a.memoizedState===null&&Zu(a);break;default:Zu(a)}o=o.sibling}}function Xa(o,a,v){for(v=v&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var k=a.alternate,B=o,W=a,oe=W.flags;switch(W.tag){case 0:case 11:case 15:Xa(B,W,v),Od(4,W);break;case 1:if(Xa(B,W,v),k=W,B=k.stateNode,typeof B.componentDidMount=="function")try{B.componentDidMount()}catch(Ve){mn(k,k.return,Ve)}if(k=W,B=k.updateQueue,B!==null){var be=k.stateNode;try{var Oe=B.shared.hiddenCallbacks;if(Oe!==null)for(B.shared.hiddenCallbacks=null,B=0;B<Oe.length;B++)Z_(Oe[B],be)}catch(Ve){mn(k,k.return,Ve)}}v&&oe&64&&ew(W),ou(W,W.return);break;case 26:case 27:case 5:Xa(B,W,v),v&&k===null&&oe&4&&rw(W),ou(W,W.return);break;case 12:Xa(B,W,v);break;case 13:Xa(B,W,v),v&&oe&4&&cw(B,W);break;case 22:W.memoizedState===null&&Xa(B,W,v),ou(W,W.return);break;default:Xa(B,W,v)}a=a.sibling}}function Fy(o,a){var v=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(v=o.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==v&&(o!=null&&o.refCount++,v!=null&&Sd(v))}function Vy(o,a){o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Sd(o))}function Ka(o,a,v,k){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fw(o,a,v,k),a=a.sibling}function fw(o,a,v,k){var B=a.flags;switch(a.tag){case 0:case 11:case 15:Ka(o,a,v,k),B&2048&&Od(9,a);break;case 3:Ka(o,a,v,k),B&2048&&(o=null,a.alternate!==null&&(o=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==o&&(a.refCount++,o!=null&&Sd(o)));break;case 12:if(B&2048){Ka(o,a,v,k),o=a.stateNode;try{var W=a.memoizedProps,oe=W.id,be=W.onPostCommit;typeof be=="function"&&be(oe,a.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Oe){mn(a,a.return,Oe)}}else Ka(o,a,v,k);break;case 23:break;case 22:W=a.stateNode,a.memoizedState!==null?W._visibility&4?Ka(o,a,v,k):Dd(o,a):W._visibility&4?Ka(o,a,v,k):(W._visibility|=4,Ju(o,a,v,k,(a.subtreeFlags&10256)!==0)),B&2048&&Fy(a.alternate,a);break;case 24:Ka(o,a,v,k),B&2048&&Vy(a.alternate,a);break;default:Ka(o,a,v,k)}}function Ju(o,a,v,k,B){for(B=B&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var W=o,oe=a,be=v,Oe=k,Ve=oe.flags;switch(oe.tag){case 0:case 11:case 15:Ju(W,oe,be,Oe,B),Od(8,oe);break;case 23:break;case 22:var ct=oe.stateNode;oe.memoizedState!==null?ct._visibility&4?Ju(W,oe,be,Oe,B):Dd(W,oe):(ct._visibility|=4,Ju(W,oe,be,Oe,B)),B&&Ve&2048&&Fy(oe.alternate,oe);break;case 24:Ju(W,oe,be,Oe,B),B&&Ve&2048&&Vy(oe.alternate,oe);break;default:Ju(W,oe,be,Oe,B)}a=a.sibling}}function Dd(o,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var v=o,k=a,B=k.flags;switch(k.tag){case 22:Dd(v,k),B&2048&&Fy(k.alternate,k);break;case 24:Dd(v,k),B&2048&&Vy(k.alternate,k);break;default:Dd(v,k)}a=a.sibling}}var Pd=8192;function ec(o){if(o.subtreeFlags&Pd)for(o=o.child;o!==null;)pw(o),o=o.sibling}function pw(o){switch(o.tag){case 26:ec(o),o.flags&Pd&&o.memoizedState!==null&&Xk(co,o.memoizedState,o.memoizedProps);break;case 5:ec(o);break;case 3:case 4:var a=co;co=Of(o.stateNode.containerInfo),ec(o),co=a;break;case 22:o.memoizedState===null&&(a=o.alternate,a!==null&&a.memoizedState!==null?(a=Pd,Pd=16777216,ec(o),Pd=a):ec(o));break;default:ec(o)}}function mw(o){var a=o.alternate;if(a!==null&&(o=a.child,o!==null)){a.child=null;do a=o.sibling,o.sibling=null,o=a;while(o!==null)}}function Ld(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var v=0;v<a.length;v++){var k=a[v];vs=k,gw(k,o)}mw(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)yw(o),o=o.sibling}function yw(o){switch(o.tag){case 0:case 11:case 15:Ld(o),o.flags&2048&&Ya(9,o,o.return);break;case 3:Ld(o);break;case 12:Ld(o);break;case 22:var a=o.stateNode;o.memoizedState!==null&&a._visibility&4&&(o.return===null||o.return.tag!==13)?(a._visibility&=-5,bf(o)):Ld(o);break;default:Ld(o)}}function bf(o){var a=o.deletions;if((o.flags&16)!==0){if(a!==null)for(var v=0;v<a.length;v++){var k=a[v];vs=k,gw(k,o)}mw(o)}for(o=o.child;o!==null;){switch(a=o,a.tag){case 0:case 11:case 15:Ya(8,a,a.return),bf(a);break;case 22:v=a.stateNode,v._visibility&4&&(v._visibility&=-5,bf(a));break;default:bf(a)}o=o.sibling}}function gw(o,a){for(;vs!==null;){var v=vs;switch(v.tag){case 0:case 11:case 15:Ya(8,v,a);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var k=v.memoizedState.cachePool.pool;k!=null&&k.refCount++}break;case 24:Sd(v.memoizedState.cache)}if(k=v.child,k!==null)k.return=v,vs=k;else e:for(v=o;vs!==null;){k=vs;var B=k.sibling,W=k.return;if(lw(k),k===v){vs=null;break e}if(B!==null){B.return=W,vs=B;break e}vs=W}}}function lk(o,a,v,k){this.tag=o,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(o,a,v,k){return new lk(o,a,v,k)}function zy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Qa(o,a){var v=o.alternate;return v===null?(v=Yi(o.tag,a,o.key,o.mode),v.elementType=o.elementType,v.type=o.type,v.stateNode=o.stateNode,v.alternate=o,o.alternate=v):(v.pendingProps=a,v.type=o.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=o.flags&31457280,v.childLanes=o.childLanes,v.lanes=o.lanes,v.child=o.child,v.memoizedProps=o.memoizedProps,v.memoizedState=o.memoizedState,v.updateQueue=o.updateQueue,a=o.dependencies,v.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},v.sibling=o.sibling,v.index=o.index,v.ref=o.ref,v.refCleanup=o.refCleanup,v}function vw(o,a){o.flags&=31457282;var v=o.alternate;return v===null?(o.childLanes=0,o.lanes=a,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=v.childLanes,o.lanes=v.lanes,o.child=v.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=v.memoizedProps,o.memoizedState=v.memoizedState,o.updateQueue=v.updateQueue,o.type=v.type,a=v.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),o}function _f(o,a,v,k,B,W){var oe=0;if(k=o,typeof o=="function")zy(o)&&(oe=1);else if(typeof o=="string")oe=Wk(o,v,ye.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case C:return au(v.children,B,W,a);case x:oe=8,B|=24;break;case m:return o=Yi(12,v,a,B|2),o.elementType=m,o.lanes=W,o;case f:return o=Yi(13,v,a,B),o.elementType=f,o.lanes=W,o;case h:return o=Yi(19,v,a,B),o.elementType=h,o.lanes=W,o;case g:return bw(v,B,W,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case d:case T:oe=10;break e;case c:oe=9;break e;case A:oe=11;break e;case p:oe=14;break e;case u:oe=16,k=null;break e}oe=29,v=Error(i(130,o===null?"null":typeof o,"")),k=null}return a=Yi(oe,v,a,B),a.elementType=o,a.type=k,a.lanes=W,a}function au(o,a,v,k){return o=Yi(7,o,k,a),o.lanes=v,o}function bw(o,a,v,k){o=Yi(22,o,k,a),o.elementType=g,o.lanes=v;var B={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var W=B._current;if(W===null)throw Error(i(456));if((B._pendingVisibility&2)===0){var oe=Ba(W,2);oe!==null&&(B._pendingVisibility|=2,oi(oe,W,2))}},attach:function(){var W=B._current;if(W===null)throw Error(i(456));if((B._pendingVisibility&2)!==0){var oe=Ba(W,2);oe!==null&&(B._pendingVisibility&=-3,oi(oe,W,2))}}};return o.stateNode=B,o}function Gy(o,a,v){return o=Yi(6,o,null,a),o.lanes=v,o}function Hy(o,a,v){return a=Yi(4,o.children!==null?o.children:[],o.key,a),a.lanes=v,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function da(o){o.flags|=4}function _w(o,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!sx(a)){if(a=qi.current,a!==null&&((Gr&4194176)===Gr?Ro!==null:(Gr&62914560)!==Gr&&(Gr&536870912)===0||a!==Ro))throw _d=Xm,N1;o.flags|=8192}}function wf(o,a){a!==null&&(o.flags|=4),o.flags&16384&&(a=o.tag!==22?tr():536870912,o.lanes|=a,rc|=a)}function Nd(o,a){if(!Zr)switch(o.tailMode){case"hidden":a=o.tail;for(var v=null;a!==null;)a.alternate!==null&&(v=a),a=a.sibling;v===null?o.tail=null:v.sibling=null;break;case"collapsed":v=o.tail;for(var k=null;v!==null;)v.alternate!==null&&(k=v),v=v.sibling;k===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:k.sibling=null}}function Mn(o){var a=o.alternate!==null&&o.alternate.child===o.child,v=0,k=0;if(a)for(var B=o.child;B!==null;)v|=B.lanes|B.childLanes,k|=B.subtreeFlags&31457280,k|=B.flags&31457280,B.return=o,B=B.sibling;else for(B=o.child;B!==null;)v|=B.lanes|B.childLanes,k|=B.subtreeFlags,k|=B.flags,B.return=o,B=B.sibling;return o.subtreeFlags|=k,o.childLanes=v,a}function uk(o,a,v){var k=a.pendingProps;switch(Wm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(a),null;case 1:return Mn(a),null;case 3:return v=a.stateNode,k=null,o!==null&&(k=o.memoizedState.cache),a.memoizedState.cache!==k&&(a.flags|=2048),aa(hs),Re(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(o===null||o.child===null)&&(yd(a)?da(a):o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,uo!==null&&(Zy(uo),uo=null))),Mn(a),null;case 26:return v=a.memoizedState,o===null?(da(a),v!==null?(Mn(a),_w(a,v)):(Mn(a),a.flags&=-16777217)):v?v!==o.memoizedState?(da(a),Mn(a),_w(a,v)):(Mn(a),a.flags&=-16777217):(o.memoizedProps!==k&&da(a),Mn(a),a.flags&=-16777217),null;case 27:Ae(a),v=le.current;var B=a.type;if(o!==null&&a.stateNode!=null)o.memoizedProps!==k&&da(a);else{if(!k){if(a.stateNode===null)throw Error(i(166));return Mn(a),null}o=ye.current,yd(a)?P1(a):(o=Kw(B,k,v),a.stateNode=o,da(a))}return Mn(a),null;case 5:if(Ae(a),v=a.type,o!==null&&a.stateNode!=null)o.memoizedProps!==k&&da(a);else{if(!k){if(a.stateNode===null)throw Error(i(166));return Mn(a),null}if(o=ye.current,yd(a))P1(a);else{switch(B=If(le.current),o){case 1:o=B.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:o=B.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":o=B.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":o=B.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":o=B.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof k.is=="string"?B.createElement("select",{is:k.is}):B.createElement("select"),k.multiple?o.multiple=!0:k.size&&(o.size=k.size);break;default:o=typeof k.is=="string"?B.createElement(v,{is:k.is}):B.createElement(v)}}o[Ir]=a,o[Er]=k;e:for(B=a.child;B!==null;){if(B.tag===5||B.tag===6)o.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===a)break e;for(;B.sibling===null;){if(B.return===null||B.return===a)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}a.stateNode=o;e:switch(Os(o,v,k),v){case"button":case"input":case"select":case"textarea":o=!!k.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&da(a)}}return Mn(a),a.flags&=-16777217,null;case 6:if(o&&a.stateNode!=null)o.memoizedProps!==k&&da(a);else{if(typeof k!="string"&&a.stateNode===null)throw Error(i(166));if(o=le.current,yd(a)){if(o=a.stateNode,v=a.memoizedProps,k=null,B=ii,B!==null)switch(B.tag){case 27:case 5:k=B.memoizedProps}o[Ir]=a,o=!!(o.nodeValue===v||k!==null&&k.suppressHydrationWarning===!0||Hw(o.nodeValue,v)),o||Ql(a)}else o=If(o).createTextNode(k),o[Ir]=a,a.stateNode=o}return Mn(a),null;case 13:if(k=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(B=yd(a),k!==null&&k.dehydrated!==null){if(o===null){if(!B)throw Error(i(318));if(B=a.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(i(317));B[Ir]=a}else gd(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mn(a),B=!1}else uo!==null&&(Zy(uo),uo=null),B=!0;if(!B)return a.flags&256?(na(a),a):(na(a),null)}if(na(a),(a.flags&128)!==0)return a.lanes=v,a;if(v=k!==null,o=o!==null&&o.memoizedState!==null,v){k=a.child,B=null,k.alternate!==null&&k.alternate.memoizedState!==null&&k.alternate.memoizedState.cachePool!==null&&(B=k.alternate.memoizedState.cachePool.pool);var W=null;k.memoizedState!==null&&k.memoizedState.cachePool!==null&&(W=k.memoizedState.cachePool.pool),W!==B&&(k.flags|=2048)}return v!==o&&v&&(a.child.flags|=8192),wf(a,a.updateQueue),Mn(a),null;case 4:return Re(),o===null&&ug(a.stateNode.containerInfo),Mn(a),null;case 10:return aa(a.type),Mn(a),null;case 19:if(ie(ds),B=a.memoizedState,B===null)return Mn(a),null;if(k=(a.flags&128)!==0,W=B.rendering,W===null)if(k)Nd(B,!1);else{if(Un!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(W=nf(o),W!==null){for(a.flags|=128,Nd(B,!1),o=W.updateQueue,a.updateQueue=o,wf(a,o),a.subtreeFlags=0,o=v,v=a.child;v!==null;)vw(v,o),v=v.sibling;return he(ds,ds.current&1|2),a.child}o=o.sibling}B.tail!==null&&_t()>xf&&(a.flags|=128,k=!0,Nd(B,!1),a.lanes=4194304)}else{if(!k)if(o=nf(W),o!==null){if(a.flags|=128,k=!0,o=o.updateQueue,a.updateQueue=o,wf(a,o),Nd(B,!0),B.tail===null&&B.tailMode==="hidden"&&!W.alternate&&!Zr)return Mn(a),null}else 2*_t()-B.renderingStartTime>xf&&v!==536870912&&(a.flags|=128,k=!0,Nd(B,!1),a.lanes=4194304);B.isBackwards?(W.sibling=a.child,a.child=W):(o=B.last,o!==null?o.sibling=W:a.child=W,B.last=W)}return B.tail!==null?(a=B.tail,B.rendering=a,B.tail=a.sibling,B.renderingStartTime=_t(),a.sibling=null,o=ds.current,he(ds,k?o&1|2:o&1),a):(Mn(a),null);case 22:case 23:return na(a),Qm(),k=a.memoizedState!==null,o!==null?o.memoizedState!==null!==k&&(a.flags|=8192):k&&(a.flags|=8192),k?(v&536870912)!==0&&(a.flags&128)===0&&(Mn(a),a.subtreeFlags&6&&(a.flags|=8192)):Mn(a),v=a.updateQueue,v!==null&&wf(a,v.retryQueue),v=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(v=o.memoizedState.cachePool.pool),k=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(k=a.memoizedState.cachePool.pool),k!==v&&(a.flags|=2048),o!==null&&ie(Jl),null;case 24:return v=null,o!==null&&(v=o.memoizedState.cache),a.memoizedState.cache!==v&&(a.flags|=2048),aa(hs),Mn(a),null;case 25:return null}throw Error(i(156,a.tag))}function ck(o,a){switch(Wm(a),a.tag){case 1:return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return aa(hs),Re(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 26:case 27:case 5:return Ae(a),null;case 13:if(na(a),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(i(340));gd()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return ie(ds),null;case 4:return Re(),null;case 10:return aa(a.type),null;case 22:case 23:return na(a),Qm(),o!==null&&ie(Jl),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 24:return aa(hs),null;case 25:return null;default:return null}}function ww(o,a){switch(Wm(a),a.tag){case 3:aa(hs),Re();break;case 26:case 27:case 5:Ae(a);break;case 4:Re();break;case 13:na(a);break;case 19:ie(ds);break;case 10:aa(a.type);break;case 22:case 23:na(a),Qm(),o!==null&&ie(Jl);break;case 24:aa(hs)}}var dk={getCacheForType:function(o){var a=Fs(hs),v=a.data.get(o);return v===void 0&&(v=o(),a.data.set(o,v)),v}},hk=typeof WeakMap=="function"?WeakMap:Map,kn=0,xn=null,Rr=null,Gr=0,Sn=0,Ci=null,ha=!1,tc=!1,qy=!1,fa=0,Un=0,Za=0,lu=0,$y=0,Xi=0,rc=0,Ud=null,ko=null,Wy=!1,Yy=0,xf=1/0,Sf=null,Ja=null,Ef=!1,uu=null,Bd=0,Xy=0,Ky=null,Fd=0,Qy=null;function Ri(){if((kn&2)!==0&&Gr!==0)return Gr&-Gr;if(M.T!==null){var o=Wu;return o!==0?o:ig()}return hn()}function xw(){Xi===0&&(Xi=(Gr&536870912)===0||Zr?mr():536870912);var o=qi.current;return o!==null&&(o.flags|=32),Xi}function oi(o,a,v){(o===xn&&Sn===2||o.cancelPendingCommit!==null)&&(nc(o,0),pa(o,Gr,Xi,!1)),$t(o,v),((kn&2)===0||o!==xn)&&(o===xn&&((kn&2)===0&&(lu|=v),Un===4&&pa(o,Gr,Xi,!1)),Io(o))}function Sw(o,a,v){if((kn&6)!==0)throw Error(i(327));var k=!v&&(a&60)===0&&(a&o.expiredLanes)===0||Mt(o,a),B=k?mk(o,a):tg(o,a,!0),W=k;do{if(B===0){tc&&!k&&pa(o,a,0,!1);break}else if(B===6)pa(o,a,0,!ha);else{if(v=o.current.alternate,W&&!fk(v)){B=tg(o,a,!1),W=!1;continue}if(B===2){if(W=a,o.errorRecoveryDisabledLanes&W)var oe=0;else oe=o.pendingLanes&-536870913,oe=oe!==0?oe:oe&536870912?536870912:0;if(oe!==0){a=oe;e:{var be=o;B=Ud;var Oe=be.current.memoizedState.isDehydrated;if(Oe&&(nc(be,oe).flags|=256),oe=tg(be,oe,!1),oe!==2){if(qy&&!Oe){be.errorRecoveryDisabledLanes|=W,lu|=W,B=4;break e}W=ko,ko=B,W!==null&&Zy(W)}B=oe}if(W=!1,B!==2)continue}}if(B===1){nc(o,0),pa(o,a,0,!0);break}e:{switch(k=o,B){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){pa(k,a,Xi,!ha);break e}break;case 2:ko=null;break;case 3:case 5:break;default:throw Error(i(329))}if(k.finishedWork=v,k.finishedLanes=a,(a&62914560)===a&&(W=Yy+300-_t(),10<W)){if(pa(k,a,Xi,!ha),gt(k,0)!==0)break e;k.timeoutHandle=Ww(Ew.bind(null,k,v,ko,Sf,Wy,a,Xi,lu,rc,ha,2,-0,0),W);break e}Ew(k,v,ko,Sf,Wy,a,Xi,lu,rc,ha,0,-0,0)}}break}while(!0);Io(o)}function Zy(o){ko===null?ko=o:ko.push.apply(ko,o)}function Ew(o,a,v,k,B,W,oe,be,Oe,Ve,ct,St,nt){var lt=a.subtreeFlags;if((lt&8192||(lt&16785408)===16785408)&&($d={stylesheets:null,count:0,unsuspend:Yk},pw(a),a=Kk(),a!==null)){o.cancelPendingCommit=a(kw.bind(null,o,v,k,B,oe,be,Oe,1,St,nt)),pa(o,W,oe,!Ve);return}kw(o,v,k,B,oe,be,Oe,ct,St,nt)}function fk(o){for(var a=o;;){var v=a.tag;if((v===0||v===11||v===15)&&a.flags&16384&&(v=a.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var k=0;k<v.length;k++){var B=v[k],W=B.getSnapshot;B=B.value;try{if(!Qe(W(),B))return!1}catch{return!1}}if(v=a.child,a.subtreeFlags&16384&&v!==null)v.return=a,a=v;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function pa(o,a,v,k){a&=~$y,a&=~lu,o.suspendedLanes|=a,o.pingedLanes&=~a,k&&(o.warmLanes|=a),k=o.expirationTimes;for(var B=a;0<B;){var W=31-pe(B),oe=1<<W;k[W]=-1,B&=~oe}v!==0&&Cr(o,v,a)}function jf(){return(kn&6)===0?(Vd(0),!1):!0}function Jy(){if(Rr!==null){if(Sn===0)var o=Rr.return;else o=Rr,oa=su=null,iy(o),qu=null,wd=0,o=Rr;for(;o!==null;)ww(o.alternate,o),o=o.return;Rr=null}}function nc(o,a){o.finishedWork=null,o.finishedLanes=0;var v=o.timeoutHandle;v!==-1&&(o.timeoutHandle=-1,Ik(v)),v=o.cancelPendingCommit,v!==null&&(o.cancelPendingCommit=null,v()),Jy(),xn=o,Rr=v=Qa(o.current,null),Gr=a,Sn=0,Ci=null,ha=!1,tc=Mt(o,a),qy=!1,rc=Xi=$y=lu=Za=Un=0,ko=Ud=null,Wy=!1,(a&8)!==0&&(a|=a&32);var k=o.entangledLanes;if(k!==0)for(o=o.entanglements,k&=a;0<k;){var B=31-pe(k),W=1<<B;a|=o[B],k&=~W}return fa=a,Yh(),v}function jw(o,a){Sr=null,M.H=Mo,a===bd?(a=F1(),Sn=3):a===N1?(a=F1(),Sn=4):Sn=a===U_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ci=a,Rr===null&&(Un=1,mf(o,zi(a,o.current)))}function Tw(){var o=M.H;return M.H=Mo,o===null?Mo:o}function Aw(){var o=M.A;return M.A=dk,o}function eg(){Un=4,ha||(Gr&4194176)!==Gr&&qi.current!==null||(tc=!0),(Za&134217727)===0&&(lu&134217727)===0||xn===null||pa(xn,Gr,Xi,!1)}function tg(o,a,v){var k=kn;kn|=2;var B=Tw(),W=Aw();(xn!==o||Gr!==a)&&(Sf=null,nc(o,a)),a=!1;var oe=Un;e:do try{if(Sn!==0&&Rr!==null){var be=Rr,Oe=Ci;switch(Sn){case 8:Jy(),oe=6;break e;case 3:case 2:case 6:qi.current===null&&(a=!0);var Ve=Sn;if(Sn=0,Ci=null,sc(o,be,Oe,Ve),v&&tc){oe=0;break e}break;default:Ve=Sn,Sn=0,Ci=null,sc(o,be,Oe,Ve)}}pk(),oe=Un;break}catch(ct){jw(o,ct)}while(!0);return a&&o.shellSuspendCounter++,oa=su=null,kn=k,M.H=B,M.A=W,Rr===null&&(xn=null,Gr=0,Yh()),oe}function pk(){for(;Rr!==null;)Cw(Rr)}function mk(o,a){var v=kn;kn|=2;var k=Tw(),B=Aw();xn!==o||Gr!==a?(Sf=null,xf=_t()+500,nc(o,a)):tc=Mt(o,a);e:do try{if(Sn!==0&&Rr!==null){a=Rr;var W=Ci;t:switch(Sn){case 1:Sn=0,Ci=null,sc(o,a,W,1);break;case 2:if(U1(W)){Sn=0,Ci=null,Rw(a);break}a=function(){Sn===2&&xn===o&&(Sn=7),Io(o)},W.then(a,a);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:U1(W)?(Sn=0,Ci=null,Rw(a)):(Sn=0,Ci=null,sc(o,a,W,7));break;case 5:var oe=null;switch(Rr.tag){case 26:oe=Rr.memoizedState;case 5:case 27:var be=Rr;if(!oe||sx(oe)){Sn=0,Ci=null;var Oe=be.sibling;if(Oe!==null)Rr=Oe;else{var Ve=be.return;Ve!==null?(Rr=Ve,Tf(Ve)):Rr=null}break t}}Sn=0,Ci=null,sc(o,a,W,5);break;case 6:Sn=0,Ci=null,sc(o,a,W,6);break;case 8:Jy(),Un=6;break e;default:throw Error(i(462))}}yk();break}catch(ct){jw(o,ct)}while(!0);return oa=su=null,M.H=k,M.A=B,kn=v,Rr!==null?0:(xn=null,Gr=0,Yh(),Un)}function yk(){for(;Rr!==null&&!at();)Cw(Rr)}function Cw(o){var a=K_(o.alternate,o,fa);o.memoizedProps=o.pendingProps,a===null?Tf(o):Rr=a}function Rw(o){var a=o,v=a.alternate;switch(a.tag){case 15:case 0:a=H_(v,a,a.pendingProps,a.type,void 0,Gr);break;case 11:a=H_(v,a,a.pendingProps,a.type.render,a.ref,Gr);break;case 5:iy(a);default:ww(v,a),a=Rr=vw(a,fa),a=K_(v,a,fa)}o.memoizedProps=o.pendingProps,a===null?Tf(o):Rr=a}function sc(o,a,v,k){oa=su=null,iy(a),qu=null,wd=0;var B=a.return;try{if(sk(o,B,a,v,Gr)){Un=1,mf(o,zi(v,o.current)),Rr=null;return}}catch(W){if(B!==null)throw Rr=B,W;Un=1,mf(o,zi(v,o.current)),Rr=null;return}a.flags&32768?(Zr||k===1?o=!0:tc||(Gr&536870912)!==0?o=!1:(ha=o=!0,(k===2||k===3||k===6)&&(k=qi.current,k!==null&&k.tag===13&&(k.flags|=16384))),Mw(a,o)):Tf(a)}function Tf(o){var a=o;do{if((a.flags&32768)!==0){Mw(a,ha);return}o=a.return;var v=uk(a.alternate,a,fa);if(v!==null){Rr=v;return}if(a=a.sibling,a!==null){Rr=a;return}Rr=a=o}while(a!==null);Un===0&&(Un=5)}function Mw(o,a){do{var v=ck(o.alternate,o);if(v!==null){v.flags&=32767,Rr=v;return}if(v=o.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!a&&(o=o.sibling,o!==null)){Rr=o;return}Rr=o=v}while(o!==null);Un=6,Rr=null}function kw(o,a,v,k,B,W,oe,be,Oe,Ve){var ct=M.T,St=ae.p;try{ae.p=2,M.T=null,gk(o,a,v,k,St,B,W,oe,be,Oe,Ve)}finally{M.T=ct,ae.p=St}}function gk(o,a,v,k,B,W,oe,be){do ic();while(uu!==null);if((kn&6)!==0)throw Error(i(327));var Oe=o.finishedWork;if(k=o.finishedLanes,Oe===null)return null;if(o.finishedWork=null,o.finishedLanes=0,Oe===o.current)throw Error(i(177));o.callbackNode=null,o.callbackPriority=0,o.cancelPendingCommit=null;var Ve=Oe.lanes|Oe.childLanes;if(Ve|=Hm,kr(o,k,Ve,W,oe,be),o===xn&&(Rr=xn=null,Gr=0),(Oe.subtreeFlags&10256)===0&&(Oe.flags&10256)===0||Ef||(Ef=!0,Xy=Ve,Ky=v,wk(We,function(){return ic(),null})),v=(Oe.flags&15990)!==0,(Oe.subtreeFlags&15990)!==0||v?(v=M.T,M.T=null,W=ae.p,ae.p=2,oe=kn,kn|=4,ok(o,Oe),dw(Oe,o),xr(fg,o.containerInfo),Uf=!!hg,fg=hg=null,o.current=Oe,aw(o,Oe.alternate,Oe),jt(),kn=oe,ae.p=W,M.T=v):o.current=Oe,Ef?(Ef=!1,uu=o,Bd=k):Iw(o,Ve),Ve=o.pendingLanes,Ve===0&&(Ja=null),fe(Oe.stateNode),Io(o),a!==null)for(B=o.onRecoverableError,Oe=0;Oe<a.length;Oe++)Ve=a[Oe],B(Ve.value,{componentStack:Ve.stack});return(Bd&3)!==0&&ic(),Ve=o.pendingLanes,(k&4194218)!==0&&(Ve&42)!==0?o===Qy?Fd++:(Fd=0,Qy=o):Fd=0,Vd(0),null}function Iw(o,a){(o.pooledCacheLanes&=a)===0&&(a=o.pooledCache,a!=null&&(o.pooledCache=null,Sd(a)))}function ic(){if(uu!==null){var o=uu,a=Xy;Xy=0;var v=Fr(Bd),k=M.T,B=ae.p;try{if(ae.p=32>v?32:v,M.T=null,uu===null)var W=!1;else{v=Ky,Ky=null;var oe=uu,be=Bd;if(uu=null,Bd=0,(kn&6)!==0)throw Error(i(331));var Oe=kn;if(kn|=4,yw(oe.current),fw(oe,oe.current,be,v),kn=Oe,Vd(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ot,oe)}catch{}W=!0}return W}finally{ae.p=B,M.T=k,Iw(o,a)}}return!1}function Ow(o,a,v){a=zi(v,a),a=by(o.stateNode,a,2),o=Wa(o,a,2),o!==null&&($t(o,2),Io(o))}function mn(o,a,v){if(o.tag===3)Ow(o,o,v);else for(;a!==null;){if(a.tag===3){Ow(a,o,v);break}else if(a.tag===1){var k=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Ja===null||!Ja.has(k))){o=zi(v,o),v=L_(2),k=Wa(a,v,2),k!==null&&(N_(v,k,a,o),$t(k,2),Io(k));break}}a=a.return}}function rg(o,a,v){var k=o.pingCache;if(k===null){k=o.pingCache=new hk;var B=new Set;k.set(a,B)}else B=k.get(a),B===void 0&&(B=new Set,k.set(a,B));B.has(v)||(qy=!0,B.add(v),o=vk.bind(null,o,a,v),a.then(o,o))}function vk(o,a,v){var k=o.pingCache;k!==null&&k.delete(a),o.pingedLanes|=o.suspendedLanes&v,o.warmLanes&=~v,xn===o&&(Gr&v)===v&&(Un===4||Un===3&&(Gr&62914560)===Gr&&300>_t()-Yy?(kn&2)===0&&nc(o,0):$y|=v,rc===Gr&&(rc=0)),Io(o)}function Dw(o,a){a===0&&(a=tr()),o=Ba(o,a),o!==null&&($t(o,a),Io(o))}function bk(o){var a=o.memoizedState,v=0;a!==null&&(v=a.retryLane),Dw(o,v)}function _k(o,a){var v=0;switch(o.tag){case 13:var k=o.stateNode,B=o.memoizedState;B!==null&&(v=B.retryLane);break;case 19:k=o.stateNode;break;case 22:k=o.stateNode._retryCache;break;default:throw Error(i(314))}k!==null&&k.delete(a),Dw(o,v)}function wk(o,a){return et(o,a)}var Af=null,oc=null,ng=!1,Cf=!1,sg=!1,cu=0;function Io(o){o!==oc&&o.next===null&&(oc===null?Af=oc=o:oc=oc.next=o),Cf=!0,ng||(ng=!0,Sk(xk))}function Vd(o,a){if(!sg&&Cf){sg=!0;do for(var v=!1,k=Af;k!==null;){if(o!==0){var B=k.pendingLanes;if(B===0)var W=0;else{var oe=k.suspendedLanes,be=k.pingedLanes;W=(1<<31-pe(42|o)+1)-1,W&=B&~(oe&~be),W=W&201326677?W&201326677|1:W?W|2:0}W!==0&&(v=!0,Nw(k,W))}else W=Gr,W=gt(k,k===xn?W:0),(W&3)===0||Mt(k,W)||(v=!0,Nw(k,W));k=k.next}while(v);sg=!1}}function xk(){Cf=ng=!1;var o=0;cu!==0&&(kk()&&(o=cu),cu=0);for(var a=_t(),v=null,k=Af;k!==null;){var B=k.next,W=Pw(k,a);W===0?(k.next=null,v===null?Af=B:v.next=B,B===null&&(oc=v)):(v=k,(o!==0||(W&3)!==0)&&(Cf=!0)),k=B}Vd(o)}function Pw(o,a){for(var v=o.suspendedLanes,k=o.pingedLanes,B=o.expirationTimes,W=o.pendingLanes&-62914561;0<W;){var oe=31-pe(W),be=1<<oe,Oe=B[oe];Oe===-1?((be&v)===0||(be&k)!==0)&&(B[oe]=sr(be,a)):Oe<=a&&(o.expiredLanes|=be),W&=~be}if(a=xn,v=Gr,v=gt(o,o===a?v:0),k=o.callbackNode,v===0||o===a&&Sn===2||o.cancelPendingCommit!==null)return k!==null&&k!==null&&$e(k),o.callbackNode=null,o.callbackPriority=0;if((v&3)===0||Mt(o,v)){if(a=v&-v,a===o.callbackPriority)return a;switch(k!==null&&$e(k),Fr(v)){case 2:case 8:v=je;break;case 32:v=We;break;case 268435456:v=ft;break;default:v=We}return k=Lw.bind(null,o),v=et(v,k),o.callbackPriority=a,o.callbackNode=v,a}return k!==null&&k!==null&&$e(k),o.callbackPriority=2,o.callbackNode=null,2}function Lw(o,a){var v=o.callbackNode;if(ic()&&o.callbackNode!==v)return null;var k=Gr;return k=gt(o,o===xn?k:0),k===0?null:(Sw(o,k,a),Pw(o,_t()),o.callbackNode!=null&&o.callbackNode===v?Lw.bind(null,o):null)}function Nw(o,a){if(ic())return null;Sw(o,a,!0)}function Sk(o){Ok(function(){(kn&6)!==0?et(Tt,o):o()})}function ig(){return cu===0&&(cu=mr()),cu}function Uw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:_i(""+o)}function Bw(o,a){var v=a.ownerDocument.createElement("input");return v.name=a.name,v.value=a.value,o.id&&v.setAttribute("form",o.id),a.parentNode.insertBefore(v,a),o=new FormData(o),v.parentNode.removeChild(v),o}function Ek(o,a,v,k,B){if(a==="submit"&&v&&v.stateNode===B){var W=Uw((B[Er]||null).action),oe=k.submitter;oe&&(a=(a=oe[Er]||null)?Uw(a.formAction):oe.getAttribute("formAction"),a!==null&&(W=a,oe=null));var be=new Da("action","action",null,k,B);o.push({event:be,listeners:[{instance:null,listener:function(){if(k.defaultPrevented){if(cu!==0){var Oe=oe?Bw(B,oe):new FormData(B);py(v,{pending:!0,data:Oe,method:B.method,action:W},null,Oe)}}else typeof W=="function"&&(be.preventDefault(),Oe=oe?Bw(B,oe):new FormData(B),py(v,{pending:!0,data:Oe,method:B.method,action:W},W,Oe))},currentTarget:B}]})}}for(var og=0;og<k1.length;og++){var ag=k1[og],jk=ag.toLowerCase(),Tk=ag[0].toUpperCase()+ag.slice(1);lo(jk,"on"+Tk)}lo(cs,"onAnimationEnd"),lo(un,"onAnimationIteration"),lo(Ln,"onAnimationStart"),lo("dblclick","onDoubleClick"),lo("focusin","onFocus"),lo("focusout","onBlur"),lo(Wl,"onTransitionRun"),lo(Yl,"onTransitionStart"),lo(qM,"onTransitionCancel"),lo(R1,"onTransitionEnd"),Rt("onMouseEnter",["mouseout","mouseover"]),Rt("onMouseLeave",["mouseout","mouseover"]),Rt("onPointerEnter",["pointerout","pointerover"]),Rt("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ak=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zd));function Fw(o,a){a=(a&4)!==0;for(var v=0;v<o.length;v++){var k=o[v],B=k.event;k=k.listeners;e:{var W=void 0;if(a)for(var oe=k.length-1;0<=oe;oe--){var be=k[oe],Oe=be.instance,Ve=be.currentTarget;if(be=be.listener,Oe!==W&&B.isPropagationStopped())break e;W=be,B.currentTarget=Ve;try{W(B)}catch(ct){pf(ct)}B.currentTarget=null,W=Oe}else for(oe=0;oe<k.length;oe++){if(be=k[oe],Oe=be.instance,Ve=be.currentTarget,be=be.listener,Oe!==W&&B.isPropagationStopped())break e;W=be,B.currentTarget=Ve;try{W(B)}catch(ct){pf(ct)}B.currentTarget=null,W=Oe}}}}function Ur(o,a){var v=a[Oi];v===void 0&&(v=a[Oi]=new Set);var k=o+"__bubble";v.has(k)||(Vw(a,o,2,!1),v.add(k))}function lg(o,a,v){var k=0;a&&(k|=4),Vw(v,o,k,a)}var Rf="_reactListening"+Math.random().toString(36).slice(2);function ug(o){if(!o[Rf]){o[Rf]=!0,Wr.forEach(function(v){v!=="selectionchange"&&(Ak.has(v)||lg(v,!1,o),lg(v,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Rf]||(a[Rf]=!0,lg("selectionchange",!1,a))}}function Vw(o,a,v,k){switch(cx(a)){case 2:var B=Jk;break;case 8:B=e3;break;default:B=xg}v=B.bind(null,a,v,o),B=void 0,!fi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(B=!0),k?B!==void 0?o.addEventListener(a,v,{capture:!0,passive:B}):o.addEventListener(a,v,!0):B!==void 0?o.addEventListener(a,v,{passive:B}):o.addEventListener(a,v,!1)}function cg(o,a,v,k,B){var W=k;if((a&1)===0&&(a&2)===0&&k!==null)e:for(;;){if(k===null)return;var oe=k.tag;if(oe===3||oe===4){var be=k.stateNode.containerInfo;if(be===B||be.nodeType===8&&be.parentNode===B)break;if(oe===4)for(oe=k.return;oe!==null;){var Oe=oe.tag;if((Oe===3||Oe===4)&&(Oe=oe.stateNode.containerInfo,Oe===B||Oe.nodeType===8&&Oe.parentNode===B))return;oe=oe.return}for(;be!==null;){if(oe=vt(be),oe===null)return;if(Oe=oe.tag,Oe===5||Oe===6||Oe===26||Oe===27){k=W=oe;continue e}be=be.parentNode}}k=k.return}oo(function(){var Ve=W,ct=io(v),St=[];e:{var nt=M1.get(o);if(nt!==void 0){var lt=Da,Qt=o;switch(o){case"keypress":if(Ni(v)===0)break e;case"keydown":case"keyup":lt=Jo;break;case"focusin":Qt="focus",lt=Xo;break;case"focusout":Qt="blur",lt=Xo;break;case"beforeblur":case"afterblur":lt=Xo;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=Bi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=ea;break;case cs:case un:case Ln:lt=Ko;break;case R1:lt=ql;break;case"scroll":case"scrollend":lt=ni;break;case"wheel":lt=si;break;case"copy":case"cut":case"paste":lt=Qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=Na;break;case"toggle":case"beforetoggle":lt=Fu}var ur=(a&4)!==0,Bn=!ur&&(o==="scroll"||o==="scrollend"),qe=ur?nt!==null?nt+"Capture":null:nt;ur=[];for(var Fe=Ve,Xe;Fe!==null;){var yt=Fe;if(Xe=yt.stateNode,yt=yt.tag,yt!==5&&yt!==26&&yt!==27||Xe===null||qe===null||(yt=So(Fe,qe),yt!=null&&ur.push(Gd(Fe,yt,Xe))),Bn)break;Fe=Fe.return}0<ur.length&&(nt=new lt(nt,Qt,null,v,ct),St.push({event:nt,listeners:ur}))}}if((a&7)===0){e:{if(nt=o==="mouseover"||o==="pointerover",lt=o==="mouseout"||o==="pointerout",nt&&v!==ri&&(Qt=v.relatedTarget||v.fromElement)&&(vt(Qt)||Qt[jr]))break e;if((lt||nt)&&(nt=ct.window===ct?ct:(nt=ct.ownerDocument)?nt.defaultView||nt.parentWindow:window,lt?(Qt=v.relatedTarget||v.toElement,lt=Ve,Qt=Qt?vt(Qt):null,Qt!==null&&(Bn=q(Qt),ur=Qt.tag,Qt!==Bn||ur!==5&&ur!==27&&ur!==6)&&(Qt=null)):(lt=null,Qt=Ve),lt!==Qt)){if(ur=ys,yt="onMouseLeave",qe="onMouseEnter",Fe="mouse",(o==="pointerout"||o==="pointerover")&&(ur=Na,yt="onPointerLeave",qe="onPointerEnter",Fe="pointer"),Bn=lt==null?nt:pt(lt),Xe=Qt==null?nt:pt(Qt),nt=new ur(yt,Fe+"leave",lt,v,ct),nt.target=Bn,nt.relatedTarget=Xe,yt=null,vt(ct)===Ve&&(ur=new ur(qe,Fe+"enter",Qt,v,ct),ur.target=Xe,ur.relatedTarget=Bn,yt=ur),Bn=yt,lt&&Qt)t:{for(ur=lt,qe=Qt,Fe=0,Xe=ur;Xe;Xe=ac(Xe))Fe++;for(Xe=0,yt=qe;yt;yt=ac(yt))Xe++;for(;0<Fe-Xe;)ur=ac(ur),Fe--;for(;0<Xe-Fe;)qe=ac(qe),Xe--;for(;Fe--;){if(ur===qe||qe!==null&&ur===qe.alternate)break t;ur=ac(ur),qe=ac(qe)}ur=null}else ur=null;lt!==null&&zw(St,nt,lt,ur,!1),Qt!==null&&Bn!==null&&zw(St,Bn,Qt,ur,!0)}}e:{if(nt=Ve?pt(Ve):window,lt=nt.nodeName&&nt.nodeName.toLowerCase(),lt==="select"||lt==="input"&&nt.type==="file")var Wt=K;else if(br(nt))if(ee)Wt=xt;else{Wt=He;var Tr=ze}else lt=nt.nodeName,!lt||lt.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?Ve&&ka(Ve.elementType)&&(Wt=K):Wt=Ie;if(Wt&&(Wt=Wt(o,Ve))){ji(St,Wt,v,ct);break e}Tr&&Tr(o,nt,Ve),o==="focusout"&&Ve&&nt.type==="number"&&Ve.memoizedProps.value!=null&&Ra(nt,"number",nt.value)}switch(Tr=Ve?pt(Ve):window,o){case"focusin":(br(Tr)||Tr.contentEditable==="true")&&(tn=Tr,on=Ve,Nr=null);break;case"focusout":Nr=on=tn=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,Rn(St,v,ct);break;case"selectionchange":if(en)break;case"keydown":case"keyup":Rn(St,v,ct)}var Zt;if(Ms)e:{switch(o){case"compositionstart":var rr="onCompositionStart";break e;case"compositionend":rr="onCompositionEnd";break e;case"compositionupdate":rr="onCompositionUpdate";break e}rr=void 0}else Or?it(o,v)&&(rr="onCompositionEnd"):o==="keydown"&&v.keyCode===229&&(rr="onCompositionStart");rr&&(se&&v.locale!=="ko"&&(Or||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&Or&&(Zt=Oa()):(wi=ct,Eo="value"in wi?wi.value:wi.textContent,Or=!0)),Tr=Mf(Ve,rr),0<Tr.length&&(rr=new Zo(rr,o,null,v,ct),St.push({event:rr,listeners:Tr}),Zt?rr.data=Zt:(Zt=kt(v),Zt!==null&&(rr.data=Zt)))),(Zt=J?Vn(o,v):Dr(o,v))&&(rr=Mf(Ve,"onBeforeInput"),0<rr.length&&(Tr=new Zo("onBeforeInput","beforeinput",null,v,ct),St.push({event:Tr,listeners:rr}),Tr.data=Zt)),Ek(St,o,Ve,v,ct)}Fw(St,a)})}function Gd(o,a,v){return{instance:o,listener:a,currentTarget:v}}function Mf(o,a){for(var v=a+"Capture",k=[];o!==null;){var B=o,W=B.stateNode;B=B.tag,B!==5&&B!==26&&B!==27||W===null||(B=So(o,v),B!=null&&k.unshift(Gd(o,B,W)),B=So(o,a),B!=null&&k.push(Gd(o,B,W))),o=o.return}return k}function ac(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function zw(o,a,v,k,B){for(var W=a._reactName,oe=[];v!==null&&v!==k;){var be=v,Oe=be.alternate,Ve=be.stateNode;if(be=be.tag,Oe!==null&&Oe===k)break;be!==5&&be!==26&&be!==27||Ve===null||(Oe=Ve,B?(Ve=So(v,W),Ve!=null&&oe.unshift(Gd(v,Ve,Oe))):B||(Ve=So(v,W),Ve!=null&&oe.push(Gd(v,Ve,Oe)))),v=v.return}oe.length!==0&&o.push({event:a,listeners:oe})}var Ck=/\r\n?/g,Rk=/\u0000|\uFFFD/g;function Gw(o){return(typeof o=="string"?o:""+o).replace(Ck,`
`).replace(Rk,"")}function Hw(o,a){return a=Gw(a),Gw(o)===a}function kf(){}function dn(o,a,v,k,B,W){switch(v){case"children":typeof k=="string"?a==="body"||a==="textarea"&&k===""||ti(o,k):(typeof k=="number"||typeof k=="bigint")&&a!=="body"&&ti(o,""+k);break;case"className":An(o,"class",k);break;case"tabIndex":An(o,"tabindex",k);break;case"dir":case"role":case"viewBox":case"width":case"height":An(o,v,k);break;case"style":Nu(o,k,W);break;case"data":if(a!=="object"){An(o,"data",k);break}case"src":case"href":if(k===""&&(a!=="a"||v!=="href")){o.removeAttribute(v);break}if(k==null||typeof k=="function"||typeof k=="symbol"||typeof k=="boolean"){o.removeAttribute(v);break}k=_i(""+k),o.setAttribute(v,k);break;case"action":case"formAction":if(typeof k=="function"){o.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof W=="function"&&(v==="formAction"?(a!=="input"&&dn(o,a,"name",B.name,B,null),dn(o,a,"formEncType",B.formEncType,B,null),dn(o,a,"formMethod",B.formMethod,B,null),dn(o,a,"formTarget",B.formTarget,B,null)):(dn(o,a,"encType",B.encType,B,null),dn(o,a,"method",B.method,B,null),dn(o,a,"target",B.target,B,null)));if(k==null||typeof k=="symbol"||typeof k=="boolean"){o.removeAttribute(v);break}k=_i(""+k),o.setAttribute(v,k);break;case"onClick":k!=null&&(o.onclick=kf);break;case"onScroll":k!=null&&Ur("scroll",o);break;case"onScrollEnd":k!=null&&Ur("scrollend",o);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(i(61));if(v=k.__html,v!=null){if(B.children!=null)throw Error(i(60));o.innerHTML=v}}break;case"multiple":o.multiple=k&&typeof k!="function"&&typeof k!="symbol";break;case"muted":o.muted=k&&typeof k!="function"&&typeof k!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(k==null||typeof k=="function"||typeof k=="boolean"||typeof k=="symbol"){o.removeAttribute("xlink:href");break}v=_i(""+k),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":k!=null&&typeof k!="function"&&typeof k!="symbol"?o.setAttribute(v,""+k):o.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":k&&typeof k!="function"&&typeof k!="symbol"?o.setAttribute(v,""):o.removeAttribute(v);break;case"capture":case"download":k===!0?o.setAttribute(v,""):k!==!1&&k!=null&&typeof k!="function"&&typeof k!="symbol"?o.setAttribute(v,k):o.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":k!=null&&typeof k!="function"&&typeof k!="symbol"&&!isNaN(k)&&1<=k?o.setAttribute(v,k):o.removeAttribute(v);break;case"rowSpan":case"start":k==null||typeof k=="function"||typeof k=="symbol"||isNaN(k)?o.removeAttribute(v):o.setAttribute(v,k);break;case"popover":Ur("beforetoggle",o),Ur("toggle",o),jn(o,"popover",k);break;case"xlinkActuate":sn(o,"http://www.w3.org/1999/xlink","xlink:actuate",k);break;case"xlinkArcrole":sn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",k);break;case"xlinkRole":sn(o,"http://www.w3.org/1999/xlink","xlink:role",k);break;case"xlinkShow":sn(o,"http://www.w3.org/1999/xlink","xlink:show",k);break;case"xlinkTitle":sn(o,"http://www.w3.org/1999/xlink","xlink:title",k);break;case"xlinkType":sn(o,"http://www.w3.org/1999/xlink","xlink:type",k);break;case"xmlBase":sn(o,"http://www.w3.org/XML/1998/namespace","xml:base",k);break;case"xmlLang":sn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",k);break;case"xmlSpace":sn(o,"http://www.w3.org/XML/1998/namespace","xml:space",k);break;case"is":jn(o,"is",k);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=md.get(v)||v,jn(o,v,k))}}function dg(o,a,v,k,B,W){switch(v){case"style":Nu(o,k,W);break;case"dangerouslySetInnerHTML":if(k!=null){if(typeof k!="object"||!("__html"in k))throw Error(i(61));if(v=k.__html,v!=null){if(B.children!=null)throw Error(i(60));o.innerHTML=v}}break;case"children":typeof k=="string"?ti(o,k):(typeof k=="number"||typeof k=="bigint")&&ti(o,""+k);break;case"onScroll":k!=null&&Ur("scroll",o);break;case"onScrollEnd":k!=null&&Ur("scrollend",o);break;case"onClick":k!=null&&(o.onclick=kf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bt.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(B=v.endsWith("Capture"),a=v.slice(2,B?v.length-7:void 0),W=o[Er]||null,W=W!=null?W[v]:null,typeof W=="function"&&o.removeEventListener(a,W,B),typeof k=="function")){typeof W!="function"&&W!==null&&(v in o?o[v]=null:o.hasAttribute(v)&&o.removeAttribute(v)),o.addEventListener(a,k,B);break e}v in o?o[v]=k:k===!0?o.setAttribute(v,""):jn(o,v,k)}}}function Os(o,a,v){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ur("error",o),Ur("load",o);var k=!1,B=!1,W;for(W in v)if(v.hasOwnProperty(W)){var oe=v[W];if(oe!=null)switch(W){case"src":k=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:dn(o,a,W,oe,v,null)}}B&&dn(o,a,"srcSet",v.srcSet,v,null),k&&dn(o,a,"src",v.src,v,null);return;case"input":Ur("invalid",o);var be=W=oe=B=null,Oe=null,Ve=null;for(k in v)if(v.hasOwnProperty(k)){var ct=v[k];if(ct!=null)switch(k){case"name":B=ct;break;case"type":oe=ct;break;case"checked":Oe=ct;break;case"defaultChecked":Ve=ct;break;case"value":W=ct;break;case"defaultValue":be=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,a));break;default:dn(o,a,k,ct,v,null)}}Di(o,W,be,Oe,Ve,oe,B,!1),Wo(o);return;case"select":Ur("invalid",o),k=oe=W=null;for(B in v)if(v.hasOwnProperty(B)&&(be=v[B],be!=null))switch(B){case"value":W=be;break;case"defaultValue":oe=be;break;case"multiple":k=be;default:dn(o,a,B,be,v,null)}a=W,v=oe,o.multiple=!!k,a!=null?zr(o,!!k,a,!1):v!=null&&zr(o,!!k,v,!0);return;case"textarea":Ur("invalid",o),W=B=k=null;for(oe in v)if(v.hasOwnProperty(oe)&&(be=v[oe],be!=null))switch(oe){case"value":k=be;break;case"defaultValue":B=be;break;case"children":W=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(i(91));break;default:dn(o,a,oe,be,v,null)}xo(o,k,B,W),Wo(o);return;case"option":for(Oe in v)if(v.hasOwnProperty(Oe)&&(k=v[Oe],k!=null))switch(Oe){case"selected":o.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:dn(o,a,Oe,k,v,null)}return;case"dialog":Ur("cancel",o),Ur("close",o);break;case"iframe":case"object":Ur("load",o);break;case"video":case"audio":for(k=0;k<zd.length;k++)Ur(zd[k],o);break;case"image":Ur("error",o),Ur("load",o);break;case"details":Ur("toggle",o);break;case"embed":case"source":case"link":Ur("error",o),Ur("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ve in v)if(v.hasOwnProperty(Ve)&&(k=v[Ve],k!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:dn(o,a,Ve,k,v,null)}return;default:if(ka(a)){for(ct in v)v.hasOwnProperty(ct)&&(k=v[ct],k!==void 0&&dg(o,a,ct,k,v,void 0));return}}for(be in v)v.hasOwnProperty(be)&&(k=v[be],k!=null&&dn(o,a,be,k,v,null))}function Mk(o,a,v,k){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,W=null,oe=null,be=null,Oe=null,Ve=null,ct=null;for(lt in v){var St=v[lt];if(v.hasOwnProperty(lt)&&St!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":Oe=St;default:k.hasOwnProperty(lt)||dn(o,a,lt,null,k,St)}}for(var nt in k){var lt=k[nt];if(St=v[nt],k.hasOwnProperty(nt)&&(lt!=null||St!=null))switch(nt){case"type":W=lt;break;case"name":B=lt;break;case"checked":Ve=lt;break;case"defaultChecked":ct=lt;break;case"value":oe=lt;break;case"defaultValue":be=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(137,a));break;default:lt!==St&&dn(o,a,nt,lt,k,St)}}ei(o,oe,be,Oe,Ve,ct,W,B);return;case"select":lt=oe=be=nt=null;for(W in v)if(Oe=v[W],v.hasOwnProperty(W)&&Oe!=null)switch(W){case"value":break;case"multiple":lt=Oe;default:k.hasOwnProperty(W)||dn(o,a,W,null,k,Oe)}for(B in k)if(W=k[B],Oe=v[B],k.hasOwnProperty(B)&&(W!=null||Oe!=null))switch(B){case"value":nt=W;break;case"defaultValue":be=W;break;case"multiple":oe=W;default:W!==Oe&&dn(o,a,B,W,k,Oe)}a=be,v=oe,k=lt,nt!=null?zr(o,!!v,nt,!1):!!k!=!!v&&(a!=null?zr(o,!!v,a,!0):zr(o,!!v,v?[]:"",!1));return;case"textarea":lt=nt=null;for(be in v)if(B=v[be],v.hasOwnProperty(be)&&B!=null&&!k.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:dn(o,a,be,null,k,B)}for(oe in k)if(B=k[oe],W=v[oe],k.hasOwnProperty(oe)&&(B!=null||W!=null))switch(oe){case"value":nt=B;break;case"defaultValue":lt=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(91));break;default:B!==W&&dn(o,a,oe,B,k,W)}Yo(o,nt,lt);return;case"option":for(var Qt in v)if(nt=v[Qt],v.hasOwnProperty(Qt)&&nt!=null&&!k.hasOwnProperty(Qt))switch(Qt){case"selected":o.selected=!1;break;default:dn(o,a,Qt,null,k,nt)}for(Oe in k)if(nt=k[Oe],lt=v[Oe],k.hasOwnProperty(Oe)&&nt!==lt&&(nt!=null||lt!=null))switch(Oe){case"selected":o.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:dn(o,a,Oe,nt,k,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ur in v)nt=v[ur],v.hasOwnProperty(ur)&&nt!=null&&!k.hasOwnProperty(ur)&&dn(o,a,ur,null,k,nt);for(Ve in k)if(nt=k[Ve],lt=v[Ve],k.hasOwnProperty(Ve)&&nt!==lt&&(nt!=null||lt!=null))switch(Ve){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:dn(o,a,Ve,nt,k,lt)}return;default:if(ka(a)){for(var Bn in v)nt=v[Bn],v.hasOwnProperty(Bn)&&nt!==void 0&&!k.hasOwnProperty(Bn)&&dg(o,a,Bn,void 0,k,nt);for(ct in k)nt=k[ct],lt=v[ct],!k.hasOwnProperty(ct)||nt===lt||nt===void 0&&lt===void 0||dg(o,a,ct,nt,k,lt);return}}for(var qe in v)nt=v[qe],v.hasOwnProperty(qe)&&nt!=null&&!k.hasOwnProperty(qe)&&dn(o,a,qe,null,k,nt);for(St in k)nt=k[St],lt=v[St],!k.hasOwnProperty(St)||nt===lt||nt==null&&lt==null||dn(o,a,St,nt,k,lt)}var hg=null,fg=null;function If(o){return o.nodeType===9?o:o.ownerDocument}function qw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $w(o,a){if(o===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&a==="foreignObject"?0:o}function pg(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mg=null;function kk(){var o=window.event;return o&&o.type==="popstate"?o===mg?!1:(mg=o,!0):(mg=null,!1)}var Ww=typeof setTimeout=="function"?setTimeout:void 0,Ik=typeof clearTimeout=="function"?clearTimeout:void 0,Yw=typeof Promise=="function"?Promise:void 0,Ok=typeof queueMicrotask=="function"?queueMicrotask:typeof Yw<"u"?function(o){return Yw.resolve(null).then(o).catch(Dk)}:Ww;function Dk(o){setTimeout(function(){throw o})}function yg(o,a){var v=a,k=0;do{var B=v.nextSibling;if(o.removeChild(v),B&&B.nodeType===8)if(v=B.data,v==="/$"){if(k===0){o.removeChild(B),Qd(a);return}k--}else v!=="$"&&v!=="$?"&&v!=="$!"||k++;v=B}while(v);Qd(a)}function gg(o){var a=o.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var v=a;switch(a=a.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":gg(v),ke(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}o.removeChild(v)}}function Pk(o,a,v,k){for(;o.nodeType===1;){var B=v;if(o.nodeName.toLowerCase()!==a.toLowerCase()){if(!k&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(k){if(!o[bi])switch(a){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(W=o.getAttribute("rel"),W==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(W!==B.rel||o.getAttribute("href")!==(B.href==null?null:B.href)||o.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||o.getAttribute("title")!==(B.title==null?null:B.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(W=o.getAttribute("src"),(W!==(B.src==null?null:B.src)||o.getAttribute("type")!==(B.type==null?null:B.type)||o.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&W&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(a==="input"&&o.type==="hidden"){var W=B.name==null?null:""+B.name;if(B.type==="hidden"&&o.getAttribute("name")===W)return o}else return o;if(o=ho(o.nextSibling),o===null)break}return null}function Lk(o,a,v){if(a==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!v||(o=ho(o.nextSibling),o===null))return null;return o}function ho(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return o}function Xw(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var v=o.data;if(v==="$"||v==="$!"||v==="$?"){if(a===0)return o;a--}else v==="/$"&&a++}o=o.previousSibling}return null}function Kw(o,a,v){switch(a=If(v),o){case"html":if(o=a.documentElement,!o)throw Error(i(452));return o;case"head":if(o=a.head,!o)throw Error(i(453));return o;case"body":if(o=a.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}var Ki=new Map,Qw=new Set;function Of(o){return typeof o.getRootNode=="function"?o.getRootNode():o.ownerDocument}var ma=ae.d;ae.d={f:Nk,r:Uk,D:Bk,C:Fk,L:Vk,m:zk,X:Hk,S:Gk,M:qk};function Nk(){var o=ma.f(),a=jf();return o||a}function Uk(o){var a=Ut(o);a!==null&&a.tag===5&&a.type==="form"?E_(a):ma.r(o)}var lc=typeof document>"u"?null:document;function Zw(o,a,v){var k=lc;if(k&&typeof a=="string"&&a){var B=Vr(a);B='link[rel="'+o+'"][href="'+B+'"]',typeof v=="string"&&(B+='[crossorigin="'+v+'"]'),Qw.has(B)||(Qw.add(B),o={rel:o,crossOrigin:v,href:a},k.querySelector(B)===null&&(a=k.createElement("link"),Os(a,"link",o),st(a),k.head.appendChild(a)))}}function Bk(o){ma.D(o),Zw("dns-prefetch",o,null)}function Fk(o,a){ma.C(o,a),Zw("preconnect",o,a)}function Vk(o,a,v){ma.L(o,a,v);var k=lc;if(k&&o&&a){var B='link[rel="preload"][as="'+Vr(a)+'"]';a==="image"&&v&&v.imageSrcSet?(B+='[imagesrcset="'+Vr(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(B+='[imagesizes="'+Vr(v.imageSizes)+'"]')):B+='[href="'+Vr(o)+'"]';var W=B;switch(a){case"style":W=uc(o);break;case"script":W=cc(o)}Ki.has(W)||(o=P({rel:"preload",href:a==="image"&&v&&v.imageSrcSet?void 0:o,as:a},v),Ki.set(W,o),k.querySelector(B)!==null||a==="style"&&k.querySelector(Hd(W))||a==="script"&&k.querySelector(qd(W))||(a=k.createElement("link"),Os(a,"link",o),st(a),k.head.appendChild(a)))}}function zk(o,a){ma.m(o,a);var v=lc;if(v&&o){var k=a&&typeof a.as=="string"?a.as:"script",B='link[rel="modulepreload"][as="'+Vr(k)+'"][href="'+Vr(o)+'"]',W=B;switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":W=cc(o)}if(!Ki.has(W)&&(o=P({rel:"modulepreload",href:o},a),Ki.set(W,o),v.querySelector(B)===null)){switch(k){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(qd(W)))return}k=v.createElement("link"),Os(k,"link",o),st(k),v.head.appendChild(k)}}}function Gk(o,a,v){ma.S(o,a,v);var k=lc;if(k&&o){var B=ar(k).hoistableStyles,W=uc(o);a=a||"default";var oe=B.get(W);if(!oe){var be={loading:0,preload:null};if(oe=k.querySelector(Hd(W)))be.loading=5;else{o=P({rel:"stylesheet",href:o,"data-precedence":a},v),(v=Ki.get(W))&&vg(o,v);var Oe=oe=k.createElement("link");st(Oe),Os(Oe,"link",o),Oe._p=new Promise(function(Ve,ct){Oe.onload=Ve,Oe.onerror=ct}),Oe.addEventListener("load",function(){be.loading|=1}),Oe.addEventListener("error",function(){be.loading|=2}),be.loading|=4,Df(oe,a,k)}oe={type:"stylesheet",instance:oe,count:1,state:be},B.set(W,oe)}}}function Hk(o,a){ma.X(o,a);var v=lc;if(v&&o){var k=ar(v).hoistableScripts,B=cc(o),W=k.get(B);W||(W=v.querySelector(qd(B)),W||(o=P({src:o,async:!0},a),(a=Ki.get(B))&&bg(o,a),W=v.createElement("script"),st(W),Os(W,"link",o),v.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},k.set(B,W))}}function qk(o,a){ma.M(o,a);var v=lc;if(v&&o){var k=ar(v).hoistableScripts,B=cc(o),W=k.get(B);W||(W=v.querySelector(qd(B)),W||(o=P({src:o,async:!0,type:"module"},a),(a=Ki.get(B))&&bg(o,a),W=v.createElement("script"),st(W),Os(W,"link",o),v.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},k.set(B,W))}}function Jw(o,a,v,k){var B=(B=le.current)?Of(B):null;if(!B)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(a=uc(v.href),v=ar(B).hoistableStyles,k=v.get(a),k||(k={type:"style",instance:null,count:0,state:null},v.set(a,k)),k):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){o=uc(v.href);var W=ar(B).hoistableStyles,oe=W.get(o);if(oe||(B=B.ownerDocument||B,oe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},W.set(o,oe),(W=B.querySelector(Hd(o)))&&!W._p&&(oe.instance=W,oe.state.loading=5),Ki.has(o)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Ki.set(o,v),W||$k(B,o,v,oe.state))),a&&k===null)throw Error(i(528,""));return oe}if(a&&k!==null)throw Error(i(529,""));return null;case"script":return a=v.async,v=v.src,typeof v=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=cc(v),v=ar(B).hoistableScripts,k=v.get(a),k||(k={type:"script",instance:null,count:0,state:null},v.set(a,k)),k):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function uc(o){return'href="'+Vr(o)+'"'}function Hd(o){return'link[rel="stylesheet"]['+o+"]"}function ex(o){return P({},o,{"data-precedence":o.precedence,precedence:null})}function $k(o,a,v,k){o.querySelector('link[rel="preload"][as="style"]['+a+"]")?k.loading=1:(a=o.createElement("link"),k.preload=a,a.addEventListener("load",function(){return k.loading|=1}),a.addEventListener("error",function(){return k.loading|=2}),Os(a,"link",v),st(a),o.head.appendChild(a))}function cc(o){return'[src="'+Vr(o)+'"]'}function qd(o){return"script[async]"+o}function tx(o,a,v){if(a.count++,a.instance===null)switch(a.type){case"style":var k=o.querySelector('style[data-href~="'+Vr(v.href)+'"]');if(k)return a.instance=k,st(k),k;var B=P({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return k=(o.ownerDocument||o).createElement("style"),st(k),Os(k,"style",B),Df(k,v.precedence,o),a.instance=k;case"stylesheet":B=uc(v.href);var W=o.querySelector(Hd(B));if(W)return a.state.loading|=4,a.instance=W,st(W),W;k=ex(v),(B=Ki.get(B))&&vg(k,B),W=(o.ownerDocument||o).createElement("link"),st(W);var oe=W;return oe._p=new Promise(function(be,Oe){oe.onload=be,oe.onerror=Oe}),Os(W,"link",k),a.state.loading|=4,Df(W,v.precedence,o),a.instance=W;case"script":return W=cc(v.src),(B=o.querySelector(qd(W)))?(a.instance=B,st(B),B):(k=v,(B=Ki.get(W))&&(k=P({},v),bg(k,B)),o=o.ownerDocument||o,B=o.createElement("script"),st(B),Os(B,"link",k),o.head.appendChild(B),a.instance=B);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(k=a.instance,a.state.loading|=4,Df(k,v.precedence,o));return a.instance}function Df(o,a,v){for(var k=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=k.length?k[k.length-1]:null,W=B,oe=0;oe<k.length;oe++){var be=k[oe];if(be.dataset.precedence===a)W=be;else if(W!==B)break}W?W.parentNode.insertBefore(o,W.nextSibling):(a=v.nodeType===9?v.head:v,a.insertBefore(o,a.firstChild))}function vg(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.title==null&&(o.title=a.title)}function bg(o,a){o.crossOrigin==null&&(o.crossOrigin=a.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=a.referrerPolicy),o.integrity==null&&(o.integrity=a.integrity)}var Pf=null;function rx(o,a,v){if(Pf===null){var k=new Map,B=Pf=new Map;B.set(v,k)}else B=Pf,k=B.get(v),k||(k=new Map,B.set(v,k));if(k.has(o))return k;for(k.set(o,null),v=v.getElementsByTagName(o),B=0;B<v.length;B++){var W=v[B];if(!(W[bi]||W[Ir]||o==="link"&&W.getAttribute("rel")==="stylesheet")&&W.namespaceURI!=="http://www.w3.org/2000/svg"){var oe=W.getAttribute(a)||"";oe=o+oe;var be=k.get(oe);be?be.push(W):k.set(oe,[W])}}return k}function nx(o,a,v){o=o.ownerDocument||o,o.head.insertBefore(v,a==="title"?o.querySelector("head > title"):null)}function Wk(o,a,v){if(v===1||a.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return o=a.disabled,typeof a.precedence=="string"&&o==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function sx(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var $d=null;function Yk(){}function Xk(o,a,v){if($d===null)throw Error(i(475));var k=$d;if(a.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var B=uc(v.href),W=o.querySelector(Hd(B));if(W){o=W._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(k.count++,k=Lf.bind(k),o.then(k,k)),a.state.loading|=4,a.instance=W,st(W);return}W=o.ownerDocument||o,v=ex(v),(B=Ki.get(B))&&vg(v,B),W=W.createElement("link"),st(W);var oe=W;oe._p=new Promise(function(be,Oe){oe.onload=be,oe.onerror=Oe}),Os(W,"link",v),a.instance=W}k.stylesheets===null&&(k.stylesheets=new Map),k.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(k.count++,a=Lf.bind(k),o.addEventListener("load",a),o.addEventListener("error",a))}}function Kk(){if($d===null)throw Error(i(475));var o=$d;return o.stylesheets&&o.count===0&&_g(o,o.stylesheets),0<o.count?function(a){var v=setTimeout(function(){if(o.stylesheets&&_g(o,o.stylesheets),o.unsuspend){var k=o.unsuspend;o.unsuspend=null,k()}},6e4);return o.unsuspend=a,function(){o.unsuspend=null,clearTimeout(v)}}:null}function Lf(){if(this.count--,this.count===0){if(this.stylesheets)_g(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Nf=null;function _g(o,a){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Nf=new Map,a.forEach(Qk,o),Nf=null,Lf.call(o))}function Qk(o,a){if(!(a.state.loading&4)){var v=Nf.get(o);if(v)var k=v.get(null);else{v=new Map,Nf.set(o,v);for(var B=o.querySelectorAll("link[data-precedence],style[data-precedence]"),W=0;W<B.length;W++){var oe=B[W];(oe.nodeName==="LINK"||oe.getAttribute("media")!=="not all")&&(v.set(oe.dataset.precedence,oe),k=oe)}k&&v.set(null,k)}B=a.instance,oe=B.getAttribute("data-precedence"),W=v.get(oe)||k,W===k&&v.set(null,B),v.set(oe,B),this.count++,k=Lf.bind(this),B.addEventListener("load",k),B.addEventListener("error",k),W?W.parentNode.insertBefore(B,W.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(B,o.firstChild)),a.state.loading|=4}}var Wd={$$typeof:T,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Zk(o,a,v,k,B,W,oe,be){this.tag=1,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=er(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=er(0),this.hiddenUpdates=er(null),this.identifierPrefix=k,this.onUncaughtError=B,this.onCaughtError=W,this.onRecoverableError=oe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function ix(o,a,v,k,B,W,oe,be,Oe,Ve,ct,St){return o=new Zk(o,a,v,oe,be,Oe,Ve,St),a=1,W===!0&&(a|=24),W=Yi(3,null,null,a),o.current=W,W.stateNode=o,a=Zm(),a.refCount++,o.pooledCache=a,a.refCount++,W.memoizedState={element:k,isDehydrated:v,cache:a},Iy(W),o}function ox(o){return o?(o=zu,o):zu}function ax(o,a,v,k,B,W){B=ox(B),k.context===null?k.context=B:k.pendingContext=B,k=$a(a),k.payload={element:v},W=W===void 0?null:W,W!==null&&(k.callback=W),v=Wa(o,k,a),v!==null&&(oi(v,o,a),Md(v,o,a))}function lx(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var v=o.retryLane;o.retryLane=v!==0&&v<a?v:a}}function wg(o,a){lx(o,a),(o=o.alternate)&&lx(o,a)}function ux(o){if(o.tag===13){var a=Ba(o,67108864);a!==null&&oi(a,o,67108864),wg(o,67108864)}}var Uf=!0;function Jk(o,a,v,k){var B=M.T;M.T=null;var W=ae.p;try{ae.p=2,xg(o,a,v,k)}finally{ae.p=W,M.T=B}}function e3(o,a,v,k){var B=M.T;M.T=null;var W=ae.p;try{ae.p=8,xg(o,a,v,k)}finally{ae.p=W,M.T=B}}function xg(o,a,v,k){if(Uf){var B=Sg(k);if(B===null)cg(o,a,k,Bf,v),dx(o,k);else if(r3(B,o,a,v,k))k.stopPropagation();else if(dx(o,k),a&4&&-1<t3.indexOf(o)){for(;B!==null;){var W=Ut(B);if(W!==null)switch(W.tag){case 3:if(W=W.stateNode,W.current.memoizedState.isDehydrated){var oe=Le(W.pendingLanes);if(oe!==0){var be=W;for(be.pendingLanes|=2,be.entangledLanes|=2;oe;){var Oe=1<<31-pe(oe);be.entanglements[1]|=Oe,oe&=~Oe}Io(W),(kn&6)===0&&(xf=_t()+500,Vd(0))}}break;case 13:be=Ba(W,2),be!==null&&oi(be,W,2),jf(),wg(W,2)}if(W=Sg(k),W===null&&cg(o,a,k,Bf,v),W===B)break;B=W}B!==null&&k.stopPropagation()}else cg(o,a,k,null,v)}}function Sg(o){return o=io(o),Eg(o)}var Bf=null;function Eg(o){if(Bf=null,o=vt(o),o!==null){var a=q(o);if(a===null)o=null;else{var v=a.tag;if(v===13){if(o=V(a),o!==null)return o;o=null}else if(v===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null)}}return Bf=o,null}function cx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case Tt:return 2;case je:return 8;case We:case Ye:return 32;case ft:return 268435456;default:return 32}default:return 32}}var jg=!1,el=null,tl=null,rl=null,Yd=new Map,Xd=new Map,nl=[],t3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dx(o,a){switch(o){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":rl=null;break;case"pointerover":case"pointerout":Yd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xd.delete(a.pointerId)}}function Kd(o,a,v,k,B,W){return o===null||o.nativeEvent!==W?(o={blockedOn:a,domEventName:v,eventSystemFlags:k,nativeEvent:W,targetContainers:[B]},a!==null&&(a=Ut(a),a!==null&&ux(a)),o):(o.eventSystemFlags|=k,a=o.targetContainers,B!==null&&a.indexOf(B)===-1&&a.push(B),o)}function r3(o,a,v,k,B){switch(a){case"focusin":return el=Kd(el,o,a,v,k,B),!0;case"dragenter":return tl=Kd(tl,o,a,v,k,B),!0;case"mouseover":return rl=Kd(rl,o,a,v,k,B),!0;case"pointerover":var W=B.pointerId;return Yd.set(W,Kd(Yd.get(W)||null,o,a,v,k,B)),!0;case"gotpointercapture":return W=B.pointerId,Xd.set(W,Kd(Xd.get(W)||null,o,a,v,k,B)),!0}return!1}function hx(o){var a=vt(o.target);if(a!==null){var v=q(a);if(v!==null){if(a=v.tag,a===13){if(a=V(v),a!==null){o.blockedOn=a,wn(o.priority,function(){if(v.tag===13){var k=Ri(),B=Ba(v,k);B!==null&&oi(B,v,k),wg(v,k)}});return}}else if(a===3&&v.stateNode.current.memoizedState.isDehydrated){o.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ff(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var v=Sg(o.nativeEvent);if(v===null){v=o.nativeEvent;var k=new v.constructor(v.type,v);ri=k,v.target.dispatchEvent(k),ri=null}else return a=Ut(v),a!==null&&ux(a),o.blockedOn=v,!1;a.shift()}return!0}function fx(o,a,v){Ff(o)&&v.delete(a)}function n3(){jg=!1,el!==null&&Ff(el)&&(el=null),tl!==null&&Ff(tl)&&(tl=null),rl!==null&&Ff(rl)&&(rl=null),Yd.forEach(fx),Xd.forEach(fx)}function Vf(o,a){o.blockedOn===a&&(o.blockedOn=null,jg||(jg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,n3)))}var zf=null;function px(o){zf!==o&&(zf=o,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zf===o&&(zf=null);for(var a=0;a<o.length;a+=3){var v=o[a],k=o[a+1],B=o[a+2];if(typeof k!="function"){if(Eg(k||v)===null)continue;break}var W=Ut(v);W!==null&&(o.splice(a,3),a-=3,py(W,{pending:!0,data:B,method:v.method,action:k},k,B))}}))}function Qd(o){function a(Oe){return Vf(Oe,o)}el!==null&&Vf(el,o),tl!==null&&Vf(tl,o),rl!==null&&Vf(rl,o),Yd.forEach(a),Xd.forEach(a);for(var v=0;v<nl.length;v++){var k=nl[v];k.blockedOn===o&&(k.blockedOn=null)}for(;0<nl.length&&(v=nl[0],v.blockedOn===null);)hx(v),v.blockedOn===null&&nl.shift();if(v=(o.ownerDocument||o).$$reactFormReplay,v!=null)for(k=0;k<v.length;k+=3){var B=v[k],W=v[k+1],oe=B[Er]||null;if(typeof W=="function")oe||px(v);else if(oe){var be=null;if(W&&W.hasAttribute("formAction")){if(B=W,oe=W[Er]||null)be=oe.formAction;else if(Eg(B)!==null)continue}else be=oe.action;typeof be=="function"?v[k+1]=be:(v.splice(k,3),k-=3),px(v)}}}function Tg(o){this._internalRoot=o}Gf.prototype.render=Tg.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(i(409));var v=a.current,k=Ri();ax(v,k,o,a,null,null)},Gf.prototype.unmount=Tg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;o.tag===0&&ic(),ax(o.current,2,null,o,null,null),jf(),a[jr]=null}};function Gf(o){this._internalRoot=o}Gf.prototype.unstable_scheduleHydration=function(o){if(o){var a=hn();o={blockedOn:null,target:o,priority:a};for(var v=0;v<nl.length&&a!==0&&a<nl[v].priority;v++);nl.splice(v,0,o),v===0&&hx(o)}};var mx=t.version;if(mx!=="19.0.0")throw Error(i(527,mx,"19.0.0"));ae.findDOMNode=function(o){var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=Q(a),o=o!==null?te(o):null,o=o===null?null:o.stateNode,o};var s3={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:M,findFiberByHostInstance:vt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hf.isDisabled&&Hf.supportsFiber)try{Ot=Hf.inject(s3),At=Hf}catch{}}return Jd.createRoot=function(o,a){if(!l(o))throw Error(i(299));var v=!1,k="",B=I_,W=O_,oe=D_,be=null;return a!=null&&(a.unstable_strictMode===!0&&(v=!0),a.identifierPrefix!==void 0&&(k=a.identifierPrefix),a.onUncaughtError!==void 0&&(B=a.onUncaughtError),a.onCaughtError!==void 0&&(W=a.onCaughtError),a.onRecoverableError!==void 0&&(oe=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(be=a.unstable_transitionCallbacks)),a=ix(o,1,!1,null,null,v,k,B,W,oe,be,null),o[jr]=a.current,ug(o.nodeType===8?o.parentNode:o),new Tg(a)},Jd.hydrateRoot=function(o,a,v){if(!l(o))throw Error(i(299));var k=!1,B="",W=I_,oe=O_,be=D_,Oe=null,Ve=null;return v!=null&&(v.unstable_strictMode===!0&&(k=!0),v.identifierPrefix!==void 0&&(B=v.identifierPrefix),v.onUncaughtError!==void 0&&(W=v.onUncaughtError),v.onCaughtError!==void 0&&(oe=v.onCaughtError),v.onRecoverableError!==void 0&&(be=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(Oe=v.unstable_transitionCallbacks),v.formState!==void 0&&(Ve=v.formState)),a=ix(o,1,!0,a,v??null,k,B,W,oe,be,Oe,Ve),a.context=ox(null),v=a.current,k=Ri(),B=$a(k),B.callback=null,Wa(v,B,k),a.current.lanes=k,$t(a,k),Io(a),o[jr]=a.current,ug(o),new Gf(a)},Jd.version="19.0.0",Jd}var jx;function y3(){if(jx)return Rg.exports;jx=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Rg.exports=m3(),Rg.exports}var g3=y3(),eh={},Tx;function v3(){if(Tx)return eh;Tx=1,Object.defineProperty(eh,"__esModule",{value:!0}),eh.parse=R,eh.serialize=x;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,y=(()=>{const c=function(){};return c.prototype=Object.create(null),c})();function R(c,T){const A=new y,f=c.length;if(f<2)return A;const h=(T==null?void 0:T.decode)||m;let p=0;do{const u=c.indexOf("=",p);if(u===-1)break;const g=c.indexOf(";",p),S=g===-1?f:g;if(u>S){p=c.lastIndexOf(";",u-1)+1;continue}const j=n(c,p,u),_=C(c,u,j),b=c.slice(j,_);if(A[b]===void 0){let E=n(c,u+1,S),M=C(c,S,E);const P=h(c.slice(E,M));A[b]=P}p=S+1}while(p<f);return A}function n(c,T,A){do{const f=c.charCodeAt(T);if(f!==32&&f!==9)return T}while(++T<A);return A}function C(c,T,A){for(;T>A;){const f=c.charCodeAt(--T);if(f!==32&&f!==9)return T+1}return A}function x(c,T,A){const f=(A==null?void 0:A.encode)||encodeURIComponent;if(!r.test(c))throw new TypeError(`argument name is invalid: ${c}`);const h=f(T);if(!t.test(h))throw new TypeError(`argument val is invalid: ${T}`);let p=c+"="+h;if(!A)return p;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);p+="; Max-Age="+A.maxAge}if(A.domain){if(!s.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);p+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);p+="; Path="+A.path}if(A.expires){if(!d(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);p+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(p+="; HttpOnly"),A.secure&&(p+="; Secure"),A.partitioned&&(p+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":p+="; Priority=Low";break;case"medium":p+="; Priority=Medium";break;case"high":p+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":p+="; SameSite=Strict";break;case"lax":p+="; SameSite=Lax";break;case"none":p+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return p}function m(c){if(c.indexOf("%")===-1)return c;try{return decodeURIComponent(c)}catch{return c}}function d(c){return l.call(c)==="[object Date]"}return eh}v3();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ax="popstate";function b3(r={}){function t(l,y){let{pathname:R="/",search:n="",hash:C=""}=Ou(l.location.hash.substring(1));return!R.startsWith("/")&&!R.startsWith(".")&&(R="/"+R),Fv("",{pathname:R,search:n,hash:C},y.state&&y.state.usr||null,y.state&&y.state.key||"default")}function s(l,y){let R=l.document.querySelector("base"),n="";if(R&&R.getAttribute("href")){let C=l.location.href,x=C.indexOf("#");n=x===-1?C:C.slice(0,x)}return n+"#"+(typeof y=="string"?y:Sh(y))}function i(l,y){to(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(y)})`)}return w3(t,s,i,r)}function Cn(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function to(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _3(){return Math.random().toString(36).substring(2,10)}function Cx(r,t){return{usr:r.state,key:r.key,idx:t}}function Fv(r,t,s=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ou(t):t,state:s,key:t&&t.key||i||_3()}}function Sh({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ou(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let i=r.indexOf("?");i>=0&&(t.search=r.substring(i),r=r.substring(0,i)),r&&(t.pathname=r)}return t}function w3(r,t,s,i={}){let{window:l=document.defaultView,v5Compat:y=!1}=i,R=l.history,n="POP",C=null,x=m();x==null&&(x=0,R.replaceState({...R.state,idx:x},""));function m(){return(R.state||{idx:null}).idx}function d(){n="POP";let h=m(),p=h==null?null:h-x;x=h,C&&C({action:n,location:f.location,delta:p})}function c(h,p){n="PUSH";let u=Fv(f.location,h,p);s&&s(u,h),x=m()+1;let g=Cx(u,x),S=f.createHref(u);try{R.pushState(g,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;l.location.assign(S)}y&&C&&C({action:n,location:f.location,delta:1})}function T(h,p){n="REPLACE";let u=Fv(f.location,h,p);s&&s(u,h),x=m();let g=Cx(u,x),S=f.createHref(u);R.replaceState(g,"",S),y&&C&&C({action:n,location:f.location,delta:0})}function A(h){let p=l.location.origin!=="null"?l.location.origin:l.location.href,u=typeof h=="string"?h:Sh(h);return u=u.replace(/ $/,"%20"),Cn(p,`No window.location.(origin|href) available to create URL for href: ${u}`),new URL(u,p)}let f={get action(){return n},get location(){return r(l,R)},listen(h){if(C)throw new Error("A history only accepts one active listener");return l.addEventListener(Ax,d),C=h,()=>{l.removeEventListener(Ax,d),C=null}},createHref(h){return t(l,h)},createURL:A,encodeLocation(h){let p=A(h);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:c,replace:T,go(h){return R.go(h)}};return f}function Gj(r,t,s="/"){return x3(r,t,s,!1)}function x3(r,t,s,i){let l=typeof t=="string"?Ou(t):t,y=wa(l.pathname||"/",s);if(y==null)return null;let R=Hj(r);S3(R);let n=null;for(let C=0;n==null&&C<R.length;++C){let x=D3(y);n=I3(R[C],x,i)}return n}function Hj(r,t=[],s=[],i=""){let l=(y,R,n)=>{let C={relativePath:n===void 0?y.path||"":n,caseSensitive:y.caseSensitive===!0,childrenIndex:R,route:y};C.relativePath.startsWith("/")&&(Cn(C.relativePath.startsWith(i),`Absolute route path "${C.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),C.relativePath=C.relativePath.slice(i.length));let x=_a([i,C.relativePath]),m=s.concat(C);y.children&&y.children.length>0&&(Cn(y.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Hj(y.children,t,m,x)),!(y.path==null&&!y.index)&&t.push({path:x,score:M3(x,y.index),routesMeta:m})};return r.forEach((y,R)=>{var n;if(y.path===""||!((n=y.path)!=null&&n.includes("?")))l(y,R);else for(let C of qj(y.path))l(y,R,C)}),t}function qj(r){let t=r.split("/");if(t.length===0)return[];let[s,...i]=t,l=s.endsWith("?"),y=s.replace(/\?$/,"");if(i.length===0)return l?[y,""]:[y];let R=qj(i.join("/")),n=[];return n.push(...R.map(C=>C===""?y:[y,C].join("/"))),l&&n.push(...R),n.map(C=>r.startsWith("/")&&C===""?"/":C)}function S3(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:k3(t.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}var E3=/^:[\w-]+$/,j3=3,T3=2,A3=1,C3=10,R3=-2,Rx=r=>r==="*";function M3(r,t){let s=r.split("/"),i=s.length;return s.some(Rx)&&(i+=R3),t&&(i+=T3),s.filter(l=>!Rx(l)).reduce((l,y)=>l+(E3.test(y)?j3:y===""?A3:C3),i)}function k3(r,t){return r.length===t.length&&r.slice(0,-1).every((i,l)=>i===t[l])?r[r.length-1]-t[t.length-1]:0}function I3(r,t,s=!1){let{routesMeta:i}=r,l={},y="/",R=[];for(let n=0;n<i.length;++n){let C=i[n],x=n===i.length-1,m=y==="/"?t:t.slice(y.length)||"/",d=Rp({path:C.relativePath,caseSensitive:C.caseSensitive,end:x},m),c=C.route;if(!d&&x&&s&&!i[i.length-1].route.index&&(d=Rp({path:C.relativePath,caseSensitive:C.caseSensitive,end:!1},m)),!d)return null;Object.assign(l,d.params),R.push({params:l,pathname:_a([y,d.pathname]),pathnameBase:U3(_a([y,d.pathnameBase])),route:c}),d.pathnameBase!=="/"&&(y=_a([y,d.pathnameBase]))}return R}function Rp(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,i]=O3(r.path,r.caseSensitive,r.end),l=t.match(s);if(!l)return null;let y=l[0],R=y.replace(/(.)\/+$/,"$1"),n=l.slice(1);return{params:i.reduce((x,{paramName:m,isOptional:d},c)=>{if(m==="*"){let A=n[c]||"";R=y.slice(0,y.length-A.length).replace(/(.)\/+$/,"$1")}const T=n[c];return d&&!T?x[m]=void 0:x[m]=(T||"").replace(/%2F/g,"/"),x},{}),pathname:y,pathnameBase:R,pattern:r}}function O3(r,t=!1,s=!0){to(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(R,n,C)=>(i.push({paramName:n,isOptional:C!=null}),C?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function D3(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return to(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function wa(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,i=r.charAt(s);return i&&i!=="/"?null:r.slice(s)||"/"}function P3(r,t="/"){let{pathname:s,search:i="",hash:l=""}=typeof r=="string"?Ou(r):r;return{pathname:s?s.startsWith("/")?s:L3(s,t):t,search:B3(i),hash:F3(l)}}function L3(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Og(r,t,s,i){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N3(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function V0(r){let t=N3(r);return t.map((s,i)=>i===t.length-1?s.pathname:s.pathnameBase)}function z0(r,t,s,i=!1){let l;typeof r=="string"?l=Ou(r):(l={...r},Cn(!l.pathname||!l.pathname.includes("?"),Og("?","pathname","search",l)),Cn(!l.pathname||!l.pathname.includes("#"),Og("#","pathname","hash",l)),Cn(!l.search||!l.search.includes("#"),Og("#","search","hash",l)));let y=r===""||l.pathname==="",R=y?"/":l.pathname,n;if(R==null)n=s;else{let d=t.length-1;if(!i&&R.startsWith("..")){let c=R.split("/");for(;c[0]==="..";)c.shift(),d-=1;l.pathname=c.join("/")}n=d>=0?t[d]:"/"}let C=P3(l,n),x=R&&R!=="/"&&R.endsWith("/"),m=(y||R===".")&&s.endsWith("/");return!C.pathname.endsWith("/")&&(x||m)&&(C.pathname+="/"),C}var _a=r=>r.join("/").replace(/\/\/+/g,"/"),U3=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),B3=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,F3=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function V3(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var $j=["POST","PUT","PATCH","DELETE"];new Set($j);var z3=["GET",...$j];new Set(z3);var ed=Pe.createContext(null);ed.displayName="DataRouter";var cm=Pe.createContext(null);cm.displayName="DataRouterState";var Wj=Pe.createContext({isTransitioning:!1});Wj.displayName="ViewTransition";var G3=Pe.createContext(new Map);G3.displayName="Fetchers";var H3=Pe.createContext(null);H3.displayName="Await";var bo=Pe.createContext(null);bo.displayName="Navigation";var Nh=Pe.createContext(null);Nh.displayName="Location";var _o=Pe.createContext({outlet:null,matches:[],isDataRoute:!1});_o.displayName="Route";var G0=Pe.createContext(null);G0.displayName="RouteError";function q3(r,{relative:t}={}){Cn(td(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:i}=Pe.useContext(bo),{hash:l,pathname:y,search:R}=Uh(r,{relative:t}),n=y;return s!=="/"&&(n=y==="/"?s:_a([s,y])),i.createHref({pathname:n,search:R,hash:l})}function td(){return Pe.useContext(Nh)!=null}function Ta(){return Cn(td(),"useLocation() may be used only in the context of a <Router> component."),Pe.useContext(Nh).location}var Yj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xj(r){Pe.useContext(bo).static||Pe.useLayoutEffect(r)}function rd(){let{isDataRoute:r}=Pe.useContext(_o);return r?sI():$3()}function $3(){Cn(td(),"useNavigate() may be used only in the context of a <Router> component.");let r=Pe.useContext(ed),{basename:t,navigator:s}=Pe.useContext(bo),{matches:i}=Pe.useContext(_o),{pathname:l}=Ta(),y=JSON.stringify(V0(i)),R=Pe.useRef(!1);return Xj(()=>{R.current=!0}),Pe.useCallback((C,x={})=>{if(to(R.current,Yj),!R.current)return;if(typeof C=="number"){s.go(C);return}let m=z0(C,JSON.parse(y),l,x.relative==="path");r==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:_a([t,m.pathname])),(x.replace?s.replace:s.push)(m,x.state,x)},[t,s,y,l,r])}Pe.createContext(null);function Kj(){let{matches:r}=Pe.useContext(_o),t=r[r.length-1];return t?t.params:{}}function Uh(r,{relative:t}={}){let{matches:s}=Pe.useContext(_o),{pathname:i}=Ta(),l=JSON.stringify(V0(s));return Pe.useMemo(()=>z0(r,JSON.parse(l),i,t==="path"),[r,l,i,t])}function W3(r,t){return Qj(r,t)}function Qj(r,t,s,i){var u;Cn(td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:y}=Pe.useContext(bo),{matches:R}=Pe.useContext(_o),n=R[R.length-1],C=n?n.params:{},x=n?n.pathname:"/",m=n?n.pathnameBase:"/",d=n&&n.route;{let g=d&&d.path||"";Zj(x,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let c=Ta(),T;if(t){let g=typeof t=="string"?Ou(t):t;Cn(m==="/"||((u=g.pathname)==null?void 0:u.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${g.pathname}" was given in the \`location\` prop.`),T=g}else T=c;let A=T.pathname||"/",f=A;if(m!=="/"){let g=m.replace(/^\//,"").split("/");f="/"+A.replace(/^\//,"").split("/").slice(g.length).join("/")}let h=!y&&s&&s.matches&&s.matches.length>0?s.matches:Gj(r,{pathname:f});to(d||h!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),to(h==null||h[h.length-1].route.element!==void 0||h[h.length-1].route.Component!==void 0||h[h.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=Z3(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},C,g.params),pathname:_a([m,l.encodeLocation?l.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?m:_a([m,l.encodeLocation?l.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),R,s,i);return t&&p?Pe.createElement(Nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},p):p}function Y3(){let r=nI(),t=V3(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},y={padding:"2px 4px",backgroundColor:i},R=null;return console.error("Error handled by React Router default ErrorBoundary:",r),R=Pe.createElement(Pe.Fragment,null,Pe.createElement("p",null,"💿 Hey developer 👋"),Pe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Pe.createElement("code",{style:y},"ErrorBoundary")," or"," ",Pe.createElement("code",{style:y},"errorElement")," prop on your route.")),Pe.createElement(Pe.Fragment,null,Pe.createElement("h2",null,"Unexpected Application Error!"),Pe.createElement("h3",{style:{fontStyle:"italic"}},t),s?Pe.createElement("pre",{style:l},s):null,R)}var X3=Pe.createElement(Y3,null),K3=class extends Pe.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Pe.createElement(_o.Provider,{value:this.props.routeContext},Pe.createElement(G0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q3({routeContext:r,match:t,children:s}){let i=Pe.useContext(ed);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),Pe.createElement(_o.Provider,{value:r},s)}function Z3(r,t=[],s=null,i=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let l=r,y=s==null?void 0:s.errors;if(y!=null){let C=l.findIndex(x=>x.route.id&&(y==null?void 0:y[x.route.id])!==void 0);Cn(C>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(y).join(",")}`),l=l.slice(0,Math.min(l.length,C+1))}let R=!1,n=-1;if(s)for(let C=0;C<l.length;C++){let x=l[C];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(n=C),x.route.id){let{loaderData:m,errors:d}=s,c=x.route.loader&&!m.hasOwnProperty(x.route.id)&&(!d||d[x.route.id]===void 0);if(x.route.lazy||c){R=!0,n>=0?l=l.slice(0,n+1):l=[l[0]];break}}}return l.reduceRight((C,x,m)=>{let d,c=!1,T=null,A=null;s&&(d=y&&x.route.id?y[x.route.id]:void 0,T=x.route.errorElement||X3,R&&(n<0&&m===0?(Zj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,A=null):n===m&&(c=!0,A=x.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,m+1)),h=()=>{let p;return d?p=T:c?p=A:x.route.Component?p=Pe.createElement(x.route.Component,null):x.route.element?p=x.route.element:p=C,Pe.createElement(Q3,{match:x,routeContext:{outlet:C,matches:f,isDataRoute:s!=null},children:p})};return s&&(x.route.ErrorBoundary||x.route.errorElement||m===0)?Pe.createElement(K3,{location:s.location,revalidation:s.revalidation,component:T,error:d,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}function H0(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J3(r){let t=Pe.useContext(ed);return Cn(t,H0(r)),t}function eI(r){let t=Pe.useContext(cm);return Cn(t,H0(r)),t}function tI(r){let t=Pe.useContext(_o);return Cn(t,H0(r)),t}function q0(r){let t=tI(r),s=t.matches[t.matches.length-1];return Cn(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function rI(){return q0("useRouteId")}function nI(){var i;let r=Pe.useContext(G0),t=eI("useRouteError"),s=q0("useRouteError");return r!==void 0?r:(i=t.errors)==null?void 0:i[s]}function sI(){let{router:r}=J3("useNavigate"),t=q0("useNavigate"),s=Pe.useRef(!1);return Xj(()=>{s.current=!0}),Pe.useCallback(async(l,y={})=>{to(s.current,Yj),s.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...y}))},[r,t])}var Mx={};function Zj(r,t,s){!t&&!Mx[r]&&(Mx[r]=!0,to(!1,s))}Pe.memo(iI);function iI({routes:r,future:t,state:s}){return Qj(r,void 0,s,t)}function oI({to:r,replace:t,state:s,relative:i}){Cn(td(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=Pe.useContext(bo);to(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:y}=Pe.useContext(_o),{pathname:R}=Ta(),n=rd(),C=z0(r,V0(y),R,i==="path"),x=JSON.stringify(C);return Pe.useEffect(()=>{n(JSON.parse(x),{replace:t,state:s,relative:i})},[n,x,i,t,s]),null}function ya(r){Cn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aI({basename:r="/",children:t=null,location:s,navigationType:i="POP",navigator:l,static:y=!1}){Cn(!td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let R=r.replace(/^\/*/,"/"),n=Pe.useMemo(()=>({basename:R,navigator:l,static:y,future:{}}),[R,l,y]);typeof s=="string"&&(s=Ou(s));let{pathname:C="/",search:x="",hash:m="",state:d=null,key:c="default"}=s,T=Pe.useMemo(()=>{let A=wa(C,R);return A==null?null:{location:{pathname:A,search:x,hash:m,state:d,key:c},navigationType:i}},[R,C,x,m,d,c,i]);return to(T!=null,`<Router basename="${R}"> is not able to match the URL "${C}${x}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:Pe.createElement(bo.Provider,{value:n},Pe.createElement(Nh.Provider,{children:t,value:T}))}function lI({children:r,location:t}){return W3(Vv(r),t)}function Vv(r,t=[]){let s=[];return Pe.Children.forEach(r,(i,l)=>{if(!Pe.isValidElement(i))return;let y=[...t,l];if(i.type===Pe.Fragment){s.push.apply(s,Vv(i.props.children,y));return}Cn(i.type===ya,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Cn(!i.props.index||!i.props.children,"An index route cannot have child routes.");let R={id:i.props.id||y.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(R.children=Vv(i.props.children,y)),s.push(R)}),s}var op="get",ap="application/x-www-form-urlencoded";function dm(r){return r!=null&&typeof r.tagName=="string"}function uI(r){return dm(r)&&r.tagName.toLowerCase()==="button"}function cI(r){return dm(r)&&r.tagName.toLowerCase()==="form"}function dI(r){return dm(r)&&r.tagName.toLowerCase()==="input"}function hI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fI(r,t){return r.button===0&&(!t||t==="_self")&&!hI(r)}var qf=null;function pI(){if(qf===null)try{new FormData(document.createElement("form"),0),qf=!1}catch{qf=!0}return qf}var mI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(r){return r!=null&&!mI.has(r)?(to(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ap}"`),null):r}function yI(r,t){let s,i,l,y,R;if(cI(r)){let n=r.getAttribute("action");i=n?wa(n,t):null,s=r.getAttribute("method")||op,l=Dg(r.getAttribute("enctype"))||ap,y=new FormData(r)}else if(uI(r)||dI(r)&&(r.type==="submit"||r.type==="image")){let n=r.form;if(n==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let C=r.getAttribute("formaction")||n.getAttribute("action");if(i=C?wa(C,t):null,s=r.getAttribute("formmethod")||n.getAttribute("method")||op,l=Dg(r.getAttribute("formenctype"))||Dg(n.getAttribute("enctype"))||ap,y=new FormData(n,r),!pI()){let{name:x,type:m,value:d}=r;if(m==="image"){let c=x?`${x}.`:"";y.append(`${c}x`,"0"),y.append(`${c}y`,"0")}else x&&y.append(x,d)}}else{if(dm(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=op,i=null,l=ap,R=r}return y&&l==="text/plain"&&(R=y,y=void 0),{action:i,method:s.toLowerCase(),encType:l,formData:y,body:R}}function $0(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function gI(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bI(r,t,s){let i=await Promise.all(r.map(async l=>{let y=t.routes[l.route.id];if(y){let R=await gI(y,s);return R.links?R.links():[]}return[]}));return SI(i.flat(1).filter(vI).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function kx(r,t,s,i,l,y){let R=(C,x)=>s[x]?C.route.id!==s[x].route.id:!0,n=(C,x)=>{var m;return s[x].pathname!==C.pathname||((m=s[x].route.path)==null?void 0:m.endsWith("*"))&&s[x].params["*"]!==C.params["*"]};return y==="assets"?t.filter((C,x)=>R(C,x)||n(C,x)):y==="data"?t.filter((C,x)=>{var d;let m=i.routes[C.route.id];if(!m||!m.hasLoader)return!1;if(R(C,x)||n(C,x))return!0;if(C.route.shouldRevalidate){let c=C.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((d=s[0])==null?void 0:d.params)||{},nextUrl:new URL(r,window.origin),nextParams:C.params,defaultShouldRevalidate:!0});if(typeof c=="boolean")return c}return!0}):[]}function _I(r,t,{includeHydrateFallback:s}={}){return wI(r.map(i=>{let l=t.routes[i.route.id];if(!l)return[];let y=[l.module];return l.clientActionModule&&(y=y.concat(l.clientActionModule)),l.clientLoaderModule&&(y=y.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(y=y.concat(l.hydrateFallbackModule)),l.imports&&(y=y.concat(l.imports)),y}).flat(1))}function wI(r){return[...new Set(r)]}function xI(r){let t={},s=Object.keys(r).sort();for(let i of s)t[i]=r[i];return t}function SI(r,t){let s=new Set;return new Set(t),r.reduce((i,l)=>{let y=JSON.stringify(xI(l));return s.has(y)||(s.add(y),i.push({key:y,link:l})),i},[])}function EI(r,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname="_root.data":t&&wa(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function Jj(){let r=Pe.useContext(ed);return $0(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jI(){let r=Pe.useContext(cm);return $0(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var W0=Pe.createContext(void 0);W0.displayName="FrameworkContext";function eT(){let r=Pe.useContext(W0);return $0(r,"You must render this element inside a <HydratedRouter> element"),r}function TI(r,t){let s=Pe.useContext(W0),[i,l]=Pe.useState(!1),[y,R]=Pe.useState(!1),{onFocus:n,onBlur:C,onMouseEnter:x,onMouseLeave:m,onTouchStart:d}=t,c=Pe.useRef(null);Pe.useEffect(()=>{if(r==="render"&&R(!0),r==="viewport"){let f=p=>{p.forEach(u=>{R(u.isIntersecting)})},h=new IntersectionObserver(f,{threshold:.5});return c.current&&h.observe(c.current),()=>{h.disconnect()}}},[r]),Pe.useEffect(()=>{if(i){let f=setTimeout(()=>{R(!0)},100);return()=>{clearTimeout(f)}}},[i]);let T=()=>{l(!0)},A=()=>{l(!1),R(!1)};return s?r!=="intent"?[y,c,{}]:[y,c,{onFocus:th(n,T),onBlur:th(C,A),onMouseEnter:th(x,T),onMouseLeave:th(m,A),onTouchStart:th(d,T)}]:[!1,c,{}]}function th(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function AI({page:r,...t}){let{router:s}=Jj(),i=Pe.useMemo(()=>Gj(s.routes,r,s.basename),[s.routes,r,s.basename]);return i?Pe.createElement(RI,{page:r,matches:i,...t}):null}function CI(r){let{manifest:t,routeModules:s}=eT(),[i,l]=Pe.useState([]);return Pe.useEffect(()=>{let y=!1;return bI(r,t,s).then(R=>{y||l(R)}),()=>{y=!0}},[r,t,s]),i}function RI({page:r,matches:t,...s}){let i=Ta(),{manifest:l,routeModules:y}=eT(),{basename:R}=Jj(),{loaderData:n,matches:C}=jI(),x=Pe.useMemo(()=>kx(r,t,C,l,i,"data"),[r,t,C,l,i]),m=Pe.useMemo(()=>kx(r,t,C,l,i,"assets"),[r,t,C,l,i]),d=Pe.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let A=new Set,f=!1;if(t.forEach(p=>{var g;let u=l.routes[p.route.id];!u||!u.hasLoader||(!x.some(S=>S.route.id===p.route.id)&&p.route.id in n&&((g=y[p.route.id])!=null&&g.shouldRevalidate)||u.hasClientLoader?f=!0:A.add(p.route.id))}),A.size===0)return[];let h=EI(r,R);return f&&A.size>0&&h.searchParams.set("_routes",t.filter(p=>A.has(p.route.id)).map(p=>p.route.id).join(",")),[h.pathname+h.search]},[R,n,i,l,x,t,r,y]),c=Pe.useMemo(()=>_I(m,l),[m,l]),T=CI(m);return Pe.createElement(Pe.Fragment,null,d.map(A=>Pe.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...s})),c.map(A=>Pe.createElement("link",{key:A,rel:"modulepreload",href:A,...s})),T.map(({key:A,link:f})=>Pe.createElement("link",{key:A,...f})))}function MI(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var tT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tT&&(window.__reactRouterVersion="7.3.0")}catch{}function kI({basename:r,children:t,window:s}){let i=Pe.useRef();i.current==null&&(i.current=b3({window:s,v5Compat:!0}));let l=i.current,[y,R]=Pe.useState({action:l.action,location:l.location}),n=Pe.useCallback(C=>{Pe.startTransition(()=>R(C))},[R]);return Pe.useLayoutEffect(()=>l.listen(n),[l,n]),Pe.createElement(aI,{basename:r,children:t,location:y.location,navigationType:y.action,navigator:l})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y0=Pe.forwardRef(function({onClick:t,discover:s="render",prefetch:i="none",relative:l,reloadDocument:y,replace:R,state:n,target:C,to:x,preventScrollReset:m,viewTransition:d,...c},T){let{basename:A}=Pe.useContext(bo),f=typeof x=="string"&&rT.test(x),h,p=!1;if(typeof x=="string"&&f&&(h=x,tT))try{let M=new URL(window.location.href),P=x.startsWith("//")?new URL(M.protocol+x):new URL(x),D=wa(P.pathname,A);P.origin===M.origin&&D!=null?x=D+P.search+P.hash:p=!0}catch{to(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let u=q3(x,{relative:l}),[g,S,j]=TI(i,c),_=PI(x,{replace:R,state:n,target:C,preventScrollReset:m,relative:l,viewTransition:d});function b(M){t&&t(M),M.defaultPrevented||_(M)}let E=Pe.createElement("a",{...c,...j,href:h||u,onClick:p||y?t:b,ref:MI(T,S),target:C,"data-discover":!f&&s==="render"?"true":void 0});return g&&!f?Pe.createElement(Pe.Fragment,null,E,Pe.createElement(AI,{page:u})):E});Y0.displayName="Link";var II=Pe.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:i="",end:l=!1,style:y,to:R,viewTransition:n,children:C,...x},m){let d=Uh(R,{relative:x.relative}),c=Ta(),T=Pe.useContext(cm),{navigator:A,basename:f}=Pe.useContext(bo),h=T!=null&&FI(d)&&n===!0,p=A.encodeLocation?A.encodeLocation(d).pathname:d.pathname,u=c.pathname,g=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(u=u.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase()),g&&f&&(g=wa(g,f)||g);const S=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=u===p||!l&&u.startsWith(p)&&u.charAt(S)==="/",_=g!=null&&(g===p||!l&&g.startsWith(p)&&g.charAt(p.length)==="/"),b={isActive:j,isPending:_,isTransitioning:h},E=j?t:void 0,M;typeof i=="function"?M=i(b):M=[i,j?"active":null,_?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let P=typeof y=="function"?y(b):y;return Pe.createElement(Y0,{...x,"aria-current":E,className:M,ref:m,style:P,to:R,viewTransition:n},typeof C=="function"?C(b):C)});II.displayName="NavLink";var OI=Pe.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:i,replace:l,state:y,method:R=op,action:n,onSubmit:C,relative:x,preventScrollReset:m,viewTransition:d,...c},T)=>{let A=UI(),f=BI(n,{relative:x}),h=R.toLowerCase()==="get"?"get":"post",p=typeof n=="string"&&rT.test(n),u=g=>{if(C&&C(g),g.defaultPrevented)return;g.preventDefault();let S=g.nativeEvent.submitter,j=(S==null?void 0:S.getAttribute("formmethod"))||R;A(S||g.currentTarget,{fetcherKey:t,method:j,navigate:s,replace:l,state:y,relative:x,preventScrollReset:m,viewTransition:d})};return Pe.createElement("form",{ref:T,method:h,action:f,onSubmit:i?C:u,...c,"data-discover":!p&&r==="render"?"true":void 0})});OI.displayName="Form";function DI(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(r){let t=Pe.useContext(ed);return Cn(t,DI(r)),t}function PI(r,{target:t,replace:s,state:i,preventScrollReset:l,relative:y,viewTransition:R}={}){let n=rd(),C=Ta(),x=Uh(r,{relative:y});return Pe.useCallback(m=>{if(fI(m,t)){m.preventDefault();let d=s!==void 0?s:Sh(C)===Sh(x);n(r,{replace:d,state:i,preventScrollReset:l,relative:y,viewTransition:R})}},[C,n,x,s,i,t,r,l,y,R])}var LI=0,NI=()=>`__${String(++LI)}__`;function UI(){let{router:r}=nT("useSubmit"),{basename:t}=Pe.useContext(bo),s=rI();return Pe.useCallback(async(i,l={})=>{let{action:y,method:R,encType:n,formData:C,body:x}=yI(i,t);if(l.navigate===!1){let m=l.fetcherKey||NI();await r.fetch(m,s,l.action||y,{preventScrollReset:l.preventScrollReset,formData:C,body:x,formMethod:l.method||R,formEncType:l.encType||n,flushSync:l.flushSync})}else await r.navigate(l.action||y,{preventScrollReset:l.preventScrollReset,formData:C,body:x,formMethod:l.method||R,formEncType:l.encType||n,replace:l.replace,state:l.state,fromRouteId:s,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,s])}function BI(r,{relative:t}={}){let{basename:s}=Pe.useContext(bo),i=Pe.useContext(_o);Cn(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),y={...Uh(r||".",{relative:t})},R=Ta();if(r==null){y.search=R.search;let n=new URLSearchParams(y.search),C=n.getAll("index");if(C.some(m=>m==="")){n.delete("index"),C.filter(d=>d).forEach(d=>n.append("index",d));let m=n.toString();y.search=m?`?${m}`:""}}return(!r||r===".")&&l.route.index&&(y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(y.pathname=y.pathname==="/"?s:_a([s,y.pathname])),Sh(y)}function FI(r,t={}){let s=Pe.useContext(Wj);Cn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=nT("useViewTransitionState"),l=Uh(r,{relative:t.relative});if(!s.isTransitioning)return!1;let y=wa(s.currentLocation.pathname,i)||s.currentLocation.pathname,R=wa(s.nextLocation.pathname,i)||s.nextLocation.pathname;return Rp(l.pathname,R)!=null||Rp(l.pathname,y)!=null}new TextEncoder;const sT=Pe.createContext(),VI=({children:r})=>{const t=Pe.useRef(new Audio),[s,i]=Pe.useState(!1),[l,y]=Pe.useState(0),[R,n]=Pe.useState("--:--"),C=()=>{const m=t.current;if(t.current&&(t.current.muted=!1,t.current.play().catch(console.error),i(!t.current.paused)),m){const d=m.play();d!==void 0?d.then(()=>{i(!0),console.log("Playback started")}).catch(c=>{console.error("Playback prevented:",c)}):console.warn("No play promise available")}};Pe.useEffect(()=>{const m=t.current,d=()=>{m.duration&&(y(m.currentTime/m.duration*100),n(x(m.currentTime)))};return m.addEventListener("timeupdate",d),()=>m.removeEventListener("timeupdate",d)},[]);const x=m=>{const d=Math.floor(m/60),c=Math.floor(m%60);return`${d}:${c<10?"0":""}${c}`};return ge.jsx(sT.Provider,{value:{audioRef:t,isPlaying:s,setIsPlaying:i,progress:l,setProgress:y,currentTime:R,setCurrentTime:n,togglePlayPause:C},children:r})};function zI(){return Pe.useContext(sT)}var gi=function(){return gi=Object.assign||function(t){for(var s,i=1,l=arguments.length;i<l;i++){s=arguments[i];for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&(t[y]=s[y])}return t},gi.apply(this,arguments)};function Eh(r,t,s){if(s||arguments.length===2)for(var i=0,l=t.length,y;i<l;i++)(y||!(i in t))&&(y||(y=Array.prototype.slice.call(t,0,i)),y[i]=t[i]);return r.concat(y||Array.prototype.slice.call(t))}var Tn="-ms-",ch="-moz-",nn="-webkit-",iT="comm",hm="rule",X0="decl",GI="@import",oT="@keyframes",HI="@layer",aT=Math.abs,K0=String.fromCharCode,zv=Object.assign;function qI(r,t){return Es(r,0)^45?(((t<<2^Es(r,0))<<2^Es(r,1))<<2^Es(r,2))<<2^Es(r,3):0}function lT(r){return r.trim()}function ga(r,t){return(r=t.exec(r))?r[0]:r}function wr(r,t,s){return r.replace(t,s)}function lp(r,t,s){return r.indexOf(t,s)}function Es(r,t){return r.charCodeAt(t)|0}function Ic(r,t,s){return r.slice(t,s)}function No(r){return r.length}function uT(r){return r.length}function ih(r,t){return t.push(r),r}function $I(r,t){return r.map(t).join("")}function Ix(r,t){return r.filter(function(s){return!ga(s,t)})}var fm=1,Oc=1,cT=0,ro=0,os=0,nd="";function pm(r,t,s,i,l,y,R,n){return{value:r,root:t,parent:s,type:i,props:l,children:y,line:fm,column:Oc,length:R,return:"",siblings:n}}function cl(r,t){return zv(pm("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},t)}function dc(r){for(;r.root;)r=cl(r.root,{children:[r]});ih(r,r.siblings)}function WI(){return os}function YI(){return os=ro>0?Es(nd,--ro):0,Oc--,os===10&&(Oc=1,fm--),os}function po(){return os=ro<cT?Es(nd,ro++):0,Oc++,os===10&&(Oc=1,fm++),os}function wu(){return Es(nd,ro)}function up(){return ro}function mm(r,t){return Ic(nd,r,t)}function Gv(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function XI(r){return fm=Oc=1,cT=No(nd=r),ro=0,[]}function KI(r){return nd="",r}function Pg(r){return lT(mm(ro-1,Hv(r===91?r+2:r===40?r+1:r)))}function QI(r){for(;(os=wu())&&os<33;)po();return Gv(r)>2||Gv(os)>3?"":" "}function ZI(r,t){for(;--t&&po()&&!(os<48||os>102||os>57&&os<65||os>70&&os<97););return mm(r,up()+(t<6&&wu()==32&&po()==32))}function Hv(r){for(;po();)switch(os){case r:return ro;case 34:case 39:r!==34&&r!==39&&Hv(os);break;case 40:r===41&&Hv(r);break;case 92:po();break}return ro}function JI(r,t){for(;po()&&r+os!==57;)if(r+os===84&&wu()===47)break;return"/*"+mm(t,ro-1)+"*"+K0(r===47?r:po())}function eO(r){for(;!Gv(wu());)po();return mm(r,ro)}function tO(r){return KI(cp("",null,null,null,[""],r=XI(r),0,[0],r))}function cp(r,t,s,i,l,y,R,n,C){for(var x=0,m=0,d=R,c=0,T=0,A=0,f=1,h=1,p=1,u=0,g="",S=l,j=y,_=i,b=g;h;)switch(A=u,u=po()){case 40:if(A!=108&&Es(b,d-1)==58){lp(b+=wr(Pg(u),"&","&\f"),"&\f",aT(x?n[x-1]:0))!=-1&&(p=-1);break}case 34:case 39:case 91:b+=Pg(u);break;case 9:case 10:case 13:case 32:b+=QI(A);break;case 92:b+=ZI(up()-1,7);continue;case 47:switch(wu()){case 42:case 47:ih(rO(JI(po(),up()),t,s,C),C);break;default:b+="/"}break;case 123*f:n[x++]=No(b)*p;case 125*f:case 59:case 0:switch(u){case 0:case 125:h=0;case 59+m:p==-1&&(b=wr(b,/\f/g,"")),T>0&&No(b)-d&&ih(T>32?Dx(b+";",i,s,d-1,C):Dx(wr(b," ","")+";",i,s,d-2,C),C);break;case 59:b+=";";default:if(ih(_=Ox(b,t,s,x,m,l,n,g,S=[],j=[],d,y),y),u===123)if(m===0)cp(b,t,_,_,S,y,d,n,j);else switch(c===99&&Es(b,3)===110?100:c){case 100:case 108:case 109:case 115:cp(r,_,_,i&&ih(Ox(r,_,_,0,0,l,n,g,l,S=[],d,j),j),l,j,d,n,i?S:j);break;default:cp(b,_,_,_,[""],j,0,n,j)}}x=m=T=0,f=p=1,g=b="",d=R;break;case 58:d=1+No(b),T=A;default:if(f<1){if(u==123)--f;else if(u==125&&f++==0&&YI()==125)continue}switch(b+=K0(u),u*f){case 38:p=m>0?1:(b+="\f",-1);break;case 44:n[x++]=(No(b)-1)*p,p=1;break;case 64:wu()===45&&(b+=Pg(po())),c=wu(),m=d=No(g=b+=eO(up())),u++;break;case 45:A===45&&No(b)==2&&(f=0)}}return y}function Ox(r,t,s,i,l,y,R,n,C,x,m,d){for(var c=l-1,T=l===0?y:[""],A=uT(T),f=0,h=0,p=0;f<i;++f)for(var u=0,g=Ic(r,c+1,c=aT(h=R[f])),S=r;u<A;++u)(S=lT(h>0?T[u]+" "+g:wr(g,/&\f/g,T[u])))&&(C[p++]=S);return pm(r,t,s,l===0?hm:n,C,x,m,d)}function rO(r,t,s,i){return pm(r,t,s,iT,K0(WI()),Ic(r,2,-2),0,i)}function Dx(r,t,s,i,l){return pm(r,t,s,X0,Ic(r,0,i),Ic(r,i+1,-1),i,l)}function dT(r,t,s){switch(qI(r,t)){case 5103:return nn+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return nn+r+r;case 4789:return ch+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return nn+r+ch+r+Tn+r+r;case 5936:switch(Es(r,t+11)){case 114:return nn+r+Tn+wr(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return nn+r+Tn+wr(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return nn+r+Tn+wr(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return nn+r+Tn+r+r;case 6165:return nn+r+Tn+"flex-"+r+r;case 5187:return nn+r+wr(r,/(\w+).+(:[^]+)/,nn+"box-$1$2"+Tn+"flex-$1$2")+r;case 5443:return nn+r+Tn+"flex-item-"+wr(r,/flex-|-self/g,"")+(ga(r,/flex-|baseline/)?"":Tn+"grid-row-"+wr(r,/flex-|-self/g,""))+r;case 4675:return nn+r+Tn+"flex-line-pack"+wr(r,/align-content|flex-|-self/g,"")+r;case 5548:return nn+r+Tn+wr(r,"shrink","negative")+r;case 5292:return nn+r+Tn+wr(r,"basis","preferred-size")+r;case 6060:return nn+"box-"+wr(r,"-grow","")+nn+r+Tn+wr(r,"grow","positive")+r;case 4554:return nn+wr(r,/([^-])(transform)/g,"$1"+nn+"$2")+r;case 6187:return wr(wr(wr(r,/(zoom-|grab)/,nn+"$1"),/(image-set)/,nn+"$1"),r,"")+r;case 5495:case 3959:return wr(r,/(image-set\([^]*)/,nn+"$1$`$1");case 4968:return wr(wr(r,/(.+:)(flex-)?(.*)/,nn+"box-pack:$3"+Tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+nn+r+r;case 4200:if(!ga(r,/flex-|baseline/))return Tn+"grid-column-align"+Ic(r,t)+r;break;case 2592:case 3360:return Tn+wr(r,"template-","")+r;case 4384:case 3616:return s&&s.some(function(i,l){return t=l,ga(i.props,/grid-\w+-end/)})?~lp(r+(s=s[t].value),"span",0)?r:Tn+wr(r,"-start","")+r+Tn+"grid-row-span:"+(~lp(s,"span",0)?ga(s,/\d+/):+ga(s,/\d+/)-+ga(r,/\d+/))+";":Tn+wr(r,"-start","")+r;case 4896:case 4128:return s&&s.some(function(i){return ga(i.props,/grid-\w+-start/)})?r:Tn+wr(wr(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return wr(r,/(.+)-inline(.+)/,nn+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(No(r)-1-t>6)switch(Es(r,t+1)){case 109:if(Es(r,t+4)!==45)break;case 102:return wr(r,/(.+:)(.+)-([^]+)/,"$1"+nn+"$2-$3$1"+ch+(Es(r,t+3)==108?"$3":"$2-$3"))+r;case 115:return~lp(r,"stretch",0)?dT(wr(r,"stretch","fill-available"),t,s)+r:r}break;case 5152:case 5920:return wr(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,l,y,R,n,C,x){return Tn+l+":"+y+x+(R?Tn+l+"-span:"+(n?C:+C-+y)+x:"")+r});case 4949:if(Es(r,t+6)===121)return wr(r,":",":"+nn)+r;break;case 6444:switch(Es(r,Es(r,14)===45?18:11)){case 120:return wr(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+nn+(Es(r,14)===45?"inline-":"")+"box$3$1"+nn+"$2$3$1"+Tn+"$2box$3")+r;case 100:return wr(r,":",":"+Tn)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return wr(r,"scroll-","scroll-snap-")+r}return r}function Mp(r,t){for(var s="",i=0;i<r.length;i++)s+=t(r[i],i,r,t)||"";return s}function nO(r,t,s,i){switch(r.type){case HI:if(r.children.length)break;case GI:case X0:return r.return=r.return||r.value;case iT:return"";case oT:return r.return=r.value+"{"+Mp(r.children,i)+"}";case hm:if(!No(r.value=r.props.join(",")))return""}return No(s=Mp(r.children,i))?r.return=r.value+"{"+s+"}":""}function sO(r){var t=uT(r);return function(s,i,l,y){for(var R="",n=0;n<t;n++)R+=r[n](s,i,l,y)||"";return R}}function iO(r){return function(t){t.root||(t=t.return)&&r(t)}}function oO(r,t,s,i){if(r.length>-1&&!r.return)switch(r.type){case X0:r.return=dT(r.value,r.length,s);return;case oT:return Mp([cl(r,{value:wr(r.value,"@","@"+nn)})],i);case hm:if(r.length)return $I(s=r.props,function(l){switch(ga(l,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":dc(cl(r,{props:[wr(l,/:(read-\w+)/,":"+ch+"$1")]})),dc(cl(r,{props:[l]})),zv(r,{props:Ix(s,i)});break;case"::placeholder":dc(cl(r,{props:[wr(l,/:(plac\w+)/,":"+nn+"input-$1")]})),dc(cl(r,{props:[wr(l,/:(plac\w+)/,":"+ch+"$1")]})),dc(cl(r,{props:[wr(l,/:(plac\w+)/,Tn+"input-$1")]})),dc(cl(r,{props:[l]})),zv(r,{props:Ix(s,i)});break}return""})}}var aO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Mi={},Dc=typeof process<"u"&&Mi!==void 0&&(Mi.REACT_APP_SC_ATTR||Mi.SC_ATTR)||"data-styled",hT="active",fT="data-styled-version",ym="6.1.15",Q0=`/*!sc*/
`,kp=typeof window<"u"&&"HTMLElement"in window,lO=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Mi!==void 0&&Mi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Mi.REACT_APP_SC_DISABLE_SPEEDY!==""?Mi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Mi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Mi!==void 0&&Mi.SC_DISABLE_SPEEDY!==void 0&&Mi.SC_DISABLE_SPEEDY!==""&&Mi.SC_DISABLE_SPEEDY!=="false"&&Mi.SC_DISABLE_SPEEDY),gm=Object.freeze([]),Pc=Object.freeze({});function uO(r,t,s){return s===void 0&&(s=Pc),r.theme!==s.theme&&r.theme||t||s.theme}var pT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),cO=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,dO=/(^-|-$)/g;function Px(r){return r.replace(cO,"-").replace(dO,"")}var hO=/(a)(d)/gi,$f=52,Lx=function(r){return String.fromCharCode(r+(r>25?39:97))};function qv(r){var t,s="";for(t=Math.abs(r);t>$f;t=t/$f|0)s=Lx(t%$f)+s;return(Lx(t%$f)+s).replace(hO,"$1-$2")}var Lg,mT=5381,_c=function(r,t){for(var s=t.length;s;)r=33*r^t.charCodeAt(--s);return r},yT=function(r){return _c(mT,r)};function gT(r){return qv(yT(r)>>>0)}function fO(r){return r.displayName||r.name||"Component"}function Ng(r){return typeof r=="string"&&!0}var vT=typeof Symbol=="function"&&Symbol.for,bT=vT?Symbol.for("react.memo"):60115,pO=vT?Symbol.for("react.forward_ref"):60112,mO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},yO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_T={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gO=((Lg={})[pO]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lg[bT]=_T,Lg);function Nx(r){return("type"in(t=r)&&t.type.$$typeof)===bT?_T:"$$typeof"in r?gO[r.$$typeof]:mO;var t}var vO=Object.defineProperty,bO=Object.getOwnPropertyNames,Ux=Object.getOwnPropertySymbols,_O=Object.getOwnPropertyDescriptor,wO=Object.getPrototypeOf,Bx=Object.prototype;function wT(r,t,s){if(typeof t!="string"){if(Bx){var i=wO(t);i&&i!==Bx&&wT(r,i,s)}var l=bO(t);Ux&&(l=l.concat(Ux(t)));for(var y=Nx(r),R=Nx(t),n=0;n<l.length;++n){var C=l[n];if(!(C in yO||s&&s[C]||R&&C in R||y&&C in y)){var x=_O(t,C);try{vO(r,C,x)}catch{}}}}return r}function Lc(r){return typeof r=="function"}function Z0(r){return typeof r=="object"&&"styledComponentId"in r}function gu(r,t){return r&&t?"".concat(r," ").concat(t):r||t||""}function $v(r,t){if(r.length===0)return"";for(var s=r[0],i=1;i<r.length;i++)s+=r[i];return s}function jh(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Wv(r,t,s){if(s===void 0&&(s=!1),!s&&!jh(r)&&!Array.isArray(r))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)r[i]=Wv(r[i],t[i]);else if(jh(t))for(var i in t)r[i]=Wv(r[i],t[i]);return r}function J0(r,t){Object.defineProperty(r,"toString",{value:t})}function Bh(r){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var xO=function(){function r(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return r.prototype.indexOfGroup=function(t){for(var s=0,i=0;i<t;i++)s+=this.groupSizes[i];return s},r.prototype.insertRules=function(t,s){if(t>=this.groupSizes.length){for(var i=this.groupSizes,l=i.length,y=l;t>=y;)if((y<<=1)<0)throw Bh(16,"".concat(t));this.groupSizes=new Uint32Array(y),this.groupSizes.set(i),this.length=y;for(var R=l;R<y;R++)this.groupSizes[R]=0}for(var n=this.indexOfGroup(t+1),C=(R=0,s.length);R<C;R++)this.tag.insertRule(n,s[R])&&(this.groupSizes[t]++,n++)},r.prototype.clearGroup=function(t){if(t<this.length){var s=this.groupSizes[t],i=this.indexOfGroup(t),l=i+s;this.groupSizes[t]=0;for(var y=i;y<l;y++)this.tag.deleteRule(i)}},r.prototype.getGroup=function(t){var s="";if(t>=this.length||this.groupSizes[t]===0)return s;for(var i=this.groupSizes[t],l=this.indexOfGroup(t),y=l+i,R=l;R<y;R++)s+="".concat(this.tag.getRule(R)).concat(Q0);return s},r}(),dp=new Map,Ip=new Map,hp=1,Wf=function(r){if(dp.has(r))return dp.get(r);for(;Ip.has(hp);)hp++;var t=hp++;return dp.set(r,t),Ip.set(t,r),t},SO=function(r,t){hp=t+1,dp.set(r,t),Ip.set(t,r)},EO="style[".concat(Dc,"][").concat(fT,'="').concat(ym,'"]'),jO=new RegExp("^".concat(Dc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),TO=function(r,t,s){for(var i,l=s.split(","),y=0,R=l.length;y<R;y++)(i=l[y])&&r.registerName(t,i)},AO=function(r,t){for(var s,i=((s=t.textContent)!==null&&s!==void 0?s:"").split(Q0),l=[],y=0,R=i.length;y<R;y++){var n=i[y].trim();if(n){var C=n.match(jO);if(C){var x=0|parseInt(C[1],10),m=C[2];x!==0&&(SO(m,x),TO(r,m,C[3]),r.getTag().insertRules(x,l)),l.length=0}else l.push(n)}}},Fx=function(r){for(var t=document.querySelectorAll(EO),s=0,i=t.length;s<i;s++){var l=t[s];l&&l.getAttribute(Dc)!==hT&&(AO(r,l),l.parentNode&&l.parentNode.removeChild(l))}};function CO(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var xT=function(r){var t=document.head,s=r||t,i=document.createElement("style"),l=function(n){var C=Array.from(n.querySelectorAll("style[".concat(Dc,"]")));return C[C.length-1]}(s),y=l!==void 0?l.nextSibling:null;i.setAttribute(Dc,hT),i.setAttribute(fT,ym);var R=CO();return R&&i.setAttribute("nonce",R),s.insertBefore(i,y),i},RO=function(){function r(t){this.element=xT(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(s){if(s.sheet)return s.sheet;for(var i=document.styleSheets,l=0,y=i.length;l<y;l++){var R=i[l];if(R.ownerNode===s)return R}throw Bh(17)}(this.element),this.length=0}return r.prototype.insertRule=function(t,s){try{return this.sheet.insertRule(s,t),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},r.prototype.getRule=function(t){var s=this.sheet.cssRules[t];return s&&s.cssText?s.cssText:""},r}(),MO=function(){function r(t){this.element=xT(t),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(t,s){if(t<=this.length&&t>=0){var i=document.createTextNode(s);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},r.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},r}(),kO=function(){function r(t){this.rules=[],this.length=0}return r.prototype.insertRule=function(t,s){return t<=this.length&&(this.rules.splice(t,0,s),this.length++,!0)},r.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},r.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},r}(),Vx=kp,IO={isServer:!kp,useCSSOMInjection:!lO},ST=function(){function r(t,s,i){t===void 0&&(t=Pc),s===void 0&&(s={});var l=this;this.options=gi(gi({},IO),t),this.gs=s,this.names=new Map(i),this.server=!!t.isServer,!this.server&&kp&&Vx&&(Vx=!1,Fx(this)),J0(this,function(){return function(y){for(var R=y.getTag(),n=R.length,C="",x=function(d){var c=function(p){return Ip.get(p)}(d);if(c===void 0)return"continue";var T=y.names.get(c),A=R.getGroup(d);if(T===void 0||!T.size||A.length===0)return"continue";var f="".concat(Dc,".g").concat(d,'[id="').concat(c,'"]'),h="";T!==void 0&&T.forEach(function(p){p.length>0&&(h+="".concat(p,","))}),C+="".concat(A).concat(f,'{content:"').concat(h,'"}').concat(Q0)},m=0;m<n;m++)x(m);return C}(l)})}return r.registerId=function(t){return Wf(t)},r.prototype.rehydrate=function(){!this.server&&kp&&Fx(this)},r.prototype.reconstructWithOptions=function(t,s){return s===void 0&&(s=!0),new r(gi(gi({},this.options),t),this.gs,s&&this.names||void 0)},r.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(t=function(s){var i=s.useCSSOMInjection,l=s.target;return s.isServer?new kO(l):i?new RO(l):new MO(l)}(this.options),new xO(t)));var t},r.prototype.hasNameForId=function(t,s){return this.names.has(t)&&this.names.get(t).has(s)},r.prototype.registerName=function(t,s){if(Wf(t),this.names.has(t))this.names.get(t).add(s);else{var i=new Set;i.add(s),this.names.set(t,i)}},r.prototype.insertRules=function(t,s,i){this.registerName(t,s),this.getTag().insertRules(Wf(t),i)},r.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},r.prototype.clearRules=function(t){this.getTag().clearGroup(Wf(t)),this.clearNames(t)},r.prototype.clearTag=function(){this.tag=void 0},r}(),OO=/&/g,DO=/^\s*\/\/.*$/gm;function ET(r,t){return r.map(function(s){return s.type==="rule"&&(s.value="".concat(t," ").concat(s.value),s.value=s.value.replaceAll(",",",".concat(t," ")),s.props=s.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(s.children)&&s.type!=="@keyframes"&&(s.children=ET(s.children,t)),s})}function PO(r){var t,s,i,l=Pc,y=l.options,R=y===void 0?Pc:y,n=l.plugins,C=n===void 0?gm:n,x=function(c,T,A){return A.startsWith(s)&&A.endsWith(s)&&A.replaceAll(s,"").length>0?".".concat(t):c},m=C.slice();m.push(function(c){c.type===hm&&c.value.includes("&")&&(c.props[0]=c.props[0].replace(OO,s).replace(i,x))}),R.prefix&&m.push(oO),m.push(nO);var d=function(c,T,A,f){T===void 0&&(T=""),A===void 0&&(A=""),f===void 0&&(f="&"),t=f,s=T,i=new RegExp("\\".concat(s,"\\b"),"g");var h=c.replace(DO,""),p=tO(A||T?"".concat(A," ").concat(T," { ").concat(h," }"):h);R.namespace&&(p=ET(p,R.namespace));var u=[];return Mp(p,sO(m.concat(iO(function(g){return u.push(g)})))),u};return d.hash=C.length?C.reduce(function(c,T){return T.name||Bh(15),_c(c,T.name)},mT).toString():"",d}var LO=new ST,Yv=PO(),jT=Au.createContext({shouldForwardProp:void 0,styleSheet:LO,stylis:Yv});jT.Consumer;Au.createContext(void 0);function zx(){return Pe.useContext(jT)}var TT=function(){function r(t,s){var i=this;this.inject=function(l,y){y===void 0&&(y=Yv);var R=i.name+y.hash;l.hasNameForId(i.id,R)||l.insertRules(i.id,R,y(i.rules,R,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=s,J0(this,function(){throw Bh(12,String(i.name))})}return r.prototype.getName=function(t){return t===void 0&&(t=Yv),this.name+t.hash},r}(),NO=function(r){return r>="A"&&r<="Z"};function Gx(r){for(var t="",s=0;s<r.length;s++){var i=r[s];if(s===1&&i==="-"&&r[0]==="-")return r;NO(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var AT=function(r){return r==null||r===!1||r===""},CT=function(r){var t,s,i=[];for(var l in r){var y=r[l];r.hasOwnProperty(l)&&!AT(y)&&(Array.isArray(y)&&y.isCss||Lc(y)?i.push("".concat(Gx(l),":"),y,";"):jh(y)?i.push.apply(i,Eh(Eh(["".concat(l," {")],CT(y),!1),["}"],!1)):i.push("".concat(Gx(l),": ").concat((t=l,(s=y)==null||typeof s=="boolean"||s===""?"":typeof s!="number"||s===0||t in aO||t.startsWith("--")?String(s).trim():"".concat(s,"px")),";")))}return i};function xu(r,t,s,i){if(AT(r))return[];if(Z0(r))return[".".concat(r.styledComponentId)];if(Lc(r)){if(!Lc(y=r)||y.prototype&&y.prototype.isReactComponent||!t)return[r];var l=r(t);return xu(l,t,s,i)}var y;return r instanceof TT?s?(r.inject(s,i),[r.getName(i)]):[r]:jh(r)?CT(r):Array.isArray(r)?Array.prototype.concat.apply(gm,r.map(function(R){return xu(R,t,s,i)})):[r.toString()]}function UO(r){for(var t=0;t<r.length;t+=1){var s=r[t];if(Lc(s)&&!Z0(s))return!1}return!0}var BO=yT(ym),FO=function(){function r(t,s,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&UO(t),this.componentId=s,this.baseHash=_c(BO,s),this.baseStyle=i,ST.registerId(s)}return r.prototype.generateAndInjectStyles=function(t,s,i){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,s,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&s.hasNameForId(this.componentId,this.staticRulesId))l=gu(l,this.staticRulesId);else{var y=$v(xu(this.rules,t,s,i)),R=qv(_c(this.baseHash,y)>>>0);if(!s.hasNameForId(this.componentId,R)){var n=i(y,".".concat(R),void 0,this.componentId);s.insertRules(this.componentId,R,n)}l=gu(l,R),this.staticRulesId=R}else{for(var C=_c(this.baseHash,i.hash),x="",m=0;m<this.rules.length;m++){var d=this.rules[m];if(typeof d=="string")x+=d;else if(d){var c=$v(xu(d,t,s,i));C=_c(C,c+m),x+=c}}if(x){var T=qv(C>>>0);s.hasNameForId(this.componentId,T)||s.insertRules(this.componentId,T,i(x,".".concat(T),void 0,this.componentId)),l=gu(l,T)}}return l},r}(),RT=Au.createContext(void 0);RT.Consumer;var Ug={};function VO(r,t,s){var i=Z0(r),l=r,y=!Ng(r),R=t.attrs,n=R===void 0?gm:R,C=t.componentId,x=C===void 0?function(S,j){var _=typeof S!="string"?"sc":Px(S);Ug[_]=(Ug[_]||0)+1;var b="".concat(_,"-").concat(gT(ym+_+Ug[_]));return j?"".concat(j,"-").concat(b):b}(t.displayName,t.parentComponentId):C,m=t.displayName,d=m===void 0?function(S){return Ng(S)?"styled.".concat(S):"Styled(".concat(fO(S),")")}(r):m,c=t.displayName&&t.componentId?"".concat(Px(t.displayName),"-").concat(t.componentId):t.componentId||x,T=i&&l.attrs?l.attrs.concat(n).filter(Boolean):n,A=t.shouldForwardProp;if(i&&l.shouldForwardProp){var f=l.shouldForwardProp;if(t.shouldForwardProp){var h=t.shouldForwardProp;A=function(S,j){return f(S,j)&&h(S,j)}}else A=f}var p=new FO(s,c,i?l.componentStyle:void 0);function u(S,j){return function(_,b,E){var M=_.attrs,P=_.componentStyle,D=_.defaultProps,O=_.foldedComponentIds,U=_.styledComponentId,F=_.target,H=Au.useContext(RT),G=zx(),Y=_.shouldForwardProp||G.shouldForwardProp,q=uO(b,H,D)||Pc,V=function(ce,de,X){for(var Z,ie=gi(gi({},de),{className:void 0,theme:X}),he=0;he<ce.length;he+=1){var ye=Lc(Z=ce[he])?Z(ie):Z;for(var ve in ye)ie[ve]=ve==="className"?gu(ie[ve],ye[ve]):ve==="style"?gi(gi({},ie[ve]),ye[ve]):ye[ve]}return de.className&&(ie.className=gu(ie.className,de.className)),ie}(M,b,q),$=V.as||F,Q={};for(var te in V)V[te]===void 0||te[0]==="$"||te==="as"||te==="theme"&&V.theme===q||(te==="forwardedAs"?Q.as=V.forwardedAs:Y&&!Y(te,$)||(Q[te]=V[te]));var ne=function(ce,de){var X=zx(),Z=ce.generateAndInjectStyles(de,X.styleSheet,X.stylis);return Z}(P,V),ae=gu(O,U);return ne&&(ae+=" "+ne),V.className&&(ae+=" "+V.className),Q[Ng($)&&!pT.has($)?"class":"className"]=ae,E&&(Q.ref=E),Pe.createElement($,Q)}(g,S,j)}u.displayName=d;var g=Au.forwardRef(u);return g.attrs=T,g.componentStyle=p,g.displayName=d,g.shouldForwardProp=A,g.foldedComponentIds=i?gu(l.foldedComponentIds,l.styledComponentId):"",g.styledComponentId=c,g.target=i?l.target:r,Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=i?function(j){for(var _=[],b=1;b<arguments.length;b++)_[b-1]=arguments[b];for(var E=0,M=_;E<M.length;E++)Wv(j,M[E],!0);return j}({},l.defaultProps,S):S}}),J0(g,function(){return".".concat(g.styledComponentId)}),y&&wT(g,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),g}function Hx(r,t){for(var s=[r[0]],i=0,l=t.length;i<l;i+=1)s.push(t[i],r[i+1]);return s}var qx=function(r){return Object.assign(r,{isCss:!0})};function MT(r){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(Lc(r)||jh(r))return qx(xu(Hx(gm,Eh([r],t,!0))));var i=r;return t.length===0&&i.length===1&&typeof i[0]=="string"?xu(i):qx(xu(Hx(i,t)))}function Xv(r,t,s){if(s===void 0&&(s=Pc),!t)throw Bh(1,t);var i=function(l){for(var y=[],R=1;R<arguments.length;R++)y[R-1]=arguments[R];return r(t,s,MT.apply(void 0,Eh([l],y,!1)))};return i.attrs=function(l){return Xv(r,t,gi(gi({},s),{attrs:Array.prototype.concat(s.attrs,l).filter(Boolean)}))},i.withConfig=function(l){return Xv(r,t,gi(gi({},s),l))},i}var kT=function(r){return Xv(VO,r)},sd=kT;pT.forEach(function(r){sd[r]=kT(r)});function IT(r){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];var i=$v(MT.apply(void 0,Eh([r],t,!1))),l=gT(i);return new TT(l,i)}const $x=({isMobile:r})=>{const[t,s]=Pe.useState(!1),i=rd();return ge.jsxs("div",{className:` ${r?"header-logo-b header-logo-mob":"header-logo header-logo-norm"}`,children:[ge.jsx("a",{onClick:()=>{i("/")},children:ge.jsx("img",{onMouseOver:()=>{s(!0)},onMouseLeave:()=>{s(!1)},className:"main",src:"./transplogo2.png",alt:"Logo"})}),!r&&ge.jsx("a",{children:ge.jsx("img",{className:"second spin",style:{opacity:t===!0?"1":"0",transform:t===!0?"translateX(-6%)":""},src:"./transplogo.png"})})]})},zO=sd(Y0)`
  font-family: Helvetica;
  font-size: 1.8vh;
  color: black;
  font-weight: ${r=>r.$isCurrentPath?"1000":"100"};
  font-size: ${r=>r.$isMobile?"2.3vh":"1.8vh"};
  text-decoration: none;
  transition: opacity 0.3s ease-in-out;
  padding-bottom: 0.5vh;
  text-align: ${r=>r.$isMobile?"right":"left"};
  background-color: ${r=>r.$isMobile?"#f7f7f72":""};
  background-color: ${r=>r.$isMobile?"#f7f7f72":"#f7f7f7"};
  padding-left: 0.5vw;
  padding-right: 0.5vw;
  cursor: pointer;

  &:hover {
    opacity: 0.3;
  }
`,eo=({text:r,to:t,external:s,menuOpen:i,onMouseEnter:l,onClick:y,isMobile:R})=>{const{pathname:n}=Ta();return ge.jsx(zO,{target:s?"_blank":"",to:t,$isCurrentPath:n===t,style:{opacity:r==="+ Menu"||i?1:0,pointerEvents:r==="+ Menu"?"Auto":i?"auto":"none"},onMouseEnter:l,$menuOpen:i,onClick:y,$isMobile:R,children:r})},GO=()=>{const[r,t]=Pe.useState(!1);return ge.jsxs("div",{style:{display:"flex",flexDirection:"column"},onMouseLeave:()=>{t(!1)},children:[ge.jsx(eo,{text:"+ Archive",to:"/",external:!1,menuOpen:r}),ge.jsx(eo,{text:"+ Visitor Log",to:"/visitorcheck",external:!1,menuOpen:r}),ge.jsx(eo,{text:"+ Nina",to:"https://www.ninaprotocol.com/profiles/radio-project",external:!0,menuOpen:r}),ge.jsx(eo,{text:"+ SoundCloud",to:"https://soundcloud.com/radio_project",external:!0,menuOpen:r}),ge.jsx(eo,{text:"+ Instagram",to:"https://www.instagram.com/radio__project/",external:!0,menuOpen:r}),ge.jsx(eo,{text:"+ Menu",external:!1,menuOpen:r,onMouseEnter:()=>{t(!0),console.log("Menu opened")}})]})},HO=({menuOpen:r,setMenuOpen:t,isMobile:s})=>ge.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[ge.jsx(eo,{text:`${r?"- Menu":"+ Menu"}`,external:!1,menuOpen:r,onClick:()=>{console.log("toggling menu"),t(i=>!i)},isMobile:s}),ge.jsx(eo,{text:"+ Archive",to:"/",external:!1,menuOpen:r,isMobile:s,onClick:()=>{console.log("toggling menu"),t(i=>!i)}}),ge.jsx(eo,{text:"+ Visitor Log",to:"/visitorcheck",external:!1,menuOpen:r,isMobile:s,onClick:()=>{console.log("toggling menu"),t(i=>!i)}}),ge.jsx(eo,{text:"+ Nina",to:"https://www.ninaprotocol.com/profiles/radio-project",external:!0,menuOpen:r,isMobile:s,onClick:()=>{console.log("toggling menu"),t(i=>!i)}}),ge.jsx(eo,{text:"+ SoundCloud",to:"https://soundcloud.com/radio_project",external:!0,menuOpen:r,isMobile:s,onClick:()=>{console.log("toggling menu"),t(i=>!i)}}),ge.jsx(eo,{text:"+ Instagram",to:"https://www.instagram.com/radio__project/",external:!0,menuOpen:r,isMobile:s,onClick:()=>{console.log("toggling menu"),t(i=>!i)}})]}),qO=({isMobile:r,isPlaying:t,headerOpen:s})=>{const[i,l]=Pe.useState(!1);return r?ge.jsxs(ge.Fragment,{children:[ge.jsx($x,{isMobile:!0}),ge.jsx("header",{className:"header-container",style:{},children:ge.jsx("nav",{className:"header-nav",children:ge.jsx("div",{className:"dropdown-menu slide-in",style:{backgroundColor:i?"#f7f7f7f2":"transparent",transition:"all .3s ease-in-out",pointerEvents:i?"auto":"none",right:t?"6vw":""},children:ge.jsx("div",{className:"dropdown-content",style:{paddingTop:"3vh",marginRight:"4vw"},children:ge.jsx(HO,{menuOpen:i,setMenuOpen:l,isMobile:r})})})})})]}):ge.jsxs(ge.Fragment,{children:[ge.jsx($x,{isMobile:r}),ge.jsx("header",{className:"header-container",style:{transition:"transform 0.3s ease-in-out"},children:ge.jsx("nav",{className:"header-nav",style:{},children:ge.jsx(GO,{})})})]})};function $O({playingGuest:r,isMobile:t}){var le;const{title2:s,title:i,rpCount:l,mixId:y,src:R,chapters:n}=r,[C,x]=Pe.useState(.75);Pe.useEffect(()=>{c.current&&(c.current.volume=C)},[C]);const m=me=>{const Se=parseFloat(me.target.value);x(Se),c.current&&(c.current.volume=Se)},d=zI(),{audioRef:c,isPlaying:T,setIsPlaying:A,progress:f,setProgress:h,currentTime:p,setCurrentTime:u}=d||{};Pe.useEffect(()=>{d||console.error("Audio context is undefined")},[d]);const[g,S]=Pe.useState(null),[j,_]=Pe.useState(""),[b,E]=Pe.useState(""),[M,P]=Pe.useState(""),[D,O]=Pe.useState(!1),U=Pe.useRef(null),F=Pe.useRef(null);Pe.useEffect(()=>{if(s&&y&&i&&r&&(E(s),S(y),_(i),h(0),u("--:--"),A(!0),c.current)){const me=c.current;me.load();const Se=()=>{me.play().catch(Re=>{console.error("iOS blocked playback:",Re)})};return me.addEventListener("canplaythrough",Se),()=>{me.removeEventListener("canplaythrough",Se)}}},[s,c,r,l,u,A,h,i,y]),Pe.useEffect(()=>{const me=()=>{c.current&&c.current.play().catch(Se=>{console.warn("Autoplay prevented:",Se)})};return document.body.addEventListener("touchstart",me,{once:!0}),()=>{document.body.removeEventListener("touchstart",me)}},[]),Pe.useEffect(()=>{const me=c.current;if(!me)return;const Se=()=>{me.duration&&!isNaN(me.duration)&&h(me.currentTime/me.duration*100)};return me.addEventListener("canplaythrough",Se),()=>{me.removeEventListener("canplaythrough",Se)}},[s,y,i,c,h]);const H=()=>{console.log("TOGGLE"),c.current&&(c.current.paused?c.current.play().catch(me=>{console.error("Playback failed:",me)}):(console.log("Pausing audio"),c.current.pause()),A(!c.current.paused))},[G,Y]=Pe.useState("fade-in"),q=Pe.useRef(j),V=Pe.useRef(b),[$,Q]=Pe.useState(j),[te,ne]=Pe.useState(b);Pe.useEffect(()=>{q.current!==j&&(q.current!=""&&Y("fade-out"),setTimeout(()=>{Q(j),ne(b),q.current=j,V.current=b,Y("fade-in")},q.current!=""?1e3:0))},[j,b]);const ae=(me,Se)=>{Se.stopPropagation(),c.current&&(c.current.currentTime=me,h(me/c.current.duration*100))},ce=me=>{if(c.current){const Se=me.currentTarget,Re=me.clientY-Se.getBoundingClientRect().top,Ee=Se.clientHeight,Ae=Re/Ee*100,Be=Ae/100*c.current.duration;c.current.currentTime=Be,h(Ae),c.current.play()}},de=me=>{let[Se,Re]=me.split(":").map(Number);return Se*60+Re},X=me=>{const Se=Math.floor(me/3600),Re=Math.floor(me%3600/60),Ee=Math.floor(me%60);return Se>0?`${Se}:${Re<10?"0":""}${Re}:${Ee<10?"0":""}${Ee}`:`${Re}:${Ee<10?"0":""}${Ee}`};Pe.useEffect(()=>{U.current&&F.current&&O(U.current.scrollWidth>F.current.clientWidth)},[j]);const Z=()=>{A(!c.current.paused)};Pe.useEffect(()=>{const me=c.current;return me&&(me.addEventListener("play",Z),me.addEventListener("pause",Z)),()=>{me&&(me.removeEventListener("play",Z),me.removeEventListener("pause",Z))}},[]),Pe.useEffect(()=>{U.current&&F.current&&O(U.current.scrollWidth>F.current.clientWidth)},[i]),Pe.useEffect(()=>{const me=c.current;if(!me)return;const Se=()=>{const Re=me.currentTime,Ee=me.duration;h(Re/Ee*100),u(X(Re))};return me.addEventListener("timeupdate",Se),()=>{me.removeEventListener("timeupdate",Se)}},[s,y,i,c,h,u]);const ie=()=>{c.current&&(c.current.currentTime=Math.min(c.current.currentTime+10,c.current.duration))},he=()=>{c.current&&(c.current.currentTime=Math.max(c.current.currentTime-10,0))};return Pe.useEffect(()=>{document.body.addEventListener("touchstart",()=>{c.current&&c.current.play()},{once:!0})},[]),Pe.useEffect(()=>{const me=Se=>{Se.key==="ArrowRight"?ie():Se.key==="ArrowLeft"&&he()};return window.addEventListener("keydown",me),()=>{window.removeEventListener("keydown",me)}},[]),Pe.useEffect(()=>{document.body.addEventListener("touchstart",()=>{c.current&&c.current.play()},{once:!0})},[]),ge.jsx("div",{children:y!=""&&ge.jsxs(ge.Fragment,{children:[ve(),ge.jsx("div",{className:"player-background"}),t?y!=""&&ge.jsxs("div",{className:"control-module__mobile",onClick:me=>me.stopPropagation(),style:{display:"flex",zIndex:"10000000"},children:[ge.jsx("div",{children:ge.jsx("a",{href:r.djLink,target:"_blank",children:ge.jsx("img",{src:R})})}),ge.jsx("div",{onClick:me=>{me.stopPropagation(),console.log("TOGGLE"),H()},className:"time-controls__mobile",children:ge.jsx("button",{style:{background:"none",border:"none",fontSize:"2vh",color:"black"},children:T?ge.jsx("p",{children:"◼️"}):ge.jsx("p",{style:{fontSize:"2.7vh"},children:"▶"})})}),ge.jsxs("div",{className:"mix-info",children:[ge.jsxs("div",{ref:F,className:"scrolling-title-container-mob-addon",children:[ge.jsx("div",{className:"gradient-overlay-mob"}),ge.jsx("div",{className:`${t?"scrolling-title-mob":"scrolling-title"} ${D?"scroll":""}`,style:{fontSize:"1.6vh",paddingLeft:"1vw"},children:j})]}),ge.jsx("div",{style:{height:"20px"},children:ge.jsx("p",{style:{fontSize:"1.6vh",fontFamily:"Helvetica",margin:"auto",fontWeight:"1000"},children:b})})]}),ge.jsx("div",{className:"timestamp",children:ge.jsxs("p",{children:[X(de(p))," /"," ",ge.jsx("b",{children:(le=c.current)!=null&&le.duration&&!isNaN(c.current.duration)?X(c.current.duration):"--:--"})]})})]}):y!=""&&ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:"player-background"}),ge.jsxs("div",{className:`control-module__desktop ${G}`,style:{transition:"opacity 0.7s ease",opacity:G==="fade-in"?1:0},onClick:me=>me.stopPropagation(),children:[ge.jsx("a",{style:{position:"absolute",top:"0%",left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap",cursor:"pointer"},onClick:me=>{me.stopPropagation(),H()},children:T?"◼️":"▶"}),ge.jsxs("div",{style:{transform:"rotate(90deg)",display:"flex",flexDirection:"column",alignItems:"flex-start",whiteSpace:"nowrap",marginTop:"4vh",transition:$!=null?"opacity 0.7s ease":"",opacity:G==="fade-in"?1:0},children:[ge.jsxs("p",{style:{margin:0},children:[$,"   ",ge.jsx("span",{style:{paddingLeft:"0.7vh",fontWeight:200,backgroundColor:"transparent",color:"black"},children:X(de(p))})]}),ge.jsx("p",{style:{margin:0,fontSize:"1.3vh",fontWeight:"200"},children:te})]})]})]}),t?null:ye()]})});function ye(){return ge.jsx("div",{style:{position:"fixed",bottom:"6.3%",right:"2%",width:t?"80%":"5vh",display:"flex",flexDirection:t?"row":"column",gap:"0.5rem",color:"white",fontFamily:"Helvetica",zIndex:"10000"},children:ge.jsx("input",{id:"volume-slider",type:"range",min:"0",max:"1",step:"0.01",value:C,onChange:m,style:{width:"10vh",cursor:"pointer",transform:t?"none":"rotate(-90deg)",WebkitAppearance:"none",appearance:"none",height:t?"8px":"3vh",background:`linear-gradient(to right, black ${C*100}%, #cacaca ${C*100}%)`,borderBottom:"transparent"},"aria-label":"Volume slider"})})}function ve(){return ge.jsxs("div",{className:`timeline-progress-bar-container__desktop ${t?"timeline-progress-bar-container__mobile":null}`,onClick:ce,style:{pointerEvents:y==null?"none":"",opacity:y==null?"0":"1"},children:[ge.jsx("audio",{ref:c,src:g}),ge.jsx("div",{className:"completed-progress__desktop",style:{height:`${f}%`}}),n.map((me,Se)=>{var Re,Ee;return ge.jsxs(Au.Fragment,{children:[ge.jsx("div",{onMouseEnter:()=>{P(me==null?void 0:me.title)},onMouseLeave:()=>P(""),className:"progress-bar-chapter-slit-hitbox__desktop",style:{top:`${(Re=c.current)!=null&&Re.duration?me.startTime/c.current.duration*100-1:0}%`},onClick:Ae=>ae(me.startTime,Ae)}),ge.jsx("div",{className:"progress-bar-chapter-slit__desktop",style:{height:M===(me==null?void 0:me.title)?"3px":"1px",top:`${(Ee=c.current)!=null&&Ee.duration?me.startTime/c.current.duration*100:0}%`,backgroundColor:M===(me==null?void 0:me.title)?"#000000":"white"},onMouseEnter:()=>P(me==null?void 0:me.title),onMouseLeave:()=>P("")})]},Se)}),ge.jsx("img",{src:"/indicator.png",className:"progress-bar-current-icon__desktop",alt:"Indicator"})]})}}const WO=({selectedGuest:r})=>{const[t,s]=Pe.useState("");return ge.jsx("div",{className:"tracklist-container__desktop",children:ge.jsx("table",{className:"tracklist-table__desktop",children:r.tracklist.map((i,l)=>ge.jsxs(Au.Fragment,{children:[i.title==="RADIO (a)"||i.title==="PROJECT"||i.title==="RADIO (b)"?ge.jsx("tr",{className:"tracklist-header-spacer__desktop"}):null,ge.jsxs("tr",{className:"tracklist-item__desktop",style:{animationDelay:`${l*.0375}s`},onMouseEnter:()=>{s(i.title)},onMouseLeave:()=>s(""),children:[ge.jsx("td",{className:"tracklist-item-title__desktop",style:{transition:"color 0.3s",color:t===(i==null?void 0:i.title)&&(i==null?void 0:i.title)!=="UNRELEASED"?"rgb(255, 0, 90)":"black"},children:ge.jsx("b",{style:{backgroundColor:(i==null?void 0:i.title)==="UNRELEASED"?"black":"",fontWeight:(i==null?void 0:i.artist)===""?"100":""},children:i.title})}),ge.jsx("td",{style:{transition:"color 0.3s",color:t===(i==null?void 0:i.title)&&(i==null?void 0:i.title)!=="UNRELEASED"?"rgb(255, 0, 90)":"rgb(137, 137, 137)",fontWeight:"100"},children:i.artist})]})]},l))})})},YO=""+new URL("p-z7CF8hr3.png",import.meta.url).href,XO=""+new URL("2pp-D1Y6-mIA.png",import.meta.url).href,KO=""+new URL("ip-6qsV4rxD.png",import.meta.url).href,Bg={p:YO,pp:XO,ip:KO},QO=""+new URL("p-rbLqpLWF.jpg",import.meta.url).href,ZO=""+new URL("2pp-BCYWuY3t.png",import.meta.url).href,JO=""+new URL("ip-DBDjMtTI.png",import.meta.url).href,Fg={p:QO,pp:ZO,ip:JO},e4=""+new URL("pm-CAD0CBT7.png",import.meta.url).href,t4=""+new URL("p-DR-l2gQZ.jpg",import.meta.url).href,Wx={p:t4,pm:e4},eb=[{id:0,type:"mix",src:Bg.p,rpCount:"RP1 ♪ ","2ppSrc":Bg.pp,ipSrc:Bg.ip,title:"games that touch the arts",title2:"ubi",title3:"Musician",title4:"DJ ",title5:"exxtralife Founder",title6:"Developer ",description:"<b><i>ubi</i></b> sits and talks with us about his <b>inspirations, video game soundtracks and gives insight into his event organisation, EXXTRALIFE. </b><b><i>Edwin</i></b> is a <b>musician and DJ</b>, as well as a <b>web developer</b> with strong design sensibilities, hailing from Ireland, now based in North London.",mixId:"https://d2rmb5ql8vpbx8.cloudfront.net/RP1-ubi.wav",djLink:"https://www.instagram.com/ubiifuruuu/",igLink:"https://www.instagram.com/p/DIEUV-QMOVw/?img_index=1",scLink:"http://soundcloud.com/radio_project/rp1-ubi-games-that-touch-the-arts",npLink:"https://www.ninaprotocol.com/releases/rp1-ubi-games-that-touch-the-arts",broadcastDate:"5/4/25 15:00",length:"(1 Hour 26 Minutes)",genre:"DIGITAL PUNK",url:"ubi",chapters:[{startTime:0,title:"RADIO (a)"},{startTime:1954,title:"PROJECT"},{startTime:3276,title:"RADIO (b)"}],tracklist:[{startTime:"0",title:"RADIO (a)"},{startTime:"3276",title:""},{title:"B Rocka Intro",artist:"Brandy"},{title:"capsule rmx →",artist:"CAPSULE"},{title:"What You Waiting For?",artist:"Gwen Stefani"},{title:"The Enigma",artist:"Ingrate"},{title:"3.14159",artist:"Lexie Liu"},{title:"Body + Mind",artist:"Anz"},{title:"Rescue (tasfet_rmx)",artist:"Tasfet"},{title:"Television",artist:" A.G. Cook"},{title:"Slide In",artist:"Goldfrapp"},{title:"Boss",artist:"Tomoya Ohtani"},{title:"Androgynous Girls",artist:"Girls Aloud "},{title:"Took a Turn",artist:"loukeman"},{title:"Steppin' Out",artist:"kaskade"},{title:"Sofi Needs a Ladder",artist:"deadmau5"},{title:"UBER XL",artist:"BABYXSOSA, POLO PERKS <3 <3 <3"},{title:"UNRELEASED",artist:"edenplus"},{title:"Club Stranger (Nguzunguzu Remix)",artist:"Nguzunguzu, Jhene Aiko"},{title:"TF DUMMY NUMBER ZERO ZERO ZERO ZERO ZERO ZERO ZERO ZERO",artist:"Elysia Crampton"},{title:"Emiranda (break)",artist:"Emiranda"},{startTime:"1954",title:"PROJECT"},{startTime:"3276",title:""},{title:"CCTV!?",artist:""},{title:"Autechre's 8 Hour NTS Mix",artist:""},{title:"Ubi loves Olivia Rodrigo's 'Sour'",artist:""},{title:"Ecco2K's 'Black Boy' spurred change!?",artist:""},{title:"Goated Video Game Compilations and OST's",artist:""},{title:"French TV has the best music",artist:""},{title:"Why is 'Mirror's Edge' so hard?",artist:""},{title:"Electric + Acoustic = ...yeah?",artist:""},{title:"Exxtralife (Origins and resident DJ's)",artist:""},{title:"Ubi's Ideal Railway Redesign",artist:""},{title:"Ranking Notorious Evil Organisations",artist:""},{title:"Programmed Art",artist:""},{title:"Ubi's Next Release!",artist:""},{startTime:"3276",title:"RADIO (b)"},{startTime:"3276",title:""},{title:"X My Heart",artist:"Regret"},{title:"Wunna",artist:"Gunna"},{title:"Alura",artist:"Sweet Trip"},{title:"Ready Set Go",artist:"Cedric Madden"},{title:"ginger candy",artist:"NEW YORK"},{title:"Dance Until We Die",artist:"A.G. Cook"},{title:"People Always Talk About The Weather (Junkie XL Main Mix)",artist:"Yonderboi"},{title:"When It's You",artist:"benoviolence"},{title:"dead long time",artist:"Nguzunguzu"},{title:"Overly",artist:"Playboi Carti"},{title:"Mr. Me Too",artist:"Clipse"},{title:"The Last One To Remain",artist:"Pandatone"},{title:"Leonora",artist:"Toxe"},{title:"cream",artist:"HIDE"},{title:"edenrepeat [u u u]",artist:"edenplus"}]},{id:1,type:"mix",src:Fg.p,rpCount:"RP2 ♪ ","2ppSrc":Fg.pp,ipSrc:Fg.ip,title:"BUILD!",title2:"DVD",url:"dvd",title3:"Technologist",title4:"DJ",description:"<i><b>DVD</b></i> touches on <b>listening experiences; his introductions into tech; music and DJing; and his many creative design projects.</b> <b><i>David</i></b> is a <b>creative technologist, DJ</b> and <b>audiophile,</b> versatile in soundsystem creation.",mixId:"https://d2rmb5ql8vpbx8.cloudfront.net/rp2-dvd.wav",djLink:"https://www.instagram.com/david.chen02/",igLink:"https://www.instagram.com/p/DI_inZws2SI/?img_index=1",scLink:"https://soundcloud.com/radio_project/rp2-dvd-build",npLink:"https://www.ninaprotocol.com/releases/rp2-dvd-build",broadcastDate:"28/4/25 15:00",length:"1 Hour 26 Minutes",genre:"NEO JAZZ-FUNK REVIVAL",chapters:[{startTime:0,title:"RADIO (a)"},{startTime:1837,title:"PROJECT"},{startTime:3334,title:"RADIO (b)"}],tracklist:[{startTime:"0",title:"RADIO (a)"},{title:"Just A Touch (Jazz Element Mix)",artist:"Essence"},{title:"Love Will Bring Us Back Together",artist:"Roy Ayers"},{title:"Babalonia",artist:"Ricardo Marrero + The Group"},{title:"Rhythm In Your Mind",artist:"STR4TA, Steve Conry, Takashi Nakazato"},{title:"Love Is Gonna Lift You Up",artist:"Bobby Womack, Julio Bushmore"},{title:"Tied Up",artist:"Moon Boots, Steven Klavier, Kenny Dope"},{title:"Standing Right Here",artist:"Mannix, Dina Vass, John Morales"},{title:"The Calling",artist:"Ralf Gum, Joseph Junior"},{title:"Truth Don Die",artist:"Femi Kuti, Kerri Chandler"},{title:"Let the Sun Shine In",artist:"Sons and Daughters of Life"},{startTime:"1954",title:"PROJECT"},{title:"First Steps in Tech",artist:""},{title:"DVD's Design Philosophy",artist:""},{title:"Handle With Care!",artist:""},{title:"Sound-System-Stack-Assembly",artist:""},{title:"Searching for Nuts and Bolts",artist:""},{title:"Don't Forget to Dance",artist:""},{title:"KINDRED Listening Station",artist:""},{startTime:"3276",title:"RADIO (b)"},{title:"Rise & Shine",artist:"Esteban Adame"},{title:"Birds, Pt. I",artist:"Chassol"},{title:"IM SO STUPID IM CLEVER",artist:"RAZA"},{title:"Love Is Forever",artist:"Blaze"},{title:"Babalonia",artist:"Ricardo Marrero + The Group"},{title:"Get You ",artist:"James Curd, Osunlade, Alton Miller"},{title:"Sunlight",artist:"Infiniti"},{title:"Emberfall",artist:"Loxodrome"},{title:"Souffles H",artist:"Kyoto Jazz Massive"}]},{id:2,type:"radiogram",src:Wx.p,src2:Wx.pm,rpCount:"RADIOGRAM 1 ☼ ",broadcastDate:"18/6/25 17:00",url:"anouk",title2:"Anouk Losleben",title:"The Promise of Freedom in the Western Sphere",title3:"Textile Designer",title4:"LOSLEBEN Founder",description:"<p><b>Freedom</b> is consumed under the pretence that it is unlimited; there is no such thing as being “too free”. Quite the contrary, <strong><b>freedom</b> is the ultimate end, the manifestation of the good, the absence of all evil.</strong> The happy man is free, the free man is happy. But the word <b>freedom</b> is to humans what the bell is for Pavlov’s dogs. We rarely question what <b>freedom</b> is, who provides it, or the cost that <b>freedom</b> is priced at. We indulge in it, consume it to its fullest, then cry for more. Like dogs, we eat what's served, beg for seconds, and thank our owner.<br/><br/>The free-market economy claimed to increase employment, social mobility, choice of goods, and education, and therefore sustain higher degrees of <b>freedom</b>, compared to the heavily constricting traditional class hierarchies of the pre-industrial revolution. Its development has ultimately achieved the opposite; the subjugation of the individual into an economically productive tool that is utilised to serve as a means to the end of the dominating institutions. As H. Marcuse predicted in the 1950s, the advanced capitalist society that supposedly increases liberty due to its “non-interventionist” ideology, measures <b>freedom</b> through economic activity; the access to material goods and the possession thereof. The illusion of choice then projects <b>freedom</b>, but ultimately, <strong>the only <b>freedom</b> the individual is granted is committing to the same orders that sustain these oppressive economic structures.</strong> Critical immaterial properties that constitute <b>freedom</b>, such as rights, individuality, liberty of thought, and its expression, may be met, but have lost their function in society. Rather, the extent to which the individual may participate unrestrictedly in the economy through the obtaining of monetary and material goods prevails over the essence of <b>freedom</b>.<br/><br/> Variety of choice has therefore become the ultimate quantification of <b>freedom</b>; how extensive is the pool of goods you can choose from, and how much of that can you call your own? If <b>freedom</b> is derived from the free-market, you must participate to claim this liberty. The culture of mass-consumption then illusions individuals to be free in the Western civilization, as they are flooded with choices of material goods. The equation is simple: if the free market ensures your <b>freedom</b>, the more access you have, the greater your <b>freedom</b>. Therefore, needless variations of the same product are promoted, creating the illusion of innumerable choices to parallelly manifest unlimited <b>freedom</b>. Whilst individuals externalise <b>freedom</b> through the arbitrary choices made, their initial participation in the market was nothing but forced. <strong>It does not matter what choice is made, only that a choice is made, repeatedly, consistently, and frequently. The pressure to submit to mass-consumption is severe; advertisements are pushed constantly, products are too cheap, trends change weekly.</strong> Consumption of goods is centralised in the current means of existence, even if it’s inefficient or unproductive to the individual. Meanwhile, attention is sold as a commodity, and individuals will passively neglect demands for immaterial <b>freedoms</b>. “Independence of thought, autonomy, and the right to political opposition” are all properties that come at the cost of endless indulgence into consumption. The illusion of <b>freedom</b> through arbitrary choices keeps the people tamed, obedient, distracted. As long as they are sufficiently entertained, fed, and kept far enough from the ugly, no threat to those whose products are consumed is posed.<br/><br/> This sounds like a conspiracy theory. Because, ultimately, people still claim their immaterial <b>freedoms</b>; we protest, we complain, we educate ourselves. But the economic system establishes the realm within which the individual may exist without risking the status quo; <strong>you may be angry, as long as your anger does not threaten to destabilize the current structures.</strong> The change you may enact is through increased commitment to the same structures that subject you as a means to their end; political candidates, policy changes, all embodying the same economic structures, only varying versions thereof. Rational contention must occur through positive improvements of the same mechanisms that structure the economic system, which thereby strengthens itself through claiming higher satisfaction with the individual and gaining legitimacy. <strong>The individual is granted as much executive decision-making power that satisfies her own demand for believing to have agency over her life in the political sphere.</strong> The only power the individual truly possesses is her function as an economic subject, being a minor fragment of the larger unit. Effective protest can thus only be expressed through the aggravated rejection of this function. This is evident as through the newly introduced Anti-Boycott Bill, the individual is prohibited to even freely choose how to economically participate. The paradoxical nature of a free-market economy that prohibits free economic activity should illuminate a glimpse of how individual liberty is not the primary end of capitalism.<br/><br/><strong>We are convinced to be free, yet all fall victim to the traps of consumption.</strong> Alienated from our morality, we look past the horrors of production, the path to destruction we are firmly walking, and our own kind we are sacrificing on the way. Why can’t we stop buying iPhones or use Instagram? Why are we glued to a screen seven hours a day? Why do we own 21 different t-shirts? When it is so difficult to refuse to participate in useless consumption despite realising its harm, we must question its appeal to liberty. <strong>Consumption is intentional, just not by the consumer.</strong> If humanity is meant to be free in a free-market society, how have we become so passive?  </p>",tag:"Political Philosophy",summary:"In today’s capitalist society, we’re made to believe we are free because we can choose things—but in reality, we’re trapped in a system that uses consumption to control us and limit our true freedom.",releaseDate:"18/6/25",length:"7 minute read",igLink:"https://www.instagram.com/anouk_maj/"}],r4=({isMobile:r,setPlayingGuest:t,isPlaying:s})=>{const{guestName:i}=Kj(),l=eb.find(y=>y.url===i);return ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:` ${r?"selected-artist-container-mob-addon":"selected-artist-container"}`,style:{width:r?s?"85%":"90%":void 0},children:ge.jsxs("div",{className:"all-left-cont",style:{top:r?"7%":""},children:[ge.jsx("div",{className:"description-container",children:ge.jsxs("p",{className:"description-header",style:{fontSize:"3.7vh"},children:[ge.jsx("span",{style:{fontFamily:"Helvetica",fontWeight:"100"},children:l.rpCount})," ",ge.jsx("span",{style:{backgroundColor:"black",color:"white",padding:"2px 5px"},children:ge.jsx("b",{children:l.title})})]})}),ge.jsx("div",{className:"selectTrack",onClick:()=>{t(l)},children:"PLAY"}),ge.jsx("div",{className:"artist-pics",children:ge.jsx("a",{children:ge.jsx("img",{src:l["2ppSrc"],className:"selected-artist-image"})})}),ge.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"2vh"},children:[ge.jsx("div",{children:ge.jsxs("p",{className:"slight-info",style:{fontSize:"1.2vh"},children:[ge.jsx("a",{style:{fontWeight:"100",fontSize:"2vh",lineHeight:"1.5",textDecoration:"none",cursor:"pointer",color:"black"},href:l.djLink,target:"_blank",children:ge.jsx("b",{children:l.title2})}),ge.jsx("br",{}),ge.jsx("span",{style:{fontWeight:"100"},children:l.broadcastDate}),ge.jsx("br",{}),ge.jsx("span",{style:{fontWeight:"100"},children:l.length})]})}),ge.jsxs("div",{className:"socials",style:{display:"flex",margin:"auto",marginRight:"0"},children:[ge.jsx("a",{href:l.scLink,target:"_blank",children:ge.jsx("img",{src:"/sc.svg",className:"sc-logo"})}),ge.jsx("a",{href:l.npLink,target:"_blank",children:ge.jsx("img",{src:"/np.png",className:"sc-logo"})}),ge.jsx("a",{href:l.igLink,target:"_blank",children:ge.jsx("img",{src:"/ig.jpg",className:"sc-logo"})})]})]}),ge.jsxs("div",{style:{flexDirection:"row",display:"flex"},children:[ge.jsx("p",{style:{fontSize:"2.2vh",fontWeight:"100",width:"80%",paddingBottom:r?"10vh":"",lineHeight:"2.7vh",paddingRight:"1.5vw"},dangerouslySetInnerHTML:{__html:l.description}}),ge.jsx("div",{style:{display:"flex",alignItems:"stretch",border:"1px solid black",paddingLeft:".8vh",paddingRight:".8vh",fontSize:"1vh",margin:"auto",marginTop:"3vh",marginRight:"0",textAlign:"center"},children:ge.jsx("p",{children:ge.jsx("b",{children:l.genre})})})]})]})}),l&&!r&&ge.jsx(WO,{selectedGuest:l})]})},n4=({isMobile:r})=>ge.jsxs("div",{className:`info-container ${r?"info-mob-addon":""}`,children:[ge.jsxs("p",{children:[ge.jsx("b",{children:"RADIO PROJECT"})," is a space for auditory, verbal and written agency."]}),ge.jsx("p",{children:"We aim to spotlight individuals by broadcasting mixes and conducting interviews; and to inform through written articles."}),ge.jsxs("a",{href:"https://www.instagram.com/mkprote/",style:{color:"black",textDecoration:"none",fontSize:"2.2vh"},target:"_blank",children:[" ","by ",ge.jsx("b",{children:"Elisha Olunaike"})]}),ge.jsx("br",{}),ge.jsx("br",{}),ge.jsx("br",{}),ge.jsx("a",{href:"mailto:contact@radioproject.live",style:{color:"black",textDecoration:"none"},target:"_blank",children:"Contact"}),r?ge.jsx("div",{style:{height:"5vh"}}):ge.jsx(ge.Fragment,{})]}),s4=IT`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`;IT`
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
`;const Yx=sd.div`
  position: relative;
  display: flex;
  transition: all 0.4s ease-in-out;
  width: fit-content;
  
  transition: width .5s ease-in-out;
  box-sizing: border-box;

  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
  }
`,Xx=sd.div`
  height: 50vh;
  aspect-ratio: 1 / 1;
  overflow: hidden;
  position: relative;
  cursor: pointer;
  transition: all 0.4s ease-in-out;

  
  img {
    height: 100%;
    object-fit: cover;
    object-position: left center; /* key: anchor to the left */
    transform: translateX(0%);  /* show left half only */
    transition: all 0.4s ease-in-out;
  }

  @media (max-width: 768px) {
    width: 78vw;
    height: 78vw;
    aspect-ratio: auto;
    
    img {
      object-position: center center;
    }
  }

`,i4=sd.div`
  height: 22vh;
  aspect-ratio: 1 / 1;
  overflow: hidden;
  position: relative;
  cursor: pointer;
  transition: all 0.4s ease-in-out;

  
  img {
    height: 100%;
    object-fit: cover;
    object-position: left center; /* key: anchor to the left */
    transform: translateX(0%);  /* show left half only */
    transition: all 0.4s ease-in-out;
  }

  @media (max-width: 768px) {
    width: 78vw;
    height: 78vw;
    aspect-ratio: auto;
    
    img {
      object-position: center center;
    }
  }

`,Uo=sd.p`
  background-color: ${r=>r.$hovered?r.$bgcolor:""};
  color: ${r=>r.$hovered?r.color:"black"};
  display: ${r=>r.isMobile?"inline":"inline-block"};
  font-size: ${r=>r.fontSize||"inherit"};
  animation: ${s4} 0.5s ease-out forwards;
  animation-delay: ${r=>r.$delay}s;
  opacity: 0;
  padding-bottom: .1vh;
  margin: 0vh;


`,OT=({hoveredGuest:r,hoveredForm:t,isLeft:s,hovered:i,isMobile:l})=>{const y=Pe.useRef(null);Pe.useEffect(()=>{const p=u=>{if(!y.current)return;const{clientX:g,clientY:S}=u,j=s?-16:1,_=-20,b=window.innerWidth/100;y.current.style.transform=`translate3d(${g/b+j}vw, ${S+_}px, 0)`};return document.addEventListener("mousemove",p),()=>document.removeEventListener("mousemove",p)},[s]);const R=!!r,n=R?r:t||{},{rpCount:C,title:x,title2:m,title3:d,broadcastDate:c,username:T,profession:A,starsign:f,answer:h}=n;return ge.jsxs("div",{className:"cursor",ref:y,style:{textAlign:s?"right":"left"},children:[ge.jsx(Uo,{className:"cursor-title",$hovered:i,$bgcolor:"rgb(247, 247, 247)",$delay:.1,fontSize:"1.9vh",style:{paddingRight:".3vw",paddingLeft:".2vw",textTransform:R?"":"lowercase"},$isMobile:l,children:R?C:T}),!R&&ge.jsx("br",{}),ge.jsx(Uo,{className:"cursor-title",$hovered:i,$bgcolor:"black",color:"white",fontSize:"1.9vh",$delay:.15,style:{textTransform:R?"":"lowercase",paddingLeft:R?"":".2vw",paddingRight:R?"":".3vw"},$isMobile:l,children:ge.jsx("b",{children:R?x:A})}),ge.jsx("br",{}),R&&ge.jsx(Uo,{className:"cursor-title",$hovered:i,$bgcolor:"black",color:"white",fontSize:"2.6vh",$delay:.2,style:{paddingBottom:".3vh"},$isMobile:l,children:ge.jsx("b",{children:m})}),ge.jsx("br",{}),R&&ge.jsx(Uo,{className:"cursor-title",$hovered:i,$bgcolor:"black",color:"white",fontSize:"2vh",$delay:.2,$isMobile:l,children:ge.jsx("b",{children:d})}),R&&ge.jsxs(ge.Fragment,{children:[ge.jsx("br",{}),ge.jsx(Uo,{className:"cursor-title",$hovered:i,$bgcolor:"black",color:"white",fontSize:"2vh",$delay:.2,$isMobile:l,children:ge.jsx("b",{children:c})})]})]})};var fp={exports:{}},o4=fp.exports,Kx;function a4(){return Kx||(Kx=1,function(r,t){(function(s,i){r.exports=i(um())})(o4,function(s){return function(i){var l={};function y(R){if(l[R])return l[R].exports;var n=l[R]={i:R,l:!1,exports:{}};return i[R].call(n.exports,n,n.exports,y),n.l=!0,n.exports}return y.m=i,y.c=l,y.d=function(R,n,C){y.o(R,n)||Object.defineProperty(R,n,{enumerable:!0,get:C})},y.r=function(R){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})},y.t=function(R,n){if(1&n&&(R=y(R)),8&n||4&n&&typeof R=="object"&&R&&R.__esModule)return R;var C=Object.create(null);if(y.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:R}),2&n&&typeof R!="string")for(var x in R)y.d(C,x,(function(m){return R[m]}).bind(null,x));return C},y.n=function(R){var n=R&&R.__esModule?function(){return R.default}:function(){return R};return y.d(n,"a",n),n},y.o=function(R,n){return Object.prototype.hasOwnProperty.call(R,n)},y.p="",y(y.s=2)}([function(i,l){i.exports=s},function(i,l,y){(function(R){(function(n){i.exports=n()})(function(){return function n(C,x,m){function d(A,f){if(!x[A]){if(!C[A]){var h=!1;if(!f&&h)return(void 0)(A,!0);if(c)return c(A,!0);throw(f=new Error("Cannot find module '"+A+"'")).code="MODULE_NOT_FOUND",f}h=x[A]={exports:{}},C[A][0].call(h.exports,function(p){return d(C[A][1][p]||p)},h,h.exports,n,C,x,m)}return x[A].exports}for(var c=!1,T=0;T<m.length;T++)d(m[T]);return d}({1:[function(n,C,x){x.byteLength=function(p){return 3*((p=h(p))[0]+(p=p[1]))/4-p},x.toByteArray=function(p){var u,g,S=(j=h(p))[0],j=j[1],_=new c(function(M,P){return 3*(M+P)/4-P}(S,j)),b=0,E=0<j?S-4:S;for(g=0;g<E;g+=4)u=d[p.charCodeAt(g)]<<18|d[p.charCodeAt(g+1)]<<12|d[p.charCodeAt(g+2)]<<6|d[p.charCodeAt(g+3)],_[b++]=u>>16&255,_[b++]=u>>8&255,_[b++]=255&u;return j===2&&(u=d[p.charCodeAt(g)]<<2|d[p.charCodeAt(g+1)]>>4,_[b++]=255&u),j===1&&(u=d[p.charCodeAt(g)]<<10|d[p.charCodeAt(g+1)]<<4|d[p.charCodeAt(g+2)]>>2,_[b++]=u>>8&255,_[b++]=255&u),_},x.fromByteArray=function(p){for(var u,g=p.length,S=g%3,j=[],_=0,b=g-S;_<b;_+=16383)j.push(function(E,M,P){for(var D,O=[],U=M;U<P;U+=3)D=(E[U]<<16&16711680)+(E[U+1]<<8&65280)+(255&E[U+2]),O.push(function(F){return m[F>>18&63]+m[F>>12&63]+m[F>>6&63]+m[63&F]}(D));return O.join("")}(p,_,b<_+16383?b:_+16383));return S==1?(u=p[g-1],j.push(m[u>>2]+m[u<<4&63]+"==")):S==2&&(u=(p[g-2]<<8)+p[g-1],j.push(m[u>>10]+m[u>>4&63]+m[u<<2&63]+"=")),j.join("")};for(var m=[],d=[],c=typeof Uint8Array<"u"?Uint8Array:Array,T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=0,f=T.length;A<f;++A)m[A]=T[A],d[T.charCodeAt(A)]=A;function h(p){var u=p.length;if(0<u%4)throw new Error("Invalid string. Length must be a multiple of 4");return u=(p=(p=p.indexOf("="))===-1?u:p)===u?0:4-p%4,[p,u]}d[45]=62,d[95]=63},{}],2:[function(n,C,x){},{}],3:[function(n,C,x){arguments[4][2][0].apply(x,arguments)},{dup:2}],4:[function(n,C,x){(function(h){var d=n("base64-js"),c=n("ieee754"),T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,A=(x.Buffer=h,x.SlowBuffer=function(X){return+X!=X&&(X=0),h.alloc(+X)},x.INSPECT_MAX_BYTES=50,2147483647);function f(X){if(A<X)throw new RangeError('The value "'+X+'" is invalid for option "size"');return X=new Uint8Array(X),Object.setPrototypeOf(X,h.prototype),X}function h(X,Z,ie){if(typeof X!="number")return p(X,Z,ie);if(typeof Z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(X)}function p(X,Z,ie){if(typeof X=="string"){var he=X,ye=Z;if(h.isEncoding(ye=typeof ye=="string"&&ye!==""?ye:"utf8"))return(he=(le=f(ve=0|_(he,ye))).write(he,ye))!==ve?le.slice(0,he):le;throw new TypeError("Unknown encoding: "+ye)}if(ArrayBuffer.isView(X))return S(X);if(X!=null){if(ae(X,ArrayBuffer)||X&&ae(X.buffer,ArrayBuffer)){var ve=X,le=ie;if((he=Z)<0||ve.byteLength<he)throw new RangeError('"offset" is outside of buffer bounds');if(ve.byteLength<he+(le||0))throw new RangeError('"length" is outside of buffer bounds');return ve=he===void 0&&le===void 0?new Uint8Array(ve):le===void 0?new Uint8Array(ve,he):new Uint8Array(ve,he,le),Object.setPrototypeOf(ve,h.prototype),ve}if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if((ye=X.valueOf&&X.valueOf())!=null&&ye!==X)return h.from(ye,Z,ie);var me=function(Se){var Re,Ee;return h.isBuffer(Se)?((Ee=f(Re=0|j(Se.length))).length!==0&&Se.copy(Ee,0,0,Re),Ee):Se.length!==void 0?typeof Se.length!="number"||ce(Se.length)?f(0):S(Se):Se.type==="Buffer"&&Array.isArray(Se.data)?S(Se.data):void 0}(X);if(me)return me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return h.from(X[Symbol.toPrimitive]("string"),Z,ie)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}function u(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function g(X){return u(X),f(X<0?0:0|j(X))}function S(X){for(var Z=X.length<0?0:0|j(X.length),ie=f(Z),he=0;he<Z;he+=1)ie[he]=255&X[he];return ie}function j(X){if(A<=X)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return 0|X}function _(X,Z){if(h.isBuffer(X))return X.length;if(ArrayBuffer.isView(X)||ae(X,ArrayBuffer))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);var ie=X.length,he=2<arguments.length&&arguments[2]===!0;if(!he&&ie===0)return 0;for(var ye=!1;;)switch(Z){case"ascii":case"latin1":case"binary":return ie;case"utf8":case"utf-8":return Q(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ie;case"hex":return ie>>>1;case"base64":return te(X).length;default:if(ye)return he?-1:Q(X).length;Z=(""+Z).toLowerCase(),ye=!0}}function b(X,Z,ie){var he,ye=!1;if((Z=Z===void 0||Z<0?0:Z)>this.length||(ie=ie===void 0||ie>this.length?this.length:ie)<=0||(ie>>>=0)<=(Z>>>=0))return"";for(X=X||"utf8";;)switch(X){case"hex":var ve=Z,le=ie,me=this.length;(!le||le<0||me<le)&&(le=me);for(var Se="",Re=ve=!ve||ve<0?0:ve;Re<le;++Re)Se+=de[this[Re]];return Se;case"utf8":case"utf-8":return U(this,Z,ie);case"ascii":me=Z;var Ee=ie,Ae="";Ee=Math.min(this.length,Ee);for(var Be=me;Be<Ee;++Be)Ae+=String.fromCharCode(127&this[Be]);return Ae;case"latin1":case"binary":ve=Z;var et=ie,$e="";et=Math.min(this.length,et);for(var at=ve;at<et;++at)$e+=String.fromCharCode(this[at]);return $e;case"base64":return jt=this,he=ie,(_t=Z)===0&&he===jt.length?d.fromByteArray(jt):d.fromByteArray(jt.slice(_t,he));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var jt=Z,_t=ie,Yt=this.slice(jt,_t),Tt="",je=0;je<Yt.length;je+=2)Tt+=String.fromCharCode(Yt[je]+256*Yt[je+1]);return Tt;default:if(ye)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),ye=!0}}function E(X,Z,ie){var he=X[Z];X[Z]=X[ie],X[ie]=he}function M(X,Z,ie,he,ye){if(X.length===0)return-1;if(typeof ie=="string"?(he=ie,ie=0):2147483647<ie?ie=2147483647:ie<-2147483648&&(ie=-2147483648),(ie=(ie=ce(ie=+ie)?ye?0:X.length-1:ie)<0?X.length+ie:ie)>=X.length){if(ye)return-1;ie=X.length-1}else if(ie<0){if(!ye)return-1;ie=0}if(typeof Z=="string"&&(Z=h.from(Z,he)),h.isBuffer(Z))return Z.length===0?-1:P(X,Z,ie,he,ye);if(typeof Z=="number")return Z&=255,typeof Uint8Array.prototype.indexOf=="function"?(ye?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(X,Z,ie):P(X,[Z],ie,he,ye);throw new TypeError("val must be string, number or Buffer")}function P(X,Z,ie,he,ye){var ve=1,le=X.length,me=Z.length;if(he!==void 0&&((he=String(he).toLowerCase())==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(X.length<2||Z.length<2)return-1;le/=ve=2,me/=2,ie/=2}function Se(et,$e){return ve===1?et[$e]:et.readUInt16BE($e*ve)}if(ye)for(var Re=-1,Ee=ie;Ee<le;Ee++)if(Se(X,Ee)===Se(Z,Re===-1?0:Ee-Re)){if(Ee-(Re=Re===-1?Ee:Re)+1===me)return Re*ve}else Re!==-1&&(Ee-=Ee-Re),Re=-1;else for(Ee=ie=le<ie+me?le-me:ie;0<=Ee;Ee--){for(var Ae=!0,Be=0;Be<me;Be++)if(Se(X,Ee+Be)!==Se(Z,Be)){Ae=!1;break}if(Ae)return Ee}return-1}function D(X,Z,ie,he){return ne(function(ye){for(var ve=[],le=0;le<ye.length;++le)ve.push(255&ye.charCodeAt(le));return ve}(Z),X,ie,he)}function O(X,Z,ie,he){return ne(function(ye,ve){for(var le,me,Se=[],Re=0;Re<ye.length&&!((ve-=2)<0);++Re)le=(me=ye.charCodeAt(Re))>>8,me%=256,Se.push(me),Se.push(le);return Se}(Z,X.length-ie),X,ie,he)}function U(X,Z,ie){ie=Math.min(X.length,ie);for(var he=[],ye=Z;ye<ie;){var ve,le,me,Se,Re=X[ye],Ee=null,Ae=239<Re?4:223<Re?3:191<Re?2:1;if(ye+Ae<=ie)switch(Ae){case 1:Re<128&&(Ee=Re);break;case 2:(192&(ve=X[ye+1]))==128&&127<(Se=(31&Re)<<6|63&ve)&&(Ee=Se);break;case 3:ve=X[ye+1],le=X[ye+2],(192&ve)==128&&(192&le)==128&&2047<(Se=(15&Re)<<12|(63&ve)<<6|63&le)&&(Se<55296||57343<Se)&&(Ee=Se);break;case 4:ve=X[ye+1],le=X[ye+2],me=X[ye+3],(192&ve)==128&&(192&le)==128&&(192&me)==128&&65535<(Se=(15&Re)<<18|(63&ve)<<12|(63&le)<<6|63&me)&&Se<1114112&&(Ee=Se)}Ee===null?(Ee=65533,Ae=1):65535<Ee&&(Ee-=65536,he.push(Ee>>>10&1023|55296),Ee=56320|1023&Ee),he.push(Ee),ye+=Ae}var Be=he,et=Be.length;if(et<=F)return String.fromCharCode.apply(String,Be);for(var $e="",at=0;at<et;)$e+=String.fromCharCode.apply(String,Be.slice(at,at+=F));return $e}x.kMaxLength=A,(h.TYPED_ARRAY_SUPPORT=function(){try{var X=new Uint8Array(1),Z={foo:function(){return 42}};return Object.setPrototypeOf(Z,Uint8Array.prototype),Object.setPrototypeOf(X,Z),X.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=p,Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(X,Z,ie){return Z=Z,ie=ie,u(X=X),X<=0||Z===void 0?f(X):typeof ie=="string"?f(X).fill(Z,ie):f(X).fill(Z)},h.allocUnsafe=g,h.allocUnsafeSlow=g,h.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==h.prototype},h.compare=function(X,Z){if(ae(X,Uint8Array)&&(X=h.from(X,X.offset,X.byteLength)),ae(Z,Uint8Array)&&(Z=h.from(Z,Z.offset,Z.byteLength)),!h.isBuffer(X)||!h.isBuffer(Z))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===Z)return 0;for(var ie=X.length,he=Z.length,ye=0,ve=Math.min(ie,he);ye<ve;++ye)if(X[ye]!==Z[ye]){ie=X[ye],he=Z[ye];break}return ie<he?-1:he<ie?1:0},h.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(X,Z){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return h.alloc(0);if(Z===void 0)for(ye=Z=0;ye<X.length;++ye)Z+=X[ye].length;for(var ie=h.allocUnsafe(Z),he=0,ye=0;ye<X.length;++ye){var ve=X[ye];if(ae(ve,Uint8Array)&&(ve=h.from(ve)),!h.isBuffer(ve))throw new TypeError('"list" argument must be an Array of Buffers');ve.copy(ie,he),he+=ve.length}return ie},h.byteLength=_,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Z=0;Z<X;Z+=2)E(this,Z,Z+1);return this},h.prototype.swap32=function(){var X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Z=0;Z<X;Z+=4)E(this,Z,Z+3),E(this,Z+1,Z+2);return this},h.prototype.swap64=function(){var X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Z=0;Z<X;Z+=8)E(this,Z,Z+7),E(this,Z+1,Z+6),E(this,Z+2,Z+5),E(this,Z+3,Z+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var X=this.length;return X===0?"":arguments.length===0?U(this,0,X):b.apply(this,arguments)},h.prototype.equals=function(X){if(h.isBuffer(X))return this===X||h.compare(this,X)===0;throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var X="",Z=x.INSPECT_MAX_BYTES;return X=this.toString("hex",0,Z).replace(/(.{2})/g,"$1 ").trim(),this.length>Z&&(X+=" ... "),"<Buffer "+X+">"},T&&(h.prototype[T]=h.prototype.inspect),h.prototype.compare=function(X,Z,ie,he,ye){if(ae(X,Uint8Array)&&(X=h.from(X,X.offset,X.byteLength)),!h.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(ie===void 0&&(ie=X?X.length:0),he===void 0&&(he=0),ye===void 0&&(ye=this.length),(Z=Z===void 0?0:Z)<0||ie>X.length||he<0||ye>this.length)throw new RangeError("out of range index");if(ye<=he&&ie<=Z)return 0;if(ye<=he)return-1;if(ie<=Z)return 1;if(this===X)return 0;for(var ve=(ye>>>=0)-(he>>>=0),le=(ie>>>=0)-(Z>>>=0),me=Math.min(ve,le),Se=this.slice(he,ye),Re=X.slice(Z,ie),Ee=0;Ee<me;++Ee)if(Se[Ee]!==Re[Ee]){ve=Se[Ee],le=Re[Ee];break}return ve<le?-1:le<ve?1:0},h.prototype.includes=function(X,Z,ie){return this.indexOf(X,Z,ie)!==-1},h.prototype.indexOf=function(X,Z,ie){return M(this,X,Z,ie,!0)},h.prototype.lastIndexOf=function(X,Z,ie){return M(this,X,Z,ie,!1)},h.prototype.write=function(X,Z,ie,he){if(Z===void 0)he="utf8",ie=this.length,Z=0;else if(ie===void 0&&typeof Z=="string")he=Z,ie=this.length,Z=0;else{if(!isFinite(Z))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Z>>>=0,isFinite(ie)?(ie>>>=0,he===void 0&&(he="utf8")):(he=ie,ie=void 0)}var ye=this.length-Z;if((ie===void 0||ye<ie)&&(ie=ye),0<X.length&&(ie<0||Z<0)||Z>this.length)throw new RangeError("Attempt to write outside buffer bounds");he=he||"utf8";for(var ve,le,me,Se=!1;;)switch(he){case"hex":var Re=X,Ee=Z,Ae=ie,Be=(Ee=Number(Ee)||0,this.length-Ee);(!Ae||Be<(Ae=Number(Ae)))&&(Ae=Be),(Be=Re.length)/2<Ae&&(Ae=Be/2);for(var et=0;et<Ae;++et){var $e=parseInt(Re.substr(2*et,2),16);if(ce($e))return et;this[Ee+et]=$e}return et;case"utf8":case"utf-8":return Be=Z,me=ie,ne(Q(X,(le=this).length-Be),le,Be,me);case"ascii":return D(this,X,Z,ie);case"latin1":case"binary":return D(this,X,Z,ie);case"base64":return le=this,me=Z,ve=ie,ne(te(X),le,me,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,X,Z,ie);default:if(Se)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),Se=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function H(X,Z,ie){if(X%1!=0||X<0)throw new RangeError("offset is not uint");if(ie<X+Z)throw new RangeError("Trying to access beyond buffer length")}function G(X,Z,ie,he,ye,ve){if(!h.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(ye<Z||Z<ve)throw new RangeError('"value" argument is out of bounds');if(ie+he>X.length)throw new RangeError("Index out of range")}function Y(X,Z,ie,he){if(ie+he>X.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("Index out of range")}function q(X,Z,ie,he,ye){return Z=+Z,ie>>>=0,ye||Y(X,0,ie,4),c.write(X,Z,ie,he,23,4),ie+4}function V(X,Z,ie,he,ye){return Z=+Z,ie>>>=0,ye||Y(X,0,ie,8),c.write(X,Z,ie,he,52,8),ie+8}h.prototype.slice=function(X,Z){var ie=this.length;return(X=~~X)<0?(X+=ie)<0&&(X=0):ie<X&&(X=ie),(Z=Z===void 0?ie:~~Z)<0?(Z+=ie)<0&&(Z=0):ie<Z&&(Z=ie),Z<X&&(Z=X),ie=this.subarray(X,Z),Object.setPrototypeOf(ie,h.prototype),ie},h.prototype.readUIntLE=function(X,Z,ie){X>>>=0,Z>>>=0,ie||H(X,Z,this.length);for(var he=this[X],ye=1,ve=0;++ve<Z&&(ye*=256);)he+=this[X+ve]*ye;return he},h.prototype.readUIntBE=function(X,Z,ie){X>>>=0,Z>>>=0,ie||H(X,Z,this.length);for(var he=this[X+--Z],ye=1;0<Z&&(ye*=256);)he+=this[X+--Z]*ye;return he},h.prototype.readUInt8=function(X,Z){return X>>>=0,Z||H(X,1,this.length),this[X]},h.prototype.readUInt16LE=function(X,Z){return X>>>=0,Z||H(X,2,this.length),this[X]|this[X+1]<<8},h.prototype.readUInt16BE=function(X,Z){return X>>>=0,Z||H(X,2,this.length),this[X]<<8|this[X+1]},h.prototype.readUInt32LE=function(X,Z){return X>>>=0,Z||H(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},h.prototype.readUInt32BE=function(X,Z){return X>>>=0,Z||H(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},h.prototype.readIntLE=function(X,Z,ie){X>>>=0,Z>>>=0,ie||H(X,Z,this.length);for(var he=this[X],ye=1,ve=0;++ve<Z&&(ye*=256);)he+=this[X+ve]*ye;return(ye*=128)<=he&&(he-=Math.pow(2,8*Z)),he},h.prototype.readIntBE=function(X,Z,ie){X>>>=0,Z>>>=0,ie||H(X,Z,this.length);for(var he=Z,ye=1,ve=this[X+--he];0<he&&(ye*=256);)ve+=this[X+--he]*ye;return(ye*=128)<=ve&&(ve-=Math.pow(2,8*Z)),ve},h.prototype.readInt8=function(X,Z){return X>>>=0,Z||H(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},h.prototype.readInt16LE=function(X,Z){return X>>>=0,Z||H(X,2,this.length),32768&(Z=this[X]|this[X+1]<<8)?4294901760|Z:Z},h.prototype.readInt16BE=function(X,Z){return X>>>=0,Z||H(X,2,this.length),32768&(Z=this[X+1]|this[X]<<8)?4294901760|Z:Z},h.prototype.readInt32LE=function(X,Z){return X>>>=0,Z||H(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},h.prototype.readInt32BE=function(X,Z){return X>>>=0,Z||H(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},h.prototype.readFloatLE=function(X,Z){return X>>>=0,Z||H(X,4,this.length),c.read(this,X,!0,23,4)},h.prototype.readFloatBE=function(X,Z){return X>>>=0,Z||H(X,4,this.length),c.read(this,X,!1,23,4)},h.prototype.readDoubleLE=function(X,Z){return X>>>=0,Z||H(X,8,this.length),c.read(this,X,!0,52,8)},h.prototype.readDoubleBE=function(X,Z){return X>>>=0,Z||H(X,8,this.length),c.read(this,X,!1,52,8)},h.prototype.writeUIntLE=function(X,Z,ie,he){X=+X,Z>>>=0,ie>>>=0,he||G(this,X,Z,ie,Math.pow(2,8*ie)-1,0);var ye=1,ve=0;for(this[Z]=255&X;++ve<ie&&(ye*=256);)this[Z+ve]=X/ye&255;return Z+ie},h.prototype.writeUIntBE=function(X,Z,ie,he){X=+X,Z>>>=0,ie>>>=0,he||G(this,X,Z,ie,Math.pow(2,8*ie)-1,0);var ye=ie-1,ve=1;for(this[Z+ye]=255&X;0<=--ye&&(ve*=256);)this[Z+ye]=X/ve&255;return Z+ie},h.prototype.writeUInt8=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,1,255,0),this[Z]=255&X,Z+1},h.prototype.writeUInt16LE=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,2,65535,0),this[Z]=255&X,this[Z+1]=X>>>8,Z+2},h.prototype.writeUInt16BE=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,2,65535,0),this[Z]=X>>>8,this[Z+1]=255&X,Z+2},h.prototype.writeUInt32LE=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,4,4294967295,0),this[Z+3]=X>>>24,this[Z+2]=X>>>16,this[Z+1]=X>>>8,this[Z]=255&X,Z+4},h.prototype.writeUInt32BE=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,4,4294967295,0),this[Z]=X>>>24,this[Z+1]=X>>>16,this[Z+2]=X>>>8,this[Z+3]=255&X,Z+4},h.prototype.writeIntLE=function(X,Z,ie,he){X=+X,Z>>>=0,he||G(this,X,Z,ie,(he=Math.pow(2,8*ie-1))-1,-he);var ye=0,ve=1,le=0;for(this[Z]=255&X;++ye<ie&&(ve*=256);)X<0&&le===0&&this[Z+ye-1]!==0&&(le=1),this[Z+ye]=(X/ve>>0)-le&255;return Z+ie},h.prototype.writeIntBE=function(X,Z,ie,he){X=+X,Z>>>=0,he||G(this,X,Z,ie,(he=Math.pow(2,8*ie-1))-1,-he);var ye=ie-1,ve=1,le=0;for(this[Z+ye]=255&X;0<=--ye&&(ve*=256);)X<0&&le===0&&this[Z+ye+1]!==0&&(le=1),this[Z+ye]=(X/ve>>0)-le&255;return Z+ie},h.prototype.writeInt8=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,1,127,-128),this[Z]=255&(X=X<0?255+X+1:X),Z+1},h.prototype.writeInt16LE=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,2,32767,-32768),this[Z]=255&X,this[Z+1]=X>>>8,Z+2},h.prototype.writeInt16BE=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,2,32767,-32768),this[Z]=X>>>8,this[Z+1]=255&X,Z+2},h.prototype.writeInt32LE=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,4,2147483647,-2147483648),this[Z]=255&X,this[Z+1]=X>>>8,this[Z+2]=X>>>16,this[Z+3]=X>>>24,Z+4},h.prototype.writeInt32BE=function(X,Z,ie){return X=+X,Z>>>=0,ie||G(this,X,Z,4,2147483647,-2147483648),this[Z]=(X=X<0?4294967295+X+1:X)>>>24,this[Z+1]=X>>>16,this[Z+2]=X>>>8,this[Z+3]=255&X,Z+4},h.prototype.writeFloatLE=function(X,Z,ie){return q(this,X,Z,!0,ie)},h.prototype.writeFloatBE=function(X,Z,ie){return q(this,X,Z,!1,ie)},h.prototype.writeDoubleLE=function(X,Z,ie){return V(this,X,Z,!0,ie)},h.prototype.writeDoubleBE=function(X,Z,ie){return V(this,X,Z,!1,ie)},h.prototype.copy=function(X,Z,ie,he){if(!h.isBuffer(X))throw new TypeError("argument should be a Buffer");if(ie=ie||0,he||he===0||(he=this.length),Z>=X.length&&(Z=X.length),(he=0<he&&he<ie?ie:he)===ie||X.length===0||this.length===0)return 0;if((Z=Z||0)<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length);var ye=(he=X.length-Z<he-ie?X.length-Z+ie:he)-ie;if(this===X&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(Z,ie,he);else if(this===X&&ie<Z&&Z<he)for(var ve=ye-1;0<=ve;--ve)X[ve+Z]=this[ve+ie];else Uint8Array.prototype.set.call(X,this.subarray(ie,he),Z);return ye},h.prototype.fill=function(X,Z,ie,he){if(typeof X=="string"){if(typeof Z=="string"?(he=Z,Z=0,ie=this.length):typeof ie=="string"&&(he=ie,ie=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!h.isEncoding(he))throw new TypeError("Unknown encoding: "+he);var ye;X.length===1&&(ye=X.charCodeAt(0),(he==="utf8"&&ye<128||he==="latin1")&&(X=ye))}else typeof X=="number"?X&=255:typeof X=="boolean"&&(X=Number(X));if(Z<0||this.length<Z||this.length<ie)throw new RangeError("Out of range index");var ve;if(!(ie<=Z))if(Z>>>=0,ie=ie===void 0?this.length:ie>>>0,typeof(X=X||0)=="number")for(ve=Z;ve<ie;++ve)this[ve]=X;else{var le=h.isBuffer(X)?X:h.from(X,he),me=le.length;if(me===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(ve=0;ve<ie-Z;++ve)this[ve+Z]=le[ve%me]}return this};var $=/[^+/0-9A-Za-z-_]/g;function Q(X,Z){Z=Z||1/0;for(var ie,he=X.length,ye=null,ve=[],le=0;le<he;++le){if(55295<(ie=X.charCodeAt(le))&&ie<57344){if(!ye){if(56319<ie){-1<(Z-=3)&&ve.push(239,191,189);continue}if(le+1===he){-1<(Z-=3)&&ve.push(239,191,189);continue}ye=ie;continue}if(ie<56320){-1<(Z-=3)&&ve.push(239,191,189),ye=ie;continue}ie=65536+(ye-55296<<10|ie-56320)}else ye&&-1<(Z-=3)&&ve.push(239,191,189);if(ye=null,ie<128){if(--Z<0)break;ve.push(ie)}else if(ie<2048){if((Z-=2)<0)break;ve.push(ie>>6|192,63&ie|128)}else if(ie<65536){if((Z-=3)<0)break;ve.push(ie>>12|224,ie>>6&63|128,63&ie|128)}else{if(!(ie<1114112))throw new Error("Invalid code point");if((Z-=4)<0)break;ve.push(ie>>18|240,ie>>12&63|128,ie>>6&63|128,63&ie|128)}}return ve}function te(X){return d.toByteArray(function(Z){if((Z=(Z=Z.split("=")[0]).trim().replace($,"")).length<2)return"";for(;Z.length%4!=0;)Z+="=";return Z}(X))}function ne(X,Z,ie,he){for(var ye=0;ye<he&&!(ye+ie>=Z.length||ye>=X.length);++ye)Z[ye+ie]=X[ye];return ye}function ae(X,Z){return X instanceof Z||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===Z.name}function ce(X){return X!=X}var de=function(){for(var X="0123456789abcdef",Z=new Array(256),ie=0;ie<16;++ie)for(var he=16*ie,ye=0;ye<16;++ye)Z[he+ye]=X[ie]+X[ye];return Z}()}).call(this,n("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(n,C,x){C.exports=function(m){if(typeof m!="function")throw TypeError(String(m)+" is not a function");return m}},{}],6:[function(n,C,x){var m=n("../internals/is-object");C.exports=function(d){if(m(d)||d===null)return d;throw TypeError("Can't set "+String(d)+" as a prototype")}},{"../internals/is-object":74}],7:[function(n,C,x){var m=n("../internals/well-known-symbol"),d=n("../internals/object-create"),c=(n=n("../internals/object-define-property"),m("unscopables")),T=Array.prototype;T[c]==null&&n.f(T,c,{configurable:!0,value:d(null)}),C.exports=function(A){T[c][A]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(n,C,x){var m=n("../internals/string-multibyte").charAt;C.exports=function(d,c,T){return c+(T?m(d,c).length:1)}},{"../internals/string-multibyte":123}],9:[function(n,C,x){C.exports=function(m,d,c){if(m instanceof d)return m;throw TypeError("Incorrect "+(c?c+" ":"")+"invocation")}},{}],10:[function(n,C,x){var m=n("../internals/is-object");C.exports=function(d){if(m(d))return d;throw TypeError(String(d)+" is not an object")}},{"../internals/is-object":74}],11:[function(n,C,x){C.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(n,C,x){function m(q){return f(q)&&h(Y,p(q))}var d,c=n("../internals/array-buffer-native"),T=n("../internals/descriptors"),A=n("../internals/global"),f=n("../internals/is-object"),h=n("../internals/has"),p=n("../internals/classof"),u=n("../internals/create-non-enumerable-property"),g=n("../internals/redefine"),S=n("../internals/object-define-property").f,j=n("../internals/object-get-prototype-of"),_=n("../internals/object-set-prototype-of"),b=n("../internals/well-known-symbol"),E=(n=n("../internals/uid"),A.Int8Array),M=E&&E.prototype,P=(P=A.Uint8ClampedArray)&&P.prototype,D=E&&j(E),O=M&&j(M),U=Object.prototype,F=U.isPrototypeOf,H=(b=b("toStringTag"),n("TYPED_ARRAY_TAG")),G=c&&!!_&&p(A.opera)!=="Opera",Y=(n=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(d in Y)A[d]||(G=!1);if((!G||typeof D!="function"||D===Function.prototype)&&(D=function(){throw TypeError("Incorrect invocation")},G))for(d in Y)A[d]&&_(A[d],D);if((!G||!O||O===U)&&(O=D.prototype,G))for(d in Y)A[d]&&_(A[d].prototype,O);if(G&&j(P)!==O&&_(P,O),T&&!h(O,b))for(d in n=!0,S(O,b,{get:function(){return f(this)?this[H]:void 0}}),Y)A[d]&&u(A[d],H,d);C.exports={NATIVE_ARRAY_BUFFER_VIEWS:G,TYPED_ARRAY_TAG:n&&H,aTypedArray:function(q){if(m(q))return q;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(q){if(_){if(F.call(D,q))return q}else for(var V in Y)if(h(Y,d)&&(V=A[V])&&(q===V||F.call(V,q)))return q;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(q,V,$){if(T){if($)for(var Q in Y)(Q=A[Q])&&h(Q.prototype,q)&&delete Q.prototype[q];O[q]&&!$||g(O,q,!$&&G&&M[q]||V)}},exportTypedArrayStaticMethod:function(q,V,$){var Q,te;if(T){if(_){if($)for(Q in Y)(te=A[Q])&&h(te,q)&&delete te[q];if(D[q]&&!$)return;try{return g(D,q,!$&&G&&E[q]||V)}catch{}}for(Q in Y)!(te=A[Q])||te[q]&&!$||g(te,q,V)}},isView:function(q){return(q=p(q))==="DataView"||h(Y,q)},isTypedArray:m,TypedArray:D,TypedArrayPrototype:O}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(n,C,x){function m(Ee){return[255&Ee]}function d(Ee){return[255&Ee,Ee>>8&255]}function c(Ee){return[255&Ee,Ee>>8&255,Ee>>16&255,Ee>>24&255]}function T(Ee){return Ee[3]<<24|Ee[2]<<16|Ee[1]<<8|Ee[0]}function A(Ee){return ye(Ee,23,4)}function f(Ee){return ye(Ee,52,8)}function h(Ee,Ae){Y(Ee[ae],Ae,{get:function(){return $(this)[Ae]}})}function p(Ee,Ae,Be,et){if((Be=O(Be))+Ae>(Ee=$(Ee)).byteLength)throw he(ce);var $e=$(Ee.buffer).bytes;return Be+=Ee.byteOffset,Ee=$e.slice(Be,Be+Ae),et?Ee:Ee.reverse()}function u(Ee,Ae,Be,et,$e,at){if((Be=O(Be))+Ae>(Ee=$(Ee)).byteLength)throw he(ce);for(var jt=$(Ee.buffer).bytes,_t=Be+Ee.byteOffset,Yt=et(+$e),Tt=0;Tt<Ae;Tt++)jt[_t+Tt]=Yt[at?Tt:Ae-Tt-1]}var g=n("../internals/global"),S=n("../internals/descriptors"),j=n("../internals/array-buffer-native"),_=n("../internals/create-non-enumerable-property"),b=n("../internals/redefine-all"),E=n("../internals/fails"),M=n("../internals/an-instance"),P=n("../internals/to-integer"),D=n("../internals/to-length"),O=n("../internals/to-index"),U=n("../internals/ieee754"),F=n("../internals/object-get-prototype-of"),H=n("../internals/object-set-prototype-of"),G=n("../internals/object-get-own-property-names").f,Y=n("../internals/object-define-property").f,q=n("../internals/array-fill"),V=n("../internals/set-to-string-tag"),$=(n=n("../internals/internal-state")).get,Q=n.set,te="ArrayBuffer",ne="DataView",ae="prototype",ce="Wrong index",de=g[te],X=de,Z=g[ne],ie=(n=Z&&Z[ae],Object.prototype),he=g.RangeError,ye=U.pack,ve=U.unpack;if(j){if(!E(function(){de(1)})||!E(function(){new de(-1)})||E(function(){return new de,new de(1.5),new de(NaN),de.name!=te})){g=(X=function(Ee){return M(this,X),new de(O(Ee))})[ae]=de[ae];for(var le,me=G(de),Se=0;me.length>Se;)(le=me[Se++])in X||_(X,le,de[le]);g.constructor=X}H&&F(n)!==ie&&H(n,ie),U=new Z(new X(2));var Re=n.setInt8;U.setInt8(0,2147483648),U.setInt8(1,2147483649),!U.getInt8(0)&&U.getInt8(1)||b(n,{setInt8:function(Ee,Ae){Re.call(this,Ee,Ae<<24>>24)},setUint8:function(Ee,Ae){Re.call(this,Ee,Ae<<24>>24)}},{unsafe:!0})}else X=function(Ee){M(this,X,te),Ee=O(Ee),Q(this,{bytes:q.call(new Array(Ee),0),byteLength:Ee}),S||(this.byteLength=Ee)},Z=function(Ee,Ae,Be){M(this,Z,ne),M(Ee,X,ne);var et=$(Ee).byteLength;if((Ae=P(Ae))<0||et<Ae)throw he("Wrong offset");if(et<Ae+(Be=Be===void 0?et-Ae:D(Be)))throw he("Wrong length");Q(this,{buffer:Ee,byteLength:Be,byteOffset:Ae}),S||(this.buffer=Ee,this.byteLength=Be,this.byteOffset=Ae)},S&&(h(X,"byteLength"),h(Z,"buffer"),h(Z,"byteLength"),h(Z,"byteOffset")),b(Z[ae],{getInt8:function(Ee){return p(this,1,Ee)[0]<<24>>24},getUint8:function(Ee){return p(this,1,Ee)[0]},getInt16:function(Ee){return((Ee=p(this,2,Ee,1<arguments.length?arguments[1]:void 0))[1]<<8|Ee[0])<<16>>16},getUint16:function(Ee){return(Ee=p(this,2,Ee,1<arguments.length?arguments[1]:void 0))[1]<<8|Ee[0]},getInt32:function(Ee){return T(p(this,4,Ee,1<arguments.length?arguments[1]:void 0))},getUint32:function(Ee){return T(p(this,4,Ee,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Ee){return ve(p(this,4,Ee,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Ee){return ve(p(this,8,Ee,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Ee,Ae){u(this,1,Ee,m,Ae)},setUint8:function(Ee,Ae){u(this,1,Ee,m,Ae)},setInt16:function(Ee,Ae){u(this,2,Ee,d,Ae,2<arguments.length?arguments[2]:void 0)},setUint16:function(Ee,Ae){u(this,2,Ee,d,Ae,2<arguments.length?arguments[2]:void 0)},setInt32:function(Ee,Ae){u(this,4,Ee,c,Ae,2<arguments.length?arguments[2]:void 0)},setUint32:function(Ee,Ae){u(this,4,Ee,c,Ae,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Ee,Ae){u(this,4,Ee,A,Ae,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Ee,Ae){u(this,8,Ee,f,Ae,2<arguments.length?arguments[2]:void 0)}});V(X,te),V(Z,ne),C.exports={ArrayBuffer:X,DataView:Z}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(n,C,x){var m=n("../internals/to-object"),d=n("../internals/to-absolute-index"),c=n("../internals/to-length"),T=Math.min;C.exports=[].copyWithin||function(A,f){var h=m(this),p=c(h.length),u=d(A,p),g=d(f,p),S=T(((A=2<arguments.length?arguments[2]:void 0)===void 0?p:d(A,p))-g,p-u),j=1;for(g<u&&u<g+S&&(j=-1,g+=S-1,u+=S-1);0<S--;)g in h?h[u]=h[g]:delete h[u],u+=j,g+=j;return h}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(n,C,x){var m=n("../internals/to-object"),d=n("../internals/to-absolute-index"),c=n("../internals/to-length");C.exports=function(T){for(var A,f=m(this),h=c(f.length),p=d(1<(A=arguments.length)?arguments[1]:void 0,h),u=(A=2<A?arguments[2]:void 0)===void 0?h:d(A,h);p<u;)f[p++]=T;return f}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(n,C,x){var m=n("../internals/array-iteration").forEach,d=n("../internals/array-method-is-strict");n=n("../internals/array-method-uses-to-length"),d=d("forEach"),n=n("forEach"),C.exports=d&&n?[].forEach:function(c){return m(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(n,C,x){var m=n("../internals/function-bind-context"),d=n("../internals/to-object"),c=n("../internals/call-with-safe-iteration-closing"),T=n("../internals/is-array-iterator-method"),A=n("../internals/to-length"),f=n("../internals/create-property"),h=n("../internals/get-iterator-method");C.exports=function(p){var u,g,S,j,_,b,E=d(p),M=(p=typeof this=="function"?this:Array,arguments.length),P=1<M?arguments[1]:void 0,D=P!==void 0,O=h(E),U=0;if(D&&(P=m(P,2<M?arguments[2]:void 0,2)),O==null||p==Array&&T(O))for(g=new p(u=A(E.length));U<u;U++)b=D?P(E[U],U):E[U],f(g,U,b);else for(_=(j=O.call(E)).next,g=new p;!(S=_.call(j)).done;U++)b=D?c(j,P,[S.value,U],!0):S.value,f(g,U,b);return g.length=U,g}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(n,C,x){function m(A){return function(f,h,p){var u,g=d(f),S=c(g.length),j=T(p,S);if(A&&h!=h){for(;j<S;)if((u=g[j++])!=u)return!0}else for(;j<S;j++)if((A||j in g)&&g[j]===h)return A||j||0;return!A&&-1}}var d=n("../internals/to-indexed-object"),c=n("../internals/to-length"),T=n("../internals/to-absolute-index");C.exports={includes:m(!0),indexOf:m(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(n,C,x){function m(p){var u=p==1,g=p==2,S=p==3,j=p==4,_=p==6,b=p==5||_;return function(E,M,P,D){for(var O,U,F=T(E),H=c(F),G=d(M,P,3),Y=A(H.length),q=0,V=(M=D||f,u?M(E,Y):g?M(E,0):void 0);q<Y;q++)if((b||q in H)&&(U=G(O=H[q],q,F),p)){if(u)V[q]=U;else if(U)switch(p){case 3:return!0;case 5:return O;case 6:return q;case 2:h.call(V,O)}else if(j)return!1}return _?-1:S||j?j:V}}var d=n("../internals/function-bind-context"),c=n("../internals/indexed-object"),T=n("../internals/to-object"),A=n("../internals/to-length"),f=n("../internals/array-species-create"),h=[].push;C.exports={forEach:m(0),map:m(1),filter:m(2),some:m(3),every:m(4),find:m(5),findIndex:m(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(n,C,x){var m=n("../internals/to-indexed-object"),d=n("../internals/to-integer"),c=n("../internals/to-length"),T=n("../internals/array-method-is-strict"),A=(n=n("../internals/array-method-uses-to-length"),Math.min),f=[].lastIndexOf,h=!!f&&1/[1].lastIndexOf(1,-0)<0;T=T("lastIndexOf"),n=n("indexOf",{ACCESSORS:!0,1:0}),C.exports=!h&&T&&n?f:function(p){if(h)return f.apply(this,arguments)||0;var u=m(this),g=c(u.length),S=g-1;for((S=1<arguments.length?A(S,d(arguments[1])):S)<0&&(S=g+S);0<=S;S--)if(S in u&&u[S]===p)return S||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(n,C,x){var m=n("../internals/fails"),d=n("../internals/well-known-symbol"),c=n("../internals/engine-v8-version"),T=d("species");C.exports=function(A){return 51<=c||!m(function(){var f=[];return(f.constructor={})[T]=function(){return{foo:1}},f[A](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(n,C,x){var m=n("../internals/fails");C.exports=function(d,c){var T=[][d];return!!T&&m(function(){T.call(null,c||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(n,C,x){function m(h){throw h}var d=n("../internals/descriptors"),c=n("../internals/fails"),T=n("../internals/has"),A=Object.defineProperty,f={};C.exports=function(h,p){var u,g,S,j;return T(f,h)?f[h]:(u=[][h],g=!!T(p=p||{},"ACCESSORS")&&p.ACCESSORS,S=T(p,0)?p[0]:m,j=T(p,1)?p[1]:void 0,f[h]=!!u&&!c(function(){if(g&&!d)return!0;var _={length:-1};g?A(_,1,{enumerable:!0,get:m}):_[1]=1,u.call(_,S,j)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(n,C,x){function m(f){return function(h,p,u,g){d(p);var S=c(h),j=T(S),_=A(S.length),b=f?_-1:0,E=f?-1:1;if(u<2)for(;;){if(b in j){g=j[b],b+=E;break}if(b+=E,f?b<0:_<=b)throw TypeError("Reduce of empty array with no initial value")}for(;f?0<=b:b<_;b+=E)b in j&&(g=p(g,j[b],b,S));return g}}var d=n("../internals/a-function"),c=n("../internals/to-object"),T=n("../internals/indexed-object"),A=n("../internals/to-length");C.exports={left:m(!1),right:m(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(n,C,x){var m=n("../internals/is-object"),d=n("../internals/is-array"),c=n("../internals/well-known-symbol")("species");C.exports=function(T,A){var f;return new((f=d(T)&&(typeof(f=T.constructor)=="function"&&(f===Array||d(f.prototype))||m(f)&&(f=f[c])===null)?void 0:f)===void 0?Array:f)(A===0?0:A)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(n,C,x){var m=n("../internals/an-object");C.exports=function(d,c,T,A){try{return A?c(m(T)[0],T[1]):c(T)}catch(f){throw(A=d.return)!==void 0&&m(A.call(d)),f}}},{"../internals/an-object":10}],27:[function(n,C,x){var m=n("../internals/well-known-symbol")("iterator"),d=!1;try{var c=0,T={next:function(){return{done:!!c++}},return:function(){d=!0}};T[m]=function(){return this},Array.from(T,function(){throw 2})}catch{}C.exports=function(A,f){if(!f&&!d)return!1;var h=!1;try{var p={};p[m]=function(){return{next:function(){return{done:h=!0}}}},A(p)}catch{}return h}},{"../internals/well-known-symbol":148}],28:[function(n,C,x){var m={}.toString;C.exports=function(d){return m.call(d).slice(8,-1)}},{}],29:[function(n,C,x){var m=n("../internals/to-string-tag-support"),d=n("../internals/classof-raw"),c=n("../internals/well-known-symbol")("toStringTag"),T=d(function(){return arguments}())=="Arguments";C.exports=m?d:function(A){var f;return A===void 0?"Undefined":A===null?"Null":typeof(f=function(h,p){try{return h[p]}catch{}}(A=Object(A),c))=="string"?f:T?d(A):(f=d(A))=="Object"&&typeof A.callee=="function"?"Arguments":f}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(n,C,x){var m=n("../internals/object-define-property").f,d=n("../internals/object-create"),c=n("../internals/redefine-all"),T=n("../internals/function-bind-context"),A=n("../internals/an-instance"),f=n("../internals/iterate"),h=n("../internals/define-iterator"),p=n("../internals/set-species"),u=n("../internals/descriptors"),g=n("../internals/internal-metadata").fastKey,S=(n=n("../internals/internal-state")).set,j=n.getterFor;C.exports={getConstructor:function(_,b,E,M){function P(F,H,G){var Y,q=U(F),V=D(F,H);return V?V.value=G:(q.last=V={index:Y=g(H,!0),key:H,value:G,previous:H=q.last,next:void 0,removed:!1},q.first||(q.first=V),H&&(H.next=V),u?q.size++:F.size++,Y!=="F"&&(q.index[Y]=V)),F}function D(F,H){F=U(F);var G,Y=g(H);if(Y!=="F")return F.index[Y];for(G=F.first;G;G=G.next)if(G.key==H)return G}var O=_(function(F,H){A(F,O,b),S(F,{type:b,index:d(null),first:void 0,last:void 0,size:0}),u||(F.size=0),H!=null&&f(H,F[M],F,E)}),U=j(b);return c(O.prototype,{clear:function(){for(var F=U(this),H=F.index,G=F.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete H[G.index],G=G.next;F.first=F.last=void 0,u?F.size=0:this.size=0},delete:function(F){var H,G,Y=U(this);return(F=D(this,F))&&(H=F.next,G=F.previous,delete Y.index[F.index],F.removed=!0,G&&(G.next=H),H&&(H.previous=G),Y.first==F&&(Y.first=H),Y.last==F&&(Y.last=G),u?Y.size--:this.size--),!!F},forEach:function(F){for(var H,G=U(this),Y=T(F,1<arguments.length?arguments[1]:void 0,3);H=H?H.next:G.first;)for(Y(H.value,H.key,this);H&&H.removed;)H=H.previous},has:function(F){return!!D(this,F)}}),c(O.prototype,E?{get:function(F){return(F=D(this,F))&&F.value},set:function(F,H){return P(this,F===0?0:F,H)}}:{add:function(F){return P(this,F=F===0?0:F,F)}}),u&&m(O.prototype,"size",{get:function(){return U(this).size}}),O},setStrong:function(_,b,E){var M=b+" Iterator",P=j(b),D=j(M);h(_,b,function(O,U){S(this,{type:M,target:O,state:P(O),kind:U,last:void 0})},function(){for(var O=D(this),U=O.kind,F=O.last;F&&F.removed;)F=F.previous;return O.target&&(O.last=F=F?F.next:O.state.first)?U=="keys"?{value:F.key,done:!1}:U=="values"?{value:F.value,done:!1}:{value:[F.key,F.value],done:!1}:{value:O.target=void 0,done:!0}},E?"entries":"values",!E,!0),p(b)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(n,C,x){function m(P){return P.frozen||(P.frozen=new d)}function d(){this.entries=[]}function c(P,D){return b(P.entries,function(O){return O[0]===D})}var T=n("../internals/redefine-all"),A=n("../internals/internal-metadata").getWeakData,f=n("../internals/an-object"),h=n("../internals/is-object"),p=n("../internals/an-instance"),u=n("../internals/iterate"),g=n("../internals/array-iteration"),S=n("../internals/has"),j=(n=n("../internals/internal-state")).set,_=n.getterFor,b=g.find,E=g.findIndex,M=0;d.prototype={get:function(P){if(P=c(this,P))return P[1]},has:function(P){return!!c(this,P)},set:function(P,D){var O=c(this,P);O?O[1]=D:this.entries.push([P,D])},delete:function(P){var D=E(this.entries,function(O){return O[0]===P});return~D&&this.entries.splice(D,1),!!~D}},C.exports={getConstructor:function(P,D,O,U){function F(Y,q,V){var $=G(Y),Q=A(f(q),!0);return Q===!0?m($).set(q,V):Q[$.id]=V,Y}var H=P(function(Y,q){p(Y,H,D),j(Y,{type:D,id:M++,frozen:void 0}),q!=null&&u(q,Y[U],Y,O)}),G=_(D);return T(H.prototype,{delete:function(Y){var q,V=G(this);return!!h(Y)&&((q=A(Y))===!0?m(V).delete(Y):q&&S(q,V.id)&&delete q[V.id])},has:function(Y){var q,V=G(this);return!!h(Y)&&((q=A(Y))===!0?m(V).has(Y):q&&S(q,V.id))}}),T(H.prototype,O?{get:function(Y){var q,V=G(this);if(h(Y))return(q=A(Y))===!0?m(V).get(Y):q?q[V.id]:void 0},set:function(Y,q){return F(this,Y,q)}}:{add:function(Y){return F(this,Y,!0)}}),H}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/global"),c=n("../internals/is-forced"),T=n("../internals/redefine"),A=n("../internals/internal-metadata"),f=n("../internals/iterate"),h=n("../internals/an-instance"),p=n("../internals/is-object"),u=n("../internals/fails"),g=n("../internals/check-correctness-of-iteration"),S=n("../internals/set-to-string-tag"),j=n("../internals/inherit-if-required");C.exports=function(_,b,E){function M(te){var ne=V[te];T(V,te,te=="add"?function(ae){return ne.call(this,ae===0?0:ae),this}:te=="delete"?function(ae){return!(G&&!p(ae))&&ne.call(this,ae===0?0:ae)}:te=="get"?function(ae){return G&&!p(ae)?void 0:ne.call(this,ae===0?0:ae)}:te=="has"?function(ae){return!(G&&!p(ae))&&ne.call(this,ae===0?0:ae)}:function(ae,ce){return ne.call(this,ae===0?0:ae,ce),this})}var P,D,O,U,F,H=_.indexOf("Map")!==-1,G=_.indexOf("Weak")!==-1,Y=H?"set":"add",q=d[_],V=q&&q.prototype,$=q,Q={};return c(_,typeof q!="function"||!(G||V.forEach&&!u(function(){new q().entries().next()})))?($=E.getConstructor(b,_,H,Y),A.REQUIRED=!0):c(_,!0)&&(D=(P=new $)[Y](G?{}:-0,1)!=P,O=u(function(){P.has(1)}),U=g(function(te){new q(te)}),F=!G&&u(function(){for(var te=new q,ne=5;ne--;)te[Y](ne,ne);return!te.has(-0)}),U||((($=b(function(te,ne){return h(te,$,_),te=j(new q,te,$),ne!=null&&f(ne,te[Y],te,H),te})).prototype=V).constructor=$),(O||F)&&(M("delete"),M("has"),H&&M("get")),(F||D)&&M(Y),G&&V.clear&&delete V.clear),Q[_]=$,m({global:!0,forced:$!=q},Q),S($,_),G||E.setStrong($,_,H),$}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(n,C,x){var m=n("../internals/has"),d=n("../internals/own-keys"),c=n("../internals/object-get-own-property-descriptor"),T=n("../internals/object-define-property");C.exports=function(A,f){for(var h=d(f),p=T.f,u=c.f,g=0;g<h.length;g++){var S=h[g];m(A,S)||p(A,S,u(f,S))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(n,C,x){var m=n("../internals/well-known-symbol")("match");C.exports=function(d){var c=/./;try{"/./"[d](c)}catch{try{return c[m]=!1,"/./"[d](c)}catch{}}return!1}},{"../internals/well-known-symbol":148}],35:[function(n,C,x){n=n("../internals/fails"),C.exports=!n(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})},{"../internals/fails":51}],36:[function(n,C,x){var m=n("../internals/require-object-coercible"),d=/"/g;C.exports=function(c,T,A,f){c=String(m(c));var h="<"+T;return A!==""&&(h+=" "+A+'="'+String(f).replace(d,"&quot;")+'"'),h+">"+c+"</"+T+">"}},{"../internals/require-object-coercible":113}],37:[function(n,C,x){function m(){return this}var d=n("../internals/iterators-core").IteratorPrototype,c=n("../internals/object-create"),T=n("../internals/create-property-descriptor"),A=n("../internals/set-to-string-tag"),f=n("../internals/iterators");C.exports=function(h,p,u){return p+=" Iterator",h.prototype=c(d,{next:T(1,u)}),A(h,p,!1,!0),f[p]=m,h}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(n,C,x){var m=n("../internals/descriptors"),d=n("../internals/object-define-property"),c=n("../internals/create-property-descriptor");C.exports=m?function(T,A,f){return d.f(T,A,c(1,f))}:function(T,A,f){return T[A]=f,T}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(n,C,x){C.exports=function(m,d){return{enumerable:!(1&m),configurable:!(2&m),writable:!(4&m),value:d}}},{}],40:[function(n,C,x){var m=n("../internals/to-primitive"),d=n("../internals/object-define-property"),c=n("../internals/create-property-descriptor");C.exports=function(T,A,f){(A=m(A))in T?d.f(T,A,c(0,f)):T[A]=f}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(n,C,x){function m(){return this}var d=n("../internals/export"),c=n("../internals/create-iterator-constructor"),T=n("../internals/object-get-prototype-of"),A=n("../internals/object-set-prototype-of"),f=n("../internals/set-to-string-tag"),h=n("../internals/create-non-enumerable-property"),p=n("../internals/redefine"),u=n("../internals/well-known-symbol"),g=n("../internals/is-pure"),S=n("../internals/iterators"),j=(n=n("../internals/iterators-core")).IteratorPrototype,_=n.BUGGY_SAFARI_ITERATORS,b=u("iterator"),E="values",M="entries";C.exports=function(P,D,O,U,F,H,G){function Y(ce){if(ce===F&&ne)return ne;if(!_&&ce in Q)return Q[ce];switch(ce){case"keys":case E:case M:return function(){return new O(this,ce)}}return function(){return new O(this)}}c(O,D,U),U=D+" Iterator";var q,V,$=!1,Q=P.prototype,te=Q[b]||Q["@@iterator"]||F&&Q[F],ne=!_&&te||Y(F),ae=D=="Array"&&Q.entries||te;if(ae&&(ae=T(ae.call(new P)),j!==Object.prototype&&ae.next&&(g||T(ae)===j||(A?A(ae,j):typeof ae[b]!="function"&&h(ae,b,m)),f(ae,U,!0,!0),g&&(S[U]=m))),F==E&&te&&te.name!==E&&($=!0,ne=function(){return te.call(this)}),g&&!G||Q[b]===ne||h(Q,b,ne),S[D]=ne,F)if(q={values:Y(E),keys:H?ne:Y("keys"),entries:Y(M)},G)for(V in q)!_&&!$&&V in Q||p(Q,V,q[V]);else d({target:D,proto:!0,forced:_||$},q);return q}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(n,C,x){var m=n("../internals/path"),d=n("../internals/has"),c=n("../internals/well-known-symbol-wrapped"),T=n("../internals/object-define-property").f;C.exports=function(A){var f=m.Symbol||(m.Symbol={});d(f,A)||T(f,A,{value:c.f(A)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(n,C,x){n=n("../internals/fails"),C.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(n,C,x){var m=n("../internals/global"),d=(n=n("../internals/is-object"),m.document),c=n(d)&&n(d.createElement);C.exports=function(T){return c?d.createElement(T):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(n,C,x){C.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(n,C,x){n=n("../internals/engine-user-agent"),C.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},{"../internals/engine-user-agent":47}],47:[function(n,C,x){n=n("../internals/get-built-in"),C.exports=n("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(n,C,x){var m,d,c=n("../internals/global");n=n("../internals/engine-user-agent"),(c=(c=(c=c.process)&&c.versions)&&c.v8)?d=(m=c.split("."))[0]+m[1]:n&&(!(m=n.match(/Edge\/(\d+)/))||74<=m[1])&&(m=n.match(/Chrome\/(\d+)/))&&(d=m[1]),C.exports=d&&+d},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(n,C,x){C.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(n,C,x){var m=n("../internals/global"),d=n("../internals/object-get-own-property-descriptor").f,c=n("../internals/create-non-enumerable-property"),T=n("../internals/redefine"),A=n("../internals/set-global"),f=n("../internals/copy-constructor-properties"),h=n("../internals/is-forced");C.exports=function(p,u){var g,S,j,_=p.target,b=p.global,E=p.stat,M=b?m:E?m[_]||A(_,{}):(m[_]||{}).prototype;if(M)for(g in u){if(S=u[g],j=p.noTargetGet?(j=d(M,g))&&j.value:M[g],!h(b?g:_+(E?".":"#")+g,p.forced)&&j!==void 0){if(typeof S==typeof j)continue;f(S,j)}(p.sham||j&&j.sham)&&c(S,"sham",!0),T(M,g,S,p)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(n,C,x){C.exports=function(m){try{return!!m()}catch{return!0}}},{}],52:[function(n,C,x){n("../modules/es.regexp.exec");var m=n("../internals/redefine"),d=n("../internals/fails"),c=n("../internals/well-known-symbol"),T=n("../internals/regexp-exec"),A=n("../internals/create-non-enumerable-property"),f=c("species"),h=!d(function(){var S=/./;return S.exec=function(){var j=[];return j.groups={a:"7"},j},"".replace(S,"$<a>")!=="7"}),p="a".replace(/./,"$0")==="$0",u=!!/./[n=c("replace")]&&/./[n]("a","$0")==="",g=!d(function(){var S,j=(S=/(?:)/).exec;return(S=(S.exec=function(){return j.apply(this,arguments)},"ab".split(S))).length!==2||S[0]!=="a"||S[1]!=="b"});C.exports=function(S,j,_,b){var E,M,P=c(S),D=!d(function(){var U={};return U[P]=function(){return 7},""[S](U)!=7}),O=D&&!d(function(){var U=!1,F=/a/;return S==="split"&&((F={constructor:{}}).constructor[f]=function(){return F},F.flags="",F[P]=/./[P]),F.exec=function(){return U=!0,null},F[P](""),!U});D&&O&&(S!=="replace"||h&&p&&!u)&&(S!=="split"||g)||(E=/./[P],_=(O=_(P,""[S],function(U,F,H,G,Y){return F.exec===T?D&&!Y?{done:!0,value:E.call(F,H,G)}:{done:!0,value:U.call(H,F,G)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:u}))[0],M=O[1],m(String.prototype,S,_),m(RegExp.prototype,P,j==2?function(U,F){return M.call(U,this,F)}:function(U){return M.call(U,this)})),b&&A(RegExp.prototype[P],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(n,C,x){n=n("../internals/fails"),C.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(n,C,x){var m=n("../internals/a-function");C.exports=function(d,c,T){if(m(d),c===void 0)return d;switch(T){case 0:return function(){return d.call(c)};case 1:return function(A){return d.call(c,A)};case 2:return function(A,f){return d.call(c,A,f)};case 3:return function(A,f,h){return d.call(c,A,f,h)}}return function(){return d.apply(c,arguments)}}},{"../internals/a-function":5}],55:[function(n,C,x){var m=n("../internals/a-function"),d=n("../internals/is-object"),c=[].slice,T={};C.exports=Function.bind||function(A){var f=m(this),h=c.call(arguments,1),p=function(){var u=h.concat(c.call(arguments));if(this instanceof p){var g=f,S=u.length,j=u;if(!(S in T)){for(var _=[],b=0;b<S;b++)_[b]="a["+b+"]";T[S]=Function("C,a","return new C("+_.join(",")+")")}return T[S](g,j)}return f.apply(A,u)};return d(f.prototype)&&(p.prototype=f.prototype),p}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(n,C,x){function m(T){return typeof T=="function"?T:void 0}var d=n("../internals/path"),c=n("../internals/global");C.exports=function(T,A){return arguments.length<2?m(d[T])||m(c[T]):d[T]&&d[T][A]||c[T]&&c[T][A]}},{"../internals/global":59,"../internals/path":104}],57:[function(n,C,x){var m=n("../internals/classof"),d=n("../internals/iterators"),c=n("../internals/well-known-symbol")("iterator");C.exports=function(T){if(T!=null)return T[c]||T["@@iterator"]||d[m(T)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(n,C,x){var m=n("../internals/an-object"),d=n("../internals/get-iterator-method");C.exports=function(c){var T=d(c);if(typeof T!="function")throw TypeError(String(c)+" is not iterable");return m(T.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(n,C,x){(function(m){function d(c){return c&&c.Math==Math&&c}C.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof m=="object"&&m)||Function("return this")()}).call(this,R!==void 0?R:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(n,C,x){var m={}.hasOwnProperty;C.exports=function(d,c){return m.call(d,c)}},{}],61:[function(n,C,x){C.exports={}},{}],62:[function(n,C,x){var m=n("../internals/global");C.exports=function(d,c){var T=m.console;T&&T.error&&(arguments.length===1?T.error(d):T.error(d,c))}},{"../internals/global":59}],63:[function(n,C,x){n=n("../internals/get-built-in"),C.exports=n("document","documentElement")},{"../internals/get-built-in":56}],64:[function(n,C,x){var m=n("../internals/descriptors"),d=n("../internals/fails"),c=n("../internals/document-create-element");C.exports=!m&&!d(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(n,C,x){var m=Math.abs,d=Math.pow,c=Math.floor,T=Math.log,A=Math.LN2;C.exports={pack:function(f,h,p){var u,g,S,j=new Array(p),_=8*p-h-1,b=(p=(1<<_)-1)>>1,E=h===23?d(2,-24)-d(2,-77):0,M=f<0||f===0&&1/f<0?1:0,P=0;for((f=m(f))!=f||f===1/0?(g=f!=f?1:0,u=p):(u=c(T(f)/A),f*(S=d(2,-u))<1&&(u--,S*=2),2<=(f+=1<=u+b?E/S:E*d(2,1-b))*S&&(u++,S/=2),p<=u+b?(g=0,u=p):1<=u+b?(g=(f*S-1)*d(2,h),u+=b):(g=f*d(2,b-1)*d(2,h),u=0));8<=h;j[P++]=255&g,g/=256,h-=8);for(u=u<<h|g,_+=h;0<_;j[P++]=255&u,u/=256,_-=8);return j[--P]|=128*M,j},unpack:function(f,h){var p,u,g=f.length,S=(1<<(u=8*g-h-1))-1,j=S>>1,_=u-7,b=g-1,E=127&(u=f[b--]);for(u>>=7;0<_;E=256*E+f[b],b--,_-=8);for(p=E&(1<<-_)-1,E>>=-_,_+=h;0<_;p=256*p+f[b],b--,_-=8);if(E===0)E=1-j;else{if(E===S)return p?NaN:u?-1/0:1/0;p+=d(2,h),E-=j}return(u?-1:1)*p*d(2,E-h)}}},{}],66:[function(n,C,x){var m=n("../internals/fails"),d=n("../internals/classof-raw"),c="".split;C.exports=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(T){return d(T)=="String"?c.call(T,""):Object(T)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(n,C,x){var m=n("../internals/is-object"),d=n("../internals/object-set-prototype-of");C.exports=function(c,T,A){return d&&typeof(T=T.constructor)=="function"&&T!==A&&m(T=T.prototype)&&T!==A.prototype&&d(c,T),c}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(n,C,x){n=n("../internals/shared-store");var m=Function.toString;typeof n.inspectSource!="function"&&(n.inspectSource=function(d){return m.call(d)}),C.exports=n.inspectSource},{"../internals/shared-store":119}],69:[function(n,C,x){function m(j){A(j,p,{value:{objectID:"O"+ ++u,weakData:{}}})}var d=n("../internals/hidden-keys"),c=n("../internals/is-object"),T=n("../internals/has"),A=n("../internals/object-define-property").f,f=n("../internals/uid"),h=n("../internals/freezing"),p=f("meta"),u=0,g=Object.isExtensible||function(){return!0},S=C.exports={REQUIRED:!1,fastKey:function(j,_){if(!c(j))return typeof j=="symbol"?j:(typeof j=="string"?"S":"P")+j;if(!T(j,p)){if(!g(j))return"F";if(!_)return"E";m(j)}return j[p].objectID},getWeakData:function(j,_){if(!T(j,p)){if(!g(j))return!0;if(!_)return!1;m(j)}return j[p].weakData},onFreeze:function(j){return h&&S.REQUIRED&&g(j)&&!T(j,p)&&m(j),j}};d[p]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(n,C,x){var m,d,c,T,A,f,h,p,u=n("../internals/native-weak-map"),g=n("../internals/global"),S=n("../internals/is-object"),j=n("../internals/create-non-enumerable-property"),_=n("../internals/has"),b=n("../internals/shared-key");n=n("../internals/hidden-keys"),g=g.WeakMap,h=u?(m=new g,d=m.get,c=m.has,T=m.set,A=function(E,M){return T.call(m,E,M),M},f=function(E){return d.call(m,E)||{}},function(E){return c.call(m,E)}):(n[p=b("state")]=!0,A=function(E,M){return j(E,p,M),M},f=function(E){return _(E,p)?E[p]:{}},function(E){return _(E,p)}),C.exports={set:A,get:f,has:h,enforce:function(E){return h(E)?f(E):A(E,{})},getterFor:function(E){return function(M){if(S(M)&&(M=f(M)).type===E)return M;throw TypeError("Incompatible receiver, "+E+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(n,C,x){var m=n("../internals/well-known-symbol"),d=n("../internals/iterators"),c=m("iterator"),T=Array.prototype;C.exports=function(A){return A!==void 0&&(d.Array===A||T[c]===A)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(n,C,x){var m=n("../internals/classof-raw");C.exports=Array.isArray||function(d){return m(d)=="Array"}},{"../internals/classof-raw":28}],73:[function(n,C,x){function m(p,u){return(p=A[T(p)])==h||p!=f&&(typeof u=="function"?d(u):!!u)}var d=n("../internals/fails"),c=/#|\.prototype\./,T=m.normalize=function(p){return String(p).replace(c,".").toLowerCase()},A=m.data={},f=m.NATIVE="N",h=m.POLYFILL="P";C.exports=m},{"../internals/fails":51}],74:[function(n,C,x){C.exports=function(m){return typeof m=="object"?m!==null:typeof m=="function"}},{}],75:[function(n,C,x){C.exports=!1},{}],76:[function(n,C,x){var m=n("../internals/is-object"),d=n("../internals/classof-raw"),c=n("../internals/well-known-symbol")("match");C.exports=function(T){var A;return m(T)&&((A=T[c])!==void 0?!!A:d(T)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(n,C,x){function m(p,u){this.stopped=p,this.result=u}var d=n("../internals/an-object"),c=n("../internals/is-array-iterator-method"),T=n("../internals/to-length"),A=n("../internals/function-bind-context"),f=n("../internals/get-iterator-method"),h=n("../internals/call-with-safe-iteration-closing");(C.exports=function(p,u,g,S,j){var _,b,E,M,P,D,O=A(u,g,S?2:1);if(j)_=p;else{if(typeof(u=f(p))!="function")throw TypeError("Target is not iterable");if(c(u)){for(b=0,E=T(p.length);b<E;b++)if((M=S?O(d(D=p[b])[0],D[1]):O(p[b]))&&M instanceof m)return M;return new m(!1)}_=u.call(p)}for(P=_.next;!(D=P.call(_)).done;)if(typeof(M=h(_,O,D.value,S))=="object"&&M&&M instanceof m)return M;return new m(!1)}).stop=function(p){return new m(!0,p)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(n,C,x){var m,d,c=n("../internals/object-get-prototype-of"),T=n("../internals/create-non-enumerable-property"),A=n("../internals/has"),f=n("../internals/well-known-symbol"),h=(n=n("../internals/is-pure"),f=f("iterator"),!1);[].keys&&("next"in(d=[].keys())?(c=c(c(d)))!==Object.prototype&&(m=c):h=!0),m==null&&(m={}),n||A(m,f)||T(m,f,function(){return this}),C.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:h}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(n,C,x){C.exports={}},{}],80:[function(n,C,x){C.exports=Math.sign||function(m){return(m=+m)==0||m!=m?m:m<0?-1:1}},{}],81:[function(n,C,x){var m,d,c,T,A,f,h,p,u=n("../internals/global"),g=n("../internals/object-get-own-property-descriptor").f,S=n("../internals/classof-raw"),j=n("../internals/task").set,_=(n=n("../internals/engine-is-ios"),u.MutationObserver||u.WebKitMutationObserver),b=u.process,E=u.Promise,M=S(b)=="process";S=g(u,"queueMicrotask"),(g=S&&S.value)||(m=function(){var P,D;for(M&&(P=b.domain)&&P.exit();d;){D=d.fn,d=d.next;try{D()}catch(O){throw d?T():c=void 0,O}}c=void 0,P&&P.enter()},T=M?function(){b.nextTick(m)}:_&&!n?(A=!0,f=document.createTextNode(""),new _(m).observe(f,{characterData:!0}),function(){f.data=A=!A}):E&&E.resolve?(h=E.resolve(void 0),p=h.then,function(){p.call(h,m)}):function(){j.call(u,m)}),C.exports=g||function(P){P={fn:P,next:void 0},c&&(c.next=P),d||(d=P,T()),c=P}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(n,C,x){n=n("../internals/global"),C.exports=n.Promise},{"../internals/global":59}],83:[function(n,C,x){n=n("../internals/fails"),C.exports=!!Object.getOwnPropertySymbols&&!n(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(n,C,x){var m=n("../internals/fails"),d=n("../internals/well-known-symbol"),c=n("../internals/is-pure"),T=d("iterator");C.exports=!m(function(){var A=new URL("b?a=1&b=2&c=3","http://a"),f=A.searchParams,h="";return A.pathname="c%20d",f.forEach(function(p,u){f.delete("b"),h+=u+p}),c&&!A.toJSON||!f.sort||A.href!=="http://a/c%20d?a=1&c=3"||f.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!f[T]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||h!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(n,C,x){var m=n("../internals/global");n=n("../internals/inspect-source"),m=m.WeakMap,C.exports=typeof m=="function"&&/native code/.test(n(m))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(n,C,x){function m(c){var T,A;this.promise=new c(function(f,h){if(T!==void 0||A!==void 0)throw TypeError("Bad Promise constructor");T=f,A=h}),this.resolve=d(T),this.reject=d(A)}var d=n("../internals/a-function");C.exports.f=function(c){return new m(c)}},{"../internals/a-function":5}],87:[function(n,C,x){var m=n("../internals/is-regexp");C.exports=function(d){if(m(d))throw TypeError("The method doesn't accept regular expressions");return d}},{"../internals/is-regexp":76}],88:[function(n,C,x){var m=n("../internals/global").isFinite;C.exports=Number.isFinite||function(d){return typeof d=="number"&&m(d)}},{"../internals/global":59}],89:[function(n,C,x){var m=n("../internals/descriptors"),d=n("../internals/fails"),c=n("../internals/object-keys"),T=n("../internals/object-get-own-property-symbols"),A=n("../internals/object-property-is-enumerable"),f=n("../internals/to-object"),h=n("../internals/indexed-object"),p=Object.assign,u=Object.defineProperty;C.exports=!p||d(function(){var g,S,j,_;return!(!m||p({b:1},p(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(S={},_="abcdefghijklmnopqrst",(g={})[j=Symbol()]=7,_.split("").forEach(function(b){S[b]=b}),p({},g)[j]!=7||c(p({},S)).join("")!=_)})?function(g,S){for(var j=f(g),_=arguments.length,b=1,E=T.f,M=A.f;b<_;)for(var P,D=h(arguments[b++]),O=E?c(D).concat(E(D)):c(D),U=O.length,F=0;F<U;)P=O[F++],m&&!M.call(D,P)||(j[P]=D[P]);return j}:p},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(n,C,x){function m(){}var d,c=n("../internals/an-object"),T=n("../internals/object-define-properties"),A=n("../internals/enum-bug-keys"),f=n("../internals/hidden-keys"),h=n("../internals/html"),p=n("../internals/document-create-element"),u=(n=n("../internals/shared-key"),"prototype"),g="script",S=n("IE_PROTO"),j=function(b){return"<script>"+b+"</"+g+">"},_=function(){try{d=document.domain&&new ActiveXObject("htmlfile")}catch{}_=d?((b=d).write(j("")),b.close(),E=b.parentWindow.Object,b=null,E):(E="javascript:",(b=p("iframe")).style.display="none",h.appendChild(b),b.src=String(E),(E=b.contentWindow.document).open(),E.write(j("document.F=Object")),E.close(),E.F);for(var b,E,M=A.length;M--;)delete _[u][A[M]];return _()};f[S]=!0,C.exports=Object.create||function(b,E){var M;return b!==null?(m[u]=c(b),M=new m,m[u]=null,M[S]=b):M=_(),E===void 0?M:T(M,E)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(n,C,x){var m=n("../internals/descriptors"),d=n("../internals/object-define-property"),c=n("../internals/an-object"),T=n("../internals/object-keys");C.exports=m?Object.defineProperties:function(A,f){c(A);for(var h,p=T(f),u=p.length,g=0;g<u;)d.f(A,h=p[g++],f[h]);return A}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(n,C,x){var m=n("../internals/descriptors"),d=n("../internals/ie8-dom-define"),c=n("../internals/an-object"),T=n("../internals/to-primitive"),A=Object.defineProperty;x.f=m?A:function(f,h,p){if(c(f),h=T(h,!0),c(p),d)try{return A(f,h,p)}catch{}if("get"in p||"set"in p)throw TypeError("Accessors not supported");return"value"in p&&(f[h]=p.value),f}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(n,C,x){var m=n("../internals/descriptors"),d=n("../internals/object-property-is-enumerable"),c=n("../internals/create-property-descriptor"),T=n("../internals/to-indexed-object"),A=n("../internals/to-primitive"),f=n("../internals/has"),h=n("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;x.f=m?p:function(u,g){if(u=T(u),g=A(g,!0),h)try{return p(u,g)}catch{}if(f(u,g))return c(!d.f.call(u,g),u[g])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(n,C,x){var m=n("../internals/to-indexed-object"),d=n("../internals/object-get-own-property-names").f,c={}.toString,T=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];C.exports.f=function(A){if(!T||c.call(A)!="[object Window]")return d(m(A));try{return d(A)}catch{return T.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(n,C,x){var m=n("../internals/object-keys-internal"),d=n("../internals/enum-bug-keys").concat("length","prototype");x.f=Object.getOwnPropertyNames||function(c){return m(c,d)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(n,C,x){x.f=Object.getOwnPropertySymbols},{}],97:[function(n,C,x){var m=n("../internals/has"),d=n("../internals/to-object"),c=n("../internals/shared-key"),T=(n=n("../internals/correct-prototype-getter"),c("IE_PROTO")),A=Object.prototype;C.exports=n?Object.getPrototypeOf:function(f){return f=d(f),m(f,T)?f[T]:typeof f.constructor=="function"&&f instanceof f.constructor?f.constructor.prototype:f instanceof Object?A:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(n,C,x){var m=n("../internals/has"),d=n("../internals/to-indexed-object"),c=n("../internals/array-includes").indexOf,T=n("../internals/hidden-keys");C.exports=function(A,f){var h,p=d(A),u=0,g=[];for(h in p)!m(T,h)&&m(p,h)&&g.push(h);for(;f.length>u;)!m(p,h=f[u++])||~c(g,h)||g.push(h);return g}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(n,C,x){var m=n("../internals/object-keys-internal"),d=n("../internals/enum-bug-keys");C.exports=Object.keys||function(c){return m(c,d)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(n,C,x){var m={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,c=d&&!m.call({1:2},1);x.f=c?function(T){return!!(T=d(this,T))&&T.enumerable}:m},{}],101:[function(n,C,x){var m=n("../internals/an-object"),d=n("../internals/a-possible-prototype");C.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,T=!1,A={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(A,[]),T=A instanceof Array}catch{}return function(f,h){return m(f),d(h),T?c.call(f,h):f.__proto__=h,f}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(n,C,x){var m=n("../internals/to-string-tag-support"),d=n("../internals/classof");C.exports=m?{}.toString:function(){return"[object "+d(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(n,C,x){var m=n("../internals/get-built-in"),d=n("../internals/object-get-own-property-names"),c=n("../internals/object-get-own-property-symbols"),T=n("../internals/an-object");C.exports=m("Reflect","ownKeys")||function(A){var f=d.f(T(A)),h=c.f;return h?f.concat(h(A)):f}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(n,C,x){n=n("../internals/global"),C.exports=n},{"../internals/global":59}],105:[function(n,C,x){C.exports=function(m){try{return{error:!1,value:m()}}catch(d){return{error:!0,value:d}}}},{}],106:[function(n,C,x){var m=n("../internals/an-object"),d=n("../internals/is-object"),c=n("../internals/new-promise-capability");C.exports=function(T,A){return m(T),d(A)&&A.constructor===T?A:((0,(T=c.f(T)).resolve)(A),T.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(n,C,x){var m=n("../internals/redefine");C.exports=function(d,c,T){for(var A in c)m(d,A,c[A],T);return d}},{"../internals/redefine":108}],108:[function(n,C,x){var m=n("../internals/global"),d=n("../internals/create-non-enumerable-property"),c=n("../internals/has"),T=n("../internals/set-global"),A=n("../internals/inspect-source"),f=(n=n("../internals/internal-state")).get,h=n.enforce,p=String(String).split("String");(C.exports=function(u,g,S,j){var _=!!j&&!!j.unsafe,b=!!j&&!!j.enumerable;j=!!j&&!!j.noTargetGet,typeof S=="function"&&(typeof g!="string"||c(S,"name")||d(S,"name",g),h(S).source=p.join(typeof g=="string"?g:"")),u===m?b?u[g]=S:T(g,S):(_?!j&&u[g]&&(b=!0):delete u[g],b?u[g]=S:d(u,g,S))})(Function.prototype,"toString",function(){return typeof this=="function"&&f(this).source||A(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(n,C,x){var m=n("./classof-raw"),d=n("./regexp-exec");C.exports=function(c,T){var A=c.exec;if(typeof A=="function"){if(typeof(A=A.call(c,T))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return A}if(m(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return d.call(c,T)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(n,C,x){var m,d,c=n("./regexp-flags"),T=(n=n("./regexp-sticky-helpers"),RegExp.prototype.exec),A=String.prototype.replace,f=T,h=(m=/a/,d=/b*/g,T.call(m,"a"),T.call(d,"a"),m.lastIndex!==0||d.lastIndex!==0),p=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=/()??/.exec("")[1]!==void 0;C.exports=f=h||u||p?function(g){var S,j,_,b,E=this,M=p&&E.sticky,P=c.call(E),D=E.source,O=0,U=g;return M&&((P=P.replace("y","")).indexOf("g")===-1&&(P+="g"),U=String(g).slice(E.lastIndex),0<E.lastIndex&&(!E.multiline||E.multiline&&g[E.lastIndex-1]!==`
`)&&(D="(?: "+D+")",U=" "+U,O++),j=new RegExp("^(?:"+D+")",P)),u&&(j=new RegExp("^"+D+"$(?!\\s)",P)),h&&(S=E.lastIndex),_=T.call(M?j:E,U),M?_?(_.input=_.input.slice(O),_[0]=_[0].slice(O),_.index=E.lastIndex,E.lastIndex+=_[0].length):E.lastIndex=0:h&&_&&(E.lastIndex=E.global?_.index+_[0].length:S),u&&_&&1<_.length&&A.call(_[0],j,function(){for(b=1;b<arguments.length-2;b++)arguments[b]===void 0&&(_[b]=void 0)}),_}:f},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(n,C,x){var m=n("../internals/an-object");C.exports=function(){var d=m(this),c="";return d.global&&(c+="g"),d.ignoreCase&&(c+="i"),d.multiline&&(c+="m"),d.dotAll&&(c+="s"),d.unicode&&(c+="u"),d.sticky&&(c+="y"),c}},{"../internals/an-object":10}],112:[function(n,C,x){function m(d,c){return RegExp(d,c)}n=n("./fails"),x.UNSUPPORTED_Y=n(function(){var d=m("a","y");return d.lastIndex=2,d.exec("abcd")!=null}),x.BROKEN_CARET=n(function(){var d=m("^r","gy");return d.lastIndex=2,d.exec("str")!=null})},{"./fails":51}],113:[function(n,C,x){C.exports=function(m){if(m==null)throw TypeError("Can't call method on "+m);return m}},{}],114:[function(n,C,x){C.exports=Object.is||function(m,d){return m===d?m!==0||1/m==1/d:m!=m&&d!=d}},{}],115:[function(n,C,x){var m=n("../internals/global"),d=n("../internals/create-non-enumerable-property");C.exports=function(c,T){try{d(m,c,T)}catch{m[c]=T}return T}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(n,C,x){var m=n("../internals/get-built-in"),d=n("../internals/object-define-property"),c=n("../internals/well-known-symbol"),T=n("../internals/descriptors"),A=c("species");C.exports=function(f){f=m(f);var h=d.f;T&&f&&!f[A]&&h(f,A,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(n,C,x){var m=n("../internals/object-define-property").f,d=n("../internals/has"),c=n("../internals/well-known-symbol")("toStringTag");C.exports=function(T,A,f){T&&!d(T=f?T:T.prototype,c)&&m(T,c,{configurable:!0,value:A})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(n,C,x){var m=n("../internals/shared"),d=n("../internals/uid"),c=m("keys");C.exports=function(T){return c[T]||(c[T]=d(T))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(n,C,x){var m=n("../internals/global"),d=(n=n("../internals/set-global"),"__core-js_shared__");m=m[d]||n(d,{}),C.exports=m},{"../internals/global":59,"../internals/set-global":115}],120:[function(n,C,x){var m=n("../internals/is-pure"),d=n("../internals/shared-store");(C.exports=function(c,T){return d[c]||(d[c]=T!==void 0?T:{})})("versions",[]).push({version:"3.6.5",mode:m?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(n,C,x){var m=n("../internals/an-object"),d=n("../internals/a-function"),c=n("../internals/well-known-symbol")("species");C.exports=function(T,A){return(T=m(T).constructor)===void 0||(T=m(T)[c])==null?A:d(T)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(n,C,x){var m=n("../internals/fails");C.exports=function(d){return m(function(){var c=""[d]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":51}],123:[function(n,C,x){function m(T){return function(A,f){A=String(c(A)),f=d(f);var h,p=A.length;return f<0||p<=f?T?"":void 0:(h=A.charCodeAt(f))<55296||56319<h||f+1===p||(p=A.charCodeAt(f+1))<56320||57343<p?T?A.charAt(f):h:T?A.slice(f,f+2):p-56320+(h-55296<<10)+65536}}var d=n("../internals/to-integer"),c=n("../internals/require-object-coercible");C.exports={codeAt:m(!1),charAt:m(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(n,C,x){n=n("../internals/engine-user-agent"),C.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},{"../internals/engine-user-agent":47}],125:[function(n,C,x){function m(f){return function(h,p,u){var g=(h=String(T(h))).length;return u=u===void 0?" ":String(u),(p=d(p))<=g||u==""?h:((g=c.call(u,A((p-=g)/u.length))).length>p&&(g=g.slice(0,p)),f?h+g:g+h)}}var d=n("../internals/to-length"),c=n("../internals/string-repeat"),T=n("../internals/require-object-coercible"),A=Math.ceil;C.exports={start:m(!1),end:m(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(n,C,x){function m(b){return b+22+75*(b<26)}function d(b){var E,M=[],P=(b=function(ae){for(var ce=[],de=0,X=ae.length;de<X;){var Z,ie=ae.charCodeAt(de++);55296<=ie&&ie<=56319&&de<X?(64512&(Z=ae.charCodeAt(de++)))==56320?ce.push(((1023&ie)<<10)+(1023&Z)+65536):(ce.push(ie),de--):ce.push(ie)}return ce}(b)).length,D=128,O=0,U=72;for(Y=0;Y<b.length;Y++)(E=b[Y])<128&&M.push(_(E));var F=M.length,H=F;for(F&&M.push("-");H<P;){for(var G=c,Y=0;Y<b.length;Y++)D<=(E=b[Y])&&E<G&&(G=E);var q=H+1;if(G-D>j((c-O)/q))throw RangeError(g);for(O+=(G-D)*q,D=G,Y=0;Y<b.length;Y++){if((E=b[Y])<D&&++O>c)throw RangeError(g);if(E==D){for(var V=O,$=T;;$+=T){var Q=$<=U?1:U+A<=$?A:$-U;if(V<Q)break;var te=V-Q,ne=T-Q;M.push(_(m(Q+te%ne))),V=j(te/ne)}M.push(_(m(V))),U=function(ae,ce,de){var X=0;for(ae=de?j(ae/h):ae>>1,ae+=j(ae/ce);S*A>>1<ae;X+=T)ae=j(ae/S);return j(X+(S+1)*ae/(ae+f))}(O,q,H==F),O=0,++H}}++O,++D}return M.join("")}var c=2147483647,T=36,A=26,f=38,h=700,p=/[^\0-\u007E]/,u=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",S=T-1,j=Math.floor,_=String.fromCharCode;C.exports=function(b){for(var E,M=[],P=b.toLowerCase().replace(u,".").split("."),D=0;D<P.length;D++)E=P[D],M.push(p.test(E)?"xn--"+d(E):E);return M.join(".")}},{}],127:[function(n,C,x){var m=n("../internals/to-integer"),d=n("../internals/require-object-coercible");C.exports="".repeat||function(c){var T=String(d(this)),A="",f=m(c);if(f<0||f==1/0)throw RangeError("Wrong number of repetitions");for(;0<f;(f>>>=1)&&(T+=T))1&f&&(A+=T);return A}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(n,C,x){var m=n("../internals/fails"),d=n("../internals/whitespaces");C.exports=function(c){return m(function(){return!!d[c]()||"​᠎"[c]()!="​᠎"||d[c].name!==c})}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(n,C,x){function m(A){return function(f){return f=String(d(f)),1&A&&(f=f.replace(c,"")),2&A?f.replace(T,""):f}}var d=n("../internals/require-object-coercible"),c=(n="["+n("../internals/whitespaces")+"]",RegExp("^"+n+n+"*")),T=RegExp(n+n+"*$");C.exports={start:m(1),end:m(2),trim:m(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(n,C,x){function m(F){return function(){U(F)}}function d(F){U(F.data)}function c(F){A.postMessage(F+"",S.protocol+"//"+S.host)}var T,A=n("../internals/global"),f=n("../internals/fails"),h=n("../internals/classof-raw"),p=n("../internals/function-bind-context"),u=n("../internals/html"),g=n("../internals/document-create-element"),S=(n=n("../internals/engine-is-ios"),A.location),j=A.setImmediate,_=A.clearImmediate,b=A.process,E=A.MessageChannel,M=A.Dispatch,P=0,D={},O="onreadystatechange",U=function(F){var H;D.hasOwnProperty(F)&&(H=D[F],delete D[F],H())};j&&_||(j=function(F){for(var H=[],G=1;G<arguments.length;)H.push(arguments[G++]);return D[++P]=function(){(typeof F=="function"?F:Function(F)).apply(void 0,H)},T(P),P},_=function(F){delete D[F]},h(b)=="process"?T=function(F){b.nextTick(m(F))}:M&&M.now?T=function(F){M.now(m(F))}:E&&!n?(n=(h=new E).port2,h.port1.onmessage=d,T=p(n.postMessage,n,1)):!A.addEventListener||typeof postMessage!="function"||A.importScripts||f(c)||S.protocol==="file:"?T=O in g("script")?function(F){u.appendChild(g("script"))[O]=function(){u.removeChild(this),U(F)}}:function(F){setTimeout(m(F),0)}:(T=c,A.addEventListener("message",d,!1))),C.exports={set:j,clear:_}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(n,C,x){var m=n("../internals/classof-raw");C.exports=function(d){if(typeof d!="number"&&m(d)!="Number")throw TypeError("Incorrect invocation");return+d}},{"../internals/classof-raw":28}],132:[function(n,C,x){var m=n("../internals/to-integer"),d=Math.max,c=Math.min;C.exports=function(T,A){return(T=m(T))<0?d(T+A,0):c(T,A)}},{"../internals/to-integer":135}],133:[function(n,C,x){var m=n("../internals/to-integer"),d=n("../internals/to-length");C.exports=function(c){if(c===void 0)return 0;c=m(c);var T=d(c);if(c!==T)throw RangeError("Wrong length or index");return T}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(n,C,x){var m=n("../internals/indexed-object"),d=n("../internals/require-object-coercible");C.exports=function(c){return m(d(c))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(n,C,x){var m=Math.ceil,d=Math.floor;C.exports=function(c){return isNaN(c=+c)?0:(0<c?d:m)(c)}},{}],136:[function(n,C,x){var m=n("../internals/to-integer"),d=Math.min;C.exports=function(c){return 0<c?d(m(c),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(n,C,x){var m=n("../internals/require-object-coercible");C.exports=function(d){return Object(m(d))}},{"../internals/require-object-coercible":113}],138:[function(n,C,x){var m=n("../internals/to-positive-integer");C.exports=function(d,c){if((d=m(d))%c)throw RangeError("Wrong offset");return d}},{"../internals/to-positive-integer":139}],139:[function(n,C,x){var m=n("../internals/to-integer");C.exports=function(d){if((d=m(d))<0)throw RangeError("The argument can't be less than 0");return d}},{"../internals/to-integer":135}],140:[function(n,C,x){var m=n("../internals/is-object");C.exports=function(d,c){if(!m(d))return d;var T,A;if(c&&typeof(T=d.toString)=="function"&&!m(A=T.call(d))||typeof(T=d.valueOf)=="function"&&!m(A=T.call(d))||!c&&typeof(T=d.toString)=="function"&&!m(A=T.call(d)))return A;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(n,C,x){var m={};m[n("../internals/well-known-symbol")("toStringTag")]="z",C.exports=String(m)==="[object z]"},{"../internals/well-known-symbol":148}],142:[function(n,C,x){function m(at,jt){for(var _t=0,Yt=jt.length,Tt=new(Ae(at))(Yt);_t<Yt;)Tt[_t]=jt[_t++];return Tt}function d(at,jt){Z(at,jt,{get:function(){return de(this)[jt]}})}function c(at){return at instanceof ve||(at=F(at))=="ArrayBuffer"||at=="SharedArrayBuffer"}function T(at,jt){return Be(at)&&typeof jt!="symbol"&&jt in at&&String(+jt)==String(jt)}function A(at,jt){return T(at,jt=O(jt,!0))?b(2,at[jt]):ie(at,jt)}function f(at,jt,_t){return!(T(at,jt=O(jt,!0))&&H(_t)&&U(_t,"value"))||U(_t,"get")||U(_t,"set")||_t.configurable||U(_t,"writable")&&!_t.writable||U(_t,"enumerable")&&!_t.enumerable?Z(at,jt,_t):(at[jt]=_t.value,at)}var h=n("../internals/export"),p=n("../internals/global"),u=n("../internals/descriptors"),g=n("../internals/typed-array-constructors-require-wrappers"),S=n("../internals/array-buffer-view-core"),j=n("../internals/array-buffer"),_=n("../internals/an-instance"),b=n("../internals/create-property-descriptor"),E=n("../internals/create-non-enumerable-property"),M=n("../internals/to-length"),P=n("../internals/to-index"),D=n("../internals/to-offset"),O=n("../internals/to-primitive"),U=n("../internals/has"),F=n("../internals/classof"),H=n("../internals/is-object"),G=n("../internals/object-create"),Y=n("../internals/object-set-prototype-of"),q=n("../internals/object-get-own-property-names").f,V=n("../internals/typed-array-from"),$=n("../internals/array-iteration").forEach,Q=n("../internals/set-species"),te=n("../internals/object-define-property"),ne=n("../internals/object-get-own-property-descriptor"),ae=n("../internals/internal-state"),ce=n("../internals/inherit-if-required"),de=ae.get,X=ae.set,Z=te.f,ie=ne.f,he=Math.round,ye=p.RangeError,ve=j.ArrayBuffer,le=j.DataView,me=S.NATIVE_ARRAY_BUFFER_VIEWS,Se=S.TYPED_ARRAY_TAG,Re=S.TypedArray,Ee=S.TypedArrayPrototype,Ae=S.aTypedArrayConstructor,Be=S.isTypedArray,et="BYTES_PER_ELEMENT",$e="Wrong length";u?(me||(ne.f=A,te.f=f,d(Ee,"buffer"),d(Ee,"byteOffset"),d(Ee,"byteLength"),d(Ee,"length")),h({target:"Object",stat:!0,forced:!me},{getOwnPropertyDescriptor:A,defineProperty:f}),C.exports=function(at,jt,_t){function Yt(Ot,At){Z(Ot,At,{get:function(){var fe=this,ue=At;return(fe=de(fe)).view[We](ue*Tt+fe.byteOffset,!0)},set:function(fe){var ue=this,pe=At;ue=de(ue),_t&&(fe=(fe=he(fe))<0?0:255<fe?255:255&fe),ue.view[Ye](pe*Tt+ue.byteOffset,fe,!0)},enumerable:!0})}var Tt=at.match(/\d+$/)[0]/8,je=at+(_t?"Clamped":"")+"Array",We="get"+at,Ye="set"+at,ft=p[je],Ct=ft,Vt=(at=Ct&&Ct.prototype,{});me?g&&(Ct=jt(function(Ot,At,fe,ue){return _(Ot,Ct,je),ce(H(At)?c(At)?ue!==void 0?new ft(At,D(fe,Tt),ue):fe!==void 0?new ft(At,D(fe,Tt)):new ft(At):Be(At)?m(Ct,At):V.call(Ct,At):new ft(P(At)),Ot,Ct)}),Y&&Y(Ct,Re),$(q(ft),function(Ot){Ot in Ct||E(Ct,Ot,ft[Ot])}),Ct.prototype=at):(Ct=jt(function(Ot,At,fe,ue){_(Ot,Ct,je);var pe,xe,De=0,Ke=0;if(H(At)){if(!c(At))return Be(At)?m(Ct,At):V.call(Ct,At);var mt=At;if(Ke=D(fe,Tt),fe=At.byteLength,ue===void 0){if(fe%Tt||(pe=fe-Ke)<0)throw ye($e)}else if(fe<(pe=M(ue)*Tt)+Ke)throw ye($e);xe=pe/Tt}else xe=P(At),mt=new ve(pe=xe*Tt);for(X(Ot,{buffer:mt,byteOffset:Ke,byteLength:pe,length:xe,view:new le(mt)});De<xe;)Yt(Ot,De++)}),Y&&Y(Ct,Re),at=Ct.prototype=G(Ee)),at.constructor!==Ct&&E(at,"constructor",Ct),Se&&E(at,Se,je),Vt[je]=Ct,h({global:!0,forced:Ct!=ft,sham:!me},Vt),et in Ct||E(Ct,et,Tt),et in at||E(at,et,Tt),Q(je)}):C.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(n,C,x){var m=n("../internals/global"),d=n("../internals/fails"),c=n("../internals/check-correctness-of-iteration"),T=(n=n("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m.ArrayBuffer),A=m.Int8Array;C.exports=!n||!d(function(){A(1)})||!d(function(){new A(-1)})||!c(function(f){new A,new A(null),new A(1.5),new A(f)},!0)||d(function(){return new A(new T(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(n,C,x){var m=n("../internals/to-object"),d=n("../internals/to-length"),c=n("../internals/get-iterator-method"),T=n("../internals/is-array-iterator-method"),A=n("../internals/function-bind-context"),f=n("../internals/array-buffer-view-core").aTypedArrayConstructor;C.exports=function(h){var p,u,g,S,j,_,b=m(h),E=arguments.length,M=1<E?arguments[1]:void 0,P=M!==void 0,D=c(b);if(D!=null&&!T(D))for(_=(j=D.call(b)).next,b=[];!(S=_.call(j)).done;)b.push(S.value);for(P&&2<E&&(M=A(M,arguments[2],2)),u=d(b.length),g=new(f(this))(u),p=0;p<u;p++)g[p]=P?M(b[p],p):b[p];return g}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(n,C,x){var m=0,d=Math.random();C.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++m+d).toString(36)}},{}],146:[function(n,C,x){n=n("../internals/native-symbol"),C.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],147:[function(n,C,x){n=n("../internals/well-known-symbol"),x.f=n},{"../internals/well-known-symbol":148}],148:[function(n,C,x){var m=n("../internals/global"),d=n("../internals/shared"),c=n("../internals/has"),T=n("../internals/uid"),A=n("../internals/native-symbol"),f=(n=n("../internals/use-symbol-as-uid"),d("wks")),h=m.Symbol,p=n?h:h&&h.withoutSetter||T;C.exports=function(u){return c(f,u)||(A&&c(h,u)?f[u]=h[u]:f[u]=p("Symbol."+u)),f[u]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(n,C,x){C.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},{}],150:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/global"),c=n("../internals/array-buffer"),T=(n=n("../internals/set-species"),"ArrayBuffer");c=c[T],m({global:!0,forced:d[T]!==c},{ArrayBuffer:c}),n(T)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/fails"),c=n("../internals/is-array"),T=n("../internals/is-object"),A=n("../internals/to-object"),f=n("../internals/to-length"),h=n("../internals/create-property"),p=n("../internals/array-species-create"),u=n("../internals/array-method-has-species-support"),g=n("../internals/well-known-symbol"),S=(n=n("../internals/engine-v8-version"),g("isConcatSpreadable")),j=9007199254740991,_="Maximum allowed index exceeded";g=51<=n||!d(function(){var b=[];return b[S]=!1,b.concat()[0]!==b}),n=u("concat"),m({target:"Array",proto:!0,forced:!g||!n},{concat:function(b){for(var E,M,P,D,O,U=A(this),F=p(U,0),H=0,G=-1,Y=arguments.length;G<Y;G++)if(O=void 0,T(D=P=G===-1?U:arguments[G])&&((O=D[S])!==void 0?O:c(D))){if(M=f(P.length),j<H+M)throw TypeError(_);for(E=0;E<M;E++,H++)E in P&&h(F,H,P[E])}else{if(j<=H)throw TypeError(_);h(F,H++,P)}return F.length=H,F}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-copy-within");n=n("../internals/add-to-unscopables"),m({target:"Array",proto:!0},{copyWithin:d}),n("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-iteration").every,c=n("../internals/array-method-is-strict");n=n("../internals/array-method-uses-to-length"),c=c("every"),n=n("every"),m({target:"Array",proto:!0,forced:!c||!n},{every:function(T){return d(this,T,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-fill");n=n("../internals/add-to-unscopables"),m({target:"Array",proto:!0},{fill:d}),n("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-iteration").filter,c=n("../internals/array-method-has-species-support");n=n("../internals/array-method-uses-to-length"),c=c("filter"),n=n("filter"),m({target:"Array",proto:!0,forced:!c||!n},{filter:function(T){return d(this,T,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(n,C,x){var m=n("../internals/export");n=n("../internals/array-for-each"),m({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-from");m({target:"Array",stat:!0,forced:!n("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:d})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-includes").includes,c=n("../internals/add-to-unscopables");m({target:"Array",proto:!0,forced:!n("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(T){return d(this,T,1<arguments.length?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-includes").indexOf,c=n("../internals/array-method-is-strict"),T=(n=n("../internals/array-method-uses-to-length"),[].indexOf),A=!!T&&1/[1].indexOf(1,-0)<0;c=c("indexOf"),n=n("indexOf",{ACCESSORS:!0,1:0}),m({target:"Array",proto:!0,forced:A||!c||!n},{indexOf:function(f){return A?T.apply(this,arguments)||0:d(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(n,C,x){var m=n("../internals/to-indexed-object"),d=n("../internals/add-to-unscopables"),c=n("../internals/iterators"),T=n("../internals/internal-state"),A=(n=n("../internals/define-iterator"),"Array Iterator"),f=T.set,h=T.getterFor(A);C.exports=n(Array,"Array",function(p,u){f(this,{type:A,target:m(p),index:0,kind:u})},function(){var p=h(this),u=p.target,g=p.kind,S=p.index++;return!u||S>=u.length?{value:p.target=void 0,done:!0}:g=="keys"?{value:S,done:!1}:g=="values"?{value:u[S],done:!1}:{value:[S,u[S]],done:!1}},"values"),c.Arguments=c.Array,d("keys"),d("values"),d("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/indexed-object"),c=n("../internals/to-indexed-object"),T=(n=n("../internals/array-method-is-strict"),[].join);d=d!=Object,n=n("join",","),m({target:"Array",proto:!0,forced:d||!n},{join:function(A){return T.call(c(this),A===void 0?",":A)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(n,C,x){n("../internals/export")({target:"Array",proto:!0,forced:(n=n("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:n})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-iteration").map,c=n("../internals/array-method-has-species-support");n=n("../internals/array-method-uses-to-length"),c=c("map"),n=n("map"),m({target:"Array",proto:!0,forced:!c||!n},{map:function(T){return d(this,T,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/is-object"),c=n("../internals/is-array"),T=n("../internals/to-absolute-index"),A=n("../internals/to-length"),f=n("../internals/to-indexed-object"),h=n("../internals/create-property"),p=n("../internals/well-known-symbol"),u=n("../internals/array-method-has-species-support"),g=(n=n("../internals/array-method-uses-to-length"),u=u("slice"),n=n("slice",{ACCESSORS:!0,0:0,1:2}),p("species")),S=[].slice,j=Math.max;m({target:"Array",proto:!0,forced:!u||!n},{slice:function(_,b){var E,M,P,D=f(this),O=A(D.length),U=T(_,O),F=T(b===void 0?O:b,O);if(c(D)&&((E=typeof(E=D.constructor)=="function"&&(E===Array||c(E.prototype))||d(E)&&(E=E[g])===null?void 0:E)===Array||E===void 0))return S.call(D,U,F);for(M=new(E===void 0?Array:E)(j(F-U,0)),P=0;U<F;U++,P++)U in D&&h(M,P,D[U]);return M.length=P,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/array-iteration").some,c=n("../internals/array-method-is-strict");n=n("../internals/array-method-uses-to-length"),c=c("some"),n=n("some"),m({target:"Array",proto:!0,forced:!c||!n},{some:function(T){return d(this,T,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/to-absolute-index"),c=n("../internals/to-integer"),T=n("../internals/to-length"),A=n("../internals/to-object"),f=n("../internals/array-species-create"),h=n("../internals/create-property"),p=n("../internals/array-method-has-species-support"),u=(n=n("../internals/array-method-uses-to-length"),p=p("splice"),n=n("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),g=Math.min;m({target:"Array",proto:!0,forced:!p||!n},{splice:function(S,j){var _,b,E,M,P,D,O=A(this),U=T(O.length),F=d(S,U);if((S=arguments.length)===0?_=b=0:b=S===1?(_=0,U-F):(_=S-2,g(u(c(j),0),U-F)),9007199254740991<U+_-b)throw TypeError("Maximum allowed length exceeded");for(E=f(O,b),M=0;M<b;M++)(P=F+M)in O&&h(E,M,O[P]);if(_<(E.length=b)){for(M=F;M<U-b;M++)D=M+_,(P=M+b)in O?O[D]=O[P]:delete O[D];for(M=U;U-b+_<M;M--)delete O[M-1]}else if(b<_)for(M=U-b;F<M;M--)D=M+_-1,(P=M+b-1)in O?O[D]=O[P]:delete O[D];for(M=0;M<_;M++)O[M+F]=arguments[M+2];return O.length=U-b+_,E}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(n,C,x){var m=n("../internals/descriptors"),d=(n=n("../internals/object-define-property").f,Function.prototype),c=d.toString,T=/^\s*function ([^ (]*)/;!m||"name"in d||n(d,"name",{configurable:!0,get:function(){try{return c.call(this).match(T)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(n,C,x){var m=n("../internals/collection");n=n("../internals/collection-strong"),C.exports=m("Map",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},n)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(n,C,x){n=n("../internals/export");var m=Math.hypot,d=Math.abs,c=Math.sqrt;n({target:"Math",stat:!0,forced:!!m&&m(1/0,NaN)!==1/0},{hypot:function(T,A){for(var f,h,p=0,u=0,g=arguments.length,S=0;u<g;)S<(f=d(arguments[u++]))?(p=p*(h=S/f)*h+1,S=f):p+=0<f?(h=f/S)*h:f;return S===1/0?1/0:S*c(p)}})},{"../internals/export":50}],170:[function(n,C,x){n("../internals/export")({target:"Math",stat:!0},{sign:n("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(n,C,x){function m(Y){var q,V,$,Q,te,ne,ae,ce=u(Y,!1);if(typeof ce=="string"&&2<ce.length){if((Y=(ce=E(ce)).charCodeAt(0))===43||Y===45){if((q=ce.charCodeAt(2))===88||q===120)return NaN}else if(Y===48){switch(ce.charCodeAt(1)){case 66:case 98:V=2,$=49;break;case 79:case 111:V=8,$=55;break;default:return+ce}for(te=(Q=ce.slice(2)).length,ne=0;ne<te;ne++)if((ae=Q.charCodeAt(ne))<48||$<ae)return NaN;return parseInt(Q,V)}}return+ce}var d=n("../internals/descriptors"),c=n("../internals/global"),T=n("../internals/is-forced"),A=n("../internals/redefine"),f=n("../internals/has"),h=n("../internals/classof-raw"),p=n("../internals/inherit-if-required"),u=n("../internals/to-primitive"),g=n("../internals/fails"),S=n("../internals/object-create"),j=n("../internals/object-get-own-property-names").f,_=n("../internals/object-get-own-property-descriptor").f,b=n("../internals/object-define-property").f,E=n("../internals/string-trim").trim,M="Number",P=c[M],D=P.prototype,O=h(S(D))==M;if(T(M,!P(" 0o1")||!P("0b1")||P("+0x1"))){for(var U,F=function(Y){Y=arguments.length<1?0:Y;var q=this;return q instanceof F&&(O?g(function(){D.valueOf.call(q)}):h(q)!=M)?p(new P(m(Y)),q,F):m(Y)},H=d?j(P):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),G=0;H.length>G;G++)f(P,U=H[G])&&!f(F,U)&&b(F,U,_(P,U));(F.prototype=D).constructor=F,A(c,M,F)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(n,C,x){n("../internals/export")({target:"Number",stat:!0},{isFinite:n("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(n,C,x){function m(p,u,g){return u===0?g:u%2==1?m(p,u-1,g*p):m(p*p,u/2,g)}var d=n("../internals/export"),c=n("../internals/to-integer"),T=n("../internals/this-number-value"),A=n("../internals/string-repeat"),f=(n=n("../internals/fails"),1 .toFixed),h=Math.floor;d({target:"Number",proto:!0,forced:f&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!n(function(){f.call({})})},{toFixed:function(p){function u(D,O){for(var U=-1,F=O;++U<6;)F+=D*E[U],E[U]=F%1e7,F=h(F/1e7)}function g(D){for(var O=6,U=0;0<=--O;)U+=E[O],E[O]=h(U/D),U=U%D*1e7}function S(){for(var D,O=6,U="";0<=--O;)U===""&&O!==0&&E[O]===0||(D=String(E[O]),U=U===""?D:U+A.call("0",7-D.length)+D);return U}var j,_,b=T(this),E=(p=c(p),[0,0,0,0,0,0]),M="",P="0";if(p<0||20<p)throw RangeError("Incorrect fraction digits");if(b!=b)return"NaN";if(b<=-1e21||1e21<=b)return String(b);if(b<0&&(M="-",b=-b),1e-21<b)if(b=(j=function(D){for(var O=0,U=D;4096<=U;)O+=12,U/=4096;for(;2<=U;)O+=1,U/=2;return O}(b*m(2,69,1))-69)<0?b*m(2,-j,1):b/m(2,j,1),b*=4503599627370496,0<(j=52-j)){for(u(0,b),_=p;7<=_;)u(1e7,0),_-=7;for(u(m(10,_,1),0),_=j-1;23<=_;)g(1<<23),_-=23;g(1<<_),u(1,1),g(2),P=S()}else u(0,b),u(1<<-j,0),P=S()+A.call("0",p);return 0<p?M+((b=P.length)<=p?"0."+A.call("0",p-b)+P:P.slice(0,b-p)+"."+P.slice(b-p)):M+P}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(n,C,x){var m=n("../internals/export");n=n("../internals/object-assign"),m({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/iterate"),c=n("../internals/create-property");m({target:"Object",stat:!0},{fromEntries:function(T){var A={};return d(T,function(f,h){c(A,f,h)},void 0,!0),A}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/fails"),c=n("../internals/to-indexed-object"),T=n("../internals/object-get-own-property-descriptor").f;n=n("../internals/descriptors"),d=d(function(){T(1)}),m({target:"Object",stat:!0,forced:!n||d,sham:!n},{getOwnPropertyDescriptor:function(A,f){return T(c(A),f)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/fails");n=n("../internals/object-get-own-property-names-external").f,m({target:"Object",stat:!0,forced:d(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:n})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/fails"),c=n("../internals/to-object"),T=n("../internals/object-get-prototype-of");n=n("../internals/correct-prototype-getter"),m({target:"Object",stat:!0,forced:d(function(){T(1)}),sham:!n},{getPrototypeOf:function(A){return T(c(A))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/to-object"),c=n("../internals/object-keys");m({target:"Object",stat:!0,forced:n("../internals/fails")(function(){c(1)})},{keys:function(T){return c(d(T))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(n,C,x){var m=n("../internals/to-string-tag-support"),d=n("../internals/redefine");n=n("../internals/object-to-string"),m||d(Object.prototype,"toString",n,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(n,C,x){var m,d,c,T,A=n("../internals/export"),f=n("../internals/is-pure"),h=n("../internals/global"),p=n("../internals/get-built-in"),u=n("../internals/native-promise-constructor"),g=n("../internals/redefine"),S=n("../internals/redefine-all"),j=n("../internals/set-to-string-tag"),_=n("../internals/set-species"),b=n("../internals/is-object"),E=n("../internals/a-function"),M=n("../internals/an-instance"),P=n("../internals/classof-raw"),D=n("../internals/inspect-source"),O=n("../internals/iterate"),U=n("../internals/check-correctness-of-iteration"),F=n("../internals/species-constructor"),H=n("../internals/task").set,G=n("../internals/microtask"),Y=n("../internals/promise-resolve"),q=n("../internals/host-report-errors"),V=n("../internals/new-promise-capability"),$=n("../internals/perform"),Q=n("../internals/internal-state"),te=n("../internals/is-forced"),ne=n("../internals/well-known-symbol"),ae=n("../internals/engine-v8-version"),ce=ne("species"),de="Promise",X=Q.get,Z=Q.set,ie=Q.getterFor(de),he=u,ye=h.TypeError,ve=h.document,le=h.process,me=p("fetch"),Se=V.f,Re=Se,Ee=P(le)=="process",Ae=!!(ve&&ve.createEvent&&h.dispatchEvent),Be="unhandledrejection",et=(ne=(n=te(de,function(){var je,We;return D(he)===String(he)&&(ae===66||!Ee&&typeof PromiseRejectionEvent!="function")?!0:!((!f||he.prototype.finally)&&(51<=ae&&/native code/.test(he)||(We=function(Ye){Ye(function(){},function(){})},((je=he.resolve(1)).constructor={})[ce]=We,je.then(function(){})instanceof We)))}))||!U(function(je){he.all(je).catch(function(){})}),function(je){var We;return!(!b(je)||typeof(We=je.then)!="function")&&We}),$e=function(je,We,Ye){var ft;We.notified||(We.notified=!0,ft=We.reactions,G(function(){for(var Ct,Vt,Ot=We.value,At=We.state==1,fe=0;ft.length>fe;){var ue,pe,xe,De=ft[fe++],Ke=At?De.ok:De.fail,mt=De.resolve,ht=De.reject,Le=De.domain;try{Ke?(At||(We.rejection===2&&function(gt,Mt){H.call(h,function(){Ee?le.emit("rejectionHandled",gt):at("rejectionhandled",gt,Mt.value)})}(je,We),We.rejection=1),Ke===!0?ue=Ot:(Le&&Le.enter(),ue=Ke(Ot),Le&&(Le.exit(),xe=!0)),ue===De.promise?ht(ye("Promise-chain cycle")):(pe=et(ue))?pe.call(ue,mt,ht):mt(ue)):ht(Ot)}catch(gt){Le&&!xe&&Le.exit(),ht(gt)}}We.reactions=[],We.notified=!1,Ye&&!We.rejection&&(Ct=je,Vt=We,H.call(h,function(){var gt=Vt.value,Mt=jt(Vt);if(Mt&&(Mt=$(function(){Ee?le.emit("unhandledRejection",gt,Ct):at(Be,Ct,gt)}),Vt.rejection=Ee||jt(Vt)?2:1,Mt.error))throw Mt.value}))}))},at=function(je,We,Ye){var ft;Ae?((ft=ve.createEvent("Event")).promise=We,ft.reason=Ye,ft.initEvent(je,!1,!0),h.dispatchEvent(ft)):ft={promise:We,reason:Ye},(We=h["on"+je])?We(ft):je===Be&&q("Unhandled promise rejection",Ye)},jt=function(je){return je.rejection!==1&&!je.parent},_t=function(je,We,Ye,ft){return function(Ct){je(We,Ye,Ct,ft)}},Yt=function(je,We,Ye,ft){We.done||(We.done=!0,(We=ft||We).value=Ye,We.state=2,$e(je,We,!0))},Tt=function(je,We,Ye,ft){if(!We.done){We.done=!0,ft&&(We=ft);try{if(je===Ye)throw ye("Promise can't be resolved itself");var Ct=et(Ye);Ct?G(function(){var Vt={done:!1};try{Ct.call(Ye,_t(Tt,je,Vt,We),_t(Yt,je,Vt,We))}catch(Ot){Yt(je,Vt,Ot,We)}}):(We.value=Ye,We.state=1,$e(je,We,!1))}catch(Vt){Yt(je,{done:!1},Vt,We)}}};n&&(he=function(je){M(this,he,de),E(je),m.call(this);var We=X(this);try{je(_t(Tt,this,We),_t(Yt,this,We))}catch(Ye){Yt(this,We,Ye)}},(m=function(je){Z(this,{type:de,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=S(he.prototype,{then:function(je,We){var Ye=ie(this),ft=Se(F(this,he));return ft.ok=typeof je!="function"||je,ft.fail=typeof We=="function"&&We,ft.domain=Ee?le.domain:void 0,Ye.parent=!0,Ye.reactions.push(ft),Ye.state!=0&&$e(this,Ye,!1),ft.promise},catch:function(je){return this.then(void 0,je)}}),d=function(){var je=new m,We=X(je);this.promise=je,this.resolve=_t(Tt,je,We),this.reject=_t(Yt,je,We)},V.f=Se=function(je){return je===he||je===c?new d:Re(je)},f||typeof u!="function"||(T=u.prototype.then,g(u.prototype,"then",function(je,We){var Ye=this;return new he(function(ft,Ct){T.call(Ye,ft,Ct)}).then(je,We)},{unsafe:!0}),typeof me=="function"&&A({global:!0,enumerable:!0,forced:!0},{fetch:function(je){return Y(he,me.apply(h,arguments))}}))),A({global:!0,wrap:!0,forced:n},{Promise:he}),j(he,de,!1,!0),_(de),c=p(de),A({target:de,stat:!0,forced:n},{reject:function(je){var We=Se(this);return We.reject.call(void 0,je),We.promise}}),A({target:de,stat:!0,forced:f||n},{resolve:function(je){return Y(f&&this===c?he:this,je)}}),A({target:de,stat:!0,forced:ne},{all:function(je){var We=this,Ye=Se(We),ft=Ye.resolve,Ct=Ye.reject,Vt=$(function(){var Ot=E(We.resolve),At=[],fe=0,ue=1;O(je,function(pe){var xe=fe++,De=!1;At.push(void 0),ue++,Ot.call(We,pe).then(function(Ke){De||(De=!0,At[xe]=Ke,--ue||ft(At))},Ct)}),--ue||ft(At)});return Vt.error&&Ct(Vt.value),Ye.promise},race:function(je){var We=this,Ye=Se(We),ft=Ye.reject,Ct=$(function(){var Vt=E(We.resolve);O(je,function(Ot){Vt.call(We,Ot).then(Ye.resolve,ft)})});return Ct.error&&ft(Ct.value),Ye.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/get-built-in"),c=n("../internals/a-function"),T=n("../internals/an-object"),A=n("../internals/is-object"),f=n("../internals/object-create"),h=n("../internals/function-bind"),p=(n=n("../internals/fails"),d("Reflect","construct")),u=n(function(){function S(){}return!(p(function(){},[],S)instanceof S)}),g=!n(function(){p(function(){})});m({target:"Reflect",stat:!0,forced:d=u||g,sham:d},{construct:function(S,j){c(S),T(j);var _=arguments.length<3?S:c(arguments[2]);if(g&&!u)return p(S,j,_);if(S==_){switch(j.length){case 0:return new S;case 1:return new S(j[0]);case 2:return new S(j[0],j[1]);case 3:return new S(j[0],j[1],j[2]);case 4:return new S(j[0],j[1],j[2],j[3])}var b=[null];return b.push.apply(b,j),new(h.apply(S,b))}return b=_.prototype,_=f(A(b)?b:Object.prototype),b=Function.apply.call(S,_,j),A(b)?b:_}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/is-object"),c=n("../internals/an-object"),T=n("../internals/has"),A=n("../internals/object-get-own-property-descriptor"),f=n("../internals/object-get-prototype-of");m({target:"Reflect",stat:!0},{get:function h(p,u){var g,S=arguments.length<3?p:arguments[2];return c(p)===S?p[u]:(g=A.f(p,u))?T(g,"value")?g.value:g.get===void 0?void 0:g.get.call(S):d(g=f(p))?h(g,u,S):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(n,C,x){var m=n("../internals/descriptors"),d=n("../internals/global"),c=n("../internals/is-forced"),T=n("../internals/inherit-if-required"),A=n("../internals/object-define-property").f,f=n("../internals/object-get-own-property-names").f,h=n("../internals/is-regexp"),p=n("../internals/regexp-flags"),u=n("../internals/regexp-sticky-helpers"),g=n("../internals/redefine"),S=n("../internals/fails"),j=n("../internals/internal-state").set,_=n("../internals/set-species"),b=n("../internals/well-known-symbol")("match"),E=d.RegExp,M=E.prototype,P=/a/g,D=/a/g,O=new E(P)!==P,U=u.UNSUPPORTED_Y;if(m&&c("RegExp",!O||U||S(function(){return D[b]=!1,E(P)!=P||E(D)==D||E(P,"i")!="/a/i"}))){for(var F=function(Y,q){var V,$=this instanceof F,Q=h(Y),te=q===void 0;return!$&&Q&&Y.constructor===F&&te?Y:(O?Q&&!te&&(Y=Y.source):Y instanceof F&&(te&&(q=p.call(Y)),Y=Y.source),U&&(V=!!q&&-1<q.indexOf("y"))&&(q=q.replace(/y/g,"")),Q=T(O?new E(Y,q):E(Y,q),$?this:M,F),U&&V&&j(Q,{sticky:V}),Q)},H=f(E),G=0;H.length>G;)(function(Y){Y in F||A(F,Y,{configurable:!0,get:function(){return E[Y]},set:function(q){E[Y]=q}})})(H[G++]);(M.constructor=F).prototype=M,g(d,"RegExp",F)}_("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(n,C,x){var m=n("../internals/export");n=n("../internals/regexp-exec"),m({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(n,C,x){var m=n("../internals/redefine"),d=n("../internals/an-object"),c=n("../internals/fails"),T=n("../internals/regexp-flags"),A=(n="toString",RegExp.prototype),f=A[n],h=(c=c(function(){return f.call({source:"a",flags:"b"})!="/a/b"}),f.name!=n);(c||h)&&m(RegExp.prototype,n,function(){var p=d(this),u=String(p.source),g=p.flags;return"/"+u+"/"+String(g===void 0&&p instanceof RegExp&&!("flags"in A)?T.call(p):g)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(n,C,x){var m=n("../internals/collection");n=n("../internals/collection-strong"),C.exports=m("Set",function(d){return function(){return d(this,arguments.length?arguments[0]:void 0)}},n)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/object-get-own-property-descriptor").f,c=n("../internals/to-length"),T=n("../internals/not-a-regexp"),A=n("../internals/require-object-coercible"),f=n("../internals/correct-is-regexp-logic"),h=(n=n("../internals/is-pure"),"".endsWith),p=Math.min;f=f("endsWith"),m({target:"String",proto:!0,forced:!(!n&&!f&&(m=d(String.prototype,"endsWith"))&&!m.writable||f)},{endsWith:function(u){var g=String(A(this)),S=(T(u),1<arguments.length?arguments[1]:void 0),j=c(g.length);return S=S===void 0?j:p(c(S),j),j=String(u),h?h.call(g,j,S):g.slice(S-j.length,S)===j}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/not-a-regexp"),c=n("../internals/require-object-coercible");m({target:"String",proto:!0,forced:!n("../internals/correct-is-regexp-logic")("includes")},{includes:function(T){return!!~String(c(this)).indexOf(d(T),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(n,C,x){var m=n("../internals/string-multibyte").charAt,d=n("../internals/internal-state"),c=(n=n("../internals/define-iterator"),"String Iterator"),T=d.set,A=d.getterFor(c);n(String,"String",function(f){T(this,{type:c,string:String(f),index:0})},function(){var f=A(this),h=f.string,p=f.index;return p>=h.length?{value:void 0,done:!0}:(h=m(h,p),f.index+=h.length,{value:h,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(n,C,x){var m=n("../internals/fix-regexp-well-known-symbol-logic"),d=n("../internals/an-object"),c=n("../internals/to-length"),T=n("../internals/require-object-coercible"),A=n("../internals/advance-string-index"),f=n("../internals/regexp-exec-abstract");m("match",1,function(h,p,u){return[function(g){var S=T(this),j=g==null?void 0:g[h];return j!==void 0?j.call(g,S):new RegExp(g)[h](String(S))},function(g){var S=u(p,g,this);if(S.done)return S.value;var j=d(g),_=String(this);if(!j.global)return f(j,_);for(var b=j.unicode,E=[],M=j.lastIndex=0;(P=f(j,_))!==null;){var P=String(P[0]);(E[M]=P)===""&&(j.lastIndex=A(_,c(j.lastIndex),b)),M++}return M===0?null:E}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/string-pad").start;m({target:"String",proto:!0,forced:n("../internals/string-pad-webkit-bug")},{padStart:function(c){return d(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(n,C,x){n("../internals/export")({target:"String",proto:!0},{repeat:n("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(n,C,x){var m=n("../internals/fix-regexp-well-known-symbol-logic"),d=n("../internals/an-object"),c=n("../internals/to-object"),T=n("../internals/to-length"),A=n("../internals/to-integer"),f=n("../internals/require-object-coercible"),h=n("../internals/advance-string-index"),p=n("../internals/regexp-exec-abstract"),u=Math.max,g=Math.min,S=Math.floor,j=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g;m("replace",2,function(b,E,M,P){var D=P.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,O=P.REPLACE_KEEPS_$0,U=D?"$":"$0";return[function(F,H){var G=f(this),Y=F==null?void 0:F[b];return Y!==void 0?Y.call(F,G,H):E.call(String(G),F,H)},function(F,H){if(!D&&O||typeof H=="string"&&H.indexOf(U)===-1){var G=M(E,F,this,H);if(G.done)return G.value}for(var Y,q=d(F),V=String(this),$=typeof H=="function",Q=($||(H=String(H)),q.global),te=(Q&&(Y=q.unicode,q.lastIndex=0),[]);(X=p(q,V))!==null&&(te.push(X),Q);)String(X[0])===""&&(q.lastIndex=h(V,T(q.lastIndex),Y));for(var ne,ae="",ce=0,de=0;de<te.length;de++){for(var X=te[de],Z=String(X[0]),ie=u(g(A(X.index),V.length),0),he=[],ye=1;ye<X.length;ye++)he.push((ne=X[ye])===void 0?ne:String(ne));var ve=X.groups,le=$?(le=[Z].concat(he,ie,V),ve!==void 0&&le.push(ve),String(H.apply(void 0,le))):function(me,Se,Re,Ee,Ae,Be){var et=Re+me.length,$e=Ee.length,at=_;return Ae!==void 0&&(Ae=c(Ae),at=j),E.call(Be,at,function(jt,_t){var Yt;switch(_t.charAt(0)){case"$":return"$";case"&":return me;case"`":return Se.slice(0,Re);case"'":return Se.slice(et);case"<":Yt=Ae[_t.slice(1,-1)];break;default:var Tt,je=+_t;if(je==0)return jt;if($e<je)return(Tt=S(je/10))!==0&&Tt<=$e?Ee[Tt-1]===void 0?_t.charAt(1):Ee[Tt-1]+_t.charAt(1):jt;Yt=Ee[je-1]}return Yt===void 0?"":Yt})}(Z,V,ie,he,ve,H);ce<=ie&&(ae+=V.slice(ce,ie)+le,ce=ie+Z.length)}return ae+V.slice(ce)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(n,C,x){var m=n("../internals/fix-regexp-well-known-symbol-logic"),d=n("../internals/an-object"),c=n("../internals/require-object-coercible"),T=n("../internals/same-value"),A=n("../internals/regexp-exec-abstract");m("search",1,function(f,h,p){return[function(u){var g=c(this),S=u==null?void 0:u[f];return S!==void 0?S.call(u,g):new RegExp(u)[f](String(g))},function(u){var g,S=p(h,u,this);return S.done?S.value:(S=d(u),u=String(this),g=S.lastIndex,T(g,0)||(S.lastIndex=0),u=A(S,u),T(S.lastIndex,g)||(S.lastIndex=g),u===null?-1:u.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(n,C,x){var m=n("../internals/fix-regexp-well-known-symbol-logic"),d=n("../internals/is-regexp"),c=n("../internals/an-object"),T=n("../internals/require-object-coercible"),A=n("../internals/species-constructor"),f=n("../internals/advance-string-index"),h=n("../internals/to-length"),p=n("../internals/regexp-exec-abstract"),u=n("../internals/regexp-exec"),g=(n=n("../internals/fails"),[].push),S=Math.min,j=4294967295,_=!n(function(){return!RegExp(j,"y")});m("split",2,function(b,E,M){var P="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(D,O){var U=String(T(this)),F=O===void 0?j:O>>>0;if(F==0)return[];if(D===void 0)return[U];if(!d(D))return E.call(U,D,F);for(var H,G,Y,q=[],V=(O=(D.ignoreCase?"i":"")+(D.multiline?"m":"")+(D.unicode?"u":"")+(D.sticky?"y":""),0),$=new RegExp(D.source,O+"g");(H=u.call($,U))&&!(V<(G=$.lastIndex)&&(q.push(U.slice(V,H.index)),1<H.length&&H.index<U.length&&g.apply(q,H.slice(1)),Y=H[0].length,V=G,q.length>=F));)$.lastIndex===H.index&&$.lastIndex++;return V===U.length?!Y&&$.test("")||q.push(""):q.push(U.slice(V)),q.length>F?q.slice(0,F):q}:"0".split(void 0,0).length?function(D,O){return D===void 0&&O===0?[]:E.call(this,D,O)}:E;return[function(D,O){var U=T(this),F=D==null?void 0:D[b];return F!==void 0?F.call(D,U,O):P.call(String(U),D,O)},function(D,O){if((U=M(P,D,this,O,P!==E)).done)return U.value;var U=c(D),F=String(this),H=(D=A(U,RegExp),U.unicode),G=(U.ignoreCase?"i":"")+(U.multiline?"m":"")+(U.unicode?"u":"")+(_?"y":"g"),Y=new D(_?U:"^(?:"+U.source+")",G),q=O===void 0?j:O>>>0;if(q==0)return[];if(F.length===0)return p(Y,F)===null?[F]:[];for(var V=0,$=0,Q=[];$<F.length;){Y.lastIndex=_?$:0;var te,ne=p(Y,_?F:F.slice($));if(ne===null||(te=S(h(Y.lastIndex+(_?0:$)),F.length))===V)$=f(F,$,H);else{if(Q.push(F.slice(V,$)),Q.length===q)return Q;for(var ae=1;ae<=ne.length-1;ae++)if(Q.push(ne[ae]),Q.length===q)return Q;$=V=te}}return Q.push(F.slice(V)),Q}]},!_)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/object-get-own-property-descriptor").f,c=n("../internals/to-length"),T=n("../internals/not-a-regexp"),A=n("../internals/require-object-coercible"),f=n("../internals/correct-is-regexp-logic"),h=(n=n("../internals/is-pure"),"".startsWith),p=Math.min;f=f("startsWith"),m({target:"String",proto:!0,forced:!(!n&&!f&&(m=d(String.prototype,"startsWith"))&&!m.writable||f)},{startsWith:function(u){var g=String(A(this)),S=(T(u),c(p(1<arguments.length?arguments[1]:void 0,g.length)));return u=String(u),h?h.call(g,u,S):g.slice(S,S+u.length)===u}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/create-html");m({target:"String",proto:!0,forced:n("../internals/string-html-forced")("sub")},{sub:function(){return d(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(n,C,x){var m=n("../internals/export"),d=n("../internals/string-trim").trim;m({target:"String",proto:!0,forced:n("../internals/string-trim-forced")("trim")},{trim:function(){return d(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(n,C,x){var m,d,c,T,A,f=n("../internals/export"),h=n("../internals/descriptors"),p=n("../internals/global"),u=n("../internals/has"),g=n("../internals/is-object"),S=n("../internals/object-define-property").f,j=(n=n("../internals/copy-constructor-properties"),p.Symbol);!h||typeof j!="function"||"description"in j.prototype&&j().description===void 0||(m={},n(d=function(){var _=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),b=this instanceof d?new j(_):_===void 0?j():j(_);return _===""&&(m[b]=!0),b},j),(p=d.prototype=j.prototype).constructor=d,c=p.toString,T=String(j("test"))=="Symbol(test)",A=/^Symbol\((.*)\)[^)]+$/,S(p,"description",{configurable:!0,get:function(){var _=g(this)?this.valueOf():this,b=c.call(_);return u(m,_)?"":(_=T?b.slice(7,-1):b.replace(A,"$1"))===""?void 0:_}}),f({global:!0,forced:!0},{Symbol:d}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(n,C,x){n("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(n,C,x){function m(ue,pe){var xe=Tt[ue]=F(et[Re]);return Ee(xe,{type:Se,tag:ue,description:pe}),u||(xe.description=pe),xe}function d(ue,pe){M(ue);var xe=D(pe);return pe=H(xe).concat(fe(xe)),le(pe,function(De){u&&!At.call(xe,De)||Ot(ue,De,xe[De])}),ue}function c(ue,pe){var xe;if(ue=D(ue),pe=O(pe,!0),ue!==Be||!_(Tt,pe)||_(je,pe))return!(xe=at(ue,pe))||!_(Tt,pe)||_(ue,me)&&ue[me][pe]||(xe.enumerable=!0),xe}function T(ue){ue=_t(D(ue));var pe=[];return le(ue,function(xe){_(Tt,xe)||_(de,xe)||pe.push(xe)}),pe}var A=n("../internals/export"),f=n("../internals/global"),h=n("../internals/get-built-in"),p=n("../internals/is-pure"),u=n("../internals/descriptors"),g=n("../internals/native-symbol"),S=n("../internals/use-symbol-as-uid"),j=n("../internals/fails"),_=n("../internals/has"),b=n("../internals/is-array"),E=n("../internals/is-object"),M=n("../internals/an-object"),P=n("../internals/to-object"),D=n("../internals/to-indexed-object"),O=n("../internals/to-primitive"),U=n("../internals/create-property-descriptor"),F=n("../internals/object-create"),H=n("../internals/object-keys"),G=n("../internals/object-get-own-property-names"),Y=n("../internals/object-get-own-property-names-external"),q=n("../internals/object-get-own-property-symbols"),V=n("../internals/object-get-own-property-descriptor"),$=n("../internals/object-define-property"),Q=n("../internals/object-property-is-enumerable"),te=n("../internals/create-non-enumerable-property"),ne=n("../internals/redefine"),ae=n("../internals/shared"),ce=n("../internals/shared-key"),de=n("../internals/hidden-keys"),X=n("../internals/uid"),Z=n("../internals/well-known-symbol"),ie=n("../internals/well-known-symbol-wrapped"),he=n("../internals/define-well-known-symbol"),ye=n("../internals/set-to-string-tag"),ve=n("../internals/internal-state"),le=n("../internals/array-iteration").forEach,me=ce("hidden"),Se="Symbol",Re="prototype",Ee=(n=Z("toPrimitive"),ve.set),Ae=ve.getterFor(Se),Be=Object[Re],et=f.Symbol,$e=h("JSON","stringify"),at=V.f,jt=$.f,_t=Y.f,Yt=Q.f,Tt=ae("symbols"),je=ae("op-symbols"),We=ae("string-to-symbol-registry"),Ye=ae("symbol-to-string-registry"),ft=(ce=ae("wks"),!(ve=f.QObject)||!ve[Re]||!ve[Re].findChild),Ct=u&&j(function(){return F(jt({},"a",{get:function(){return jt(this,"a",{value:7}).a}})).a!=7})?function(ue,pe,xe){var De=at(Be,pe);De&&delete Be[pe],jt(ue,pe,xe),De&&ue!==Be&&jt(Be,pe,De)}:jt,Vt=S?function(ue){return typeof ue=="symbol"}:function(ue){return Object(ue)instanceof et},Ot=function(ue,pe,xe){return ue===Be&&Ot(je,pe,xe),M(ue),pe=O(pe,!0),M(xe),(_(Tt,pe)?(xe.enumerable?(_(ue,me)&&ue[me][pe]&&(ue[me][pe]=!1),xe=F(xe,{enumerable:U(0,!1)})):(_(ue,me)||jt(ue,me,U(1,{})),ue[me][pe]=!0),Ct):jt)(ue,pe,xe)},At=function(ue){ue=O(ue,!0);var pe=Yt.call(this,ue);return!(this===Be&&_(Tt,ue)&&!_(je,ue))&&(!(pe||!_(this,ue)||!_(Tt,ue)||_(this,me)&&this[me][ue])||pe)},fe=function(ue){var pe=ue===Be,xe=(ue=_t(pe?je:D(ue)),[]);return le(ue,function(De){!_(Tt,De)||pe&&!_(Be,De)||xe.push(Tt[De])}),xe};g||(ne((et=function(){if(this instanceof et)throw TypeError("Symbol is not a constructor");var ue=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,pe=X(ue),xe=function(De){this===Be&&xe.call(je,De),_(this,me)&&_(this[me],pe)&&(this[me][pe]=!1),Ct(this,pe,U(1,De))};return u&&ft&&Ct(Be,pe,{configurable:!0,set:xe}),m(pe,ue)})[Re],"toString",function(){return Ae(this).tag}),ne(et,"withoutSetter",function(ue){return m(X(ue),ue)}),Q.f=At,$.f=Ot,V.f=c,G.f=Y.f=T,q.f=fe,ie.f=function(ue){return m(Z(ue),ue)},u&&(jt(et[Re],"description",{configurable:!0,get:function(){return Ae(this).description}}),p||ne(Be,"propertyIsEnumerable",At,{unsafe:!0}))),A({global:!0,wrap:!0,forced:!g,sham:!g},{Symbol:et}),le(H(ce),function(ue){he(ue)}),A({target:Se,stat:!0,forced:!g},{for:function(ue){var pe;return ue=String(ue),_(We,ue)?We[ue]:(pe=et(ue),We[ue]=pe,Ye[pe]=ue,pe)},keyFor:function(ue){if(!Vt(ue))throw TypeError(ue+" is not a symbol");if(_(Ye,ue))return Ye[ue]},useSetter:function(){ft=!0},useSimple:function(){ft=!1}}),A({target:"Object",stat:!0,forced:!g,sham:!u},{create:function(ue,pe){return pe===void 0?F(ue):d(F(ue),pe)},defineProperty:Ot,defineProperties:d,getOwnPropertyDescriptor:c}),A({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:T,getOwnPropertySymbols:fe}),A({target:"Object",stat:!0,forced:j(function(){q.f(1)})},{getOwnPropertySymbols:function(ue){return q.f(P(ue))}}),$e&&A({target:"JSON",stat:!0,forced:!g||j(function(){var ue=et();return $e([ue])!="[null]"||$e({a:ue})!="{}"||$e(Object(ue))!="{}"})},{stringify:function(ue,pe,xe){for(var De,Ke=[ue],mt=1;mt<arguments.length;)Ke.push(arguments[mt++]);if((E(De=pe)||ue!==void 0)&&!Vt(ue))return b(pe)||(pe=function(ht,Le){if(typeof De=="function"&&(Le=De.call(this,ht,Le)),!Vt(Le))return Le}),Ke[1]=pe,$e.apply(null,Ke)}}),et[Re][n]||te(et[Re],n,et[Re].valueOf),ye(et,Se),de[me]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-copy-within"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("copyWithin",function(T,A){return d.call(c(this),T,A,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-iteration").every,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("every",function(T){return d(c(this),T,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-fill"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("fill",function(T){return d.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-iteration").filter,c=n("../internals/species-constructor"),T=m.aTypedArray,A=m.aTypedArrayConstructor;(0,m.exportTypedArrayMethod)("filter",function(f){for(var h=d(T(this),f,1<arguments.length?arguments[1]:void 0),p=(f=c(this,this.constructor),0),u=h.length,g=new(A(f))(u);p<u;)g[p]=h[p++];return g})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-iteration").findIndex,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("findIndex",function(T){return d(c(this),T,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-iteration").find,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("find",function(T){return d(c(this),T,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(n,C,x){n("../internals/typed-array-constructor")("Float32",function(m){return function(d,c,T){return m(this,d,c,T)}})},{"../internals/typed-array-constructor":142}],210:[function(n,C,x){n("../internals/typed-array-constructor")("Float64",function(m){return function(d,c,T){return m(this,d,c,T)}})},{"../internals/typed-array-constructor":142}],211:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-iteration").forEach,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("forEach",function(T){d(c(this),T,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-includes").includes,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("includes",function(T){return d(c(this),T,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-includes").indexOf,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("indexOf",function(T){return d(c(this),T,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(n,C,x){n("../internals/typed-array-constructor")("Int16",function(m){return function(d,c,T){return m(this,d,c,T)}})},{"../internals/typed-array-constructor":142}],215:[function(n,C,x){n("../internals/typed-array-constructor")("Int32",function(m){return function(d,c,T){return m(this,d,c,T)}})},{"../internals/typed-array-constructor":142}],216:[function(n,C,x){function m(){return A.call(p(this))}var d=n("../internals/global"),c=n("../internals/array-buffer-view-core"),T=n("../modules/es.array.iterator"),A=(n=n("../internals/well-known-symbol")("iterator"),d=d.Uint8Array,T.values),f=T.keys,h=T.entries,p=c.aTypedArray;T=c.exportTypedArrayMethod,d=!!(c=d&&d.prototype[n])&&(c.name=="values"||c.name==null),T("entries",function(){return h.call(p(this))}),T("keys",function(){return f.call(p(this))}),T("values",m,!d),T(n,m,!d)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(n,C,x){var m=(n=n("../internals/array-buffer-view-core")).aTypedArray,d=(n=n.exportTypedArrayMethod,[].join);n("join",function(c){return d.apply(m(this),arguments)})},{"../internals/array-buffer-view-core":12}],218:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-last-index-of"),c=m.aTypedArray;(0,m.exportTypedArrayMethod)("lastIndexOf",function(T){return d.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-iteration").map,c=n("../internals/species-constructor"),T=m.aTypedArray,A=m.aTypedArrayConstructor;(0,m.exportTypedArrayMethod)("map",function(f){return d(T(this),f,1<arguments.length?arguments[1]:void 0,function(h,p){return new(A(c(h,h.constructor)))(p)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-reduce").right,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("reduceRight",function(T){return d(c(this),T,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-reduce").left,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("reduce",function(T){return d(c(this),T,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(n,C,x){var m=(n=n("../internals/array-buffer-view-core")).aTypedArray,d=(n=n.exportTypedArrayMethod,Math.floor);n("reverse",function(){for(var c,T=m(this).length,A=d(T/2),f=0;f<A;)c=this[f],this[f++]=this[--T],this[T]=c;return this})},{"../internals/array-buffer-view-core":12}],223:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/to-length"),c=n("../internals/to-offset"),T=n("../internals/to-object"),A=(n=n("../internals/fails"),m.aTypedArray);(0,m.exportTypedArrayMethod)("set",function(f){A(this);var h=c(1<arguments.length?arguments[1]:void 0,1),p=this.length,u=T(f),g=d(u.length),S=0;if(p<g+h)throw RangeError("Wrong length");for(;S<g;)this[h+S]=u[S++]},n(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/species-constructor"),c=(n=n("../internals/fails"),m.aTypedArray),T=m.aTypedArrayConstructor,A=(m=m.exportTypedArrayMethod,[].slice);m("slice",function(f,h){for(var p=A.call(c(this),f,h),u=(f=d(this,this.constructor),0),g=p.length,S=new(T(f))(g);u<g;)S[u]=p[u++];return S},n(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/array-iteration").some,c=m.aTypedArray;(0,m.exportTypedArrayMethod)("some",function(T){return d(c(this),T,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(n,C,x){var m=(n=n("../internals/array-buffer-view-core")).aTypedArray,d=(n=n.exportTypedArrayMethod,[].sort);n("sort",function(c){return d.call(m(this),c)})},{"../internals/array-buffer-view-core":12}],227:[function(n,C,x){var m=n("../internals/array-buffer-view-core"),d=n("../internals/to-length"),c=n("../internals/to-absolute-index"),T=n("../internals/species-constructor"),A=m.aTypedArray;(0,m.exportTypedArrayMethod)("subarray",function(f,h){var p=A(this),u=p.length;return f=c(f,u),new(T(p,p.constructor))(p.buffer,p.byteOffset+f*p.BYTES_PER_ELEMENT,d((h===void 0?u:c(h,u))-f))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(n,C,x){var m=n("../internals/global"),d=n("../internals/array-buffer-view-core"),c=(n=n("../internals/fails"),m.Int8Array),T=d.aTypedArray,A=(m=d.exportTypedArrayMethod,[].toLocaleString),f=[].slice,h=!!c&&n(function(){A.call(new c(1))});m("toLocaleString",function(){return A.apply(h?f.call(T(this)):T(this),arguments)},n(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()})||!n(function(){c.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(n,C,x){var m=n("../internals/array-buffer-view-core").exportTypedArrayMethod,d=n("../internals/fails"),c=(n=(n=n("../internals/global").Uint8Array)&&n.prototype||{},[].toString),T=[].join;d(function(){c.call({})})&&(c=function(){return T.call(this)}),d=n.toString!=c,m("toString",c,d)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(n,C,x){n("../internals/typed-array-constructor")("Uint16",function(m){return function(d,c,T){return m(this,d,c,T)}})},{"../internals/typed-array-constructor":142}],231:[function(n,C,x){n("../internals/typed-array-constructor")("Uint32",function(m){return function(d,c,T){return m(this,d,c,T)}})},{"../internals/typed-array-constructor":142}],232:[function(n,C,x){n("../internals/typed-array-constructor")("Uint8",function(m){return function(d,c,T){return m(this,d,c,T)}})},{"../internals/typed-array-constructor":142}],233:[function(n,C,x){n("../internals/typed-array-constructor")("Uint8",function(m){return function(d,c,T){return m(this,d,c,T)}},!0)},{"../internals/typed-array-constructor":142}],234:[function(n,C,x){function m(E){return function(){return E(this,arguments.length?arguments[0]:void 0)}}var d,c,T,A,f,h=n("../internals/global"),p=n("../internals/redefine-all"),u=n("../internals/internal-metadata"),g=n("../internals/collection"),S=n("../internals/collection-weak"),j=n("../internals/is-object"),_=n("../internals/internal-state").enforce,b=(n=n("../internals/native-weak-map"),h=!h.ActiveXObject&&"ActiveXObject"in h,Object.isExtensible);C=C.exports=g("WeakMap",m,S),n&&h&&(d=S.getConstructor(m,"WeakMap",!0),u.REQUIRED=!0,g=C.prototype,c=g.delete,T=g.has,A=g.get,f=g.set,p(g,{delete:function(E){var M;return j(E)&&!b(E)?((M=_(this)).frozen||(M.frozen=new d),c.call(this,E)||M.frozen.delete(E)):c.call(this,E)},has:function(E){var M;return j(E)&&!b(E)?((M=_(this)).frozen||(M.frozen=new d),T.call(this,E)||M.frozen.has(E)):T.call(this,E)},get:function(E){var M;return!j(E)||b(E)||((M=_(this)).frozen||(M.frozen=new d),T.call(this,E))?A.call(this,E):M.frozen.get(E)},set:function(E,M){var P;return!j(E)||b(E)||((P=_(this)).frozen||(P.frozen=new d),T.call(this,E))?f.call(this,E,M):P.frozen.set(E,M),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(n,C,x){var m,d=n("../internals/global"),c=n("../internals/dom-iterables"),T=n("../internals/array-for-each"),A=n("../internals/create-non-enumerable-property");for(m in c){var f;if((f=(f=d[m])&&f.prototype)&&f.forEach!==T)try{A(f,"forEach",T)}catch{f.forEach=T}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(n,C,x){var m,d=n("../internals/global"),c=n("../internals/dom-iterables"),T=n("../modules/es.array.iterator"),A=n("../internals/create-non-enumerable-property"),f=(n=n("../internals/well-known-symbol"))("iterator"),h=n("toStringTag"),p=T.values;for(m in c){var u=d[m],g=u&&u.prototype;if(g){if(g[f]!==p)try{A(g,f,p)}catch{g[f]=p}if(g[h]||A(g,h,m),c[m]){for(var S in T)if(g[S]!==T[S])try{A(g,S,T[S])}catch{g[S]=T[S]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function(n,C,x){function m(ve){try{return decodeURIComponent(ve)}catch{return ve}}function d(ve){return ie[ve]}function c(ve){return encodeURIComponent(ve).replace(Z,d)}function T(ve){this.entries.length=0,he(this.entries,ve)}function A(ve,le){if(ve<le)throw TypeError("Not enough arguments")}function f(){E(this,f,$);var ve,le,me,Se,Re,Ee,Ae,Be,et=0<arguments.length?arguments[0]:void 0,$e=[];if(te(this,{type:$,entries:$e,updateURL:function(){},updateSearchParams:T}),et!==void 0)if(U(et))if(typeof(ve=Y(et))=="function")for(me=(le=ve.call(et)).next;!(Se=me.call(le)).done;){if((Ee=(Re=(Se=G(O(Se.value))).next).call(Se)).done||(Ae=Re.call(Se)).done||!Re.call(Se).done)throw TypeError("Expected sequence with length 2");$e.push({key:Ee.value+"",value:Ae.value+""})}else for(Be in et)M(et,Be)&&$e.push({key:Be,value:et[Be]+""});else he($e,typeof et=="string"?et.charAt(0)==="?"?et.slice(1):et:et+"")}n("../modules/es.array.iterator");var h=n("../internals/export"),p=n("../internals/get-built-in"),u=n("../internals/native-url"),g=n("../internals/redefine"),S=n("../internals/redefine-all"),j=n("../internals/set-to-string-tag"),_=n("../internals/create-iterator-constructor"),b=n("../internals/internal-state"),E=n("../internals/an-instance"),M=n("../internals/has"),P=n("../internals/function-bind-context"),D=n("../internals/classof"),O=n("../internals/an-object"),U=n("../internals/is-object"),F=n("../internals/object-create"),H=n("../internals/create-property-descriptor"),G=n("../internals/get-iterator"),Y=n("../internals/get-iterator-method"),q=(n=n("../internals/well-known-symbol"),p("fetch")),V=p("Headers"),$=(p=n("iterator"),"URLSearchParams"),Q=$+"Iterator",te=b.set,ne=b.getterFor($),ae=b.getterFor(Q),ce=/\+/g,de=Array(4),X=function(ve){var le,me=ve.replace(ce," "),Se=4;try{return decodeURIComponent(me)}catch{for(;Se;)me=me.replace((le=Se--,de[le-1]||(de[le-1]=RegExp("((?:%[\\da-f]{2}){"+le+"})","gi"))),m);return me}},Z=/[!'()~]|%20/g,ie={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},he=function(ve,le){if(le)for(var me,Se=le.split("&"),Re=0;Re<Se.length;)(me=Se[Re++]).length&&(me=me.split("="),ve.push({key:X(me.shift()),value:X(me.join("="))}))},ye=_(function(ve,le){te(this,{type:Q,iterator:G(ne(ve).entries),kind:le})},"Iterator",function(){var ve,le=(ve=ae(this)).kind,me=(ve=ve.iterator.next()).value;return ve.done||(ve.value=le==="keys"?me.key:le==="values"?me.value:[me.key,me.value]),ve});S(n=f.prototype,{append:function(ve,le){A(arguments.length,2);var me=ne(this);me.entries.push({key:ve+"",value:le+""}),me.updateURL()},delete:function(ve){A(arguments.length,1);for(var le=ne(this),me=le.entries,Se=ve+"",Re=0;Re<me.length;)me[Re].key===Se?me.splice(Re,1):Re++;le.updateURL()},get:function(ve){A(arguments.length,1);for(var le=ne(this).entries,me=ve+"",Se=0;Se<le.length;Se++)if(le[Se].key===me)return le[Se].value;return null},getAll:function(ve){A(arguments.length,1);for(var le=ne(this).entries,me=ve+"",Se=[],Re=0;Re<le.length;Re++)le[Re].key===me&&Se.push(le[Re].value);return Se},has:function(ve){A(arguments.length,1);for(var le=ne(this).entries,me=ve+"",Se=0;Se<le.length;)if(le[Se++].key===me)return!0;return!1},set:function(ve,le){A(arguments.length,1);for(var me,Se=ne(this),Re=Se.entries,Ee=!1,Ae=ve+"",Be=le+"",et=0;et<Re.length;et++)(me=Re[et]).key===Ae&&(Ee?Re.splice(et--,1):(Ee=!0,me.value=Be));Ee||Re.push({key:Ae,value:Be}),Se.updateURL()},sort:function(){for(var ve,le,me=ne(this),Se=me.entries,Re=Se.slice(),Ee=Se.length=0;Ee<Re.length;Ee++){for(ve=Re[Ee],le=0;le<Ee;le++)if(Se[le].key>ve.key){Se.splice(le,0,ve);break}le===Ee&&Se.push(ve)}me.updateURL()},forEach:function(ve){for(var le,me=ne(this).entries,Se=P(ve,1<arguments.length?arguments[1]:void 0,3),Re=0;Re<me.length;)Se((le=me[Re++]).value,le.key,this)},keys:function(){return new ye(this,"keys")},values:function(){return new ye(this,"values")},entries:function(){return new ye(this,"entries")}},{enumerable:!0}),g(n,p,n.entries),g(n,"toString",function(){for(var ve,le=ne(this).entries,me=[],Se=0;Se<le.length;)ve=le[Se++],me.push(c(ve.key)+"="+c(ve.value));return me.join("&")},{enumerable:!0}),j(f,$),h({global:!0,forced:!u},{URLSearchParams:f}),u||typeof q!="function"||typeof V!="function"||h({global:!0,enumerable:!0,forced:!0},{fetch:function(ve){var le,me,Se;return ve=[ve],1<arguments.length&&(U(le=arguments[1])&&(me=le.body,D(me)===$&&((Se=le.headers?new V(le.headers):new V).has("content-type")||Se.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),le=F(le,{body:H(0,String(me)),headers:H(0,Se)}))),ve.push(le)),q.apply(this,ve)}}),C.exports={URLSearchParams:f,getState:ne}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(n,C,x){function m(ke){var vt,Ut,pt,ar;if(typeof ke=="number"){for(vt=[],Ut=0;Ut<4;Ut++)vt.unshift(ke%256),ke=Q(ke/256);return vt.join(".")}if(typeof ke!="object")return ke;for(vt="",pt=Be(ke),Ut=0;Ut<8;Ut++)ar&&ke[Ut]===0||(ar=ar&&!1,pt===Ut?(vt+=Ut?":":"::",ar=!0):(vt+=ke[Ut].toString(16),Ut<7&&(vt+=":")));return"["+vt+"]"}function d(ke){return!ke.host||ke.cannotBeABaseURL||ke.scheme=="file"}function c(ke,vt,Ut,pt){var ar,st,Wr,Bt=Ut||Ot,Jt=0,Rt="",Kr=!1,Fn=!1,ms=!1;for(Ut||(ke.scheme="",ke.username="",ke.password="",ke.host=null,ke.port=null,ke.path=[],ke.query=null,ke.fragment=null,ke.cannotBeABaseURL=!1,vt=vt.replace(Re,"")),vt=vt.replace(Ee,""),ar=D(vt);Jt<=ar.length;){switch(st=ar[Jt],Bt){case Ot:if(!st||!X.test(st)){if(Ut)return ae;Bt=fe;continue}Rt+=st.toLowerCase(),Bt=At;break;case At:if(st&&(Z.test(st)||st=="+"||st=="-"||st=="."))Rt+=st.toLowerCase();else{if(st!=":"){if(Ut)return ae;Rt="",Bt=fe,Jt=0;continue}if(Ut&&(Tt(ke)!=M(Yt,Rt)||Rt=="file"&&(je(ke)||ke.port!==null)||ke.scheme=="file"&&!ke.host))return;if(ke.scheme=Rt,Ut)return void(Tt(ke)&&Yt[ke.scheme]==ke.port&&(ke.port=null));Rt="",ke.scheme=="file"?Bt=sr:Tt(ke)&&pt&&pt.scheme==ke.scheme?Bt=ue:Tt(ke)?Bt=Ke:ar[Jt+1]=="/"?(Bt=pe,Jt++):(ke.cannotBeABaseURL=!0,ke.path.push(""),Bt=kr)}break;case fe:if(!pt||pt.cannotBeABaseURL&&st!="#")return ae;if(pt.cannotBeABaseURL&&st=="#"){ke.scheme=pt.scheme,ke.path=pt.path.slice(),ke.query=pt.query,ke.fragment="",ke.cannotBeABaseURL=!0,Bt=_n;break}Bt=pt.scheme=="file"?sr:xe;continue;case ue:if(st!="/"||ar[Jt+1]!="/"){Bt=xe;continue}Bt=mt,Jt++;break;case pe:if(st=="/"){Bt=ht;break}Bt=$t;continue;case xe:if(ke.scheme=pt.scheme,st==f)ke.username=pt.username,ke.password=pt.password,ke.host=pt.host,ke.port=pt.port,ke.path=pt.path.slice(),ke.query=pt.query;else if(st=="/"||st=="\\"&&Tt(ke))Bt=De;else if(st=="?")ke.username=pt.username,ke.password=pt.password,ke.host=pt.host,ke.port=pt.port,ke.path=pt.path.slice(),ke.query="",Bt=Cr;else{if(st!="#"){ke.username=pt.username,ke.password=pt.password,ke.host=pt.host,ke.port=pt.port,ke.path=pt.path.slice(),ke.path.pop(),Bt=$t;continue}ke.username=pt.username,ke.password=pt.password,ke.host=pt.host,ke.port=pt.port,ke.path=pt.path.slice(),ke.query=pt.query,ke.fragment="",Bt=_n}break;case De:if(!Tt(ke)||st!="/"&&st!="\\"){if(st!="/"){ke.username=pt.username,ke.password=pt.password,ke.host=pt.host,ke.port=pt.port,Bt=$t;continue}Bt=ht}else Bt=mt;break;case Ke:if(Bt=mt,st!="/"||Rt.charAt(Jt+1)!="/")continue;Jt++;break;case mt:if(st=="/"||st=="\\")break;Bt=ht;continue;case ht:if(st=="@"){Kr&&(Rt="%40"+Rt),Kr=!0;for(var fn=D(Rt),pn=0;pn<fn.length;pn++){var jn=fn[pn];jn!=":"||ms?(jn=_t(jn,jt),ms?ke.password+=jn:ke.username+=jn):ms=!0}Rt=""}else if(st==f||st=="/"||st=="?"||st=="#"||st=="\\"&&Tt(ke)){if(Kr&&Rt=="")return ne;Jt-=D(Rt).length+1,Rt="",Bt=Le}else Rt+=st;break;case Le:case gt:if(Ut&&ke.scheme=="file"){Bt=tr;continue}if(st!=":"||Fn){if(st==f||st=="/"||st=="?"||st=="#"||st=="\\"&&Tt(ke)){if(Tt(ke)&&Rt=="")return ce;if(Ut&&Rt==""&&(je(ke)||ke.port!==null))return;if(Wr=Ae(ke,Rt))return Wr;if(Rt="",Bt=er,Ut)return;continue}st=="["?Fn=!0:st=="]"&&(Fn=!1),Rt+=st}else{if(Rt=="")return ce;if(Wr=Ae(ke,Rt))return Wr;if(Rt="",Bt=Mt,Ut==gt)return}break;case Mt:if(!ie.test(st)){if(st==f||st=="/"||st=="?"||st=="#"||st=="\\"&&Tt(ke)||Ut){if(Rt!=""){var An=parseInt(Rt,10);if(65535<An)return de;ke.port=Tt(ke)&&An===Yt[ke.scheme]?null:An,Rt=""}if(Ut)return;Bt=er;continue}return de}Rt+=st;break;case sr:if(ke.scheme="file",st=="/"||st=="\\")Bt=mr;else{if(!pt||pt.scheme!="file"){Bt=$t;continue}if(st==f)ke.host=pt.host,ke.path=pt.path.slice(),ke.query=pt.query;else if(st=="?")ke.host=pt.host,ke.path=pt.path.slice(),ke.query="",Bt=Cr;else{if(st!="#"){Ye(ar.slice(Jt).join(""))||(ke.host=pt.host,ke.path=pt.path.slice(),ft(ke)),Bt=$t;continue}ke.host=pt.host,ke.path=pt.path.slice(),ke.query=pt.query,ke.fragment="",Bt=_n}}break;case mr:if(st=="/"||st=="\\"){Bt=tr;break}pt&&pt.scheme=="file"&&!Ye(ar.slice(Jt).join(""))&&(We(pt.path[0],!0)?ke.path.push(pt.path[0]):ke.host=pt.host),Bt=$t;continue;case tr:if(st==f||st=="/"||st=="\\"||st=="?"||st=="#"){if(!Ut&&We(Rt))Bt=$t;else{if(Rt==""){if(ke.host="",Ut)return}else{if(Wr=Ae(ke,Rt))return Wr;if(ke.host=="localhost"&&(ke.host=""),Ut)return;Rt=""}Bt=er}continue}Rt+=st;break;case er:if(Tt(ke)){if(Bt=$t,st!="/"&&st!="\\")continue}else if(Ut||st!="?")if(Ut||st!="#"){if(st!=f&&(Bt=$t,st!="/"))continue}else ke.fragment="",Bt=_n;else ke.query="",Bt=Cr;break;case $t:if(st==f||st=="/"||st=="\\"&&Tt(ke)||!Ut&&(st=="?"||st=="#")){if(Vt(Rt)?(ft(ke),st=="/"||st=="\\"&&Tt(ke)||ke.path.push("")):Ct(Rt)?st=="/"||st=="\\"&&Tt(ke)||ke.path.push(""):(ke.scheme=="file"&&!ke.path.length&&We(Rt)&&(ke.host&&(ke.host=""),Rt=Rt.charAt(0)+":"),ke.path.push(Rt)),Rt="",ke.scheme=="file"&&(st==f||st=="?"||st=="#"))for(;1<ke.path.length&&ke.path[0]==="";)ke.path.shift();st=="?"?(ke.query="",Bt=Cr):st=="#"&&(ke.fragment="",Bt=_n)}else Rt+=_t(st,at);break;case kr:st=="?"?(ke.query="",Bt=Cr):st=="#"?(ke.fragment="",Bt=_n):st!=f&&(ke.path[0]+=_t(st,et));break;case Cr:Ut||st!="#"?st!=f&&(st=="'"&&Tt(ke)?ke.query+="%27":ke.query+=st=="#"?"%23":_t(st,et)):(ke.fragment="",Bt=_n);break;case _n:st!=f&&(ke.fragment+=_t(st,$e))}Jt++}}function T(ke){var vt,Ut,pt=E(this,T,"URL"),ar=1<arguments.length?arguments[1]:void 0,st=(ke=String(ke),V(pt,{type:"URL"}));if(ar!==void 0){if(ar instanceof T)vt=$(ar);else if(Ut=c(vt={},String(ar)))throw TypeError(Ut)}if(Ut=c(st,ke,null,vt))throw TypeError(Ut);var Wr=st.searchParams=new Y;(ar=q(Wr)).updateSearchParams(st.query),ar.updateURL=function(){st.query=String(Wr)||null},g||(pt.href=Fr.call(pt),pt.origin=hn.call(pt),pt.protocol=wn.call(pt),pt.username=lr.call(pt),pt.password=Ir.call(pt),pt.host=Er.call(pt),pt.hostname=jr.call(pt),pt.port=Oi.call(pt),pt.pathname=no.call(pt),pt.search=Js.call(pt),pt.searchParams=wo.call(pt),pt.hash=bi.call(pt))}function A(ke,vt){return{get:ke,set:vt,configurable:!0,enumerable:!0}}n("../modules/es.string.iterator");var f,h,p,u=n("../internals/export"),g=n("../internals/descriptors"),S=n("../internals/native-url"),j=n("../internals/global"),_=n("../internals/object-define-properties"),b=n("../internals/redefine"),E=n("../internals/an-instance"),M=n("../internals/has"),P=n("../internals/object-assign"),D=n("../internals/array-from"),O=n("../internals/string-multibyte").codeAt,U=n("../internals/string-punycode-to-ascii"),F=n("../internals/set-to-string-tag"),H=n("../modules/web.url-search-params"),G=(n=n("../internals/internal-state"),j.URL),Y=H.URLSearchParams,q=H.getState,V=n.set,$=n.getterFor("URL"),Q=Math.floor,te=Math.pow,ne="Invalid authority",ae="Invalid scheme",ce="Invalid host",de="Invalid port",X=/[A-Za-z]/,Z=/[\d+-.A-Za-z]/,ie=/\d/,he=/^(0x|0X)/,ye=/^[0-7]+$/,ve=/^\d+$/,le=/^[\dA-Fa-f]+$/,me=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Se=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Re=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Ee=/[\u0009\u000A\u000D]/g,Ae=function(ke,vt){var Ut,pt,ar;if(vt.charAt(0)=="[")return vt.charAt(vt.length-1)=="]"&&(Ut=function(st){var Wr,Bt,Jt,Rt,Kr,Fn,ms,fn=[0,0,0,0,0,0,0,0],pn=0,jn=null,An=0,sn=function(){return st.charAt(An)};if(sn()==":"){if(st.charAt(1)!=":")return;An+=2,jn=++pn}for(;sn();){if(pn==8)return;if(sn()!=":"){for(Wr=Bt=0;Bt<4&&le.test(sn());)Wr=16*Wr+parseInt(sn(),16),An++,Bt++;if(sn()=="."){if(Bt==0||(An-=Bt,pn>6))return;for(Jt=0;sn();){if(Rt=null,Jt>0){if(!(sn()=="."&&Jt<4))return;An++}if(!ie.test(sn()))return;for(;ie.test(sn());){if(Kr=parseInt(sn(),10),Rt===null)Rt=Kr;else{if(Rt==0)return;Rt=10*Rt+Kr}if(Rt>255)return;An++}fn[pn]=256*fn[pn]+Rt,++Jt!=2&&Jt!=4||pn++}if(Jt!=4)return;break}if(sn()==":"){if(An++,!sn())return}else if(sn())return;fn[pn++]=Wr}else{if(jn!==null)return;An++,jn=++pn}}if(jn!==null)for(Fn=pn-jn,pn=7;pn!=0&&Fn>0;)ms=fn[pn],fn[pn--]=fn[jn+Fn-1],fn[jn+--Fn]=ms;else if(pn!=8)return;return fn}(vt.slice(1,-1)))?void(ke.host=Ut):ce;if(Tt(ke))return vt=U(vt),me.test(vt)||(Ut=function(st){var Wr,Bt,Jt,Rt,Kr,Fn,ms,fn=st.split(".");if(fn.length&&fn[fn.length-1]==""&&fn.pop(),(Wr=fn.length)>4)return st;for(Bt=[],Jt=0;Jt<Wr;Jt++){if((Rt=fn[Jt])=="")return st;if(Kr=10,Rt.length>1&&Rt.charAt(0)=="0"&&(Kr=he.test(Rt)?16:8,Rt=Rt.slice(Kr==8?1:2)),Rt==="")Fn=0;else{if(!(Kr==10?ve:Kr==8?ye:le).test(Rt))return st;Fn=parseInt(Rt,Kr)}Bt.push(Fn)}for(Jt=0;Jt<Wr;Jt++)if(Fn=Bt[Jt],Jt==Wr-1){if(Fn>=te(256,5-Wr))return null}else if(Fn>255)return null;for(ms=Bt.pop(),Jt=0;Jt<Bt.length;Jt++)ms+=Bt[Jt]*te(256,3-Jt);return ms}(vt))===null?ce:void(ke.host=Ut);if(Se.test(vt))return ce;for(Ut="",pt=D(vt),ar=0;ar<pt.length;ar++)Ut+=_t(pt[ar],et);ke.host=Ut},Be=function(ke){for(var vt=null,Ut=1,pt=null,ar=0,st=0;st<8;st++)ke[st]!==0?(Ut<ar&&(vt=pt,Ut=ar),pt=null,ar=0):(pt===null&&(pt=st),++ar);return Ut<ar&&(vt=pt,Ut=ar),vt},et={},$e=P({},et,{" ":1,'"':1,"<":1,">":1,"`":1}),at=P({},$e,{"#":1,"?":1,"{":1,"}":1}),jt=P({},at,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),_t=function(ke,vt){var Ut=O(ke,0);return 32<Ut&&Ut<127&&!M(vt,ke)?ke:encodeURIComponent(ke)},Yt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Tt=function(ke){return M(Yt,ke.scheme)},je=function(ke){return ke.username!=""||ke.password!=""},We=function(ke,vt){return ke.length==2&&X.test(ke.charAt(0))&&((ke=ke.charAt(1))==":"||!vt&&ke=="|")},Ye=function(ke){return 1<ke.length&&We(ke.slice(0,2))&&(ke.length==2||(ke=ke.charAt(2))==="/"||ke==="\\"||ke==="?"||ke==="#")},ft=function(ke){var vt=ke.path,Ut=vt.length;!Ut||ke.scheme=="file"&&Ut==1&&We(vt[0],!0)||vt.pop()},Ct=function(ke){return ke==="."||ke.toLowerCase()==="%2e"},Vt=function(ke){return(ke=ke.toLowerCase())===".."||ke==="%2e."||ke===".%2e"||ke==="%2e%2e"},Ot={},At={},fe={},ue={},pe={},xe={},De={},Ke={},mt={},ht={},Le={},gt={},Mt={},sr={},mr={},tr={},er={},$t={},kr={},Cr={},_n={},Fr=(j=T.prototype,function(){var ke=$(this),vt=ke.scheme,Ut=ke.username,pt=ke.password,ar=ke.host,st=ke.port,Wr=ke.path,Bt=ke.query,Jt=ke.fragment,Rt=vt+":";return ar!==null?(Rt+="//",je(ke)&&(Rt+=Ut+(pt?":"+pt:"")+"@"),Rt+=m(ar),st!==null&&(Rt+=":"+st)):vt=="file"&&(Rt+="//"),Rt+=ke.cannotBeABaseURL?Wr[0]:Wr.length?"/"+Wr.join("/"):"",Bt!==null&&(Rt+="?"+Bt),Jt!==null&&(Rt+="#"+Jt),Rt}),hn=function(){var ke=$(this),vt=ke.scheme,Ut=ke.port;if(vt=="blob")try{return new URL(vt.path[0]).origin}catch{return"null"}return vt!="file"&&Tt(ke)?vt+"://"+m(ke.host)+(Ut!==null?":"+Ut:""):"null"},wn=function(){return $(this).scheme+":"},lr=function(){return $(this).username},Ir=function(){return $(this).password},Er=function(){var ke=(vt=$(this)).host,vt=vt.port;return ke===null?"":vt===null?m(ke):m(ke)+":"+vt},jr=function(){var ke=$(this).host;return ke===null?"":m(ke)},Oi=function(){var ke=$(this).port;return ke===null?"":String(ke)},no=function(){var ke=$(this),vt=ke.path;return ke.cannotBeABaseURL?vt[0]:vt.length?"/"+vt.join("/"):""},Js=function(){var ke=$(this).query;return ke?"?"+ke:""},wo=function(){return $(this).searchParams},bi=function(){var ke=$(this).fragment;return ke?"#"+ke:""};g&&_(j,{href:A(Fr,function(ke){var vt=$(this);if(ke=c(vt,ke=String(ke)))throw TypeError(ke);q(vt.searchParams).updateSearchParams(vt.query)}),origin:A(hn),protocol:A(wn,function(ke){c($(this),String(ke)+":",Ot)}),username:A(lr,function(ke){var vt=$(this),Ut=D(String(ke));if(!d(vt)){vt.username="";for(var pt=0;pt<Ut.length;pt++)vt.username+=_t(Ut[pt],jt)}}),password:A(Ir,function(ke){var vt=$(this),Ut=D(String(ke));if(!d(vt)){vt.password="";for(var pt=0;pt<Ut.length;pt++)vt.password+=_t(Ut[pt],jt)}}),host:A(Er,function(ke){var vt=$(this);vt.cannotBeABaseURL||c(vt,String(ke),Le)}),hostname:A(jr,function(ke){var vt=$(this);vt.cannotBeABaseURL||c(vt,String(ke),gt)}),port:A(Oi,function(ke){var vt=$(this);d(vt)||((ke=String(ke))==""?vt.port=null:c(vt,ke,Mt))}),pathname:A(no,function(ke){var vt=$(this);vt.cannotBeABaseURL||(vt.path=[],c(vt,ke+"",er))}),search:A(Js,function(ke){var vt=$(this);(ke=String(ke))==""?vt.query=null:(ke.charAt(0)=="?"&&(ke=ke.slice(1)),vt.query="",c(vt,ke,Cr)),q(vt.searchParams).updateSearchParams(vt.query)}),searchParams:A(wo),hash:A(bi,function(ke){var vt=$(this);(ke=String(ke))==""?vt.fragment=null:(ke.charAt(0)=="#"&&(ke=ke.slice(1)),vt.fragment="",c(vt,ke,_n))})}),b(j,"toJSON",function(){return Fr.call(this)},{enumerable:!0}),b(j,"toString",function(){return Fr.call(this)},{enumerable:!0}),G&&(h=G.createObjectURL,p=G.revokeObjectURL,h&&b(T,"createObjectURL",function(ke){return h.apply(G,arguments)}),p&&b(T,"revokeObjectURL",function(ke){return p.apply(G,arguments)})),F(T,"URL"),u({global:!0,forced:!S,sham:!g},{URL:T})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(n,C,x){C.exports=n("./").polyfill()},{"./":240}],240:[function(n,C,x){(function(m,d){var c;c=function(){function T(le){return typeof le=="function"}var A=Array.isArray||function(le){return Object.prototype.toString.call(le)==="[object Array]"},f=0,h=void 0,p=void 0,u=function(le,me){E[f]=le,E[f+1]=me,(f+=2)===2&&(p?p(M):U())},g=typeof window<"u"?window:void 0,S=(S=g||{}).MutationObserver||S.WebKitMutationObserver,j=typeof self>"u"&&m!==void 0&&{}.toString.call(m)==="[object process]",_=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var le=setTimeout;return function(){return le(M,1)}}var E=new Array(1e3);function M(){for(var le=0;le<f;le+=2)(0,E[le])(E[le+1]),E[le]=void 0,E[le+1]=void 0;f=0}var P,D,O,U=void 0;function F(le,me){var Se,Re=this,Ee=new this.constructor(Y),Ae=(Ee[G]===void 0&&Z(Ee),Re._state);return Ae?(Se=arguments[Ae-1],u(function(){return de(Ae,Ee,Se,Re._result)})):ae(Re,Ee,le,me),Ee}function H(le){var me;return le&&typeof le=="object"&&le.constructor===this?le:($(me=new this(Y),le),me)}U=j?function(){return m.nextTick(M)}:S?(D=0,j=new S(M),O=document.createTextNode(""),j.observe(O,{characterData:!0}),function(){O.data=D=++D%2}):_?((P=new MessageChannel).port1.onmessage=M,function(){return P.port2.postMessage(0)}):(g===void 0&&typeof n=="function"?function(){try{var le=Function("return this")().require("vertx");return(h=le.runOnLoop||le.runOnContext)!==void 0?function(){h(M)}:b()}catch{return b()}}:b)();var G=Math.random().toString(36).substring(2);function Y(){}var q=void 0;function V(le,me,Se){var Re,Ee;me.constructor===le.constructor&&Se===F&&me.constructor.resolve===H?(Re=le,(Ee=me)._state===1?te(Re,Ee._result):Ee._state===2?ne(Re,Ee._result):ae(Ee,void 0,function(Ae){return $(Re,Ae)},function(Ae){return ne(Re,Ae)})):Se!==void 0&&T(Se)?function(Ae,Be,et){u(function($e){var at=!1,jt=function(_t,Yt,Tt,je){try{_t.call(Yt,Tt,je)}catch(We){return We}}(et,Be,function(_t){at||(at=!0,(Be!==_t?$:te)($e,_t))},function(_t){at||(at=!0,ne($e,_t))},$e._label);!at&&jt&&(at=!0,ne($e,jt))},Ae)}(le,me,Se):te(le,me)}function $(le,me){if(le===me)ne(le,new TypeError("You cannot resolve a promise with itself"));else if(Se=typeof me,me===null||Se!="object"&&Se!="function")te(le,me);else{Se=void 0;try{Se=me.then}catch(Re){return void ne(le,Re)}V(le,me,Se)}var Se}function Q(le){le._onerror&&le._onerror(le._result),ce(le)}function te(le,me){le._state===q&&(le._result=me,le._state=1,le._subscribers.length!==0&&u(ce,le))}function ne(le,me){le._state===q&&(le._state=2,le._result=me,u(Q,le))}function ae(le,me,Se,Re){var Ee=le._subscribers,Ae=Ee.length;le._onerror=null,Ee[Ae]=me,Ee[Ae+1]=Se,Ee[Ae+2]=Re,Ae===0&&le._state&&u(ce,le)}function ce(le){var me=le._subscribers,Se=le._state;if(me.length!==0){for(var Re,Ee=void 0,Ae=le._result,Be=0;Be<me.length;Be+=3)Re=me[Be],Ee=me[Be+Se],Re?de(Se,Re,Ee,Ae):Ee(Ae);le._subscribers.length=0}}function de(le,me,Se,Re){var Ee=T(Se),Ae=void 0,Be=void 0,et=!0;if(Ee){try{Ae=Se(Re)}catch($e){et=!1,Be=$e}if(me===Ae)return void ne(me,new TypeError("A promises callback cannot return that same promise."))}else Ae=Re;me._state===q&&(Ee&&et?$(me,Ae):et===!1?ne(me,Be):le===1?te(me,Ae):le===2&&ne(me,Ae))}var X=0;function Z(le){le[G]=X++,le._state=void 0,le._result=void 0,le._subscribers=[]}he.prototype._enumerate=function(le){for(var me=0;this._state===q&&me<le.length;me++)this._eachEntry(le[me],me)},he.prototype._eachEntry=function(le,me){var Se=this._instanceConstructor,Re=Se.resolve;if(Re===H){var Ee,Ae=void 0,Be=void 0,et=!1;try{Ae=le.then}catch($e){et=!0,Be=$e}Ae===F&&le._state!==q?this._settledAt(le._state,me,le._result):typeof Ae!="function"?(this._remaining--,this._result[me]=le):Se===ye?(Ee=new Se(Y),et?ne(Ee,Be):V(Ee,le,Ae),this._willSettleAt(Ee,me)):this._willSettleAt(new Se(function($e){return $e(le)}),me)}else this._willSettleAt(Re(le),me)},he.prototype._settledAt=function(le,me,Se){var Re=this.promise;Re._state===q&&(this._remaining--,le===2?ne(Re,Se):this._result[me]=Se),this._remaining===0&&te(Re,this._result)},he.prototype._willSettleAt=function(le,me){var Se=this;ae(le,void 0,function(Re){return Se._settledAt(1,me,Re)},function(Re){return Se._settledAt(2,me,Re)})};var ie=he;function he(le,me){this._instanceConstructor=le,this.promise=new le(Y),this.promise[G]||Z(this.promise),A(me)?(this.length=me.length,this._remaining=me.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(me),this._remaining!==0)||te(this.promise,this._result)):ne(this.promise,new Error("Array Methods must be provided an Array"))}ve.prototype.catch=function(le){return this.then(null,le)},ve.prototype.finally=function(le){var me=this.constructor;return T(le)?this.then(function(Se){return me.resolve(le()).then(function(){return Se})},function(Se){return me.resolve(le()).then(function(){throw Se})}):this.then(le,le)};var ye=ve;function ve(le){if(this[G]=X++,this._result=this._state=void 0,this._subscribers=[],Y!==le){if(typeof le!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ve))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var me=this;try{le(function(Se){$(me,Se)},function(Se){ne(me,Se)})}catch(Se){ne(me,Se)}}}return ye.prototype.then=F,ye.all=function(le){return new ie(this,le).promise},ye.race=function(le){var me=this;return A(le)?new me(function(Se,Re){for(var Ee=le.length,Ae=0;Ae<Ee;Ae++)me.resolve(le[Ae]).then(Se,Re)}):new me(function(Se,Re){return Re(new TypeError("You must pass an array to race."))})},ye.resolve=H,ye.reject=function(le){var me=new this(Y);return ne(me,le),me},ye._setScheduler=function(le){p=le},ye._setAsap=function(le){u=le},ye._asap=u,ye.polyfill=function(){var le=void 0;if(d!==void 0)le=d;else if(typeof self<"u")le=self;else try{le=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var me=le.Promise;if(me){var Se=null;try{Se=Object.prototype.toString.call(me.resolve())}catch{}if(Se==="[object Promise]"&&!me.cast)return}le.Promise=ye},ye.Promise=ye},typeof x=="object"&&C!==void 0?C.exports=c():this.ES6Promise=c()}).call(this,n("_process"),R!==void 0?R:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:249}],241:[function(n,C,x){var m;m=function(d,c){var T="callback";function A(h){try{delete window[h]}catch{window[h]=void 0}}function f(h){(h=document.getElementById(h))&&document.getElementsByTagName("head")[0].removeChild(h)}c.exports=function(h){var p=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],u=h,g=p.timeout||5e3,S=p.jsonpCallback||T,j=void 0;return new Promise(function(_,b){var E=p.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),M=S+"_"+E,P=(window[E]=function(D){_({ok:!0,json:function(){return Promise.resolve(D)}}),j&&clearTimeout(j),f(M),A(E)},u+=u.indexOf("?")===-1?"?":"&",document.createElement("script"));P.setAttribute("src",""+u+S+"="+E),p.charset&&P.setAttribute("charset",p.charset),P.id=M,document.getElementsByTagName("head")[0].appendChild(P),j=setTimeout(function(){b(new Error("JSONP request to "+h+" timed out")),A(E),f(M),window[E]=function(){A(E)}},g),P.onerror=function(){b(new Error("JSONP request to "+h+" failed")),A(E),f(M),j&&clearTimeout(j)}})}},x!==void 0&&C!==void 0?m(0,C):(m(m={exports:{}},m),this.fetchJsonp=m.exports)},{}],242:[function(n,C,x){var m=function(d){var c,T,A,f,h,p,u,g,S,j;if(!(d===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return j=d.document,c=function(){return d.URL||d.webkitURL||d},T=j.createElementNS("http://www.w3.org/1999/xhtml","a"),A="download"in T,f=/constructor/i.test(d.HTMLElement)||d.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),p=function(_){(d.setImmediate||d.setTimeout)(function(){throw _},0)},u=function(_){setTimeout(function(){typeof _=="string"?c().revokeObjectURL(_):_.remove()},4e4)},g=function(_){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\uFEFF",_],{type:_.type}):_},j=(S=function(_,b,E){E||(_=g(_));var M,P,D=this,O=(E=_.type==="application/octet-stream",function(){for(var U=D,F="writestart progress write writeend".split(" "),H=(F=[].concat(F)).length;H--;){var G=U["on"+F[H]];if(typeof G=="function")try{G.call(U,U)}catch(Y){p(Y)}}});D.readyState=D.INIT,A?(M=c().createObjectURL(_),setTimeout(function(){var U,F;T.href=M,T.download=b,U=T,F=new MouseEvent("click"),U.dispatchEvent(F),O(),u(M),D.readyState=D.DONE})):(h||E&&f)&&d.FileReader?((P=new FileReader).onloadend=function(){var U=h?P.result:P.result.replace(/^data:[^;]*;/,"data:attachment/file;");d.open(U,"_blank")||(d.location.href=U),U=void 0,D.readyState=D.DONE,O()},P.readAsDataURL(_),D.readyState=D.INIT):(M=M||c().createObjectURL(_),!E&&d.open(M,"_blank")||(d.location.href=M),D.readyState=D.DONE,O(),u(M))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(_,b,E){return b=b||_.name||"download",E||(_=g(_)),navigator.msSaveOrOpenBlob(_,b)}:(j.abort=function(){},j.readyState=j.INIT=0,j.WRITING=1,j.DONE=2,j.error=j.onwritestart=j.onprogress=j.onwrite=j.onabort=j.onerror=j.onwriteend=null,function(_,b,E){return new S(_,b||_.name||"download",E)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);C!==void 0&&C.exports&&(C.exports.saveAs=m)},{}],243:[function(n,C,x){var m,d=Object.defineProperty,c=(d(x,"__esModule",{value:!0}),x),T={GIFEncoder:()=>O,applyPalette:()=>function(q,V,$="rgb565"){if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<V.length)throw new Error("applyPalette() only works with 256 colors or less");const Q=new Uint32Array(q.buffer),te=Q.length,ne=$==="rgb444"?4096:65536,ae=new Uint8Array(te),ce=new Array(ne);if($==="rgba4444")for(let Se=0;Se<te;Se++){var de,X=(de=Q[Se])>>24&255,Z=de>>16&255,ie=de>>8&255,he=(he=u(de=255&de,ie,Z,X))in ce?ce[he]:ce[he]=function(Re,Ee,Ae,Be,et){let $e=0,at=1e100;for(let Yt=0;Yt<et.length;Yt++){var jt=et[Yt],_t=M(jt[3]-Be);_t>at||(_t+=M(jt[0]-Re))>at||(_t+=M(jt[1]-Ee))>at||(_t+=M(jt[2]-Ae))>at||(at=_t,$e=Yt)}return $e}(de,ie,Z,X,V);ae[Se]=he}else{const Se=$==="rgb444"?g:p;for(let Re=0;Re<te;Re++){var ye,ve=(ye=Q[Re])>>16&255,le=ye>>8&255,me=(me=Se(ye=255&ye,le,ve))in ce?ce[me]:ce[me]=function(Ee,Ae,Be,et){let $e=0,at=1e100;for(let Yt=0;Yt<et.length;Yt++){var jt=et[Yt],_t=M(jt[0]-Ee);_t>at||(_t+=M(jt[1]-Ae))>at||(_t+=M(jt[2]-Be))>at||(at=_t,$e=Yt)}return $e}(ye,le,ve,V);ae[Re]=me}}return ae},default:()=>Y,nearestColor:()=>function(q,V,$=b){return q[P(q,V,$)]},nearestColorIndex:()=>P,nearestColorIndexWithDistance:()=>D,prequantize:()=>function(q,{roundRGB:V=5,roundAlpha:$=10,oneBitAlpha:Q=null}={}){const te=new Uint32Array(q.buffer);for(let de=0;de<te.length;de++){let X=(ce=te[de])>>24&255;var ne=ce>>16&255,ae=ce>>8&255,ce=255&ce;X=E(X,$),Q&&(X=X<=(typeof Q=="number"?Q:127)?0:255),ce=E(ce,V),ae=E(ae,V),ne=E(ne,V),te[de]=X<<24|ne<<16|ae<<8|ce<<0}},quantize:()=>function(q,V,$={}){var{format:Q="rgb565",clearAlpha:te=!0,clearAlphaColor:ne=0,clearAlphaThreshold:ae=0,oneBitAlpha:ce=!1}=$;if(!q||!q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(q instanceof Uint8Array||q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");q=new Uint32Array(q.buffer);let de=$.useSqrt!==!1;const X=Q==="rgba4444",Z=function(je,We){const Ye=new Array(We==="rgb444"?4096:65536),ft=je.length;if(We==="rgba4444")for(let gt=0;gt<ft;++gt){var Ct,Vt=(Ct=je[gt])>>24&255,Ot=Ct>>16&255,At=Ct>>8&255,fe=u(Ct=255&Ct,At,Ot,Vt);let Mt=fe in Ye?Ye[fe]:Ye[fe]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Mt.rc+=Ct,Mt.gc+=At,Mt.bc+=Ot,Mt.ac+=Vt,Mt.cnt++}else if(We==="rgb444")for(let gt=0;gt<ft;++gt){var ue,pe=(ue=je[gt])>>16&255,xe=ue>>8&255,De=g(ue=255&ue,xe,pe);let Mt=De in Ye?Ye[De]:Ye[De]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Mt.rc+=ue,Mt.gc+=xe,Mt.bc+=pe,Mt.cnt++}else for(let gt=0;gt<ft;++gt){var Ke,mt=(Ke=je[gt])>>16&255,ht=Ke>>8&255,Le=p(Ke=255&Ke,ht,mt);let Mt=Le in Ye?Ye[Le]:Ye[Le]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};Mt.rc+=Ke,Mt.gc+=ht,Mt.bc+=mt,Mt.cnt++}return Ye}(q,Q),ie=Z.length,he=ie-1,ye=new Uint32Array(ie+1);for(var ve=0,le=0;le<ie;++le){const je=Z[le];je!=null&&(_t=1/je.cnt,X&&(je.ac*=_t),je.rc*=_t,je.gc*=_t,je.bc*=_t,Z[ve++]=je)}j(V)/ve<.022&&(de=!1);var me,Se,Re;for(le=0;le<ve-1;++le)Z[le].fw=le+1,Z[le+1].bk=le,de&&(Z[le].cnt=Math.sqrt(Z[le].cnt));for(de&&(Z[le].cnt=Math.sqrt(Z[le].cnt)),le=0;le<ve;++le){_(Z,le);var Ee=Z[le].err;for(Se=++ye[0];1<Se&&!(Z[me=ye[Re=Se>>1]].err<=Ee);Se=Re)ye[Se]=me;ye[Se]=le}var Ae,Be=ve-V;for(le=0;le<Be;){for(;;){var et=ye[1];if((Ae=Z[et]).tm>=Ae.mtm&&Z[Ae.nn].mtm<=Ae.tm)break;for(Ae.mtm==he?et=ye[1]=ye[ye[0]--]:(_(Z,et),Ae.tm=le),Ee=Z[et].err,Se=1;(Re=Se+Se)<=ye[0]&&(Re<ye[0]&&Z[ye[Re]].err>Z[ye[Re+1]].err&&Re++,!(Ee<=Z[me=ye[Re]].err));Se=Re)ye[Se]=me;ye[Se]=et}var $e=Z[Ae.nn],at=Ae.cnt,jt=$e.cnt,_t=1/(at+jt);X&&(Ae.ac=_t*(at*Ae.ac+jt*$e.ac)),Ae.rc=_t*(at*Ae.rc+jt*$e.rc),Ae.gc=_t*(at*Ae.gc+jt*$e.gc),Ae.bc=_t*(at*Ae.bc+jt*$e.bc),Ae.cnt+=$e.cnt,Ae.mtm=++le,Z[$e.bk].fw=$e.fw,Z[$e.fw].bk=$e.bk,$e.mtm=he}let Yt=[];for(le=0;;0){let je=S(Math.round(Z[le].rc),0,255),We=S(Math.round(Z[le].gc),0,255),Ye=S(Math.round(Z[le].bc),0,255),ft=255;X&&(ft=S(Math.round(Z[le].ac),0,255),ce&&(ft=ft<=(Tt=typeof ce=="number"?ce:127)?0:255),te&&ft<=ae&&(je=We=Ye=ne,ft=0));var Tt=X?[je,We,Ye,ft]:[je,We,Ye];if(function(Ct,Vt){for(let fe=0;fe<Ct.length;fe++){var Ot=(At=Ct[fe])[0]===Vt[0]&&At[1]===Vt[1]&&At[2]===Vt[2],At=!(4<=At.length&&4<=Vt.length)||At[3]===Vt[3];if(Ot&&At)return!0}return!1}(Yt,Tt)||Yt.push(Tt),(le=Z[le].fw)==0)break}return Yt},snapColorsToPalette:()=>function(q,V,$=5){if(q.length&&V.length){var Q=q.map(de=>de.slice(0,3)),te=$*$,ne=q[0].length;for(let de=0;de<V.length;de++){let X=V[de];X=X.length<ne?[X[0],X[1],X[2],255]:X.length>ne?X.slice(0,3):X.slice();var ae,ce=(ae=D(Q,X.slice(0,3),b))[0];0<(ae=ae[1])&&ae<=te&&(q[ce]=X)}}}};for(m in T)d(c,m,{get:T[m],enumerable:!0});var A=59;function f(q=256){let V=0,$=new Uint8Array(q);return{get buffer(){return $.buffer},reset(){V=0},bytesView:()=>$.subarray(0,V),bytes:()=>$.slice(0,V),writeByte(te){Q(V+1),$[V]=te,V++},writeBytes(te,ne=0,ae=te.length){Q(V+ae);for(let ce=0;ce<ae;ce++)$[V++]=te[ce+ne]},writeBytesView(te,ne=0,ae=te.byteLength){Q(V+ae),$.set(te.subarray(ne,ne+ae),V),V+=ae}};function Q(te){var ne=$.length;if(!(te<=ne)){te=Math.max(te,ne*(ne<1048576?2:1.125)>>>0),ne!=0&&(te=Math.max(te,256));const ae=$;$=new Uint8Array(te),0<V&&$.set(ae.subarray(0,V),0)}}}var h=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function p(q,V,$){return q<<8&63488|V<<2&992|$>>3}function u(q,V,$,Q){return q>>4|240&V|(240&$)<<4|(240&Q)<<8}function g(q,V,$){return q>>4<<8|240&V|$>>4}function S(q,V,$){return q<V?V:$<q?$:q}function j(q){return q*q}function _(q,V,$){var Q=0,te=1e100;const ne=q[V];for(var ae=ne.cnt,ce=ne.ac,de=ne.rc,X=ne.gc,Z=ne.bc,ie=ne.fw;ie!=0;ie=q[ie].fw){var he,ye,ve=q[ie];te<=(ye=ae*(ye=ve.cnt)/(ae+ye))||(he=0,te<=(he+=ye*j(ve.rc-de))||te<=(he+=ye*j(ve.gc-X))||te<=(he+=ye*j(ve.bc-Z))||(te=he,Q=ie))}ne.err=te,ne.nn=Q}function b(q,V){for(var $=0,Q=0;Q<q.length;Q++){var te=q[Q]-V[Q];$+=te*te}return $}function E(q,V){return 1<V?Math.round(q/V)*V:q}function M(q){return q*q}function P(q,V,$=b){let Q=1/0,te=-1;for(let ae=0;ae<q.length;ae++){var ne=$(V,q[ae]);ne<Q&&(Q=ne,te=ae)}return te}function D(q,V,$=b){let Q=1/0,te=-1;for(let ae=0;ae<q.length;ae++){var ne=$(V,q[ae]);ne<Q&&(Q=ne,te=ae)}return[te,Q]}function O(q={}){const{initialCapacity:V=4096,auto:$=!0}=q,Q=f(V),te=new Uint8Array(256),ne=new Int32Array(5003),ae=new Int32Array(5003);let ce=!1;return{reset(){Q.reset(),ce=!1},finish(){Q.writeByte(A)},bytes:()=>Q.bytes(),bytesView:()=>Q.bytesView(),get buffer(){return Q.buffer},get stream(){return Q},writeHeader:de,writeFrame(X,Z,ie,he={}){var{transparent:ye=!1,transparentIndex:ve=0,delay:jt=0,palette:le=null,repeat:et=0,colorDepth:me=8,dispose:Se=-1}=he;let Re=!1;if($?ce||(Re=!0,de(),ce=!0):Re=!!he.first,Z=Math.max(0,Math.floor(Z)),ie=Math.max(0,Math.floor(ie)),Re){if(!le)throw new Error("First frame must include a { palette } option");var[he,$e,Ae,at,Be=8]=[Q,Z,ie,le,me];Be=128|Be-1<<4|(at=G(at.length)-1),F(he,$e),F(he,Ae),he.writeBytes([Be,0,0]),U(Q,le),0<=et&&($e=et,(at=Q).writeByte(33),at.writeByte(255),at.writeByte(11),H(at,"NETSCAPE2.0"),at.writeByte(3),at.writeByte(1),F(at,$e),at.writeByte(0))}var Ee,Ae,Be=Se,et=Ae=Math.round(jt/10),$e=ye,at=ve,jt=((he=Q).writeByte(33),he.writeByte(249),he.writeByte(4),at<0&&(at=0,$e=!1),$e=$e?(Ee=1,2):Ee=0,0<=Be&&($e=7&Be),$e<<=2,he.writeByte(0|$e|Ee),F(he,et),he.writeByte(at||0),he.writeByte(0),!!le&&!Re);ye=Z,ve=ie,Ee=jt?le:null,(Se=Q).writeByte(44),F(Se,0),F(Se,0),F(Se,ye),F(Se,ve),Ee?(ye=G(Ee.length)-1,Se.writeByte(128|ye)):Se.writeByte(0),jt&&U(Q,le),[et,he,ve,ye,Se=8,jt,le,X]=[Q,X,Z,ie,me,te,ne,ae],function(_t,Yt,Tt,je,We=f(512),Ye=new Uint8Array(256),ft=new Int32Array(5003),Ct=new Int32Array(5003)){var Vt=ft.length;je=Math.max(2,je),Ye.fill(0),Ct.fill(0),ft.fill(-1);let Ot=0,At=0;var fe=je+1;const ue=fe;let pe=!1,xe=ue,De=(1<<xe)-1;var Ke=1<<fe-1;const mt=1+Ke;let ht=2+Ke,Le=0,gt=Tt[0],Mt=0;for(let kr=Vt;kr<65536;kr*=2)++Mt;Mt=8-Mt,We.writeByte(je),$t(Ke);var sr=Tt.length;for(let kr=1;kr<sr;kr++)e:{var mr=Tt[kr],tr=(mr<<12)+gt;let Cr=mr<<Mt^gt;if(ft[Cr]===tr)gt=Ct[Cr];else{for(var er=Cr===0?1:Vt-Cr;0<=ft[Cr];)if((Cr-=er)<0&&(Cr+=Vt),ft[Cr]===tr){gt=Ct[Cr];break e}$t(gt),gt=mr,ht<4096?(Ct[Cr]=ht++,ft[Cr]=tr):(ft.fill(-1),ht=2+Ke,pe=!0,$t(Ke))}}return $t(gt),$t(mt),We.writeByte(0),We.bytesView();function $t(kr){for(Ot&=h[At],0<At?Ot|=kr<<At:Ot=kr,At+=xe;8<=At;)Ye[Le++]=255&Ot,254<=Le&&(We.writeByte(Le),We.writeBytesView(Ye,0,Le),Le=0),Ot>>=8,At-=8;if((ht>De||pe)&&(pe?(xe=ue,De=(1<<xe)-1,pe=!1):(++xe,De=xe===12?1<<xe:(1<<xe)-1)),kr==mt){for(;0<At;)Ye[Le++]=255&Ot,254<=Le&&(We.writeByte(Le),We.writeBytesView(Ye,0,Le),Le=0),Ot>>=8,At-=8;0<Le&&(We.writeByte(Le),We.writeBytesView(Ye,0,Le),Le=0)}}}(0,0,he,Se,et,jt,le,X)}};function de(){H(Q,"GIF89a")}}function U(q,V){var $=1<<G(V.length);for(let Q=0;Q<$;Q++){let te=[0,0,0];Q<V.length&&(te=V[Q]),q.writeByte(te[0]),q.writeByte(te[1]),q.writeByte(te[2])}}function F(q,V){q.writeByte(255&V),q.writeByte(V>>8&255)}function H(q,V){for(var $=0;$<V.length;$++)q.writeByte(V.charCodeAt($))}function G(q){return Math.max(Math.ceil(Math.log2(q)),1)}var Y=O},{}],244:[function(n,C,x){x.read=function(m,d,c,T,A){var f,h,p=8*A-T-1,u=(1<<p)-1,g=u>>1,S=-7,j=c?A-1:0,_=c?-1:1;for(A=m[d+j],j+=_,f=A&(1<<-S)-1,A>>=-S,S+=p;0<S;f=256*f+m[d+j],j+=_,S-=8);for(h=f&(1<<-S)-1,f>>=-S,S+=T;0<S;h=256*h+m[d+j],j+=_,S-=8);if(f===0)f=1-g;else{if(f===u)return h?NaN:1/0*(A?-1:1);h+=Math.pow(2,T),f-=g}return(A?-1:1)*h*Math.pow(2,f-T)},x.write=function(m,d,c,T,A,f){var h,p,u=8*f-A-1,g=(1<<u)-1,S=g>>1,j=A===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=T?0:f-1,b=T?1:-1;for(f=d<0||d===0&&1/d<0?1:0,d=Math.abs(d),isNaN(d)||d===1/0?(p=isNaN(d)?1:0,h=g):(h=Math.floor(Math.log(d)/Math.LN2),d*(T=Math.pow(2,-h))<1&&(h--,T*=2),2<=(d+=1<=h+S?j/T:j*Math.pow(2,1-S))*T&&(h++,T/=2),g<=h+S?(p=0,h=g):1<=h+S?(p=(d*T-1)*Math.pow(2,A),h+=S):(p=d*Math.pow(2,S-1)*Math.pow(2,A),h=0));8<=A;m[c+_]=255&p,_+=b,p/=256,A-=8);for(h=h<<A|p,u+=A;0<u;m[c+_]=255&h,_+=b,h/=256,u-=8);m[c+_-b]|=128*f}},{}],245:[function(n,C,x){var m;function d(fe,ue){return fe.b===ue.b&&fe.a===ue.a}function c(fe,ue){return fe.b<ue.b||fe.b===ue.b&&fe.a<=ue.a}function T(fe,ue,pe){var xe=ue.b-fe.b,De=pe.b-ue.b;return 0<xe+De?xe<De?ue.a-fe.a+xe/(xe+De)*(fe.a-pe.a):ue.a-pe.a+De/(xe+De)*(pe.a-fe.a):0}function A(fe,ue,pe){var xe=ue.b-fe.b,De=pe.b-ue.b;return 0<xe+De?(ue.a-pe.a)*xe+(ue.a-fe.a)*De:0}function f(fe,ue){return fe.a<ue.a||fe.a===ue.a&&fe.b<=ue.b}function h(fe,ue,pe){var xe=ue.a-fe.a,De=pe.a-ue.a;return 0<xe+De?xe<De?ue.b-fe.b+xe/(xe+De)*(fe.b-pe.b):ue.b-pe.b+De/(xe+De)*(pe.b-fe.b):0}function p(fe,ue,pe){var xe=ue.a-fe.a,De=pe.a-ue.a;return 0<xe+De?(ue.b-pe.b)*xe+(ue.b-fe.b)*De:0}function u(fe,ue,pe,xe){return(fe=fe<0?0:fe)<=(pe=pe<0?0:pe)?pe===0?(ue+xe)/2:ue+fe/(fe+pe)*(xe-ue):xe+pe/(fe+pe)*(ue-xe)}function g(fe){var ue=E(fe.b);return P(ue,fe.c),P(ue.b,fe.c),D(ue,fe.a),ue}function S(fe,ue){var pe=!1,xe=!1;fe!==ue&&(ue.a!==fe.a&&(xe=!0,U(ue.a,fe.a)),ue.d!==fe.d&&(pe=!0,F(ue.d,fe.d)),M(ue,fe),xe||(P(ue,fe.a),fe.a.c=fe),pe||(D(ue,fe.d),fe.d.a=fe))}function j(fe){var ue=fe.b,pe=!1;fe.d!==fe.b.d&&(pe=!0,F(fe.d,fe.b.d)),fe.c===fe?U(fe.a,null):(fe.b.d.a=fe.b.e,fe.a.c=fe.c,M(fe,fe.b.e),pe||D(fe,fe.d)),ue.c===ue?(U(ue.a,null),F(ue.d,null)):(fe.d.a=ue.b.e,ue.a.c=ue.c,M(ue,ue.b.e)),O(fe)}function _(fe){var ue=E(fe),pe=ue.b;return M(ue,fe.e),ue.a=fe.b.a,P(pe,ue.a),ue.d=pe.d=fe.d,ue=ue.b,M(fe.b,fe.b.b.e),M(fe.b,ue),fe.b.a=ue.a,ue.b.a.c=ue.b,ue.b.d=fe.b.d,ue.f=fe.f,ue.b.f=fe.b.f,ue}function b(fe,ue){var pe=!1,xe=E(fe),De=xe.b;return ue.d!==fe.d&&(pe=!0,F(ue.d,fe.d)),M(xe,fe.e),M(De,ue),xe.a=fe.b.a,De.a=ue.a,xe.d=De.d=fe.d,fe.d.a=De,pe||D(xe,fe.d),xe}function E(fe){var ue=new et,pe=new et,xe=fe.b.h;return(((pe.h=xe).b.h=ue).h=fe).b.h=pe,ue.b=pe,((ue.c=ue).e=pe).b=ue,(pe.c=pe).e=ue}function M(fe,ue){var pe=fe.c,xe=ue.c;pe.b.e=ue,(xe.b.e=fe).c=xe,ue.c=pe}function P(fe,ue){var pe=ue.f,xe=new at(ue,pe);for(pe.e=xe,pe=(ue.f=xe).c=fe;pe.a=xe,(pe=pe.c)!==fe;);}function D(fe,ue){var pe=ue.d,xe=new Be(ue,pe);for(pe.b=xe,(ue.d=xe).a=fe,xe.c=ue.c,pe=fe;pe.d=xe,(pe=pe.e)!==fe;);}function O(fe){var ue=fe.h;fe=fe.b.h,(ue.b.h=fe).b.h=ue}function U(fe,ue){for(var pe=fe.c,xe=pe;xe.a=ue,(xe=xe.c)!==pe;);pe=fe.f,((xe=fe.e).f=pe).e=xe}function F(fe,ue){for(var pe=fe.a,xe=pe;xe.d=ue,(xe=xe.e)!==pe;);pe=fe.d,((xe=fe.b).d=pe).b=xe}function H(fe){var ue=0;return Math.abs(fe[1])>Math.abs(fe[0])&&(ue=1),Math.abs(fe[2])>Math.abs(fe[ue])?2:ue}function G(fe,ue){fe.f+=ue.f,fe.b.f+=ue.b.f}function Y(fe,ue,pe){return fe=fe.a,ue=ue.a,pe=pe.a,ue.b.a===fe?pe.b.a===fe?c(ue.a,pe.a)?A(pe.b.a,ue.a,pe.a)<=0:0<=A(ue.b.a,pe.a,ue.a):A(pe.b.a,fe,pe.a)<=0:pe.b.a===fe?0<=A(ue.b.a,fe,ue.a):(ue=T(ue.b.a,fe,ue.a),(fe=T(pe.b.a,fe,pe.a))<=ue)}function q(fe){fe.a.i=null;var ue=fe.e;ue.a.c=ue.c,ue.c.a=ue.a,fe.e=null}function V(fe,ue){j(fe.a),fe.c=!1,(fe.a=ue).i=fe}function $(fe){for(var ue=fe.a.a;(fe=At(fe)).a.a===ue;);return fe.c&&(V(fe,ue=b(Ot(fe).a.b,fe.a.e)),fe=At(fe)),fe}function Q(fe,ue,pe){var xe=new Vt;return xe.a=pe,xe.e=me(fe.f,ue.e,xe),pe.i=xe}function te(fe,ue){switch(fe.s){case 100130:return(1&ue)!=0;case 100131:return ue!==0;case 100132:return 0<ue;case 100133:return ue<0;case 100134:return 2<=ue||ue<=-2}return!1}function ne(fe){var ue=fe.a,pe=ue.d;pe.c=fe.d,pe.a=ue,q(fe)}function ae(fe,ue,pe){for(ue=(fe=ue).a;fe!==pe;){fe.c=!1;var xe=Ot(fe),De=xe.a;if(De.a!==ue.a){if(!xe.c){ne(fe);break}V(xe,De=b(ue.c.b,De.b))}ue.c!==De&&(S(De.b.e,De),S(ue,De)),ne(fe),ue=xe.a,fe=xe}return ue}function ce(fe,ue,pe,xe,De,Ke){for(var mt=!0;Q(fe,ue,pe.b),(pe=pe.c)!==xe;);for(De===null&&(De=Ot(ue).a.b.c);(pe=(xe=Ot(ue)).a.b).a===De.a;)pe.c!==De&&(S(pe.b.e,pe),S(De.b.e,pe)),xe.f=ue.f-pe.f,xe.d=te(fe,xe.f),ue.b=!0,!mt&&ie(fe,ue)&&(G(pe,De),q(ue),j(De)),mt=!1,ue=xe,De=pe;ue.b=!0,Ke&&ye(fe,ue)}function de(fe,ue,pe,xe,De){var Ke=[ue.g[0],ue.g[1],ue.g[2]];ue.d=null,ue.d=fe.o&&fe.o(Ke,pe,xe,fe.c)||null,ue.d===null&&(De?fe.n||(Ae(fe,100156),fe.n=!0):ue.d=pe[0])}function X(fe,ue,pe){var xe=[null,null,null,null];xe[0]=ue.a.d,xe[1]=pe.a.d,de(fe,ue.a,xe,[.5,.5,0,0],!1),S(ue,pe)}function Z(fe,ue,pe,xe,De){var Ke=Math.abs(ue.b-fe.b)+Math.abs(ue.a-fe.a),mt=Math.abs(pe.b-fe.b)+Math.abs(pe.a-fe.a),ht=De+1;xe[De]=.5*mt/(Ke+mt),xe[ht]=.5*Ke/(Ke+mt),fe.g[0]+=xe[De]*ue.g[0]+xe[ht]*pe.g[0],fe.g[1]+=xe[De]*ue.g[1]+xe[ht]*pe.g[1],fe.g[2]+=xe[De]*ue.g[2]+xe[ht]*pe.g[2]}function ie(fe,ue){var pe=Ot(ue),xe=ue.a,De=pe.a;if(c(xe.a,De.a)){if(0<A(De.b.a,xe.a,De.a))return;if(d(xe.a,De.a)){if(xe.a!==De.a){pe=fe.e;var Ke=xe.a.h;if(0<=Ke){var mt=(pe=pe.b).d,ht=pe.e,Le=pe.c,gt=Le[Ke];mt[gt]=mt[pe.a],(Le[mt[gt]]=gt)<=--pe.a&&(gt<=1||c(ht[mt[gt>>1]],ht[mt[gt]])?ft:Ct)(pe,gt),ht[Ke]=null,Le[Ke]=pe.b,pe.b=Ke}else for(pe.c[-(Ke+1)]=null;0<pe.a&&pe.c[pe.d[pe.a-1]]===null;)--pe.a;X(fe,De.b.e,xe)}}else _(De.b),S(xe,De.b.e),ue.b=pe.b=!0}else{if(A(xe.b.a,De.a,xe.a)<0)return;At(ue).b=ue.b=!0,_(xe.b),S(De.b.e,xe)}return 1}function he(fe,ue){var pe=Ot(ue),xe=ue.a,De=pe.a,Ke=xe.a,mt=De.a,ht=xe.b.a,Le=De.b.a,gt=new at;if(A(ht,fe.a,Ke),A(Le,fe.a,mt),!(Ke===mt||Math.min(Ke.a,ht.a)>Math.max(mt.a,Le.a))){if(c(Ke,mt)){if(0<A(Le,Ke,mt))return}else if(A(ht,mt,Ke)<0)return;var Mt,sr,mr=ht,tr=Ke,er=Le,$t=mt;if(c(mr,tr)||(Mt=mr,mr=tr,tr=Mt),c(er,$t)||(Mt=er,er=$t,$t=Mt),c(mr,er)||(Mt=mr,mr=er,er=Mt,Mt=tr,tr=$t,$t=Mt),c(er,tr)?c(tr,$t)?((Mt=T(mr,er,tr))+(sr=T(er,tr,$t))<0&&(Mt=-Mt,sr=-sr),gt.b=u(Mt,er.b,sr,tr.b)):((Mt=A(mr,er,tr))+(sr=-A(mr,$t,tr))<0&&(Mt=-Mt,sr=-sr),gt.b=u(Mt,er.b,sr,$t.b)):gt.b=(er.b+tr.b)/2,f(mr,tr)||(Mt=mr,mr=tr,tr=Mt),f(er,$t)||(Mt=er,er=$t,$t=Mt),f(mr,er)||(Mt=mr,mr=er,er=Mt,Mt=tr,tr=$t,$t=Mt),f(er,tr)?f(tr,$t)?((Mt=h(mr,er,tr))+(sr=h(er,tr,$t))<0&&(Mt=-Mt,sr=-sr),gt.a=u(Mt,er.a,sr,tr.a)):((Mt=p(mr,er,tr))+(sr=-p(mr,$t,tr))<0&&(Mt=-Mt,sr=-sr),gt.a=u(Mt,er.a,sr,$t.a)):gt.a=(er.a+tr.a)/2,c(gt,fe.a)&&(gt.b=fe.a.b,gt.a=fe.a.a),mr=c(Ke,mt)?Ke:mt,c(mr,gt)&&(gt.b=mr.b,gt.a=mr.a),d(gt,Ke)||d(gt,mt))return ie(fe,ue),0;if(!d(ht,fe.a)&&0<=A(ht,fe.a,gt)||!d(Le,fe.a)&&A(Le,fe.a,gt)<=0){if(Le===fe.a)_(xe.b),S(De.b,xe),xe=Ot(ue=$(ue)).a,ae(fe,Ot(ue),pe),ce(fe,ue,xe.b.e,xe,xe,!0);else{if(ht!==fe.a)return 0<=A(ht,fe.a,gt)&&(At(ue).b=ue.b=!0,_(xe.b),xe.a.b=fe.a.b,xe.a.a=fe.a.a),void(A(Le,fe.a,gt)<=0&&(ue.b=pe.b=!0,_(De.b),De.a.b=fe.a.b,De.a.a=fe.a.a));for(_(De.b),S(xe.e,De.b.e),mt=(Ke=pe=ue).a.b.a;(Ke=At(Ke)).a.b.a===mt;);Ke=Ot(ue=Ke).a.b.c,pe.a=De.b.e,ce(fe,ue,(De=ae(fe,pe,null)).c,xe.b.c,Ke,!0)}return 1}_(xe.b),_(De.b),S(De.b.e,xe),xe.a.b=gt.b,xe.a.a=gt.a,xe.a.h=_t(fe.e,xe.a),xe=xe.a,De=[0,0,0,0],gt=[Ke.d,ht.d,mt.d,Le.d],xe.g[0]=xe.g[1]=xe.g[2]=0,Z(xe,Ke,ht,De,0),Z(xe,mt,Le,De,2),de(fe,xe,gt,De,!0),At(ue).b=ue.b=pe.b=!0}}function ye(fe,ue){for(var pe=Ot(ue);;){for(;pe.b;)pe=Ot(ue=pe);if(!(ue.b||(ue=At(pe=ue))!==null&&ue.b))break;ue.b=!1;var xe=ue.a,De=pe.a;if(Ke=xe.b.a!==De.b.a)e:{var Ke,mt=Ot(Ke=ue),ht=Ke.a,Le=mt.a,gt=void 0;if(c(ht.b.a,Le.b.a)){if(A(ht.b.a,Le.b.a,ht.a)<0){Ke=!1;break e}At(Ke).b=Ke.b=!0,gt=_(ht),S(Le.b,gt),gt.d.c=Ke.d}else{if(0<A(Le.b.a,ht.b.a,Le.a)){Ke=!1;break e}Ke.b=mt.b=!0,gt=_(Le),S(ht.e,Le.b),gt.b.d.c=Ke.d}Ke=!0}if(Ke&&(pe.c?(q(pe),j(De),De=(pe=Ot(ue)).a):ue.c&&(q(ue),j(xe),xe=(ue=At(pe)).a)),xe.a!==De.a){if(xe.b.a===De.b.a||ue.c||pe.c||xe.b.a!==fe.a&&De.b.a!==fe.a)ie(fe,ue);else if(he(fe,ue))break}xe.a===De.a&&xe.b.a===De.b.a&&(G(De,xe),q(ue),j(xe),ue=At(pe))}}function ve(fe,ue){var pe=new Vt,xe=g(fe.b);xe.a.b=4e150,xe.a.a=ue,xe.b.a.b=-4e150,xe.b.a.a=ue,fe.a=xe.b.a,pe.a=xe,pe.f=0,pe.d=!1,pe.c=!1,pe.h=!0,pe.b=!1,xe=me(xe=fe.f,xe.a,pe),pe.e=xe}function le(fe){this.a=new Se,this.b=fe,this.c=Y}function me(fe,ue,pe){for(;(ue=ue.c).b!==null&&!fe.c(fe.b,ue.b,pe););return fe=new Se(pe,ue.a,ue),ue.a.c=fe,ue.a=fe}function Se(fe,ue,pe){this.b=fe||null,this.a=ue||this,this.c=pe||this}function Re(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Ee(fe,ue){if(fe.d!==ue)for(;fe.d!==ue;)if(fe.d<ue)switch(fe.d){case 0:Ae(fe,100151),fe.u(null);break;case 1:Ae(fe,100152),fe.t()}else switch(fe.d){case 2:Ae(fe,100154),fe.v();break;case 1:Ae(fe,100153),fe.w()}}function Ae(fe,ue){fe.p&&fe.p(ue,fe.c)}function Be(fe,ue){this.b=fe||this,this.d=ue||this,this.a=null,this.c=!1}function et(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function $e(){this.c=new at,this.a=new Be,this.b=new et,this.d=new et,this.b.b=this.d,this.d.b=this.b}function at(fe,ue){this.e=fe||this,this.f=ue||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function jt(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Tt}function _t(fe,ue){var pe,xe,De;return fe.e?(2*(xe=++(pe=fe.b).a)>pe.f&&(pe.f*=2,pe.c=je(pe.c,pe.f+1)),pe.b===0?De=xe:(De=pe.b,pe.b=pe.c[pe.b]),pe.e[De]=ue,pe.c[De]=xe,pe.d[xe]=De,pe.h&&Ct(pe,xe),De):(pe=fe.a++,fe.c[pe]=ue,-(pe+1))}function Yt(fe){if(fe.a===0)return Ye(fe.b);var ue=fe.c[fe.d[fe.a-1]];if(fe.b.a!==0&&c(We(fe.b),ue))return Ye(fe.b);for(;--fe.a,0<fe.a&&fe.c[fe.d[fe.a-1]]===null;);return ue}function Tt(){this.d=je([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function je(fe,ue){for(var pe=Array(ue),xe=0;xe<fe.length;xe++)pe[xe]=fe[xe];for(;xe<ue;xe++)pe[xe]=0;return pe}function We(fe){return fe.e[fe.d[1]]}function Ye(fe){var ue=fe.d,pe=fe.e,xe=fe.c,De=ue[1],Ke=pe[De];return 0<fe.a&&(ue[1]=ue[fe.a],xe[ue[1]]=1,pe[De]=null,xe[De]=fe.b,fe.b=De,0<--fe.a&&ft(fe,1)),Ke}function ft(fe,ue){for(var pe=fe.d,xe=fe.e,De=fe.c,Ke=ue,mt=pe[Ke];;){var ht=Ke<<1,Le=(ht<fe.a&&c(xe[pe[ht+1]],xe[pe[ht]])&&(ht+=1),pe[ht]);if(ht>fe.a||c(xe[mt],xe[Le])){De[pe[Ke]=mt]=Ke;break}De[pe[Ke]=Le]=Ke,Ke=ht}}function Ct(fe,ue){for(var pe=fe.d,xe=fe.e,De=fe.c,Ke=ue,mt=pe[Ke];;){var ht=Ke>>1,Le=pe[ht];if(ht==0||c(xe[Le],xe[mt])){De[pe[Ke]=mt]=Ke;break}De[pe[Ke]=Le]=Ke,Ke=ht}}function Vt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ot(fe){return fe.e.c.b}function At(fe){return fe.e.a.b}(m=Re.prototype).x=function(){Ee(this,0)},m.B=function(fe,ue){switch(fe){case 100142:return;case 100140:switch(ue){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ue)}break;case 100141:return void(this.m=!!ue);default:return void Ae(this,100900)}Ae(this,100901)},m.y=function(fe){switch(fe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Ae(this,100900)}return!1},m.A=function(fe,ue,pe){this.j[0]=fe,this.j[1]=ue,this.j[2]=pe},m.z=function(fe,ue){var pe=ue||null;switch(fe){case 100100:case 100106:this.h=pe;break;case 100104:case 100110:this.l=pe;break;case 100101:case 100107:this.k=pe;break;case 100102:case 100108:this.i=pe;break;case 100103:case 100109:this.p=pe;break;case 100105:case 100111:this.o=pe;break;case 100112:this.r=pe;break;default:Ae(this,100900)}},m.C=function(fe,ue){var pe=!1,xe=[0,0,0];Ee(this,2);for(var De=0;De<3;++De){var Ke=fe[De];Ke<-1e150&&(Ke=-1e150,pe=!0),1e150<Ke&&(Ke=1e150,pe=!0),xe[De]=Ke}pe&&Ae(this,100155),(pe=this.q)===null?S(pe=g(this.b),pe.b):(_(pe),pe=pe.e),pe.a.d=ue,pe.a.g[0]=xe[0],pe.a.g[1]=xe[1],pe.a.g[2]=xe[2],pe.f=1,pe.b.f=-1,this.q=pe},m.u=function(fe){Ee(this,0),this.d=1,this.b=new $e,this.c=fe},m.t=function(){Ee(this,1),this.d=2,this.q=null},m.v=function(){Ee(this,2),this.d=1},m.w=function(){Ee(this,1),this.d=0;var fe,ue,pe=!1,xe=[Le=this.j[0],De=this.j[1],mt=this.j[2]];if(Le===0&&De===0&&mt===0){for(var De=[-2e150,-2e150,-2e150],Ke=[2e150,2e150,2e150],mt=[],ht=[],Le=(pe=this.b.c).e;Le!==pe;Le=Le.e)for(var gt=0;gt<3;++gt){var Mt=Le.g[gt];Mt<Ke[gt]&&(Ke[gt]=Mt,ht[gt]=Le),Mt>De[gt]&&(De[gt]=Mt,mt[gt]=Le)}if(De[1]-Ke[1]>De[Le=0]-Ke[0]&&(Le=1),Ke[Le=De[2]-Ke[2]>De[Le]-Ke[Le]?2:Le]>=De[Le])xe[0]=0,xe[1]=0,xe[2]=1;else{for(Ke=ht[Le],mt=mt[Le],ht=[De=0,0,0],Ke=[Ke.g[0]-mt.g[0],Ke.g[1]-mt.g[1],Ke.g[2]-mt.g[2]],gt=[0,0,0],Le=pe.e;Le!==pe;Le=Le.e)gt[0]=Le.g[0]-mt.g[0],gt[1]=Le.g[1]-mt.g[1],gt[2]=Le.g[2]-mt.g[2],ht[0]=Ke[1]*gt[2]-Ke[2]*gt[1],ht[1]=Ke[2]*gt[0]-Ke[0]*gt[2],ht[2]=Ke[0]*gt[1]-Ke[1]*gt[0],De<(Mt=ht[0]*ht[0]+ht[1]*ht[1]+ht[2]*ht[2])&&(De=Mt,xe[0]=ht[0],xe[1]=ht[1],xe[2]=ht[2]);De<=0&&(xe[0]=xe[1]=xe[2]=0,xe[H(Ke)]=1)}pe=!0}for(ht=H(xe),Le=this.b.c,De=(ht+1)%3,mt=(ht+2)%3,ht=0<xe[ht]?1:-1,xe=Le.e;xe!==Le;xe=xe.e)xe.b=xe.g[De],xe.a=ht*xe.g[mt];if(pe){for(xe=0,Le=(pe=this.b.a).b;Le!==pe;Le=Le.b)if(!((De=Le.a).f<=0))for(;xe+=(De.a.b-De.b.a.b)*(De.a.a+De.b.a.a),(De=De.e)!==Le.a;);if(xe<0)for(pe=(xe=this.b.c).e;pe!==xe;pe=pe.e)pe.a=-pe.a}for(this.n=!1,Le=(xe=this.b.b).h;Le!==xe;Le=pe)pe=Le.h,De=Le.e,d(Le.a,Le.b.a)&&Le.e.e!==Le&&(X(this,De,Le),j(Le),De=(Le=De).e),De.e===Le&&(De!==Le&&(De!==pe&&De!==pe.b||(pe=pe.h),j(De)),Le!==pe&&Le!==pe.b||(pe=pe.h),j(Le));for(this.e=xe=new jt,Le=(pe=this.b.c).e;Le!==pe;Le=Le.e)Le.h=_t(xe,Le);var sr=xe;sr.d=[];for(var mr=0;mr<sr.a;mr++)sr.d[mr]=mr;sr.d.sort(function($t){return function(kr,Cr){return c($t[kr],$t[Cr])?1:-1}}(sr.c)),sr.e=!0;for(var tr=sr.b,er=tr.a;1<=er;--er)ft(tr,er);for(tr.h=!0,this.f=new le(this),ve(this,-4e150),ve(this,4e150);(xe=Yt(this.e))!==null;){for(;;){e:if((Le=this.e).a===0)pe=We(Le.b);else if(pe=Le.c[Le.d[Le.a-1]],Le.b.a!==0&&c(Le=We(Le.b),pe)){pe=Le;break e}if(pe===null||!d(pe,xe))break;pe=Yt(this.e),X(this,xe.c,pe.c)}(function $t(kr,Cr){for(var _n,Fr=(kr.a=Cr).c;Fr.i===null;)if((Fr=Fr.c)===Cr.c){Fr=kr;var hn=Cr;(jr=new Vt).a=hn.c.b;for(var wn=(lr=Fr.f).a;(wn=wn.a).b!==null&&!lr.c(lr.b,jr,wn.b););var lr,Ir,Er=Ot(lr=wn.b),jr=lr.a;return wn=Er.a,void(A(jr.b.a,hn,jr.a)===0?d((jr=lr.a).a,hn)||d(jr.b.a,hn)||(_(jr.b),lr.c&&(j(jr.c),lr.c=!1),S(hn.c,jr),$t(Fr,hn)):(Ir=c(wn.b.a,jr.b.a)?lr:Er,Er=void 0,lr.d||Ir.c?(Er=Ir===lr?b(hn.c.b,jr.e):b(wn.b.c.b,hn.c).b,Ir.c?V(Ir,Er):((lr=Q(jr=Fr,lr,Er)).f=At(lr).f+lr.a.f,lr.d=te(jr,lr.f)),$t(Fr,hn)):ce(Fr,lr,hn.c,hn.c,null,!0)))}lr=(jr=Ot(Fr=$(Fr.i))).a,(jr=ae(kr,jr,null)).c===lr?(jr=(lr=jr).c,wn=Ot(Fr),Er=Fr.a,Ir=wn.a,_n=!1,Er.b.a!==Ir.b.a&&he(kr,Fr),d(Er.a,kr.a)&&(S(jr.b.e,Er),jr=Ot(Fr=$(Fr)).a,ae(kr,Ot(Fr),wn),_n=!0),d(Ir.a,kr.a)&&(S(lr,Ir.b.e),lr=ae(kr,wn,null),_n=!0),_n?ce(kr,Fr,lr.c,jr,jr,!0):(hn=c(Ir.a,Er.a)?Ir.b.e:Er,ce(kr,Fr,hn=b(lr.c.b,hn),hn.c,hn.c,!1),hn.b.i.c=!0,ye(kr,Fr))):ce(kr,Fr,jr.c,lr,lr,!0)})(this,xe)}for(this.a=this.f.a.a.b.a.a,xe=0;(pe=this.f.a.a.b)!==null;)pe.h||++xe,q(pe);for(this.f=null,(xe=this.e).b=null,xe.d=null,this.e=xe.c=null,Le=(xe=this.b).a.b;Le!==xe.a;Le=pe)pe=Le.b,(Le=Le.a).e.e===Le&&(G(Le.c,Le),j(Le));if(!this.n){if(xe=this.b,this.m)for(Le=xe.b.h;Le!==xe.b;Le=pe)pe=Le.h,Le.b.d.c!==Le.d.c?Le.f=Le.d.c?1:-1:j(Le);else for(Le=xe.a.b;Le!==xe.a;Le=pe)if(pe=Le.b,Le.c){for(Le=Le.a;c(Le.b.a,Le.a);Le=Le.c.b);for(;c(Le.a,Le.b.a);Le=Le.e);for(De=Le.c.b,mt=void 0;Le.e!==De;)if(c(Le.b.a,De.a)){for(;De.e!==Le&&(c((ue=De.e).b.a,ue.a)||A(De.a,De.b.a,De.e.b.a)<=0);)De=(mt=b(De.e,De)).b;De=De.c.b}else{for(;De.e!==Le&&(c((fe=Le.c.b).a,fe.b.a)||0<=A(Le.b.a,Le.a,Le.c.b.a));)Le=(mt=b(Le,Le.c.b)).b;Le=Le.e}for(;De.e.e!==Le;)De=(mt=b(De.e,De)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(pe=(xe=this.b).a.b;pe!==xe.a;pe=pe.b)if(pe.c){for(this.h&&this.h(2,this.c),Le=pe.a;this.k&&this.k(Le.a.d,this.c),(Le=Le.e)!==pe.a;);this.i&&this.i(this.c)}}else{for(xe=this.b,pe=!!this.l,Le=!1,De=-1,mt=xe.a.d;mt!==xe.a;mt=mt.d)if(mt.c)for(Le||(this.h&&this.h(4,this.c),Le=!0),ht=mt.a;pe&&De!==(Ke=ht.b.d.c?0:1)&&(De=Ke,this.l&&this.l(!!De,this.c)),this.k&&this.k(ht.a.d,this.c),(ht=ht.e)!==mt.a;);Le&&this.i&&this.i(this.c)}if(this.r){for(Le=(xe=this.b).a.b;Le!==xe.a;Le=pe)if(pe=Le.b,!Le.c){for(mt=(De=Le.a).e,ht=void 0;mt=(ht=mt).e,(ht.d=null)===ht.b.d&&(ht.c===ht?U(ht.a,null):(ht.a.c=ht.c,M(ht,ht.b.e)),(Ke=ht.b).c===Ke?U(Ke.a,null):(Ke.a.c=Ke.c,M(Ke,Ke.b.e)),O(ht)),ht!==De;);De=Le.d,((Le=Le.b).d=De).b=Le}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Re,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Re.prototype.gluDeleteTess=Re.prototype.x,Re.prototype.gluTessProperty=Re.prototype.B,Re.prototype.gluGetTessProperty=Re.prototype.y,Re.prototype.gluTessNormal=Re.prototype.A,Re.prototype.gluTessCallback=Re.prototype.z,Re.prototype.gluTessVertex=Re.prototype.C,Re.prototype.gluTessBeginPolygon=Re.prototype.u,Re.prototype.gluTessBeginContour=Re.prototype.t,Re.prototype.gluTessEndContour=Re.prototype.v,Re.prototype.gluTessEndPolygon=Re.prototype.w,C!==void 0&&(C.exports=this.libtess)},{}],246:[function(n,C,x){function m(d,c,T,A){for(var f=d[c++],h=1<<f,p=1+h,u=1+p,g=f+1,S=(1<<g)-1,j=0,_=0,b=0,E=d[c++],M=new Int32Array(4096),P=null;;){for(;j<16&&E!==0;)_|=d[c++]<<j,j+=8,E===1?E=d[c++]:--E;if(j<g)break;var D=_&S;if(_>>=g,j-=g,D==h)u=1+p,S=(1<<(g=f+1))-1,P=null;else{if(D==p)break;for(var O=D<u?D:P,U=0,F=O;h<F;)F=M[F]>>8,++U;var H=F;if(A<b+U+(O!==D?1:0))return void console.log("Warning, gif stream longer than expected.");T[b++]=H;var G=b+=U;for(O!==D&&(T[b++]=H),F=O;U--;)F=M[F],T[--G]=255&F,F>>=8;P!==null&&u<4096&&(M[u++]=P<<8|H,S+1<=u&&g<12&&(++g,S=S<<1|1)),P=D}}b!==A&&console.log("Warning, gif stream shorter than expected.")}try{x.GifWriter=function(d,c,T,A){var f=0,h=(A=A===void 0?{}:A).loop===void 0?null:A.loop,p=A.palette===void 0?null:A.palette;if(c<=0||T<=0||65535<c||65535<T)throw new Error("Width/Height invalid.");function u(P){if((P=P.length)<2||256<P||P&P-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return P}d[f++]=71,d[f++]=73,d[f++]=70,d[f++]=56,d[f++]=57,d[f++]=97;var g=0,S=0;if(p!==null){for(var j=u(p);j>>=1;)++g;if(j=1<<g,--g,A.background!==void 0){if(j<=(S=A.background))throw new Error("Background index out of range.");if(S===0)throw new Error("Background index explicitly passed as 0.")}}if(d[f++]=255&c,d[f++]=c>>8&255,d[f++]=255&T,d[f++]=T>>8&255,d[f++]=(p!==null?128:0)|g,d[f++]=S,d[f++]=0,p!==null)for(var _=0,b=p.length;_<b;++_){var E=p[_];d[f++]=E>>16&255,d[f++]=E>>8&255,d[f++]=255&E}if(h!==null){if(h<0||65535<h)throw new Error("Loop count invalid.");d[f++]=33,d[f++]=255,d[f++]=11,d[f++]=78,d[f++]=69,d[f++]=84,d[f++]=83,d[f++]=67,d[f++]=65,d[f++]=80,d[f++]=69,d[f++]=50,d[f++]=46,d[f++]=48,d[f++]=3,d[f++]=1,d[f++]=255&h,d[f++]=h>>8&255,d[f++]=0}var M=!1;this.addFrame=function(P,D,O,U,F,H){if(M===!0&&(--f,M=!1),H=H===void 0?{}:H,P<0||D<0||65535<P||65535<D)throw new Error("x/y invalid.");if(O<=0||U<=0||65535<O||65535<U)throw new Error("Width/Height invalid.");if(F.length<O*U)throw new Error("Not enough pixels for the frame size.");var G=!0,Y=H.palette;if(Y==null&&(G=!1,Y=p),Y==null)throw new Error("Must supply either a local or global palette.");for(var q=u(Y),V=0;q>>=1;)++V;q=1<<V;var $=H.delay===void 0?0:H.delay,Q=H.disposal===void 0?0:H.disposal;if(Q<0||3<Q)throw new Error("Disposal out of range.");var te=!1,ne=0;if(H.transparent!==void 0&&H.transparent!==null&&(te=!0,(ne=H.transparent)<0||q<=ne))throw new Error("Transparent color index.");if(Q===0&&!te&&$===0||(d[f++]=33,d[f++]=249,d[f++]=4,d[f++]=Q<<2|(te===!0?1:0),d[f++]=255&$,d[f++]=$>>8&255,d[f++]=ne,d[f++]=0),d[f++]=44,d[f++]=255&P,d[f++]=P>>8&255,d[f++]=255&D,d[f++]=D>>8&255,d[f++]=255&O,d[f++]=O>>8&255,d[f++]=255&U,d[f++]=U>>8&255,d[f++]=G===!0?128|V-1:0,G===!0)for(var ae=0,ce=Y.length;ae<ce;++ae){var de=Y[ae];d[f++]=de>>16&255,d[f++]=de>>8&255,d[f++]=255&de}return f=function(X,Z,ie,he){X[Z++]=ie;var ye=Z++,ve=1<<ie,le=ve-1,me=1+ve,Se=1+me,Re=ie+1,Ee=0,Ae=0;function Be(We){for(;We<=Ee;)X[Z++]=255&Ae,Ae>>=8,Ee-=8,Z===ye+256&&(X[ye]=255,ye=Z++)}function et(We){Ae|=We<<Ee,Ee+=Re,Be(8)}var $e=he[0]&le,at={};et(ve);for(var jt=1,_t=he.length;jt<_t;++jt){var Yt=he[jt]&le,Tt=$e<<8|Yt,je=at[Tt];if(je===void 0){for(Ae|=$e<<Ee,Ee+=Re;8<=Ee;)X[Z++]=255&Ae,Ae>>=8,Ee-=8,Z===ye+256&&(X[ye]=255,ye=Z++);Se===4096?(et(ve),Se=1+me,Re=ie+1,at={}):(1<<Re<=Se&&++Re,at[Tt]=Se++),$e=Yt}else $e=je}return et($e),et(me),Be(1),ye+1===Z?X[ye]=0:(X[ye]=Z-ye-1,X[Z++]=0),Z}(d,f,V<2?2:V,F)},this.end=function(){return M===!1&&(d[f++]=59,M=!0),f},this.getOutputBuffer=function(){return d},this.setOutputBuffer=function(P){d=P},this.getOutputBufferPosition=function(){return f},this.setOutputBufferPosition=function(P){f=P}},x.GifReader=function(d){var c=0;if(d[c++]!==71||d[c++]!==73||d[c++]!==70||d[c++]!==56||(d[c++]+1&253)!=56||d[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var T=d[c++]|d[c++]<<8,A=d[c++]|d[c++]<<8,f=d[c++],h=1<<1+(7&f),p=(d[c++],d[c++],null),u=null,g=(f>>7&&(p=c,c+=3*(u=h)),!0),S=[],j=0,_=null,b=0,E=null;for(this.width=T,this.height=A;g&&c<d.length;)switch(d[c++]){case 33:switch(d[c++]){case 255:if(d[c]!==11||d[c+1]==78&&d[c+2]==69&&d[c+3]==84&&d[c+4]==83&&d[c+5]==67&&d[c+6]==65&&d[c+7]==80&&d[c+8]==69&&d[c+9]==50&&d[c+10]==46&&d[c+11]==48&&d[c+12]==3&&d[c+13]==1&&d[c+16]==0)c+=14,E=d[c++]|d[c++]<<8,c++;else for(c+=12;;){if(!(0<=(P=d[c++])))throw Error("Invalid block size");if(P===0)break;c+=P}break;case 249:if(d[c++]!==4||d[c+4]!==0)throw new Error("Invalid graphics extension block.");var M=d[c++];j=d[c++]|d[c++]<<8,_=d[c++],(1&M)==0&&(_=null),b=M>>2&7,c++;break;case 254:for(;;){if(!(0<=(P=d[c++])))throw Error("Invalid block size");if(P===0)break;c+=P}break;default:throw new Error("Unknown graphic control label: 0x"+d[c-1].toString(16))}break;case 44:var P,D=d[c++]|d[c++]<<8,O=d[c++]|d[c++]<<8,U=d[c++]|d[c++]<<8,F=d[c++]|d[c++]<<8,H=(V=d[c++])>>6&1,G=p,Y=u,q=!1,V=(V>>7&&(q=!0,G=c,c+=3*(Y=1<<1+(7&V))),c);for(c++;;){if(!(0<=(P=d[c++])))throw Error("Invalid block size");if(P===0)break;c+=P}S.push({x:D,y:O,width:U,height:F,has_local_palette:q,palette_offset:G,palette_size:Y,data_offset:V,data_length:c-V,transparent_index:_,interlaced:!!H,delay:j,disposal:b});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+d[c-1].toString(16))}this.numFrames=function(){return S.length},this.loopCount=function(){return E},this.frameInfo=function($){if($<0||$>=S.length)throw new Error("Frame index out of range.");return S[$]},this.decodeAndBlitFrameBGRA=function($,Q){for(var te=($=this.frameInfo($)).width*$.height,ne=new Uint8Array(te),ae=(m(d,$.data_offset,ne,te),$.palette_offset),ce=$.transparent_index,de=(ce===null&&(ce=256),$.width),X=T-de,Z=de,ie=4*($.y*T+$.x),he=4*(($.y+$.height)*T+$.x),ye=ie,ve=4*X,le=($.interlaced===!0&&(ve+=4*T*7),8),me=0,Se=ne.length;me<Se;++me){var Re,Ee,Ae=ne[me];Z===0&&(Z=de,he<=(ye+=ve)&&(ve=4*X+4*T*(le-1),ye=ie+(de+X)*(le<<1),le>>=1)),Ae===ce?ye+=4:(Re=d[ae+3*Ae],Ee=d[ae+3*Ae+1],Ae=d[ae+3*Ae+2],Q[ye++]=Ae,Q[ye++]=Ee,Q[ye++]=Re,Q[ye++]=255),--Z}},this.decodeAndBlitFrameRGBA=function($,Q){for(var te=($=this.frameInfo($)).width*$.height,ne=new Uint8Array(te),ae=(m(d,$.data_offset,ne,te),$.palette_offset),ce=$.transparent_index,de=(ce===null&&(ce=256),$.width),X=T-de,Z=de,ie=4*($.y*T+$.x),he=4*(($.y+$.height)*T+$.x),ye=ie,ve=4*X,le=($.interlaced===!0&&(ve+=4*T*7),8),me=0,Se=ne.length;me<Se;++me){var Re,Ee,Ae=ne[me];Z===0&&(Z=de,he<=(ye+=ve)&&(ve=4*X+4*T*(le-1),ye=ie+(de+X)*(le<<1),le>>=1)),Ae===ce?ye+=4:(Re=d[ae+3*Ae],Ee=d[ae+3*Ae+1],Ae=d[ae+3*Ae+2],Q[ye++]=Re,Q[ye++]=Ee,Q[ye++]=Ae,Q[ye++]=255),--Z}}}}catch{}},{}],247:[function(n,C,x){(function(m){(function(d){function c(w){if(this==null)throw TypeError();var I,N=String(this),z=N.length;if(!((w=(w=w?Number(w):0)!=w?0:w)<0||z<=w))return 55296<=(I=N.charCodeAt(w))&&I<=56319&&w+1<z&&56320<=(z=N.charCodeAt(w+1))&&z<=57343?1024*(I-55296)+z-56320+65536:I}String.prototype.codePointAt||((T=function(){try{var w={},I=Object.defineProperty,N=I(w,w,w)&&I}catch{}return N}())?T(String.prototype,"codePointAt",{value:c,configurable:!0,writable:!0}):String.prototype.codePointAt=c);var T;function A(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function f(w,I){this.source=w,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=I,this.destLen=0,this.ltree=new A,this.dtree=new A}var h=new A,p=new A,u=new Uint8Array(30),g=new Uint16Array(30),S=new Uint8Array(30),j=new Uint16Array(30),_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),b=new A,E=new Uint8Array(320);function M(w,I,N,z){for(var K,ee=0;ee<N;++ee)w[ee]=0;for(ee=0;ee<30-N;++ee)w[ee+N]=ee/N|0;for(K=z,ee=0;ee<30;++ee)I[ee]=K,K+=1<<w[ee]}var P=new Uint16Array(16);function D(w,I,N,z){for(var K,ee=0;ee<16;++ee)w.table[ee]=0;for(ee=0;ee<z;++ee)w.table[I[N+ee]]++;for(ee=K=w.table[0]=0;ee<16;++ee)P[ee]=K,K+=w.table[ee];for(ee=0;ee<z;++ee)I[N+ee]&&(w.trans[P[I[N+ee]]++]=ee)}function O(w,I,N){if(!I)return N;for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;var z=w.tag&65535>>>16-I;return w.tag>>>=I,w.bitcount-=I,z+N}function U(w,I){for(;w.bitcount<24;)w.tag|=w.source[w.sourceIndex++]<<w.bitcount,w.bitcount+=8;for(var N=0,z=0,K=0,ee=w.tag;z=2*z+(1&ee),ee>>>=1,N+=I.table[++K],0<=(z-=I.table[K]););return w.tag=ee,w.bitcount-=K,I.trans[N+z]}function F(w,I,N){for(;;){if((ee=U(w,I))===256)return 0;if(ee<256)w.dest[w.destLen++]=ee;else for(var z,K=O(w,u[ee-=257],g[ee]),ee=U(w,N),re=z=w.destLen-O(w,S[ee],j[ee]);re<z+K;++re)w.dest[w.destLen++]=w.dest[re]}}for(var H=h,G=p,Y=0;Y<7;++Y)H.table[Y]=0;for(H.table[7]=24,H.table[8]=152,H.table[9]=112,Y=0;Y<24;++Y)H.trans[Y]=256+Y;for(Y=0;Y<144;++Y)H.trans[24+Y]=Y;for(Y=0;Y<8;++Y)H.trans[168+Y]=280+Y;for(Y=0;Y<112;++Y)H.trans[176+Y]=144+Y;for(Y=0;Y<5;++Y)G.table[Y]=0;for(G.table[5]=32,Y=0;Y<32;++Y)G.trans[Y]=Y;M(u,g,4,3),M(S,j,2,1),u[28]=0,g[28]=258;function q(w,I,N,z,K){return Math.pow(1-K,3)*w+3*Math.pow(1-K,2)*K*I+3*(1-K)*Math.pow(K,2)*N+Math.pow(K,3)*z}function V(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function $(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Q(w){throw new Error(w)}function te(w,I){w||Q(I)}V.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},V.prototype.addPoint=function(w,I){typeof w=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=w,this.x2=w),w<this.x1&&(this.x1=w),w>this.x2&&(this.x2=w)),typeof I=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=I,this.y2=I),I<this.y1&&(this.y1=I),I>this.y2&&(this.y2=I))},V.prototype.addX=function(w){this.addPoint(w,null)},V.prototype.addY=function(w){this.addPoint(null,w)},V.prototype.addBezier=function(w,I,N,z,K,ee,re,_e){var Te=[w,I],Ce=[N,z],Ne=[K,ee],ze=[re,_e];this.addPoint(w,I),this.addPoint(re,_e);for(var He=0;He<=1;He++){var Ie,xt=6*Te[He]-12*Ce[He]+6*Ne[He],tt=-3*Te[He]+9*Ce[He]-9*Ne[He]+3*ze[He],Qe=3*Ce[He]-3*Te[He];tt==0?xt==0||0<(Ie=-Qe/xt)&&Ie<1&&(He===0&&this.addX(q(Te[He],Ce[He],Ne[He],ze[He],Ie)),He===1&&this.addY(q(Te[He],Ce[He],Ne[He],ze[He],Ie))):(Ie=Math.pow(xt,2)-4*Qe*tt)<0||(0<(Qe=(-xt+Math.sqrt(Ie))/(2*tt))&&Qe<1&&(He===0&&this.addX(q(Te[He],Ce[He],Ne[He],ze[He],Qe)),He===1&&this.addY(q(Te[He],Ce[He],Ne[He],ze[He],Qe))),0<(Qe=(-xt-Math.sqrt(Ie))/(2*tt))&&Qe<1&&(He===0&&this.addX(q(Te[He],Ce[He],Ne[He],ze[He],Qe)),He===1&&this.addY(q(Te[He],Ce[He],Ne[He],ze[He],Qe))))}},V.prototype.addQuad=function(w,I,N,z,K,ee){N=w+2/3*(N-w),z=I+2/3*(z-I),this.addBezier(w,I,N,z,N+1/3*(K-w),z+1/3*(ee-I),K,ee)},$.prototype.moveTo=function(w,I){this.commands.push({type:"M",x:w,y:I})},$.prototype.lineTo=function(w,I){this.commands.push({type:"L",x:w,y:I})},$.prototype.curveTo=$.prototype.bezierCurveTo=function(w,I,N,z,K,ee){this.commands.push({type:"C",x1:w,y1:I,x2:N,y2:z,x:K,y:ee})},$.prototype.quadTo=$.prototype.quadraticCurveTo=function(w,I,N,z){this.commands.push({type:"Q",x1:w,y1:I,x:N,y:z})},$.prototype.close=$.prototype.closePath=function(){this.commands.push({type:"Z"})},$.prototype.extend=function(w){var I;if(w.commands)w=w.commands;else if(w instanceof V)return I=w,this.moveTo(I.x1,I.y1),this.lineTo(I.x2,I.y1),this.lineTo(I.x2,I.y2),this.lineTo(I.x1,I.y2),void this.close();Array.prototype.push.apply(this.commands,w)},$.prototype.getBoundingBox=function(){for(var w=new V,I=0,N=0,z=0,K=0,ee=0;ee<this.commands.length;ee++){var re=this.commands[ee];switch(re.type){case"M":w.addPoint(re.x,re.y),I=z=re.x,N=K=re.y;break;case"L":w.addPoint(re.x,re.y),z=re.x,K=re.y;break;case"Q":w.addQuad(z,K,re.x1,re.y1,re.x,re.y),z=re.x,K=re.y;break;case"C":w.addBezier(z,K,re.x1,re.y1,re.x2,re.y2,re.x,re.y),z=re.x,K=re.y;break;case"Z":z=I,K=N;break;default:throw new Error("Unexpected path command "+re.type)}}return w.isEmpty()&&w.addPoint(0,0),w},$.prototype.draw=function(w){w.beginPath();for(var I=0;I<this.commands.length;I+=1){var N=this.commands[I];N.type==="M"?w.moveTo(N.x,N.y):N.type==="L"?w.lineTo(N.x,N.y):N.type==="C"?w.bezierCurveTo(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?w.quadraticCurveTo(N.x1,N.y1,N.x,N.y):N.type==="Z"&&w.closePath()}this.fill&&(w.fillStyle=this.fill,w.fill()),this.stroke&&(w.strokeStyle=this.stroke,w.lineWidth=this.strokeWidth,w.stroke())},$.prototype.toPathData=function(w){function I(){for(var ee=arguments,re="",_e=0;_e<arguments.length;_e+=1){var Te=ee[_e];0<=Te&&0<_e&&(re+=" "),re+=(Te=Te,Math.round(Te)===Te?""+Math.round(Te):Te.toFixed(w))}return re}w=w!==void 0?w:2;for(var N="",z=0;z<this.commands.length;z+=1){var K=this.commands[z];K.type==="M"?N+="M"+I(K.x,K.y):K.type==="L"?N+="L"+I(K.x,K.y):K.type==="C"?N+="C"+I(K.x1,K.y1,K.x2,K.y2,K.x,K.y):K.type==="Q"?N+="Q"+I(K.x1,K.y1,K.x,K.y):K.type==="Z"&&(N+="Z")}return N},$.prototype.toSVG=function(w){var I=(I='<path d="')+this.toPathData(w)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?I+=' fill="none"':I+=' fill="'+this.fill+'"'),this.stroke&&(I+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),I+"/>"},$.prototype.toDOMElement=function(w){w=this.toPathData(w);var I=document.createElementNS("http://www.w3.org/2000/svg","path");return I.setAttribute("d",w),I};var ne={fail:Q,argument:te,assert:te},ae={},ce={},de={};function X(w){return function(){return w}}ce.BYTE=function(w){return ne.argument(0<=w&&w<=255,"Byte value should be between 0 and 255."),[w]},de.BYTE=X(1),ce.CHAR=function(w){return[w.charCodeAt(0)]},de.CHAR=X(1),ce.CHARARRAY=function(w){for(var I=[],N=0;N<w.length;N+=1)I[N]=w.charCodeAt(N);return I},de.CHARARRAY=function(w){return w.length},ce.USHORT=function(w){return[w>>8&255,255&w]},de.USHORT=X(2),ce.SHORT=function(w){return[(w=32768<=w?-(65536-w):w)>>8&255,255&w]},de.SHORT=X(2),ce.UINT24=function(w){return[w>>16&255,w>>8&255,255&w]},de.UINT24=X(3),ce.ULONG=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},de.ULONG=X(4),ce.LONG=function(w){return[(w=2147483648<=w?-(4294967296-w):w)>>24&255,w>>16&255,w>>8&255,255&w]},de.LONG=X(4),ce.FIXED=ce.ULONG,de.FIXED=de.ULONG,ce.FWORD=ce.SHORT,de.FWORD=de.SHORT,ce.UFWORD=ce.USHORT,de.UFWORD=de.USHORT,ce.LONGDATETIME=function(w){return[0,0,0,0,w>>24&255,w>>16&255,w>>8&255,255&w]},de.LONGDATETIME=X(8),ce.TAG=function(w){return ne.argument(w.length===4,"Tag should be exactly 4 ASCII characters."),[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]},de.TAG=X(4),ce.Card8=ce.BYTE,de.Card8=de.BYTE,ce.Card16=ce.USHORT,de.Card16=de.USHORT,ce.OffSize=ce.BYTE,de.OffSize=de.BYTE,ce.SID=ce.USHORT,de.SID=de.USHORT,ce.NUMBER=function(w){return-107<=w&&w<=107?[w+139]:108<=w&&w<=1131?[247+((w-=108)>>8),255&w]:-1131<=w&&w<=-108?[251+((w=-w-108)>>8),255&w]:-32768<=w&&w<=32767?ce.NUMBER16(w):ce.NUMBER32(w)},de.NUMBER=function(w){return ce.NUMBER(w).length},ce.NUMBER16=function(w){return[28,w>>8&255,255&w]},de.NUMBER16=X(3),ce.NUMBER32=function(w){return[29,w>>24&255,w>>16&255,w>>8&255,255&w]},de.NUMBER32=X(5),ce.REAL=function(w){for(var I=w.toString(),N=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(I),z=(N&&(N=parseFloat("1e"+((N[2]?+N[2]:0)+N[1].length)),I=(Math.round(w*N)/N).toString()),""),K=0,ee=I.length;K<ee;K+=1){var re=I[K];z+=re==="e"?I[++K]==="-"?"c":"b":re==="."?"a":re==="-"?"e":re}for(var _e=[30],Te=0,Ce=(z+=1&z.length?"f":"ff").length;Te<Ce;Te+=2)_e.push(parseInt(z.substr(Te,2),16));return _e},de.REAL=function(w){return ce.REAL(w).length},ce.NAME=ce.CHARARRAY,de.NAME=de.CHARARRAY,ce.STRING=ce.CHARARRAY,de.STRING=de.CHARARRAY,ae.UTF8=function(w,I,N){for(var z=[],K=N,ee=0;ee<K;ee++,I+=1)z[ee]=w.getUint8(I);return String.fromCharCode.apply(null,z)},ae.UTF16=function(w,I,N){for(var z=[],K=N/2,ee=0;ee<K;ee++,I+=2)z[ee]=w.getUint16(I);return String.fromCharCode.apply(null,z)},ce.UTF16=function(w){for(var I=[],N=0;N<w.length;N+=1){var z=w.charCodeAt(N);I[I.length]=z>>8&255,I[I.length]=255&z}return I},de.UTF16=function(w){return 2*w.length};var Z,ie={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"},he=(ae.MACSTRING=function(w,I,N,z){var K=ie[z];if(K!==void 0){for(var ee="",re=0;re<N;re++){var _e=w.getUint8(I+re);ee+=_e<=127?String.fromCharCode(_e):K[127&_e]}return ee}},typeof WeakMap=="function"&&new WeakMap);function ye(w){return-128<=w&&w<=127}ce.MACSTRING=function(w,I){var N=function(re){if(!Z)for(var _e in Z={},ie)Z[_e]=new String(_e);var Te=Z[re];if(Te!==void 0){if(he){var Ce=he.get(Te);if(Ce!==void 0)return Ce}var Ne=ie[re];if(Ne!==void 0){for(var ze={},He=0;He<Ne.length;He++)ze[Ne.charCodeAt(He)]=He+128;return he&&he.set(Te,ze),ze}}}(I);if(N!==void 0){for(var z=[],K=0;K<w.length;K++){var ee=w.charCodeAt(K);if(128<=ee&&(ee=N[ee])===void 0)return;z[K]=ee}return z}},de.MACSTRING=function(w,I){return(w=ce.MACSTRING(w,I))!==void 0?w.length:0},ce.VARDELTAS=function(w){for(var I=0,N=[];I<w.length;){var z=w[I];I=(z===0?function(K,ee,re){for(var _e=0,Te=K.length;ee<Te&&_e<64&&K[ee]===0;)++ee,++_e;return re.push(128|_e-1),ee}:-128<=z&&z<=127?function(K,ee,re){for(var _e=0,Te=K.length,Ce=ee;Ce<Te&&_e<64;){var Ne=K[Ce];if(!ye(Ne)||Ne===0&&Ce+1<Te&&K[Ce+1]===0)break;++Ce,++_e}re.push(_e-1);for(var ze=ee;ze<Ce;++ze)re.push(K[ze]+256&255);return Ce}:function(K,ee,re){for(var _e=0,Te=K.length,Ce=ee;Ce<Te&&_e<64;){var Ne=K[Ce];if(Ne===0||ye(Ne)&&Ce+1<Te&&ye(K[Ce+1]))break;++Ce,++_e}re.push(64|_e-1);for(var ze=ee;ze<Ce;++ze){var He=K[ze];re.push(He+65536>>8&255,He+256&255)}return Ce})(w,I,N)}return N},ce.INDEX=function(w){for(var I=1,N=[I],z=[],K=0;K<w.length;K+=1){var ee=ce.OBJECT(w[K]);Array.prototype.push.apply(z,ee),I+=ee.length,N.push(I)}if(z.length===0)return[0,0];for(var re=[],_e=1+Math.floor(Math.log(I)/Math.log(2))/8|0,Te=[void 0,ce.BYTE,ce.USHORT,ce.UINT24,ce.ULONG][_e],Ce=0;Ce<N.length;Ce+=1){var Ne=Te(N[Ce]);Array.prototype.push.apply(re,Ne)}return Array.prototype.concat(ce.Card16(w.length),ce.OffSize(_e),re,z)},de.INDEX=function(w){return ce.INDEX(w).length},ce.DICT=function(w){for(var I=[],N=Object.keys(w),z=N.length,K=0;K<z;K+=1){var ee=parseInt(N[K],0),re=w[ee];I=(I=I.concat(ce.OPERAND(re.value,re.type))).concat(ce.OPERATOR(ee))}return I},de.DICT=function(w){return ce.DICT(w).length},ce.OPERATOR=function(w){return w<1200?[w]:[12,w-1200]},ce.OPERAND=function(w,I){var N=[];if(Array.isArray(I))for(var z=0;z<I.length;z+=1)ne.argument(w.length===I.length,"Not enough arguments given for type"+I),N=N.concat(ce.OPERAND(w[z],I[z]));else if(I==="SID")N=N.concat(ce.NUMBER(w));else if(I==="offset")N=N.concat(ce.NUMBER32(w));else if(I==="number")N=N.concat(ce.NUMBER(w));else{if(I!=="real")throw new Error("Unknown operand type "+I);N=N.concat(ce.REAL(w))}return N},ce.OP=ce.BYTE,de.OP=de.BYTE;var ve=typeof WeakMap=="function"&&new WeakMap;function le(w,I,N){for(var z=0;z<I.length;z+=1){var K=I[z];this[K.name]=K.value}if(this.tableName=w,this.fields=I,N)for(var ee=Object.keys(N),re=0;re<ee.length;re+=1){var _e=ee[re],Te=N[_e];this[_e]!==void 0&&(this[_e]=Te)}}function me(w,I,N){N===void 0&&(N=I.length);var z=new Array(I.length+1);z[0]={name:w+"Count",type:"USHORT",value:N};for(var K=0;K<I.length;K++)z[K+1]={name:w+K,type:"USHORT",value:I[K]};return z}function Se(w,I,N){var z=I.length,K=new Array(z+1);K[0]={name:w+"Count",type:"USHORT",value:z};for(var ee=0;ee<z;ee++)K[ee+1]={name:w+ee,type:"TABLE",value:N(I[ee],ee)};return K}function Re(w,I,N){var z=I.length,K=[];K[0]={name:w+"Count",type:"USHORT",value:z};for(var ee=0;ee<z;ee++)K=K.concat(N(I[ee],ee));return K}function Ee(w){w.format===1?le.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(me("glyph",w.glyphs))):ne.assert(!1,"Can't create coverage table format 2 yet.")}function Ae(w){le.call(this,"scriptListTable",Re("scriptRecord",w,function(I,N){var z=I.script,K=z.defaultLangSys;return ne.assert(!!K,"Unable to write GSUB: script "+I.tag+" has no default language system."),[{name:"scriptTag"+N,type:"TAG",value:I.tag},{name:"script"+N,type:"TABLE",value:new le("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new le("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:K.reqFeatureIndex}].concat(me("featureIndex",K.featureIndexes)))}].concat(Re("langSys",z.langSysRecords,function(ee,re){var _e=ee.langSys;return[{name:"langSysTag"+re,type:"TAG",value:ee.tag},{name:"langSys"+re,type:"TABLE",value:new le("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:_e.reqFeatureIndex}].concat(me("featureIndex",_e.featureIndexes)))}]})))}]}))}function Be(w){le.call(this,"featureListTable",Re("featureRecord",w,function(I,N){var z=I.feature;return[{name:"featureTag"+N,type:"TAG",value:I.tag},{name:"feature"+N,type:"TABLE",value:new le("featureTable",[{name:"featureParams",type:"USHORT",value:z.featureParams}].concat(me("lookupListIndex",z.lookupListIndexes)))}]}))}function et(w,I){le.call(this,"lookupListTable",Se("lookup",w,function(N){var z=I[N.lookupType];return ne.assert(!!z,"Unable to write GSUB lookup type "+N.lookupType+" tables."),new le("lookupTable",[{name:"lookupType",type:"USHORT",value:N.lookupType},{name:"lookupFlag",type:"USHORT",value:N.lookupFlag}].concat(Se("subtable",N.subtables,z)))}))}ce.CHARSTRING=function(w){if(ve){var I=ve.get(w);if(I!==void 0)return I}for(var N=[],z=w.length,K=0;K<z;K+=1){var ee=w[K];N=N.concat(ce[ee.type](ee.value))}return ve&&ve.set(w,N),N},de.CHARSTRING=function(w){return ce.CHARSTRING(w).length},ce.OBJECT=function(w){var I=ce[w.type];return ne.argument(I!==void 0,"No encoding function for type "+w.type),I(w.value)},de.OBJECT=function(w){var I=de[w.type];return ne.argument(I!==void 0,"No sizeOf function for type "+w.type),I(w.value)},ce.TABLE=function(w){for(var I=[],N=w.fields.length,z=[],K=[],ee=0;ee<N;ee+=1){var re=w.fields[ee],_e=ce[re.type],Te=(ne.argument(_e!==void 0,"No encoding function for field type "+re.type+" ("+re.name+")"),w[re.name]);_e=_e(Te=Te===void 0?re.value:Te),re.type==="TABLE"?(K.push(I.length),I=I.concat([0,0]),z.push(_e)):I=I.concat(_e)}for(var Ce=0;Ce<z.length;Ce+=1){var Ne=K[Ce],ze=I.length;ne.argument(ze<65536,"Table "+w.tableName+" too big."),I[Ne]=ze>>8,I[Ne+1]=255&ze,I=I.concat(z[Ce])}return I},de.TABLE=function(w){for(var I=0,N=w.fields.length,z=0;z<N;z+=1){var K=w.fields[z],ee=de[K.type],re=(ne.argument(ee!==void 0,"No sizeOf function for field type "+K.type+" ("+K.name+")"),w[K.name]);I+=ee(re=re===void 0?K.value:re),K.type==="TABLE"&&(I+=2)}return I},ce.RECORD=ce.TABLE,de.RECORD=de.TABLE,ce.LITERAL=function(w){return w},de.LITERAL=function(w){return w.length},le.prototype.encode=function(){return ce.TABLE(this)},le.prototype.sizeOf=function(){return de.TABLE(this)};var $e={Table:le,Record:le,Coverage:(Ee.prototype=Object.create(le.prototype)).constructor=Ee,ScriptList:(Ae.prototype=Object.create(le.prototype)).constructor=Ae,FeatureList:(Be.prototype=Object.create(le.prototype)).constructor=Be,LookupList:(et.prototype=Object.create(le.prototype)).constructor=et,ushortList:me,tableList:Se,recordList:Re};function at(w,I){return w.getUint8(I)}function jt(w,I){return w.getUint16(I,!1)}function _t(w,I){return w.getUint32(I,!1)}function Yt(w,I){return w.getInt16(I,!1)+w.getUint16(I+2,!1)/65535}var Tt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function je(w,I){this.data=w,this.offset=I,this.relativeOffset=0}je.prototype.parseByte=function(){var w=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},je.prototype.parseChar=function(){var w=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,w},je.prototype.parseCard8=je.prototype.parseByte,je.prototype.parseCard16=je.prototype.parseUShort=function(){var w=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},je.prototype.parseSID=je.prototype.parseUShort,je.prototype.parseOffset16=je.prototype.parseUShort,je.prototype.parseShort=function(){var w=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,w},je.prototype.parseF2Dot14=function(){var w=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,w},je.prototype.parseOffset32=je.prototype.parseULong=function(){var w=_t(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},je.prototype.parseFixed=function(){var w=Yt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,w},je.prototype.parseString=function(w){var I=this.data,N=this.offset+this.relativeOffset,z="";this.relativeOffset+=w;for(var K=0;K<w;K++)z+=String.fromCharCode(I.getUint8(N+K));return z},je.prototype.parseTag=function(){return this.parseString(4)},je.prototype.parseLongDateTime=function(){var w=_t(this.data,this.offset+this.relativeOffset+4);return w-=2082844800,this.relativeOffset+=8,w},je.prototype.parseVersion=function(w){var I=jt(this.data,this.offset+this.relativeOffset),N=jt(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,I+N/(w=w===void 0?4096:w)/10},je.prototype.skip=function(w,I){this.relativeOffset+=Tt[w]*(I=I===void 0?1:I)},je.prototype.parseULongList=function(w){w===void 0&&(w=this.parseULong());for(var I=new Array(w),N=this.data,z=this.offset+this.relativeOffset,K=0;K<w;K++)I[K]=N.getUint32(z),z+=4;return this.relativeOffset+=4*w,I},je.prototype.parseOffset16List=je.prototype.parseUShortList=function(w){w===void 0&&(w=this.parseUShort());for(var I=new Array(w),N=this.data,z=this.offset+this.relativeOffset,K=0;K<w;K++)I[K]=N.getUint16(z),z+=2;return this.relativeOffset+=2*w,I},je.prototype.parseShortList=function(w){for(var I=new Array(w),N=this.data,z=this.offset+this.relativeOffset,K=0;K<w;K++)I[K]=N.getInt16(z),z+=2;return this.relativeOffset+=2*w,I},je.prototype.parseByteList=function(w){for(var I=new Array(w),N=this.data,z=this.offset+this.relativeOffset,K=0;K<w;K++)I[K]=N.getUint8(z++);return this.relativeOffset+=w,I},je.prototype.parseList=function(w,I){I||(I=w,w=this.parseUShort());for(var N=new Array(w),z=0;z<w;z++)N[z]=I.call(this);return N},je.prototype.parseList32=function(w,I){I||(I=w,w=this.parseULong());for(var N=new Array(w),z=0;z<w;z++)N[z]=I.call(this);return N},je.prototype.parseRecordList=function(w,I){I||(I=w,w=this.parseUShort());for(var N=new Array(w),z=Object.keys(I),K=0;K<w;K++){for(var ee={},re=0;re<z.length;re++){var _e=z[re],Te=I[_e];ee[_e]=Te.call(this)}N[K]=ee}return N},je.prototype.parseRecordList32=function(w,I){I||(I=w,w=this.parseULong());for(var N=new Array(w),z=Object.keys(I),K=0;K<w;K++){for(var ee={},re=0;re<z.length;re++){var _e=z[re],Te=I[_e];ee[_e]=Te.call(this)}N[K]=ee}return N},je.prototype.parseStruct=function(w){if(typeof w=="function")return w.call(this);for(var I=Object.keys(w),N={},z=0;z<I.length;z++){var K=I[z],ee=w[K];N[K]=ee.call(this)}return N},je.prototype.parseValueRecord=function(w){var I;if((w=w===void 0?this.parseUShort():w)!==0)return I={},1&w&&(I.xPlacement=this.parseShort()),2&w&&(I.yPlacement=this.parseShort()),4&w&&(I.xAdvance=this.parseShort()),8&w&&(I.yAdvance=this.parseShort()),16&w&&(I.xPlaDevice=void 0,this.parseShort()),32&w&&(I.yPlaDevice=void 0,this.parseShort()),64&w&&(I.xAdvDevice=void 0,this.parseShort()),128&w&&(I.yAdvDevice=void 0,this.parseShort()),I},je.prototype.parseValueRecordList=function(){for(var w=this.parseUShort(),I=this.parseUShort(),N=new Array(I),z=0;z<I;z++)N[z]=this.parseValueRecord(w);return N},je.prototype.parsePointer=function(w){var I=this.parseOffset16();if(0<I)return new je(this.data,this.offset+I).parseStruct(w)},je.prototype.parsePointer32=function(w){var I=this.parseOffset32();if(0<I)return new je(this.data,this.offset+I).parseStruct(w)},je.prototype.parseListOfLists=function(w){for(var I=this.parseOffset16List(),N=I.length,z=this.relativeOffset,K=new Array(N),ee=0;ee<N;ee++){var re=I[ee];if(re===0)K[ee]=void 0;else if(this.relativeOffset=re,w){for(var _e=this.parseOffset16List(),Te=new Array(_e.length),Ce=0;Ce<_e.length;Ce++)this.relativeOffset=re+_e[Ce],Te[Ce]=w.call(this);K[ee]=Te}else K[ee]=this.parseUShortList()}return this.relativeOffset=z,K},je.prototype.parseCoverage=function(){var w=this.offset+this.relativeOffset,I=this.parseUShort(),N=this.parseUShort();if(I===1)return{format:1,glyphs:this.parseUShortList(N)};if(I!==2)throw new Error("0x"+w.toString(16)+": Coverage format must be 1 or 2.");for(var z=new Array(N),K=0;K<N;K++)z[K]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:z}},je.prototype.parseClassDef=function(){var w=this.offset+this.relativeOffset,I=this.parseUShort();if(I===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(I===2)return{format:2,ranges:this.parseRecordList({start:je.uShort,end:je.uShort,classId:je.uShort})};throw new Error("0x"+w.toString(16)+": ClassDef format must be 1 or 2.")},je.list=function(w,I){return function(){return this.parseList(w,I)}},je.list32=function(w,I){return function(){return this.parseList32(w,I)}},je.recordList=function(w,I){return function(){return this.parseRecordList(w,I)}},je.recordList32=function(w,I){return function(){return this.parseRecordList32(w,I)}},je.pointer=function(w){return function(){return this.parsePointer(w)}},je.pointer32=function(w){return function(){return this.parsePointer32(w)}},je.tag=je.prototype.parseTag,je.byte=je.prototype.parseByte,je.uShort=je.offset16=je.prototype.parseUShort,je.uShortList=je.prototype.parseUShortList,je.uLong=je.offset32=je.prototype.parseULong,je.uLongList=je.prototype.parseULongList,je.struct=je.prototype.parseStruct,je.coverage=je.prototype.parseCoverage,je.classDef=je.prototype.parseClassDef;var We={reserved:je.uShort,reqFeatureIndex:je.uShort,featureIndexes:je.uShortList},Ye=(je.prototype.parseScriptList=function(){return this.parsePointer(je.recordList({tag:je.tag,script:je.pointer({defaultLangSys:je.pointer(We),langSysRecords:je.recordList({tag:je.tag,langSys:je.pointer(We)})})}))||[]},je.prototype.parseFeatureList=function(){return this.parsePointer(je.recordList({tag:je.tag,feature:je.pointer({featureParams:je.offset16,lookupListIndexes:je.uShortList})}))||[]},je.prototype.parseLookupList=function(w){return this.parsePointer(je.list(je.pointer(function(){var I=this.parseUShort(),N=(ne.argument(1<=I&&I<=9,"GPOS/GSUB lookup type "+I+" unknown."),this.parseUShort()),z=16&N;return{lookupType:I,lookupFlag:N,subtables:this.parseList(je.pointer(w[I])),markFilteringSet:z?this.parseUShort():void 0}})))||[]},je.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var w=this.parseUShort(),I=this.parseUShort();return ne.argument(w===1&&I<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:je.offset32,featureTableSubstitutionOffset:je.offset32})})||[]},{getByte:at,getCard8:at,getUShort:jt,getCard16:jt,getShort:function(w,I){return w.getInt16(I,!1)},getULong:_t,getFixed:Yt,getTag:function(w,I){for(var N="",z=I;z<I+4;z+=1)N+=String.fromCharCode(w.getInt8(z));return N},getOffset:function(w,I,N){for(var z=0,K=0;K<N;K+=1)z=(z<<=8)+w.getUint8(I+K);return z},getBytes:function(w,I,N){for(var z=[],K=I;K<N;K+=1)z.push(w.getUint8(K));return z},bytesToString:function(w){for(var I="",N=0;N<w.length;N+=1)I+=String.fromCharCode(w[N]);return I},Parser:je}),ft=function(w,I){for(var N={},z=(N.version=Ye.getUShort(w,I),ne.argument(N.version===0,"cmap table version should be 0."),N.numTables=Ye.getUShort(w,I+2),-1),K=N.numTables-1;0<=K;--K){var ee=Ye.getUShort(w,I+4+8*K),re=Ye.getUShort(w,I+4+8*K+2);if(ee===3&&(re===0||re===1||re===10)||ee===0&&(re===0||re===1||re===2||re===3||re===4)){z=Ye.getULong(w,I+4+8*K+4);break}}if(z===-1)throw new Error("No valid cmap sub-tables found.");var _e=new Ye.Parser(w,I+z);if(N.format=_e.parseUShort(),N.format===12){var Te,Ce=N,Ne=_e;Ne.parseUShort(),Ce.length=Ne.parseULong(),Ce.language=Ne.parseULong(),Ce.groupCount=Te=Ne.parseULong(),Ce.glyphIndexMap={};for(var ze=0;ze<Te;ze+=1)for(var He=Ne.parseULong(),Ie=Ne.parseULong(),xt=Ne.parseULong(),tt=He;tt<=Ie;tt+=1)Ce.glyphIndexMap[tt]=xt,xt++}else{if(N.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+N.format+").");var Qe=N,rt=w,ot=I,Lt=z;Qe.length=_e.parseUShort(),Qe.language=_e.parseUShort(),Qe.segCount=Dt=_e.parseUShort()>>1,_e.skip("uShort",3),Qe.glyphIndexMap={};for(var Dt,Nt=new Ye.Parser(rt,ot+Lt+14),yr=new Ye.Parser(rt,ot+Lt+16+2*Dt),xr=new Ye.Parser(rt,ot+Lt+16+4*Dt),en=new Ye.Parser(rt,ot+Lt+16+6*Dt),tn=ot+Lt+16+8*Dt,on=0;on<Dt-1;on+=1)for(var Nr=void 0,ir=Nt.parseUShort(),Rn=yr.parseUShort(),rn=xr.parseShort(),an=en.parseUShort(),Yr=Rn;Yr<=ir;Yr+=1)an!==0?(tn=(tn=en.offset+en.relativeOffset-2)+an+2*(Yr-Rn),(Nr=Ye.getUShort(rt,tn))!==0&&(Nr=Nr+rn&65535)):Nr=Yr+rn&65535,Qe.glyphIndexMap[Yr]=Nr}return N},Ct=function(w){for(var I=!0,N=w.length-1;0<N;--N)if(65535<w.get(N).unicode){console.log("Adding CMAP format 12 (needed!)"),I=!1;break}var z,K,ee=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:I?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:I?12:20}],re=(ee=(ee=I?ee:ee.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new $e.Table("cmap",ee));for(re.segments=[],N=0;N<w.length;N+=1){for(var _e=w.get(N),Te=0;Te<_e.unicodes.length;Te+=1)z=_e.unicodes[Te],K=N,re.segments.push({end:z,start:z,delta:-(z-K),offset:0,glyphIndex:K});re.segments=re.segments.sort(function(ot,Lt){return ot.start-Lt.start})}re.segments.push({end:65535,start:65535,delta:1,offset:0});var Ce=re.segments.length,Ne=0,ze=[],He=[],Ie=[],xt=[],tt=[],Qe=[];for(N=0;N<Ce;N+=1){var rt=re.segments[N];rt.end<=65535&&rt.start<=65535?(ze=ze.concat({name:"end_"+N,type:"USHORT",value:rt.end}),He=He.concat({name:"start_"+N,type:"USHORT",value:rt.start}),Ie=Ie.concat({name:"idDelta_"+N,type:"SHORT",value:rt.delta}),xt=xt.concat({name:"idRangeOffset_"+N,type:"USHORT",value:rt.offset}),rt.glyphId!==void 0&&(tt=tt.concat({name:"glyph_"+N,type:"USHORT",value:rt.glyphId}))):Ne+=1,I||rt.glyphIndex===void 0||(Qe=(Qe=(Qe=Qe.concat({name:"cmap12Start_"+N,type:"ULONG",value:rt.start})).concat({name:"cmap12End_"+N,type:"ULONG",value:rt.end})).concat({name:"cmap12Glyph_"+N,type:"ULONG",value:rt.glyphIndex}))}return re.segCountX2=2*(Ce-Ne),re.searchRange=2*Math.pow(2,Math.floor(Math.log(Ce-Ne)/Math.log(2))),re.entrySelector=Math.log(re.searchRange/2)/Math.log(2),re.rangeShift=re.segCountX2-re.searchRange,re.fields=re.fields.concat(ze),re.fields.push({name:"reservedPad",type:"USHORT",value:0}),re.fields=re.fields.concat(He),re.fields=re.fields.concat(Ie),re.fields=re.fields.concat(xt),re.fields=re.fields.concat(tt),re.cmap4Length=14+2*ze.length+2+2*He.length+2*Ie.length+2*xt.length+2*tt.length,I||(ee=16+4*Qe.length,re.cmap12Offset=20+re.cmap4Length,re.fields=re.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:ee},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Qe.length/3}]),re.fields=re.fields.concat(Qe)),re},Vt=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ot=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],At=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],fe=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ue(w){this.font=w}function pe(w){this.cmap=w}function xe(w,I){this.encoding=w,this.charset=I}function De(w){switch(w.version){case 1:this.names=fe.slice();break;case 2:this.names=new Array(w.numberOfGlyphs);for(var I=0;I<w.numberOfGlyphs;I++)w.glyphNameIndex[I]<fe.length?this.names[I]=fe[w.glyphNameIndex[I]]:this.names[I]=w.names[w.glyphNameIndex[I]-fe.length];break;case 2.5:this.names=new Array(w.numberOfGlyphs);for(var N=0;N<w.numberOfGlyphs;N++)this.names[N]=fe[N+w.glyphNameIndex[N]];break;default:this.names=[]}}ue.prototype.charToGlyphIndex=function(w){var I=w.codePointAt(0),N=this.font.glyphs;if(N){for(var z=0;z<N.length;z+=1)for(var K=N.get(z),ee=0;ee<K.unicodes.length;ee+=1)if(K.unicodes[ee]===I)return z}return null},pe.prototype.charToGlyphIndex=function(w){return this.cmap.glyphIndexMap[w.codePointAt(0)]||0},xe.prototype.charToGlyphIndex=function(w){return w=w.codePointAt(0),w=this.encoding[w],this.charset.indexOf(w)},De.prototype.nameToGlyphIndex=function(w){return this.names.indexOf(w)},De.prototype.glyphIndexToName=function(w){return this.names[w]};var Ke=function(w,I,N,z,K){w.beginPath(),w.moveTo(I,N),w.lineTo(z,K),w.stroke()};function mt(w){this.bindConstructorValues(w)}function ht(w,I,N){Object.defineProperty(w,I,{get:function(){return w.path,w[N]},set:function(z){w[N]=z},enumerable:!0,configurable:!0})}function Le(w,I){if(this.font=w,this.glyphs={},Array.isArray(I))for(var N=0;N<I.length;N++)this.glyphs[N]=I[N];this.length=I&&I.length||0}mt.prototype.bindConstructorValues=function(w){var I;this.index=w.index||0,this.name=w.name||null,this.unicode=w.unicode||void 0,this.unicodes=w.unicodes||w.unicode!==void 0?[w.unicode]:[],w.xMin&&(this.xMin=w.xMin),w.yMin&&(this.yMin=w.yMin),w.xMax&&(this.xMax=w.xMax),w.yMax&&(this.yMax=w.yMax),w.advanceWidth&&(this.advanceWidth=w.advanceWidth),Object.defineProperty(this,"path",(w=w.path,I=w||new $,{configurable:!0,get:function(){return I=typeof I=="function"?I():I},set:function(N){I=N}}))},mt.prototype.addUnicode=function(w){this.unicodes.length===0&&(this.unicode=w),this.unicodes.push(w)},mt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},mt.prototype.getPath=function(w,I,N,z,K){w=w!==void 0?w:0,I=I!==void 0?I:0,N=N!==void 0?N:72;for(var ee,re,_e=(z=z||{}).xScale,Te=z.yScale,Ce=((ee=z.hinting&&K&&K.hinting?this.path&&K.hinting.exec(this,N):ee)?(re=K.hinting.getCommands(ee),w=Math.round(w),I=Math.round(I),_e=Te=1):(re=this.path.commands,z=1/this.path.unitsPerEm*N,_e===void 0&&(_e=z),Te===void 0&&(Te=z)),new $),Ne=0;Ne<re.length;Ne+=1){var ze=re[Ne];ze.type==="M"?Ce.moveTo(w+ze.x*_e,I+-ze.y*Te):ze.type==="L"?Ce.lineTo(w+ze.x*_e,I+-ze.y*Te):ze.type==="Q"?Ce.quadraticCurveTo(w+ze.x1*_e,I+-ze.y1*Te,w+ze.x*_e,I+-ze.y*Te):ze.type==="C"?Ce.curveTo(w+ze.x1*_e,I+-ze.y1*Te,w+ze.x2*_e,I+-ze.y2*Te,w+ze.x*_e,I+-ze.y*Te):ze.type==="Z"&&Ce.closePath()}return Ce},mt.prototype.getContours=function(){if(this.points===void 0)return[];for(var w=[],I=[],N=0;N<this.points.length;N+=1){var z=this.points[N];I.push(z),z.lastPointOfContour&&(w.push(I),I=[])}return ne.argument(I.length===0,"There are still points left in the current contour."),w},mt.prototype.getMetrics=function(){for(var w=this.path.commands,I=[],N=[],z=0;z<w.length;z+=1){var K=w[z];K.type!=="Z"&&(I.push(K.x),N.push(K.y)),K.type!=="Q"&&K.type!=="C"||(I.push(K.x1),N.push(K.y1)),K.type==="C"&&(I.push(K.x2),N.push(K.y2))}var ee={xMin:Math.min.apply(null,I),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,I),yMax:Math.max.apply(null,N),leftSideBearing:this.leftSideBearing};return isFinite(ee.xMin)||(ee.xMin=0),isFinite(ee.xMax)||(ee.xMax=this.advanceWidth),isFinite(ee.yMin)||(ee.yMin=0),isFinite(ee.yMax)||(ee.yMax=0),ee.rightSideBearing=this.advanceWidth-ee.leftSideBearing-(ee.xMax-ee.xMin),ee},mt.prototype.draw=function(w,I,N,z,K){this.getPath(I,N,z,K).draw(w)},mt.prototype.drawPoints=function(w,I,N,z){function K(Ne,ze,He,Ie){var xt=2*Math.PI;w.beginPath();for(var tt=0;tt<Ne.length;tt+=1)w.moveTo(ze+Ne[tt].x*Ie,He+Ne[tt].y*Ie),w.arc(ze+Ne[tt].x*Ie,He+Ne[tt].y*Ie,2,0,xt,!1);w.closePath(),w.fill()}I=I!==void 0?I:0,N=N!==void 0?N:0,z=1/this.path.unitsPerEm*(z=z!==void 0?z:24);for(var ee=[],re=[],_e=this.path,Te=0;Te<_e.commands.length;Te+=1){var Ce=_e.commands[Te];Ce.x!==void 0&&ee.push({x:Ce.x,y:-Ce.y}),Ce.x1!==void 0&&re.push({x:Ce.x1,y:-Ce.y1}),Ce.x2!==void 0&&re.push({x:Ce.x2,y:-Ce.y2})}w.fillStyle="blue",K(ee,I,N,z),w.fillStyle="red",K(re,I,N,z)},mt.prototype.drawMetrics=function(w,I,N,z){I=I!==void 0?I:0,N=N!==void 0?N:0,z=1/this.path.unitsPerEm*(z=z!==void 0?z:24),w.lineWidth=1,w.strokeStyle="black",Ke(w,I,-1e4,I,1e4),Ke(w,-1e4,N,1e4,N);var K=this.xMin||0,ee=this.yMin||0,re=this.xMax||0,_e=this.yMax||0,Te=this.advanceWidth||0;w.strokeStyle="blue",Ke(w,I+K*z,-1e4,I+K*z,1e4),Ke(w,I+re*z,-1e4,I+re*z,1e4),Ke(w,-1e4,N+-ee*z,1e4,N+-ee*z),Ke(w,-1e4,N+-_e*z,1e4,N+-_e*z),w.strokeStyle="green",Ke(w,I+Te*z,-1e4,I+Te*z,1e4)},Le.prototype.get=function(w){return typeof this.glyphs[w]=="function"&&(this.glyphs[w]=this.glyphs[w]()),this.glyphs[w]},Le.prototype.push=function(w,I){this.glyphs[w]=I,this.length++};var gt={GlyphSet:Le,glyphLoader:function(w,I){return new mt({index:I,font:w})},ttfGlyphLoader:function(w,I,N,z,K,ee){return function(){var re=new mt({index:I,font:w});return re.path=function(){N(re,z,K);var _e=ee(w.glyphs,re);return _e.unitsPerEm=w.unitsPerEm,_e},ht(re,"xMin","_xMin"),ht(re,"xMax","_xMax"),ht(re,"yMin","_yMin"),ht(re,"yMax","_yMax"),re}},cffGlyphLoader:function(w,I,N,z){return function(){var K=new mt({index:I,font:w});return K.path=function(){var ee=N(w,K,z);return ee.unitsPerEm=w.unitsPerEm,ee},K}}};function Mt(w){return w=w.length<1240?107:w.length<33900?1131:32768}function sr(w,I,N){var z,K=[],ee=[],re=Ye.getCard16(w,I);if(re!==0){for(var _e=Ye.getByte(w,I+2),Te=I+(re+1)*_e+2,Ce=I+3,Ne=0;Ne<re+1;Ne+=1)K.push(Ye.getOffset(w,Ce,_e)),Ce+=_e;z=Te+K[re]}else z=I+2;for(var ze=0;ze<K.length-1;ze+=1){var He=Ye.getBytes(w,Te+K[ze],Te+K[ze+1]);N&&(He=N(He)),ee.push(He)}return{objects:ee,startOffset:I,endOffset:z}}function mr(w,I){if(I===28)return w.parseByte()<<8|w.parseByte();if(I===29)return w.parseByte()<<24|w.parseByte()<<16|w.parseByte()<<8|w.parseByte();if(I===30){for(var N=w,z="",K=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ee=(re=N.parseByte())>>4,re=15&re;if(ee==15||(z+=K[ee],re==15))break;z+=K[re]}return parseFloat(z)}if(32<=I&&I<=246)return I-139;if(247<=I&&I<=250)return 256*(I-247)+w.parseByte()+108;if(251<=I&&I<=254)return 256*-(I-251)-w.parseByte()-108;throw new Error("Invalid b0 "+I)}function tr(w,I,N){var z=new Ye.Parser(w,I=I!==void 0?I:0),K=[],ee=[];for(N=N!==void 0?N:w.length;z.relativeOffset<N;){var re=z.parseByte();re<=21?(re===12&&(re=1200+z.parseByte()),K.push([re,ee]),ee=[]):ee.push(mr(z,re))}for(var _e=K,Te={},Ce=0;Ce<_e.length;Ce+=1){var Ne=_e[Ce][0],ze=_e[Ce][1],He=ze.length===1?ze[0]:ze;if(Te.hasOwnProperty(Ne)&&!isNaN(Te[Ne]))throw new Error("Object "+Te+" already has key "+Ne);Te[Ne]=He}return Te}function er(w,I){return I<=390?Vt[I]:w[I-391]}function $t(w,I,N){for(var z,K={},ee=0;ee<I.length;ee+=1){var re=I[ee];if(Array.isArray(re.type)){var _e=[];_e.length=re.type.length;for(var Te=0;Te<re.type.length;Te++)(z=w[re.op]!==void 0?w[re.op][Te]:void 0)===void 0&&(z=re.value!==void 0&&re.value[Te]!==void 0?re.value[Te]:null),re.type[Te]==="SID"&&(z=er(N,z)),_e[Te]=z;K[re.name]=_e}else(z=w[re.op])===void 0&&(z=re.value!==void 0?re.value:null),re.type==="SID"&&(z=er(N,z)),K[re.name]=z}return K}var kr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Cr=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function _n(w,I,N,z){return $t(tr(w,I,N),Cr,z)}function Fr(w,I,N,z){for(var K=[],ee=0;ee<N.length;ee+=1){var re,_e=((re=(_e=z,$t(tr(re=new DataView(new Uint8Array(N[ee]).buffer),0,re.byteLength),kr,_e)))._subrs=[],re._subrsBias=0,re.private[0]),Te=re.private[1];_e!==0&&Te!==0&&(_e=_n(w,Te+I,_e,z),re._defaultWidthX=_e.defaultWidthX,re._nominalWidthX=_e.nominalWidthX,_e.subrs!==0&&(Te=sr(w,Te+_e.subrs+I),re._subrs=Te.objects,re._subrsBias=Mt(re._subrs)),re._privateDict=_e),K.push(re)}return K}function hn(w,I,N){var z,K,ee,re,_e,Te,Ce,Ne,ze,He=new $,Ie=[],xt=0,tt=!1,Qe=!1,rt=0,ot=0,Lt=(ze=(w.isCIDFont?(_e=w.tables.cff.topDict._fdSelect[I.index],_e=w.tables.cff.topDict._fdArray[_e],Te=_e._subrs,Ce=_e._subrsBias,Ne=_e._defaultWidthX,_e):(Te=w.tables.cff.topDict._subrs,Ce=w.tables.cff.topDict._subrsBias,Ne=w.tables.cff.topDict._defaultWidthX,w.tables.cff.topDict))._nominalWidthX,Ne);function Dt(yr,xr){Qe&&He.closePath(),He.moveTo(yr,xr),Qe=!0}function Nt(){Ie.length%2==0||tt||(Lt=Ie.shift()+ze),xt+=Ie.length>>1,Ie.length=0,tt=!0}return function yr(xr){for(var en,tn,on,Nr,ir,Rn,rn,an,Yr,Pn,ln,cs,un=0;un<xr.length;){var Ln=xr[un];switch(un+=1,Ln){case 1:case 3:Nt();break;case 4:1<Ie.length&&!tt&&(Lt=Ie.shift()+ze,tt=!0),ot+=Ie.pop(),Dt(rt,ot);break;case 5:for(;0<Ie.length;)rt+=Ie.shift(),ot+=Ie.shift(),He.lineTo(rt,ot);break;case 6:for(;0<Ie.length&&(rt+=Ie.shift(),He.lineTo(rt,ot),Ie.length!==0);)ot+=Ie.shift(),He.lineTo(rt,ot);break;case 7:for(;0<Ie.length&&(ot+=Ie.shift(),He.lineTo(rt,ot),Ie.length!==0);)rt+=Ie.shift(),He.lineTo(rt,ot);break;case 8:for(;0<Ie.length;)z=rt+Ie.shift(),K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rt=ee+Ie.shift(),ot=re+Ie.shift(),He.curveTo(z,K,ee,re,rt,ot);break;case 10:ir=Ie.pop()+Ce,(Rn=Te[ir])&&yr(Rn);break;case 11:return;case 12:switch(Ln=xr[un],un+=1,Ln){case 35:z=rt+Ie.shift(),K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rn=ee+Ie.shift(),an=re+Ie.shift(),Yr=rn+Ie.shift(),Pn=an+Ie.shift(),ln=Yr+Ie.shift(),cs=Pn+Ie.shift(),rt=ln+Ie.shift(),ot=cs+Ie.shift(),Ie.shift(),He.curveTo(z,K,ee,re,rn,an),He.curveTo(Yr,Pn,ln,cs,rt,ot);break;case 34:z=rt+Ie.shift(),K=ot,ee=z+Ie.shift(),re=K+Ie.shift(),rn=ee+Ie.shift(),an=re,Yr=rn+Ie.shift(),Pn=re,ln=Yr+Ie.shift(),cs=ot,rt=ln+Ie.shift(),He.curveTo(z,K,ee,re,rn,an),He.curveTo(Yr,Pn,ln,cs,rt,ot);break;case 36:z=rt+Ie.shift(),K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rn=ee+Ie.shift(),an=re,Yr=rn+Ie.shift(),Pn=re,ln=Yr+Ie.shift(),cs=Pn+Ie.shift(),rt=ln+Ie.shift(),He.curveTo(z,K,ee,re,rn,an),He.curveTo(Yr,Pn,ln,cs,rt,ot);break;case 37:z=rt+Ie.shift(),K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rn=ee+Ie.shift(),an=re+Ie.shift(),Yr=rn+Ie.shift(),Pn=an+Ie.shift(),ln=Yr+Ie.shift(),cs=Pn+Ie.shift(),Math.abs(ln-rt)>Math.abs(cs-ot)?rt=ln+Ie.shift():ot=cs+Ie.shift(),He.curveTo(z,K,ee,re,rn,an),He.curveTo(Yr,Pn,ln,cs,rt,ot);break;default:console.log("Glyph "+I.index+": unknown operator 1200"+Ln),Ie.length=0}break;case 14:0<Ie.length&&!tt&&(Lt=Ie.shift()+ze,tt=!0),Qe&&(He.closePath(),Qe=!1);break;case 18:Nt();break;case 19:case 20:Nt(),un+=xt+7>>3;break;case 21:2<Ie.length&&!tt&&(Lt=Ie.shift()+ze,tt=!0),ot+=Ie.pop(),Dt(rt+=Ie.pop(),ot);break;case 22:1<Ie.length&&!tt&&(Lt=Ie.shift()+ze,tt=!0),Dt(rt+=Ie.pop(),ot);break;case 23:Nt();break;case 24:for(;2<Ie.length;)z=rt+Ie.shift(),K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rt=ee+Ie.shift(),ot=re+Ie.shift(),He.curveTo(z,K,ee,re,rt,ot);rt+=Ie.shift(),ot+=Ie.shift(),He.lineTo(rt,ot);break;case 25:for(;6<Ie.length;)rt+=Ie.shift(),ot+=Ie.shift(),He.lineTo(rt,ot);z=rt+Ie.shift(),K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rt=ee+Ie.shift(),ot=re+Ie.shift(),He.curveTo(z,K,ee,re,rt,ot);break;case 26:for(Ie.length%2&&(rt+=Ie.shift());0<Ie.length;)z=rt,K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rt=ee,ot=re+Ie.shift(),He.curveTo(z,K,ee,re,rt,ot);break;case 27:for(Ie.length%2&&(ot+=Ie.shift());0<Ie.length;)z=rt+Ie.shift(),K=ot,ee=z+Ie.shift(),re=K+Ie.shift(),rt=ee+Ie.shift(),ot=re,He.curveTo(z,K,ee,re,rt,ot);break;case 28:en=xr[un],tn=xr[un+1],Ie.push((en<<24|tn<<16)>>16),un+=2;break;case 29:ir=Ie.pop()+w.gsubrsBias,(Rn=w.gsubrs[ir])&&yr(Rn);break;case 30:for(;0<Ie.length&&(z=rt,K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rt=ee+Ie.shift(),ot=re+(Ie.length===1?Ie.shift():0),He.curveTo(z,K,ee,re,rt,ot),Ie.length!==0);)z=rt+Ie.shift(),K=ot,ee=z+Ie.shift(),re=K+Ie.shift(),ot=re+Ie.shift(),rt=ee+(Ie.length===1?Ie.shift():0),He.curveTo(z,K,ee,re,rt,ot);break;case 31:for(;0<Ie.length&&(z=rt+Ie.shift(),K=ot,ee=z+Ie.shift(),re=K+Ie.shift(),ot=re+Ie.shift(),rt=ee+(Ie.length===1?Ie.shift():0),He.curveTo(z,K,ee,re,rt,ot),Ie.length!==0);)z=rt,K=ot+Ie.shift(),ee=z+Ie.shift(),re=K+Ie.shift(),rt=ee+Ie.shift(),ot=re+(Ie.length===1?Ie.shift():0),He.curveTo(z,K,ee,re,rt,ot);break;default:Ln<32?console.log("Glyph "+I.index+": unknown operator "+Ln):Ln<247?Ie.push(Ln-139):Ln<251?(en=xr[un],un+=1,Ie.push(256*(Ln-247)+en+108)):Ln<255?(en=xr[un],un+=1,Ie.push(256*-(Ln-251)-en-108)):(en=xr[un],tn=xr[un+1],on=xr[un+2],Nr=xr[un+3],un+=4,Ie.push((en<<24|tn<<16|on<<8|Nr)/65536))}}}(N),I.advanceWidth=Lt,He}function wn(w,I){var N,z=Vt.indexOf(w);return 0<=z&&(N=z),0<=(z=I.indexOf(w))?N=z+Vt.length:(N=Vt.length+I.length,I.push(w)),N}function lr(w,I,N){for(var z={},K=0;K<w.length;K+=1){var ee=w[K],re=I[ee.name];re===void 0||function _e(Te,Ce){if(Te===Ce)return 1;if(Array.isArray(Te)&&Array.isArray(Ce)&&Te.length===Ce.length){for(var Ne=0;Ne<Te.length;Ne+=1)if(!_e(Te[Ne],Ce[Ne]))return;return 1}}(re,ee.value)||(ee.type==="SID"&&(re=wn(re,N)),z[ee.op]={name:ee.name,type:ee.type,value:re})}return z}function Ir(w,I){var N=new $e.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return N.dict=lr(kr,w,I),N}function Er(w){var I=new $e.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return I.topDicts=[{name:"topDict_0",type:"TABLE",value:w}],I}var jr=function(w,I,N){N.tables.cff={},z=w,K=I,(ee={}).formatMajor=Ye.getCard8(z,K),ee.formatMinor=Ye.getCard8(z,K+1),ee.size=Ye.getCard8(z,K+2),ee.offsetSize=Ye.getCard8(z,K+3),ee.startOffset=K,ee.endOffset=K+4;var z=sr(w,ee.endOffset,Ye.bytesToString),K=sr(w,z.endOffset),ee=sr(w,K.endOffset,Ye.bytesToString);if(z=sr(w,ee.endOffset),N.gsubrs=z.objects,N.gsubrsBias=Mt(N.gsubrs),(z=Fr(w,I,K.objects,ee.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+z.length);if(K=z[0],(N.tables.cff.topDict=K)._privateDict&&(N.defaultWidthX=K._privateDict.defaultWidthX,N.nominalWidthX=K._privateDict.nominalWidthX),K.ros[0]!==void 0&&K.ros[1]!==void 0&&(N.isCIDFont=!0),N.isCIDFont){z=K.fdArray;var re=K.fdSelect;if(z===0||re===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");z=Fr(w,I,sr(w,z+=I).objects,ee.objects),K._fdArray=z,K._fdSelect=function(Ne,ze,He,Ie){var xt,tt=[],Qe=new Ye.Parser(Ne,ze);if((Ne=Qe.parseCard8())===0)for(var rt=0;rt<He;rt++){if(Ie<=(xt=Qe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+xt+" (FD count "+Ie+")");tt.push(xt)}else{if(Ne!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ne);var ot,Lt=Qe.parseCard16(),Dt=Qe.parseCard16();if(Dt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Dt);for(var Nt=0;Nt<Lt;Nt++){if(xt=Qe.parseCard8(),ot=Qe.parseCard16(),Ie<=xt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+xt+" (FD count "+Ie+")");if(He<ot)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ot);for(;Dt<ot;Dt++)tt.push(xt);Dt=ot}if(ot!==He)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ot)}return tt}(w,re+=I,N.numGlyphs,z.length)}z=_n(w,re=I+K.private[1],K.private[0],ee.objects);var _e=(N.defaultWidthX=z.defaultWidthX,N.nominalWidthX=z.nominalWidthX,z.subrs!==0?(re=sr(w,re+z.subrs),N.subrs=re.objects,N.subrsBias=Mt(N.subrs)):(N.subrs=[],N.subrsBias=0),sr(w,I+K.charStrings));N.nGlyphs=_e.objects.length,z=function(Ne,ze,He,Ie){var xt=new Ye.Parser(Ne,ze),tt=(--He,[".notdef"]);if((Ne=xt.parseCard8())===0)for(var Qe=0;Qe<He;Qe+=1)rt=xt.parseSID(),tt.push(er(Ie,rt));else if(Ne===1)for(;tt.length<=He;)for(var rt=xt.parseSID(),ot=xt.parseCard8(),Lt=0;Lt<=ot;Lt+=1)tt.push(er(Ie,rt)),rt+=1;else{if(Ne!==2)throw new Error("Unknown charset format "+Ne);for(;tt.length<=He;){rt=xt.parseSID(),ot=xt.parseCard16();for(var Dt=0;Dt<=ot;Dt+=1)tt.push(er(Ie,rt)),rt+=1}}return tt}(w,I+K.charset,N.nGlyphs,ee.objects),K.encoding===0?N.cffEncoding=new xe(Ot,z):K.encoding===1?N.cffEncoding=new xe(At,z):N.cffEncoding=function(Ne,ze,He){var Ie={},xt=new Ye.Parser(Ne,ze);if((Ne=xt.parseCard8())===0)for(var tt=xt.parseCard8(),Qe=0;Qe<tt;Qe+=1)Ie[ot=xt.parseCard8()]=Qe;else{if(Ne!==1)throw new Error("Unknown encoding format "+Ne);for(var rt=xt.parseCard8(),ot=1,Lt=0;Lt<rt;Lt+=1)for(var Dt=xt.parseCard8(),Nt=xt.parseCard8(),yr=Dt;yr<=Dt+Nt;yr+=1)Ie[yr]=ot,ot+=1}return new xe(Ie,He)}(w,I+K.encoding,z),N.encoding=N.encoding||N.cffEncoding,N.glyphs=new gt.GlyphSet(N);for(var Te=0;Te<N.nGlyphs;Te+=1){var Ce=_e.objects[Te];N.glyphs.push(Te,gt.cffGlyphLoader(N,Te,hn,Ce))}},Oi=function(w,I){for(var N,z=new $e.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),K=1/I.unitsPerEm,ee=(K={version:I.version,fullName:I.fullName,familyName:I.familyName,weight:I.weightName,fontBBox:I.fontBBox||[0,0,0,0],fontMatrix:[K,0,0,K,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),re=1;re<w.length;re+=1)N=w.get(re),ee.push(N.name);var _e,Te,Ce=[],Ne=(I=(z.header=new $e.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),z.nameIndex=function(ze){var He=new $e.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);He.names=[];for(var Ie=0;Ie<ze.length;Ie+=1)He.names.push({name:"name_"+Ie,type:"NAME",value:ze[Ie]});return He}([I.postScriptName]),Ir(K,Ce)),z.topDictIndex=Er(I),z.globalSubrIndex=new $e.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),z.charsets=function(ze,He){for(var Ie=new $e.Record("Charsets",[{name:"format",type:"Card8",value:0}]),xt=0;xt<ze.length;xt+=1){var tt=wn(ze[xt],He);Ie.fields.push({name:"glyph_"+xt,type:"SID",value:tt})}return Ie}(ee,Ce),z.charStringsIndex=function(ze){for(var He=new $e.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),Ie=0;Ie<ze.length;Ie+=1){var xt=ze.get(Ie),tt=function(Qe){for(var rt=[],ot=Qe.path,Lt=(rt.push({name:"width",type:"NUMBER",value:Qe.advanceWidth}),0),Dt=0,Nt=0;Nt<ot.commands.length;Nt+=1){var yr,xr,en,tn,on=void 0,Nr=void 0,ir=ot.commands[Nt];(ir=ir.type==="Q"?{type:"C",x:ir.x,y:ir.y,x1:1/3*Lt+2/3*ir.x1,y1:1/3*Dt+2/3*ir.y1,x2:1/3*ir.x+2/3*ir.x1,y2:1/3*ir.y+2/3*ir.y1}:ir).type==="M"?(on=Math.round(ir.x-Lt),Nr=Math.round(ir.y-Dt),rt.push({name:"dx",type:"NUMBER",value:on}),rt.push({name:"dy",type:"NUMBER",value:Nr}),rt.push({name:"rmoveto",type:"OP",value:21}),Lt=Math.round(ir.x),Dt=Math.round(ir.y)):ir.type==="L"?(on=Math.round(ir.x-Lt),Nr=Math.round(ir.y-Dt),rt.push({name:"dx",type:"NUMBER",value:on}),rt.push({name:"dy",type:"NUMBER",value:Nr}),rt.push({name:"rlineto",type:"OP",value:5}),Lt=Math.round(ir.x),Dt=Math.round(ir.y)):ir.type==="C"&&(yr=Math.round(ir.x1-Lt),xr=Math.round(ir.y1-Dt),en=Math.round(ir.x2-ir.x1),tn=Math.round(ir.y2-ir.y1),on=Math.round(ir.x-ir.x2),Nr=Math.round(ir.y-ir.y2),rt.push({name:"dx1",type:"NUMBER",value:yr}),rt.push({name:"dy1",type:"NUMBER",value:xr}),rt.push({name:"dx2",type:"NUMBER",value:en}),rt.push({name:"dy2",type:"NUMBER",value:tn}),rt.push({name:"dx",type:"NUMBER",value:on}),rt.push({name:"dy",type:"NUMBER",value:Nr}),rt.push({name:"rrcurveto",type:"OP",value:8}),Lt=Math.round(ir.x),Dt=Math.round(ir.y))}return rt.push({name:"endchar",type:"OP",value:14}),rt}(xt);He.charStrings.push({name:xt.name,type:"CHARSTRING",value:tt})}return He}(w),z.privateDict=(Ne={},_e=Ce,(Te=new $e.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=lr(Cr,Ne,_e),Te),z.stringIndex=function(ze){var He=new $e.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);He.strings=[];for(var Ie=0;Ie<ze.length;Ie+=1)He.strings.push({name:"string_"+Ie,type:"STRING",value:ze[Ie]});return He}(Ce),z.header.sizeOf()+z.nameIndex.sizeOf()+z.topDictIndex.sizeOf()+z.stringIndex.sizeOf()+z.globalSubrIndex.sizeOf());return K.charset=Ne,K.encoding=0,K.charStrings=K.charset+z.charsets.sizeOf(),K.private[1]=K.charStrings+z.charStringsIndex.sizeOf(),I=Ir(K,Ce),z.topDictIndex=Er(I),z},no=function(w,I){var N={};return w=new Ye.Parser(w,I),N.version=w.parseVersion(),N.fontRevision=Math.round(1e3*w.parseFixed())/1e3,N.checkSumAdjustment=w.parseULong(),N.magicNumber=w.parseULong(),ne.argument(N.magicNumber===1594834165,"Font header has wrong magic number."),N.flags=w.parseUShort(),N.unitsPerEm=w.parseUShort(),N.created=w.parseLongDateTime(),N.modified=w.parseLongDateTime(),N.xMin=w.parseShort(),N.yMin=w.parseShort(),N.xMax=w.parseShort(),N.yMax=w.parseShort(),N.macStyle=w.parseUShort(),N.lowestRecPPEM=w.parseUShort(),N.fontDirectionHint=w.parseShort(),N.indexToLocFormat=w.parseShort(),N.glyphDataFormat=w.parseShort(),N},Js=function(w){var I=Math.round(new Date().getTime()/1e3)+2082844800,N=I;return w.createdTimestamp&&(N=w.createdTimestamp+2082844800),new $e.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:N},{name:"modified",type:"LONGDATETIME",value:I},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],w)},wo=function(w,I){var N={};return w=new Ye.Parser(w,I),N.version=w.parseVersion(),N.ascender=w.parseShort(),N.descender=w.parseShort(),N.lineGap=w.parseShort(),N.advanceWidthMax=w.parseUShort(),N.minLeftSideBearing=w.parseShort(),N.minRightSideBearing=w.parseShort(),N.xMaxExtent=w.parseShort(),N.caretSlopeRise=w.parseShort(),N.caretSlopeRun=w.parseShort(),N.caretOffset=w.parseShort(),w.relativeOffset+=8,N.metricDataFormat=w.parseShort(),N.numberOfHMetrics=w.parseUShort(),N},bi=function(w){return new $e.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],w)},ke=function(w,I,N,z,K){for(var ee,re,_e=new Ye.Parser(w,I),Te=0;Te<z;Te+=1){Te<N&&(ee=_e.parseUShort(),re=_e.parseShort());var Ce=K.get(Te);Ce.advanceWidth=ee,Ce.leftSideBearing=re}},vt=function(w){for(var I=new $e.Table("hmtx",[]),N=0;N<w.length;N+=1){var z=(K=w.get(N)).advanceWidth||0,K=K.leftSideBearing||0;I.fields.push({name:"advanceWidth_"+N,type:"USHORT",value:z}),I.fields.push({name:"leftSideBearing_"+N,type:"SHORT",value:K})}return I},Ut=function(w){for(var I=new $e.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:w.length}]),N="",z=12+4*w.length,K=0;K<w.length;++K){var ee=N.indexOf(w[K]);ee<0&&(ee=N.length,N+=w[K]),I.fields.push({name:"offset "+K,type:"USHORT",value:z+ee}),I.fields.push({name:"length "+K,type:"USHORT",value:w[K].length})}return I.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),I},pt=function(w,I){for(var N=new Ye.Parser(w,I),z=N.parseULong(),K=(ne.argument(z===1,"Unsupported ltag table version."),N.skip("uLong",1),N.parseULong()),ee=[],re=0;re<K;re++){for(var _e="",Te=I+N.parseUShort(),Ce=N.parseUShort(),Ne=Te;Ne<Te+Ce;++Ne)_e+=String.fromCharCode(w.getInt8(Ne));ee.push(_e)}return ee},ar=function(w,I){var N={};return w=new Ye.Parser(w,I),N.version=w.parseVersion(),N.numGlyphs=w.parseUShort(),N.version===1&&(N.maxPoints=w.parseUShort(),N.maxContours=w.parseUShort(),N.maxCompositePoints=w.parseUShort(),N.maxCompositeContours=w.parseUShort(),N.maxZones=w.parseUShort(),N.maxTwilightPoints=w.parseUShort(),N.maxStorage=w.parseUShort(),N.maxFunctionDefs=w.parseUShort(),N.maxInstructionDefs=w.parseUShort(),N.maxStackElements=w.parseUShort(),N.maxSizeOfInstructions=w.parseUShort(),N.maxComponentElements=w.parseUShort(),N.maxComponentDepth=w.parseUShort()),N},st=function(w){return new $e.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:w}])},Wr=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Bt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Jt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Rt={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Kr="utf-16",Fn={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ms={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function fn(w,I,N){switch(w){case 0:return Kr;case 1:return ms[N]||Fn[I];case 3:if(I===1||I===10)return Kr}}function pn(w){var I,N={};for(I in w)N[w[I]]=parseInt(I);return N}function jn(w,I,N,z,K,ee){return new $e.Record("NameRecord",[{name:"platformID",type:"USHORT",value:w},{name:"encodingID",type:"USHORT",value:I},{name:"languageID",type:"USHORT",value:N},{name:"nameID",type:"USHORT",value:z},{name:"length",type:"USHORT",value:K},{name:"offset",type:"USHORT",value:ee}])}function An(w,I){if((N=function(ee,re){var _e=ee.length,Te=re.length-_e+1;e:for(var Ce=0;Ce<Te;Ce++)for(;Ce<Te;Ce++){for(var Ne=0;Ne<_e;Ne++)if(re[Ce+Ne]!==ee[Ne])continue e;return Ce}return-1}(w,I))<0)for(var N=I.length,z=0,K=w.length;z<K;++z)I.push(w[z]);return N}var sn=function(w,I,N){for(var z={},K=new Ye.Parser(w,I),ee=(I=K.parseUShort(),K.parseUShort()),re=K.offset+K.parseUShort(),_e=0;_e<ee;_e++){var Te=K.parseUShort(),Ce=K.parseUShort(),Ne=K.parseUShort(),ze=K.parseUShort(),He=(ze=Wr[ze]||ze,K.parseUShort()),Ie=K.parseUShort(),xt=function(tt,Qe,rt){switch(tt){case 0:if(Qe===65535)return"und";if(rt)return rt[Qe];break;case 1:return Bt[Qe];case 3:return Rt[Qe]}}(Te,Ne,N);(Te=fn(Te,Ce,Ne))!==void 0&&xt!==void 0&&(Ce=void 0,(Ce=Te===Kr?ae.UTF16(w,re+Ie,He):ae.MACSTRING(w,re+Ie,He,Te))&&((Ne=(Ne=z[ze])===void 0?z[ze]={}:Ne)[xt]=Ce))}return I===1&&K.parseUShort(),z},Cs=function(w,I){var N,z=[],K={},ee=pn(Wr);for(N in w){var re=ee[N];if(re===void 0&&(re=N),He=parseInt(re),isNaN(He))throw new Error('Name table entry "'+N+'" does not exist, see nameTableNames for complete list.');K[He]=w[N],z.push(He)}for(var _e=pn(Bt),Te=pn(Rt),Ce=[],Ne=[],ze=0;ze<z.length;ze++){var He,Ie,xt=K[He=z[ze]];for(Ie in xt){var tt=xt[Ie],Qe=1,rt=_e[Ie],ot=Jt[rt],Lt=fn(Qe,ot,rt),Dt=((Lt=ce.MACSTRING(tt,Lt))===void 0&&(Qe=0,(rt=I.indexOf(Ie))<0&&(rt=I.length,I.push(Ie)),ot=4,Lt=ce.UTF16(tt)),An(Lt,Ne));(Qe=(Ce.push(jn(Qe,ot,rt,He,Lt.length,Dt)),Te[Ie]))!==void 0&&(rt=An(ot=ce.UTF16(tt),Ne),Ce.push(jn(3,1,Qe,He,ot.length,rt)))}}Ce.sort(function(xr,en){return xr.platformID-en.platformID||xr.encodingID-en.encodingID||xr.languageID-en.languageID||xr.nameID-en.nameID});for(var Nt=new $e.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ce.length},{name:"stringOffset",type:"USHORT",value:6+12*Ce.length}]),yr=0;yr<Ce.length;yr++)Nt.fields.push({name:"record_"+yr,type:"RECORD",value:Ce[yr]});return Nt.fields.push({name:"strings",type:"LITERAL",value:Ne}),Nt},Ll=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],pd=function(w,I){var N={},z=new Ye.Parser(w,I);N.version=z.parseUShort(),N.xAvgCharWidth=z.parseShort(),N.usWeightClass=z.parseUShort(),N.usWidthClass=z.parseUShort(),N.fsType=z.parseUShort(),N.ySubscriptXSize=z.parseShort(),N.ySubscriptYSize=z.parseShort(),N.ySubscriptXOffset=z.parseShort(),N.ySubscriptYOffset=z.parseShort(),N.ySuperscriptXSize=z.parseShort(),N.ySuperscriptYSize=z.parseShort(),N.ySuperscriptXOffset=z.parseShort(),N.ySuperscriptYOffset=z.parseShort(),N.yStrikeoutSize=z.parseShort(),N.yStrikeoutPosition=z.parseShort(),N.sFamilyClass=z.parseShort(),N.panose=[];for(var K=0;K<10;K++)N.panose[K]=z.parseByte();return N.ulUnicodeRange1=z.parseULong(),N.ulUnicodeRange2=z.parseULong(),N.ulUnicodeRange3=z.parseULong(),N.ulUnicodeRange4=z.parseULong(),N.achVendID=String.fromCharCode(z.parseByte(),z.parseByte(),z.parseByte(),z.parseByte()),N.fsSelection=z.parseUShort(),N.usFirstCharIndex=z.parseUShort(),N.usLastCharIndex=z.parseUShort(),N.sTypoAscender=z.parseShort(),N.sTypoDescender=z.parseShort(),N.sTypoLineGap=z.parseShort(),N.usWinAscent=z.parseUShort(),N.usWinDescent=z.parseUShort(),1<=N.version&&(N.ulCodePageRange1=z.parseULong(),N.ulCodePageRange2=z.parseULong()),2<=N.version&&(N.sxHeight=z.parseShort(),N.sCapHeight=z.parseShort(),N.usDefaultChar=z.parseUShort(),N.usBreakChar=z.parseUShort(),N.usMaxContent=z.parseUShort()),N},Wo=function(w){return new $e.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],w)},Nl=function(w){for(var I=0;I<Ll.length;I+=1){var N=Ll[I];if(w>=N.begin&&w<N.end)return I}return-1},Ca=function(w,I){var N={},z=new Ye.Parser(w,I);switch(N.version=z.parseVersion(),N.italicAngle=z.parseFixed(),N.underlinePosition=z.parseShort(),N.underlineThickness=z.parseShort(),N.isFixedPitch=z.parseULong(),N.minMemType42=z.parseULong(),N.maxMemType42=z.parseULong(),N.minMemType1=z.parseULong(),N.maxMemType1=z.parseULong(),N.version){case 1:N.names=fe.slice();break;case 2:N.numberOfGlyphs=z.parseUShort(),N.glyphNameIndex=new Array(N.numberOfGlyphs);for(var K=0;K<N.numberOfGlyphs;K++)N.glyphNameIndex[K]=z.parseUShort();N.names=[];for(var ee,re=0;re<N.numberOfGlyphs;re++)N.glyphNameIndex[re]>=fe.length&&(ee=z.parseChar(),N.names.push(z.parseString(ee)));break;case 2.5:N.numberOfGlyphs=z.parseUShort(),N.offset=new Array(N.numberOfGlyphs);for(var _e=0;_e<N.numberOfGlyphs;_e++)N.offset[_e]=z.parseChar()}return N},so=function(){return new $e.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])},Vr=new Array(9),ei=(Vr[1]=function(){var w=this.offset+this.relativeOffset,I=this.parseUShort();return I===1?{substFormat:1,coverage:this.parsePointer(je.coverage),deltaGlyphId:this.parseUShort()}:I===2?{substFormat:2,coverage:this.parsePointer(je.coverage),substitute:this.parseOffset16List()}:void ne.assert(!1,"0x"+w.toString(16)+": lookup type 1 format must be 1 or 2.")},Vr[2]=function(){var w=this.parseUShort();return ne.argument(w===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(je.coverage),sequences:this.parseListOfLists()}},Vr[3]=function(){var w=this.parseUShort();return ne.argument(w===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(je.coverage),alternateSets:this.parseListOfLists()}},Vr[4]=function(){var w=this.parseUShort();return ne.argument(w===1,"GSUB ligature table identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(je.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:je.uShort,lookupListIndex:je.uShort});Vr[5]=function(){var w,I,N=this.offset+this.relativeOffset,z=this.parseUShort();return z===1?{substFormat:z,coverage:this.parsePointer(je.coverage),ruleSets:this.parseListOfLists(function(){var K=this.parseUShort(),ee=this.parseUShort();return{input:this.parseUShortList(K-1),lookupRecords:this.parseRecordList(ee,ei)}})}:z===2?{substFormat:z,coverage:this.parsePointer(je.coverage),classDef:this.parsePointer(je.classDef),classSets:this.parseListOfLists(function(){var K=this.parseUShort(),ee=this.parseUShort();return{classes:this.parseUShortList(K-1),lookupRecords:this.parseRecordList(ee,ei)}})}:z===3?(w=this.parseUShort(),I=this.parseUShort(),{substFormat:z,coverages:this.parseList(w,je.pointer(je.coverage)),lookupRecords:this.parseRecordList(I,ei)}):void ne.assert(!1,"0x"+N.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Vr[6]=function(){var w=this.offset+this.relativeOffset,I=this.parseUShort();return I===1?{substFormat:1,coverage:this.parsePointer(je.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ei)}})}:I===2?{substFormat:2,coverage:this.parsePointer(je.coverage),backtrackClassDef:this.parsePointer(je.classDef),inputClassDef:this.parsePointer(je.classDef),lookaheadClassDef:this.parsePointer(je.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ei)}})}:I===3?{substFormat:3,backtrackCoverage:this.parseList(je.pointer(je.coverage)),inputCoverage:this.parseList(je.pointer(je.coverage)),lookaheadCoverage:this.parseList(je.pointer(je.coverage)),lookupRecords:this.parseRecordList(ei)}:void ne.assert(!1,"0x"+w.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Vr[7]=function(){var w=this.parseUShort(),I=(w=(ne.argument(w===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),new je(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:w,extension:Vr[w].call(I)}},Vr[8]=function(){var w=this.parseUShort();return ne.argument(w===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:w,coverage:this.parsePointer(je.coverage),backtrackCoverage:this.parseList(je.pointer(je.coverage)),lookaheadCoverage:this.parseList(je.pointer(je.coverage)),substitutes:this.parseUShortList()}};var Di=new Array(9);Di[1]=function(w){return w.substFormat===1?new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(w.coverage)},{name:"deltaGlyphID",type:"USHORT",value:w.deltaGlyphId}]):new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $e.Coverage(w.coverage)}].concat($e.ushortList("substitute",w.substitute)))},Di[3]=function(w){return ne.assert(w.substFormat===1,"Lookup type 3 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(w.coverage)}].concat($e.tableList("altSet",w.alternateSets,function(I){return new $e.Table("alternateSetTable",$e.ushortList("alternate",I))})))},Di[4]=function(w){return ne.assert(w.substFormat===1,"Lookup type 4 substFormat must be 1."),new $e.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $e.Coverage(w.coverage)}].concat($e.tableList("ligSet",w.ligatureSets,function(I){return new $e.Table("ligatureSetTable",$e.tableList("ligature",I,function(N){return new $e.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:N.ligGlyph}].concat($e.ushortList("component",N.components,N.components.length+1)))}))})))};var Ra=function(w,I){return I=(w=new je(w,I=I||0)).parseVersion(1),ne.argument(I===1||I===1.1,"Unsupported GSUB table version."),I===1?{version:I,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(Vr)}:{version:I,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(Vr),variations:w.parseFeatureVariationsList()}},zr=function(w){return new $e.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $e.ScriptList(w.scripts)},{name:"features",type:"TABLE",value:new $e.FeatureList(w.features)},{name:"lookups",type:"TABLE",value:new $e.LookupList(w.lookups,Di)}])},Yo=function(w,I){for(var N=new Ye.Parser(w,I),z=N.parseULong(),K=(ne.argument(z===1,"Unsupported META table version."),N.parseULong(),N.parseULong(),N.parseULong()),ee={},re=0;re<K;re++){var _e=N.parseTag(),Te=N.parseULong(),Ce=N.parseULong();Te=ae.UTF8(w,I+Te,Ce),ee[_e]=Te}return ee},xo=function(w){var I,N=Object.keys(w).length,z="",K=16+12*N,ee=new $e.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:K},{name:"numTags",type:"ULONG",value:N}]);for(I in w){var re=z.length;z+=w[I],ee.fields.push({name:"tag "+I,type:"TAG",value:I}),ee.fields.push({name:"offset "+I,type:"ULONG",value:K+re}),ee.fields.push({name:"length "+I,type:"ULONG",value:w[I].length})}return ee.fields.push({name:"stringPool",type:"CHARARRAY",value:z}),ee};function ti(w){return Math.log(w)/Math.log(2)|0}function Lu(w){for(;w.length%4!=0;)w.push(0);for(var I=0,N=0;N<w.length;N+=4)I+=(w[N]<<24)+(w[N+1]<<16)+(w[N+2]<<8)+w[N+3];return I%Math.pow(2,32)}function Ma(w,I,N,z){return new $e.Record("Table Record",[{name:"tag",type:"TAG",value:w!==void 0?w:""},{name:"checkSum",type:"ULONG",value:I!==void 0?I:0},{name:"offset",type:"ULONG",value:N!==void 0?N:0},{name:"length",type:"ULONG",value:z!==void 0?z:0}])}function Nu(w){for(var I=new $e.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),N=(I.tables=w,I.numTables=w.length,Math.pow(2,ti(I.numTables))),z=(I.searchRange=16*N,I.entrySelector=ti(N),I.rangeShift=16*I.numTables-I.searchRange,[]),K=[],ee=I.sizeOf()+Ma().sizeOf()*I.numTables;ee%4!=0;)ee+=1,K.push({name:"padding",type:"BYTE",value:0});for(var re=0;re<w.length;re+=1){var _e=w[re],Te=(ne.argument(_e.tableName.length===4,"Table name"+_e.tableName+" is invalid."),_e.sizeOf()),Ce=Ma(_e.tableName,Lu(_e.encode()),ee,Te);for(z.push({name:Ce.tag+" Table Record",type:"RECORD",value:Ce}),K.push({name:_e.tableName+" table",type:"RECORD",value:_e}),ee+=Te,ne.argument(!isNaN(ee),"Something went wrong calculating the offset.");ee%4!=0;)ee+=1,K.push({name:"padding",type:"BYTE",value:0})}return z.sort(function(Ne,ze){return Ne.value.tag>ze.value.tag?1:-1}),I.fields=I.fields.concat(z),I.fields=I.fields.concat(K),I}function ka(w,I,N){for(var z=0;z<I.length;z+=1){var K=w.charToGlyphIndex(I[z]);if(0<K)return w.glyphs.get(K).getMetrics()}return N}var md=function(w){for(var I,N=[],z=[],K=[],ee=[],re=[],_e=[],Te=[],Ce=0,Ne=0,ze=0,He=0,Ie=0,xt=0;xt<w.glyphs.length;xt+=1){var tt=w.glyphs.get(xt),Qe=0|tt.unicode;if(isNaN(tt.advanceWidth))throw new Error("Glyph "+tt.name+" ("+xt+"): advanceWidth is not a number.");if((Qe<I||I===void 0)&&0<Qe&&(I=Qe),Ce<Qe&&(Ce=Qe),(Qe=Nl(Qe))<32)Ne|=1<<Qe;else if(Qe<64)ze|=1<<Qe-32;else if(Qe<96)He|=1<<Qe-64;else{if(!(Qe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ie|=1<<Qe-96}tt.name!==".notdef"&&(Qe=tt.getMetrics(),N.push(Qe.xMin),z.push(Qe.yMin),K.push(Qe.xMax),ee.push(Qe.yMax),_e.push(Qe.leftSideBearing),Te.push(Qe.rightSideBearing),re.push(tt.advanceWidth))}var rt,ot={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,z),xMax:Math.max.apply(null,K),yMax:Math.max.apply(null,ee),advanceWidthMax:Math.max.apply(null,re),advanceWidthAvg:function(Ln){for(var Wl=0,Yl=0;Yl<Ln.length;Yl+=1)Wl+=Ln[Yl];return Wl/Ln.length}(re),minLeftSideBearing:Math.min.apply(null,_e),maxLeftSideBearing:Math.max.apply(null,_e),minRightSideBearing:Math.min.apply(null,Te)},Lt=(ot.ascender=w.ascender,ot.descender=w.descender,Js({flags:3,unitsPerEm:w.unitsPerEm,xMin:ot.xMin,yMin:ot.yMin,xMax:ot.xMax,yMax:ot.yMax,lowestRecPPEM:3,createdTimestamp:w.createdTimestamp})),Dt=bi({ascender:ot.ascender,descender:ot.descender,advanceWidthMax:ot.advanceWidthMax,minLeftSideBearing:ot.minLeftSideBearing,minRightSideBearing:ot.minRightSideBearing,xMaxExtent:ot.maxLeftSideBearing+(ot.xMax-ot.xMin),numberOfHMetrics:w.glyphs.length}),Nt=st(w.glyphs.length),yr=Wo({xAvgCharWidth:Math.round(ot.advanceWidthAvg),usWeightClass:w.tables.os2.usWeightClass,usWidthClass:w.tables.os2.usWidthClass,usFirstCharIndex:I,usLastCharIndex:Ce,ulUnicodeRange1:Ne,ulUnicodeRange2:ze,ulUnicodeRange3:He,ulUnicodeRange4:Ie,fsSelection:w.tables.os2.fsSelection,sTypoAscender:ot.ascender,sTypoDescender:ot.descender,sTypoLineGap:0,usWinAscent:ot.yMax,usWinDescent:Math.abs(ot.yMin),ulCodePageRange1:1,sxHeight:ka(w,"xyvw",{yMax:Math.round(ot.ascender/2)}).yMax,sCapHeight:ka(w,"HIKLEFJMNTZBDPRAGOQSUVWXY",ot).yMax,usDefaultChar:w.hasChar(" ")?32:0,usBreakChar:w.hasChar(" ")?32:0}),xr=vt(w.glyphs),en=Ct(w.glyphs),tn=(an=w.getEnglishName("fontFamily"))+" "+(Yr=w.getEnglishName("fontSubfamily")),on=(on=w.getEnglishName("postScriptName"))||an.replace(/\s/g,"")+"-"+Yr,Nr={};for(rt in w.names)Nr[rt]=w.names[rt];Nr.uniqueID||(Nr.uniqueID={en:w.getEnglishName("manufacturer")+":"+tn}),Nr.postScriptName||(Nr.postScriptName={en:on}),Nr.preferredFamily||(Nr.preferredFamily=w.names.fontFamily),Nr.preferredSubfamily||(Nr.preferredSubfamily=w.names.fontSubfamily);var ir=Cs(Nr,Rn=[]),Rn=0<Rn.length?Ut(Rn):void 0,rn=so(),an=(tn=Oi(w.glyphs,{version:w.getEnglishName("version"),fullName:tn,familyName:an,weightName:Yr,postScriptName:on,unitsPerEm:w.unitsPerEm,fontBBox:[0,ot.yMin,ot.ascender,ot.advanceWidthMax]}),w.metas&&0<Object.keys(w.metas).length?xo(w.metas):void 0),Yr=[Lt,Dt,Nt,yr,ir,en,rn,tn,xr];Rn&&Yr.push(Rn),w.tables.gsub&&Yr.push(zr(w.tables.gsub)),an&&Yr.push(an);for(var Pn=Lu((on=Nu(Yr)).encode()),ln=on.fields,cs=!1,un=0;un<ln.length;un+=1)if(ln[un].name==="head table"){ln[un].value.checkSumAdjustment=2981146554-Pn,cs=!0;break}if(cs)return on;throw new Error("Could not find head table with checkSum to adjust.")};function Ul(w,I){for(var N=0,z=w.length-1;N<=z;){var K=N+z>>>1,ee=w[K].tag;if(ee===I)return K;ee<I?N=1+K:z=K-1}return-N-1}function _i(w,I){for(var N=0,z=w.length-1;N<=z;){var K=N+z>>>1,ee=w[K];if(ee===I)return K;ee<I?N=1+K:z=K-1}return-N-1}function ri(w,I){for(var N=0,z=w.length-1;N<=z;){var K,ee=N+z>>>1,re=(K=w[ee]).start;if(re===I)return K;re<I?N=1+ee:z=ee-1}if(0<N)return I>(K=w[N-1]).end?0:K}function io(w,I){this.font=w,this.tableName=I}function hi(w){io.call(this,w,"gpos")}function Zn(w){io.call(this,w,"gsub")}function Pi(w,I,N){for(var z=w.subtables,K=0;K<z.length;K++){var ee=z[K];if(ee.substFormat===I)return ee}if(N)return z.push(N),N}function Ia(w){for(var I=new ArrayBuffer(w.length),N=new Uint8Array(I),z=0;z<w.length;++z)N[z]=w[z];return I}function oo(w,I){if(!w)throw I}function So(w,I,N,z,K){var ee=0<(I&z)?(ee=w.parseByte(),N+(ee=(I&K)==0?-ee:ee)):0<(I&K)?N:N+w.parseShort();return ee}function fi(w,I,N){var z,K=new Ye.Parser(I,N);if(w.numberOfContours=K.parseShort(),w._xMin=K.parseShort(),w._yMin=K.parseShort(),w._xMax=K.parseShort(),w._yMax=K.parseShort(),0<w.numberOfContours){for(var ee=w.endPointIndices=[],re=0;re<w.numberOfContours;re+=1)ee.push(K.parseUShort());w.instructionLength=K.parseUShort(),w.instructions=[];for(var _e=0;_e<w.instructionLength;_e+=1)w.instructions.push(K.parseByte());for(var Te=ee[ee.length-1]+1,Ce=[],Ne=0;Ne<Te;Ne+=1)if(z=K.parseByte(),Ce.push(z),0<(8&z))for(var ze=K.parseByte(),He=0;He<ze;He+=1)Ce.push(z),Ne+=1;if(ne.argument(Ce.length===Te,"Bad flags."),0<ee.length){var Ie,xt=[];if(0<Te){for(var tt=0;tt<Te;tt+=1)z=Ce[tt],(Ie={}).onCurve=!!(1&z),Ie.lastPointOfContour=0<=ee.indexOf(tt),xt.push(Ie);for(var Qe=0,rt=0;rt<Te;rt+=1)z=Ce[rt],(Ie=xt[rt]).x=So(K,z,Qe,2,16),Qe=Ie.x;for(var ot=0,Lt=0;Lt<Te;Lt+=1)z=Ce[Lt],(Ie=xt[Lt]).y=So(K,z,ot,4,32),ot=Ie.y}w.points=xt}else w.points=[]}else if(w.numberOfContours===0)w.points=[];else{w.isComposite=!0,w.points=[],w.components=[];for(var Dt=!0;Dt;){Ce=K.parseUShort();var Nt={glyphIndex:K.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Ce)?0<(2&Ce)?(Nt.dx=K.parseShort(),Nt.dy=K.parseShort()):Nt.matchedPoints=[K.parseUShort(),K.parseUShort()]:0<(2&Ce)?(Nt.dx=K.parseChar(),Nt.dy=K.parseChar()):Nt.matchedPoints=[K.parseByte(),K.parseByte()],0<(8&Ce)?Nt.xScale=Nt.yScale=K.parseF2Dot14():0<(64&Ce)?(Nt.xScale=K.parseF2Dot14(),Nt.yScale=K.parseF2Dot14()):0<(128&Ce)&&(Nt.xScale=K.parseF2Dot14(),Nt.scale01=K.parseF2Dot14(),Nt.scale10=K.parseF2Dot14(),Nt.yScale=K.parseF2Dot14()),w.components.push(Nt),Dt=!!(32&Ce)}if(256&Ce){w.instructionLength=K.parseUShort(),w.instructions=[];for(var yr=0;yr<w.instructionLength;yr+=1)w.instructions.push(K.parseByte())}}}function ao(w,I){for(var N=[],z=0;z<w.length;z+=1){var K=w[z];K={x:I.xScale*K.x+I.scale01*K.y+I.dx,y:I.scale10*K.x+I.yScale*K.y+I.dy,onCurve:K.onCurve,lastPointOfContour:K.lastPointOfContour},N.push(K)}return N}function wi(w){var I=new $;if(w)for(var N=function(ze){for(var He=[],Ie=[],xt=0;xt<ze.length;xt+=1){var tt=ze[xt];Ie.push(tt),tt.lastPointOfContour&&(He.push(Ie),Ie=[])}return ne.argument(Ie.length===0,"There are still points left in the current contour."),He}(w),z=0;z<N.length;++z){var K,ee=N[z],re=ee[ee.length-1],_e=ee[0];re.onCurve?I.moveTo(re.x,re.y):_e.onCurve?I.moveTo(_e.x,_e.y):(K={x:.5*(re.x+_e.x),y:.5*(re.y+_e.y)},I.moveTo(K.x,K.y));for(var Te=0;Te<ee.length;++Te){var Ce,Ne=re;re=_e,_e=ee[(Te+1)%ee.length],re.onCurve?I.lineTo(re.x,re.y):(Ce=_e,Ne.onCurve||(re.x,Ne.x,re.y,Ne.y),_e.onCurve||(Ce={x:.5*(re.x+_e.x),y:.5*(re.y+_e.y)}),I.quadraticCurveTo(re.x,re.y,Ce.x,Ce.y))}I.closePath()}return I}function Eo(w,I){if(I.isComposite)for(var N=0;N<I.components.length;N+=1){var z=I.components[N],K=w.get(z.glyphIndex);if(K.getPath(),K.points){var ee=void 0;if(z.matchedPoints===void 0)ee=ao(K.points,z);else{if(z.matchedPoints[0]>I.points.length-1||z.matchedPoints[1]>K.points.length-1)throw Error("Matched points out of range in "+I.name);var re=I.points[z.matchedPoints[0]],_e=ao([_e=K.points[z.matchedPoints[1]]],z={xScale:z.xScale,scale01:z.scale01,scale10:z.scale10,yScale:z.yScale,dx:0,dy:0})[0];z.dx=re.x-_e.x,z.dy=re.y-_e.y,ee=ao(K.points,z)}I.points=I.points.concat(ee)}}return wi(I.points)}(hi.prototype=io.prototype={searchTag:Ul,binSearch:_i,getTable:function(w){var I=this.font.tables[this.tableName];return!I&&w?this.font.tables[this.tableName]=this.createDefaultTable():I},getScriptNames:function(){var w=this.getTable();return w?w.scripts.map(function(I){return I.tag}):[]},getDefaultScriptName:function(){var w=this.getTable();if(w){for(var I=!1,N=0;N<w.scripts.length;N++){var z=w.scripts[N].tag;if(z==="DFLT")return z;z==="latn"&&(I=!0)}return I?"latn":void 0}},getScriptTable:function(w,I){var N,z=this.getTable(I);if(z)return N=z.scripts,0<=(z=Ul(z.scripts,w=w||"DFLT"))?N[z].script:I?(N.splice(-1-z,0,I={tag:w,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),I.script):void 0},getLangSysTable:function(w,I,N){var z;if(w=this.getScriptTable(w,N))return I&&I!=="dflt"&&I!=="DFLT"?0<=(z=Ul(w.langSysRecords,I))?w.langSysRecords[z].langSys:N?(w.langSysRecords.splice(-1-z,0,N={tag:I,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),N.langSys):void 0:w.defaultLangSys},getFeatureTable:function(w,I,N,z){if(w=this.getLangSysTable(w,I,z)){for(var K,ee=w.featureIndexes,re=this.font.tables[this.tableName].features,_e=0;_e<ee.length;_e++)if((K=re[ee[_e]]).tag===N)return K.feature;if(z)return I=re.length,ne.assert(I===0||N>=re[I-1].tag,"Features must be added in alphabetical order."),re.push(K={tag:N,feature:{params:0,lookupListIndexes:[]}}),ee.push(I),K.feature}},getLookupTables:function(w,I,N,z,K){var ee=[];if(w=this.getFeatureTable(w,I,N,K)){for(var re,_e=w.lookupListIndexes,Te=this.font.tables[this.tableName].lookups,Ce=0;Ce<_e.length;Ce++)(re=Te[_e[Ce]]).lookupType===z&&ee.push(re);if(ee.length===0&&K)return I=Te.length,Te.push(re={lookupType:z,lookupFlag:0,subtables:[],markFilteringSet:void 0}),_e.push(I),[re]}return ee},getGlyphClass:function(w,I){switch(w.format){case 1:return w.startGlyph<=I&&I<w.startGlyph+w.classes.length?w.classes[I-w.startGlyph]:0;case 2:var N=ri(w.ranges,I);return N?N.classId:0}},getCoverageIndex:function(w,I){switch(w.format){case 1:var N=_i(w.glyphs,I);return 0<=N?N:-1;case 2:return(N=ri(w.ranges,I))?N.index+I-N.start:-1}},expandCoverage:function(w){if(w.format===1)return w.glyphs;for(var I=[],N=w.ranges,z=0;z<N.length;z++)for(var K=N[z],ee=K.start,re=K.end,_e=ee;_e<=re;_e++)I.push(_e);return I}}).init=function(){var w=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(w)},hi.prototype.getKerningValue=function(w,I,N){for(var z=0;z<w.length;z++)for(var K=w[z].subtables,ee=0;ee<K.length;ee++){var re=K[ee],_e=this.getCoverageIndex(re.coverage,I);if(!(_e<0))switch(re.posFormat){case 1:for(var Te=re.pairSets[_e],Ce=0;Ce<Te.length;Ce++){var Ne=Te[Ce];if(Ne.secondGlyph===N)return Ne.value1&&Ne.value1.xAdvance||0}break;case 2:var ze=this.getGlyphClass(re.classDef1,I),He=this.getGlyphClass(re.classDef2,N);return(ze=re.classRecords[ze][He]).value1&&ze.value1.xAdvance||0}}return 0},hi.prototype.getKerningTables=function(w,I){if(this.font.tables.gpos)return this.getLookupTables(w,I,"kern",2)},(Zn.prototype=io.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Zn.prototype.getSingle=function(w,I,N){for(var z=[],K=this.getLookupTables(I,N,w,1),ee=0;ee<K.length;ee++)for(var re=K[ee].subtables,_e=0;_e<re.length;_e++){var Te=re[_e],Ce=this.expandCoverage(Te.coverage),Ne=void 0;if(Te.substFormat===1){var ze=Te.deltaGlyphId;for(Ne=0;Ne<Ce.length;Ne++){var He=Ce[Ne];z.push({sub:He,by:He+ze})}}else{var Ie=Te.substitute;for(Ne=0;Ne<Ce.length;Ne++)z.push({sub:Ce[Ne],by:Ie[Ne]})}}return z},Zn.prototype.getAlternates=function(w,I,N){for(var z=[],K=this.getLookupTables(I,N,w,3),ee=0;ee<K.length;ee++)for(var re=K[ee].subtables,_e=0;_e<re.length;_e++)for(var Te=re[_e],Ce=this.expandCoverage(Te.coverage),Ne=Te.alternateSets,ze=0;ze<Ce.length;ze++)z.push({sub:Ce[ze],by:Ne[ze]});return z},Zn.prototype.getLigatures=function(w,I,N){for(var z=[],K=this.getLookupTables(I,N,w,4),ee=0;ee<K.length;ee++)for(var re=K[ee].subtables,_e=0;_e<re.length;_e++)for(var Te=re[_e],Ce=this.expandCoverage(Te.coverage),Ne=Te.ligatureSets,ze=0;ze<Ce.length;ze++)for(var He=Ce[ze],Ie=Ne[ze],xt=0;xt<Ie.length;xt++){var tt=Ie[xt];z.push({sub:[He].concat(tt.components),by:tt.ligGlyph})}return z},Zn.prototype.addSingle=function(w,I,N,z){N=Pi(this.getLookupTables(N,z,w,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),ne.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),z=I.sub,(w=this.binSearch(N.coverage.glyphs,z))<0&&(N.coverage.glyphs.splice(w=-1-w,0,z),N.substitute.splice(w,0,0)),N.substitute[w]=I.by},Zn.prototype.addAlternate=function(w,I,N,z){N=Pi(this.getLookupTables(N,z,w,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),ne.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),z=I.sub,(w=this.binSearch(N.coverage.glyphs,z))<0&&(N.coverage.glyphs.splice(w=-1-w,0,z),N.alternateSets.splice(w,0,0)),N.alternateSets[w]=I.by},Zn.prototype.addLigature=function(w,I,N,z){(z=(N=this.getLookupTables(N,z,w,4,!0)[0]).subtables[0])||(N.subtables[0]=z={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),ne.assert(z.coverage.format===1,"Ligature: unable to modify coverage table format "+z.coverage.format),w=I.sub[0];var K=I.sub.slice(1);if(N={ligGlyph:I.by,components:K},0<=(I=this.binSearch(z.coverage.glyphs,w))){for(var ee=z.ligatureSets[I],re=0;re<ee.length;re++)if(function(_e,Te){var Ce=_e.length;if(Ce===Te.length){for(var Ne=0;Ne<Ce;Ne++)if(_e[Ne]!==Te[Ne])return;return 1}}(ee[re].components,K))return;ee.push(N)}else z.coverage.glyphs.splice(I=-1-I,0,w),z.ligatureSets.splice(I,0,[N])},Zn.prototype.getFeature=function(w,I,N){if(/ss\d\d/.test(w))return this.getSingle(w,I,N);switch(w){case"aalt":case"salt":return this.getSingle(w,I,N).concat(this.getAlternates(w,I,N));case"dlig":case"liga":case"rlig":return this.getLigatures(w,I,N)}},Zn.prototype.add=function(w,I,N,z){if(/ss\d\d/.test(w))return this.addSingle(w,I,N,z);switch(w){case"aalt":case"salt":return typeof I.by=="number"?this.addSingle(w,I,N,z):this.addAlternate(w,I,N,z);case"dlig":case"liga":case"rlig":return this.addLigature(w,I,N,z)}};var Li={getPath:wi,parse:function(w,I,N,z){for(var K=new gt.GlyphSet(z),ee=0;ee<N.length-1;ee+=1){var re=N[ee];re!==N[ee+1]?K.push(ee,gt.ttfGlyphLoader(z,ee,fi,w,I+re,Eo)):K.push(ee,gt.glyphLoader(z,ee))}return K}};function Oa(w){this.font=w,this.getCommands=function(I){return Li.getPath(I).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Ni(w){return w}function xi(w){return Math.sign(w)*Math.round(Math.abs(w))}function Bl(w){return Math.sign(w)*Math.round(Math.abs(2*w))/2}function Jn(w){return Math.sign(w)*(Math.round(Math.abs(w)+.5)-.5)}function Qr(w){return Math.sign(w)*Math.ceil(Math.abs(w))}function Da(w){return Math.sign(w)*Math.floor(Math.abs(w))}function jo(w){var I=this.srPeriod,N=this.srPhase,z=1;return w<0&&(w=-w,z=-1),w+=this.srThreshold-N,w=Math.trunc(w/I)*I,(w+=N)<0?N*z:w*z}var ni={x:1,y:0,axis:"x",distance:function(w,I,N,z){return(N?w.xo:w.x)-(z?I.xo:I.x)},interpolate:function(w,I,N,z){var K,ee,re,_e,Te,Ce,Ne;if(!z||z===this)return K=w.xo-I.xo,ee=w.xo-N.xo,Te=I.x-I.xo,Ce=N.x-N.xo,(Ne=(re=Math.abs(K))+(_e=Math.abs(ee)))===0?void(w.x=w.xo+(Te+Ce)/2):void(w.x=w.xo+(Te*_e+Ce*re)/Ne);K=z.distance(w,I,!0,!0),ee=z.distance(w,N,!0,!0),Te=z.distance(I,I,!1,!0),Ce=z.distance(N,N,!1,!0),(Ne=(re=Math.abs(K))+(_e=Math.abs(ee)))===0?ni.setRelative(w,w,(Te+Ce)/2,z,!0):ni.setRelative(w,w,(Te*_e+Ce*re)/Ne,z,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(w,I,N,z,K){var ee,re;z&&z!==this?(ee=K?I.xo:I.x,re=K?I.yo:I.y,ee+=N*z.x,re+=N*z.y,w.x=ee+(w.y-re)/z.normalSlope):w.x=(K?I.xo:I.x)+N},slope:0,touch:function(w){w.xTouched=!0},touched:function(w){return w.xTouched},untouch:function(w){w.xTouched=!1}},Us={x:0,y:1,axis:"y",distance:function(w,I,N,z){return(N?w.yo:w.y)-(z?I.yo:I.y)},interpolate:function(w,I,N,z){var K,ee,re,_e,Te,Ce,Ne;if(!z||z===this)return K=w.yo-I.yo,ee=w.yo-N.yo,Te=I.y-I.yo,Ce=N.y-N.yo,(Ne=(re=Math.abs(K))+(_e=Math.abs(ee)))===0?void(w.y=w.yo+(Te+Ce)/2):void(w.y=w.yo+(Te*_e+Ce*re)/Ne);K=z.distance(w,I,!0,!0),ee=z.distance(w,N,!0,!0),Te=z.distance(I,I,!1,!0),Ce=z.distance(N,N,!1,!0),(Ne=(re=Math.abs(K))+(_e=Math.abs(ee)))===0?Us.setRelative(w,w,(Te+Ce)/2,z,!0):Us.setRelative(w,w,(Te*_e+Ce*re)/Ne,z,!0)},normalSlope:0,setRelative:function(w,I,N,z,K){var ee,re;z&&z!==this?(ee=K?I.xo:I.x,re=K?I.yo:I.y,ee+=N*z.x,re+=N*z.y,w.y=re+z.normalSlope*(w.x-ee)):w.y=(K?I.yo:I.y)+N},slope:Number.POSITIVE_INFINITY,touch:function(w){w.yTouched=!0},touched:function(w){return w.yTouched},untouch:function(w){w.yTouched=!1}};function Ui(w,I){this.x=w,this.y=I,this.axis=void 0,this.slope=I/w,this.normalSlope=-w/I,Object.freeze(this)}function Bs(w,I){var N=Math.sqrt(w*w+I*I);return I/=N,(w/=N)==1&&I===0?ni:w===0&&I===1?Us:new Ui(w,I)}function Rs(w,I,N,z){this.x=this.xo=Math.round(64*w)/64,this.y=this.yo=Math.round(64*I)/64,this.lastPointOfContour=N,this.onCurve=z,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(ni),Object.freeze(Us),Ui.prototype.distance=function(w,I,N,z){return this.x*ni.distance(w,I,N,z)+this.y*Us.distance(w,I,N,z)},Ui.prototype.interpolate=function(w,I,N,z){var K=z.distance(w,I,!0,!0),ee=z.distance(w,N,!0,!0),re=(I=z.distance(I,I,!1,!0),N=z.distance(N,N,!1,!0),(K=Math.abs(K))+(ee=Math.abs(ee)));re===0?this.setRelative(w,w,(I+N)/2,z,!0):this.setRelative(w,w,(I*ee+N*K)/re,z,!0)},Ui.prototype.setRelative=function(w,I,N,z,K){var ee=K?I.xo:I.x,re=(K=K?I.yo:I.y,I=ee+N*(z=z||this).x,ee=K+N*z.y,K=z.normalSlope,N=this.slope,z=w.x,w.y);w.x=(N*z-K*I+ee-re)/(N-K),w.y=N*(w.x-z)+re},Ui.prototype.touch=function(w){w.xTouched=!0,w.yTouched=!0},Rs.prototype.nextTouched=function(w){for(var I=this.nextPointOnContour;!w.touched(I)&&I!==this;)I=I.nextPointOnContour;return I},Rs.prototype.prevTouched=function(w){for(var I=this.prevPointOnContour;!w.touched(I)&&I!==this;)I=I.prevPointOnContour;return I};var ys=Object.freeze(new Rs(0,0)),Uu={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Bi(w,I){switch(this.env=w,this.stack=[],this.prog=I,w){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=ni,this.round=xi}}function Fi(w){for(var I=w.tZone=new Array(w.gZone.length),N=0;N<I.length;N++)I[N]=new Rs(0,0)}function Xo(w,I){var N,z=w.prog,K=w.ip,ee=1;do if((N=z[++K])===88)ee++;else if(N===89)ee--;else if(N===64)K+=z[K+1]+1;else if(N===65)K+=2*z[K+1]+1;else if(176<=N&&N<=183)K+=N-176+1;else if(184<=N&&N<=191)K+=2*(N-184+1);else if(I&&ee===1&&N===27)break;while(0<ee);w.ip=K}function Pa(w,I){d.DEBUG&&console.log(I.step,"SVTCA["+w.axis+"]"),I.fv=I.pv=I.dpv=w}function Ko(w,I){d.DEBUG&&console.log(I.step,"SPVTCA["+w.axis+"]"),I.pv=I.dpv=w}function Fl(w,I){d.DEBUG&&console.log(I.step,"SFVTCA["+w.axis+"]"),I.fv=w}function Qo(w,I){var N,z=(K=I.stack).pop(),K=K.pop(),ee=I.z2[z],re=I.z1[K];d.DEBUG&&console.log("SPVTL["+w+"]",z,K),z=w?(N=ee.y-re.y,re.x-ee.x):(N=re.x-ee.x,re.y-ee.y),I.pv=I.dpv=Bs(N,z)}function Bu(w,I){var N,z=(K=I.stack).pop(),K=K.pop(),ee=I.z2[z],re=I.z1[K];d.DEBUG&&console.log("SFVTL["+w+"]",z,K),z=w?(N=ee.y-re.y,re.x-ee.x):(N=re.x-ee.x,re.y-ee.y),I.fv=Bs(N,z)}function Zo(w){d.DEBUG&&console.log(w.step,"POP[]"),w.stack.pop()}function To(w,I){var N=I.stack.pop(),z=I.z0[N],K=I.fv,ee=I.pv,re=(d.DEBUG&&console.log(I.step,"MDAP["+w+"]",N),ee.distance(z,ys));w&&(re=I.round(re)),K.setRelative(z,ys,re,ee),K.touch(z),I.rp0=I.rp1=N}function Vl(w,I){var N,z,K,ee=I.z2,re=ee.length-2;d.DEBUG&&console.log(I.step,"IUP["+w.axis+"]");for(var _e=0;_e<re;_e++)N=ee[_e],w.touched(N)||(z=N.prevTouched(w))!==N&&(z===(K=N.nextTouched(w))&&w.setRelative(N,N,w.distance(z,z,!1,!0),w,!0),w.interpolate(N,z,K,w))}function zl(w,I){for(var N=I.stack,z=w?I.rp1:I.rp2,K=(w?I.z0:I.z1)[z],ee=I.fv,re=I.pv,_e=I.loop,Te=I.z2;_e--;){var Ce=N.pop(),Ne=Te[Ce],ze=re.distance(K,K,!1,!0);ee.setRelative(Ne,Ne,ze,re),ee.touch(Ne),d.DEBUG&&console.log(I.step,(1<I.loop?"loop "+(I.loop-_e)+": ":"")+"SHP["+(w?"rp1":"rp2")+"]",Ce)}I.loop=1}function La(w,I){for(var N=I.stack,z=w?I.rp1:I.rp2,K=(w?I.z0:I.z1)[z],ee=I.fv,re=I.pv,_e=(z=N.pop(),I.z2[I.contours[z]]),Te=_e,Ce=(d.DEBUG&&console.log(I.step,"SHC["+w+"]",z),re.distance(K,K,!1,!0));Te!==K&&ee.setRelative(Te,Te,Ce,re),(Te=Te.nextPointOnContour)!==_e;);}function Ao(w,I){var N,z,K=I.stack,ee=w?I.rp1:I.rp2,re=(ee=(w?I.z0:I.z1)[ee],I.fv),_e=I.pv;switch(K=K.pop(),d.DEBUG&&console.log(I.step,"SHZ["+w+"]",K),K){case 0:N=I.tZone;break;case 1:N=I.gZone;break;default:throw new Error("Invalid zone")}for(var Te=_e.distance(ee,ee,!1,!0),Ce=N.length-2,Ne=0;Ne<Ce;Ne++)z=N[Ne],re.setRelative(z,z,Te,_e)}function Gl(w,I){var N=(z=I.stack).pop()/64,z=z.pop(),K=I.z1[z],ee=I.z0[I.rp0],re=I.fv,_e=I.pv;re.setRelative(K,ee,N,_e),re.touch(K),d.DEBUG&&console.log(I.step,"MSIRP["+w+"]",N,z),I.rp1=I.rp0,I.rp2=z,w&&(I.rp0=z)}function Jo(w,I){var N=(z=I.stack).pop(),z=z.pop(),K=I.z0[z],ee=I.fv,re=I.pv,_e=I.cvt[N];d.DEBUG&&console.log(I.step,"MIAP["+w+"]",N,"(",_e,")",z),N=re.distance(K,ys),w&&(Math.abs(N-_e)<I.cvCutIn&&(N=_e),N=I.round(N)),ee.setRelative(K,ys,N,re),I.zp0===0&&(K.xo=K.x,K.yo=K.y),ee.touch(K),I.rp0=I.rp1=z}function Hl(w,I){var N=I.stack,z=N.pop(),K=I.z2[z];d.DEBUG&&console.log(I.step,"GC["+w+"]",z),N.push(64*I.dpv.distance(K,ys,w,!1))}function Na(w,I){var N=(z=I.stack).pop(),z=z.pop(),K=I.z1[N],ee=I.z0[z];ee=I.dpv.distance(ee,K,w,w),d.DEBUG&&console.log(I.step,"MD["+w+"]",N,z,"->",ee),I.stack.push(Math.round(64*ee))}function Si(w,I){var N=I.stack,z=N.pop(),K=I.fv,ee=I.pv,re=I.ppem,_e=I.deltaBase+16*(w-1),Te=I.deltaShift,Ce=I.z0;d.DEBUG&&console.log(I.step,"DELTAP["+w+"]",z,N);for(var Ne=0;Ne<z;Ne++){var ze=N.pop(),He=N.pop();_e+((240&He)>>4)===re&&(0<=(He=(15&He)-8)&&He++,d.DEBUG&&console.log(I.step,"DELTAPFIX",ze,"by",He*Te),ze=Ce[ze],K.setRelative(ze,ze,He*Te,ee))}}function ea(w,I){var N=I.stack,z=N.pop();d.DEBUG&&console.log(I.step,"ROUND[]"),N.push(64*I.round(z/64))}function Ua(w,I){var N=I.stack,z=N.pop(),K=I.ppem,ee=I.deltaBase+16*(w-1),re=I.deltaShift;d.DEBUG&&console.log(I.step,"DELTAC["+w+"]",z,N);for(var _e=0;_e<z;_e++){var Te=N.pop(),Ce=N.pop();ee+((240&Ce)>>4)===K&&(0<=(Ce=(15&Ce)-8)&&Ce++,Ce*=re,d.DEBUG&&console.log(I.step,"DELTACFIX",Te,"by",Ce),I.cvt[Te]+=Ce)}}function ql(w,I){var N,z=(K=I.stack).pop(),K=K.pop(),ee=I.z2[z],re=I.z1[K];d.DEBUG&&console.log(I.step,"SDPVTL["+w+"]",z,K),z=w?(N=ee.y-re.y,re.x-ee.x):(N=re.x-ee.x,re.y-ee.y),I.dpv=Bs(N,z)}function Ei(w,I){var N=I.stack,z=I.prog,K=I.ip;d.DEBUG&&console.log(I.step,"PUSHB["+w+"]");for(var ee=0;ee<w;ee++)N.push(z[++K]);I.ip=K}function si(w,I){var N=I.ip,z=I.prog,K=I.stack;d.DEBUG&&console.log(I.ip,"PUSHW["+w+"]");for(var ee=0;ee<w;ee++){var re=z[++N]<<8|z[++N];32768&re&&(re=-(1+(65535^re))),K.push(re)}I.ip=N}function Pt(w,I,N,z,K,ee){var re,_e,Te=ee.stack,Ce=w&&Te.pop(),Ne=(Te=Te.pop(),ee.rp0),ze=(Ne=ee.z0[Ne],ee.z1[Te]),He=ee.minDis,Ie=ee.fv,xt=ee.dpv,tt=re=xt.distance(ze,Ne,!0,!0),Qe=0<=tt?1:-1;tt=Math.abs(tt),w&&(_e=ee.cvt[Ce],z&&Math.abs(tt-_e)<ee.cvCutIn&&(tt=_e)),N&&tt<He&&(tt=He),z&&(tt=ee.round(tt)),Ie.setRelative(ze,Ne,Qe*tt,xt),Ie.touch(ze),d.DEBUG&&console.log(ee.step,(w?"MIRP[":"MDRP[")+(I?"M":"m")+(N?">":"_")+(z?"R":"_")+(K===0?"Gr":K===1?"Bl":K===2?"Wh":"")+"]",w?Ce+"("+ee.cvt[Ce]+","+_e+")":"",Te,"(d =",re,"->",Qe*tt,")"),ee.rp1=ee.rp0,ee.rp2=Te,I&&(ee.rp0=Te)}Oa.prototype.exec=function(w,I){if(typeof I!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var N=this.font,z=this._prepState;if(!z||z.ppem!==I){var K=this._fpgmState;if(!K){Bi.prototype=Uu,(K=this._fpgmState=new Bi("fpgm",N.tables.fpgm)).funcs=[],K.font=N,d.DEBUG&&(console.log("---EXEC FPGM---"),K.step=-1);try{Ms(K)}catch(Ce){return console.log("Hinting error in FPGM:"+Ce),void(this._errorState=3)}}Bi.prototype=K,(z=this._prepState=new Bi("prep",N.tables.prep)).ppem=I;var ee=N.tables.cvt;if(ee)for(var re=z.cvt=new Array(ee.length),_e=I/N.unitsPerEm,Te=0;Te<ee.length;Te++)re[Te]=ee[Te]*_e;else z.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),z.step=-1);try{Ms(z)}catch(Ce){this._errorState<2&&console.log("Hinting error in PREP:"+Ce),this._errorState=2}}if(!(1<this._errorState))try{return Fu(w,z)}catch(Ce){this._errorState<1&&(console.log("Hinting error:"+Ce),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Fu=function(w,I){var N=I.ppem/I.font.unitsPerEm,z=N,K=w.components;if(Bi.prototype=I,K){for(var ee=I.font,re=[],_e=[],Te=0;Te<K.length;Te++){var Ce=K[Te],Ne=ee.glyphs.get(Ce.glyphIndex),ze=new Bi("glyf",Ne.instructions);d.DEBUG&&(console.log("---EXEC COMP "+Te+"---"),ze.step=-1),$l(Ne,ze,N,z);for(var He=Math.round(Ce.dx*N),Ie=Math.round(Ce.dy*z),xt=ze.gZone,tt=ze.contours,Qe=0;Qe<xt.length;Qe++){var rt=xt[Qe];rt.xTouched=rt.yTouched=!1,rt.xo=rt.x=rt.x+He,rt.yo=rt.y=rt.y+Ie}var ot=re.length;re.push.apply(re,xt);for(var Lt=0;Lt<tt.length;Lt++)_e.push(tt[Lt]+ot)}w.instructions&&!ze.inhibitGridFit&&((ze=new Bi("glyf",w.instructions)).gZone=ze.z0=ze.z1=ze.z2=re,ze.contours=_e,re.push(new Rs(0,0),new Rs(Math.round(w.advanceWidth*N),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),ze.step=-1),Ms(ze),re.length-=2)}else ze=new Bi("glyf",w.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),ze.step=-1),$l(w,ze,N,z),re=ze.gZone;return re},$l=function(w,I,N,z){for(var K,ee,re,_e=w.points||[],Te=_e.length,Ce=I.gZone=I.z0=I.z1=I.z2=[],Ne=I.contours=[],ze=0;ze<Te;ze++)K=_e[ze],Ce[ze]=new Rs(K.x*N,K.y*z,K.lastPointOfContour,K.onCurve);for(var He=0;He<Te;He++)K=Ce[He],ee||(ee=K,Ne.push(He)),K.lastPointOfContour?((K.nextPointOnContour=ee).prevPointOnContour=K,ee=void 0):(re=Ce[He+1],(K.nextPointOnContour=re).prevPointOnContour=K);if(!I.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",I.stack);for(var Ie=0;Ie<Te;Ie++)console.log(Ie,Ce[Ie].x,Ce[Ie].y)}if(Ce.push(new Rs(0,0),new Rs(Math.round(w.advanceWidth*N),0)),Ms(I),Ce.length-=2,d.DEBUG){console.log("FINISHED GLYPH",I.stack);for(var xt=0;xt<Te;xt++)console.log(xt,Ce[xt].x,Ce[xt].y)}}},Ms=function(w){var I=w.prog;if(I){var N,z=I.length;for(w.ip=0;w.ip<z;w.ip++){if(d.DEBUG&&w.step++,!(N=L[I[w.ip]]))throw new Error("unknown instruction: 0x"+Number(I[w.ip]).toString(16));N(w)}}},L=[Pa.bind(void 0,Us),Pa.bind(void 0,ni),Ko.bind(void 0,Us),Ko.bind(void 0,ni),Fl.bind(void 0,Us),Fl.bind(void 0,ni),Qo.bind(void 0,0),Qo.bind(void 0,1),Bu.bind(void 0,0),Bu.bind(void 0,1),function(w){var I=(N=w.stack).pop(),N=N.pop();d.DEBUG&&console.log(w.step,"SPVFS[]",I,N),w.pv=w.dpv=Bs(N,I)},function(w){var I=(N=w.stack).pop(),N=N.pop();d.DEBUG&&console.log(w.step,"SPVFS[]",I,N),w.fv=Bs(N,I)},function(w){var I=w.stack,N=w.pv;d.DEBUG&&console.log(w.step,"GPV[]"),I.push(16384*N.x),I.push(16384*N.y)},function(w){var I=w.stack,N=w.fv;d.DEBUG&&console.log(w.step,"GFV[]"),I.push(16384*N.x),I.push(16384*N.y)},function(w){w.fv=w.pv,d.DEBUG&&console.log(w.step,"SFVTPV[]")},function(w){var I=(ee=w.stack).pop(),N=ee.pop(),z=ee.pop(),K=ee.pop(),ee=ee.pop(),re=w.z0,_e=w.z1,Te=re[I],Ce=(re=re[N],_e[z]),Ne=(_e=_e[K],w=w.z2[ee],I=(d.DEBUG&&console.log("ISECT[], ",I,N,z,K,ee),Te.x),N=Te.y,z=re.x,K=re.y,ee=Ce.x,Te=Ce.y,re=_e.x,_e=(I-z)*(Te-(Ce=_e.y))-(N-K)*(ee-re),I*K-N*z),ze=ee*Ce-Te*re;w.x=(Ne*(ee-re)-ze*(I-z))/_e,w.y=(Ne*(Te-Ce)-ze*(N-K))/_e},function(w){w.rp0=w.stack.pop(),d.DEBUG&&console.log(w.step,"SRP0[]",w.rp0)},function(w){w.rp1=w.stack.pop(),d.DEBUG&&console.log(w.step,"SRP1[]",w.rp1)},function(w){w.rp2=w.stack.pop(),d.DEBUG&&console.log(w.step,"SRP2[]",w.rp2)},function(w){var I=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SZP0[]",I),w.zp0=I){case 0:w.tZone||Fi(w),w.z0=w.tZone;break;case 1:w.z0=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var I=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SZP1[]",I),w.zp1=I){case 0:w.tZone||Fi(w),w.z1=w.tZone;break;case 1:w.z1=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var I=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SZP2[]",I),w.zp2=I){case 0:w.tZone||Fi(w),w.z2=w.tZone;break;case 1:w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){var I=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SZPS[]",I),w.zp0=w.zp1=w.zp2=I){case 0:w.tZone||Fi(w),w.z0=w.z1=w.z2=w.tZone;break;case 1:w.z0=w.z1=w.z2=w.gZone;break;default:throw new Error("Invalid zone pointer")}},function(w){w.loop=w.stack.pop(),d.DEBUG&&console.log(w.step,"SLOOP[]",w.loop)},function(w){d.DEBUG&&console.log(w.step,"RTG[]"),w.round=xi},function(w){d.DEBUG&&console.log(w.step,"RTHG[]"),w.round=Jn},function(w){var I=w.stack.pop();d.DEBUG&&console.log(w.step,"SMD[]",I),w.minDis=I/64},function(w){d.DEBUG&&console.log(w.step,"ELSE[]"),Xo(w,!1)},function(w){var I=w.stack.pop();d.DEBUG&&console.log(w.step,"JMPR[]",I),w.ip+=I-1},function(w){var I=w.stack.pop();d.DEBUG&&console.log(w.step,"SCVTCI[]",I),w.cvCutIn=I/64},void 0,void 0,function(w){var I=w.stack;d.DEBUG&&console.log(w.step,"DUP[]"),I.push(I[I.length-1])},Zo,function(w){d.DEBUG&&console.log(w.step,"CLEAR[]"),w.stack.length=0},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"SWAP[]"),I.push(N),I.push(z)},function(w){var I=w.stack;d.DEBUG&&console.log(w.step,"DEPTH[]"),I.push(I.length)},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"CINDEX[]",N),I.push(I[I.length-N])},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"MINDEX[]",N),I.push(I.splice(I.length-N,1)[0])},void 0,void 0,void 0,function(w){var I=(z=w.stack).pop(),N=z.pop(),z=(d.DEBUG&&console.log(w.step,"LOOPCALL[]",I,N),w.ip),K=w.prog;w.prog=w.funcs[I];for(var ee=0;ee<N;ee++)Ms(w),d.DEBUG&&console.log(++w.step,ee+1<N?"next loopcall":"done loopcall",ee);w.ip=z,w.prog=K},function(w){var I=w.stack.pop(),N=(d.DEBUG&&console.log(w.step,"CALL[]",I),w.ip),z=w.prog;w.prog=w.funcs[I],Ms(w),w.ip=N,w.prog=z,d.DEBUG&&console.log(++w.step,"returning from",I)},function(w){if(w.env!=="fpgm")throw new Error("FDEF not allowed here");var I=w.stack,N=w.prog,z=w.ip,K=(I=I.pop(),z);for(d.DEBUG&&console.log(w.step,"FDEF[]",I);N[++z]!==45;);w.ip=z,w.funcs[I]=N.slice(K+1,z)},void 0,To.bind(void 0,0),To.bind(void 0,1),Vl.bind(void 0,Us),Vl.bind(void 0,ni),zl.bind(void 0,0),zl.bind(void 0,1),La.bind(void 0,0),La.bind(void 0,1),Ao.bind(void 0,0),Ao.bind(void 0,1),function(w){for(var I=w.stack,N=w.loop,z=w.fv,K=I.pop()/64,ee=w.z2;N--;){var re=I.pop(),_e=ee[re];d.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-N)+": ":"")+"SHPIX[]",re,K),z.setRelative(_e,_e,K),z.touch(_e)}w.loop=1},function(w){for(var I=w.stack,N=w.rp1,z=w.rp2,K=w.loop,ee=w.z0[N],re=w.z1[z],_e=w.fv,Te=w.dpv,Ce=w.z2;K--;){var Ne=I.pop(),ze=Ce[Ne];d.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-K)+": ":"")+"IP[]",Ne,N,"<->",z),_e.interpolate(ze,ee,re,Te),_e.touch(ze)}w.loop=1},Gl.bind(void 0,0),Gl.bind(void 0,1),function(w){for(var I=w.stack,N=w.rp0,z=w.z0[N],K=w.loop,ee=w.fv,re=w.pv,_e=w.z1;K--;){var Te=I.pop(),Ce=_e[Te];d.DEBUG&&console.log(w.step,(1<w.loop?"loop "+(w.loop-K)+": ":"")+"ALIGNRP[]",Te),ee.setRelative(Ce,z,0,re),ee.touch(Ce)}w.loop=1},function(w){d.DEBUG&&console.log(w.step,"RTDG[]"),w.round=Bl},Jo.bind(void 0,0),Jo.bind(void 0,1),function(w){var I=w.prog,N=w.ip,z=w.stack,K=I[++N];d.DEBUG&&console.log(w.step,"NPUSHB[]",K);for(var ee=0;ee<K;ee++)z.push(I[++N]);w.ip=N},function(w){var I=w.ip,N=w.prog,z=w.stack,K=N[++I];d.DEBUG&&console.log(w.step,"NPUSHW[]",K);for(var ee=0;ee<K;ee++){var re=N[++I]<<8|N[++I];32768&re&&(re=-(1+(65535^re))),z.push(re)}w.ip=I},function(w){var I=w.stack,N=(N=w.store)||(w.store=[]),z=I.pop();I=I.pop(),d.DEBUG&&console.log(w.step,"WS",z,I),N[I]=z},function(w){var I=w.stack,N=w.store,z=I.pop();d.DEBUG&&console.log(w.step,"RS",z),w=N&&N[z]||0,I.push(w)},function(w){var I=(N=w.stack).pop(),N=N.pop();d.DEBUG&&console.log(w.step,"WCVTP",I,N),w.cvt[N]=I/64},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"RCVT",N),I.push(64*w.cvt[N])},Hl.bind(void 0,0),Hl.bind(void 0,1),void 0,Na.bind(void 0,0),Na.bind(void 0,1),function(w){d.DEBUG&&console.log(w.step,"MPPEM[]"),w.stack.push(w.ppem)},void 0,function(w){d.DEBUG&&console.log(w.step,"FLIPON[]"),w.autoFlip=!0},void 0,void 0,function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"LT[]",N,z),I.push(z<N?1:0)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"LTEQ[]",N,z),I.push(z<=N?1:0)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"GT[]",N,z),I.push(N<z?1:0)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"GTEQ[]",N,z),I.push(N<=z?1:0)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"EQ[]",N,z),I.push(N===z?1:0)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"NEQ[]",N,z),I.push(N!==z?1:0)},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"ODD[]",N),I.push(Math.trunc(N)%2?1:0)},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"EVEN[]",N),I.push(Math.trunc(N)%2?0:1)},function(w){var I=w.stack.pop();d.DEBUG&&console.log(w.step,"IF[]",I),I||(Xo(w,!0),d.DEBUG&&console.log(w.step,"EIF[]"))},function(w){d.DEBUG&&console.log(w.step,"EIF[]")},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"AND[]",N,z),I.push(N&&z?1:0)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"OR[]",N,z),I.push(N||z?1:0)},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"NOT[]",N),I.push(N?0:1)},Si.bind(void 0,1),function(w){var I=w.stack.pop();d.DEBUG&&console.log(w.step,"SDB[]",I),w.deltaBase=I},function(w){var I=w.stack.pop();d.DEBUG&&console.log(w.step,"SDS[]",I),w.deltaShift=Math.pow(.5,I)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"ADD[]",N,z),I.push(z+N)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"SUB[]",N,z),I.push(z-N)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"DIV[]",N,z),I.push(64*z/N)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"MUL[]",N,z),I.push(z*N/64)},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"ABS[]",N),I.push(Math.abs(N))},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"NEG[]",N),I.push(-N)},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"FLOOR[]",N),I.push(64*Math.floor(N/64))},function(w){var I=w.stack,N=I.pop();d.DEBUG&&console.log(w.step,"CEILING[]",N),I.push(64*Math.ceil(N/64))},ea.bind(void 0,0),ea.bind(void 0,1),ea.bind(void 0,2),ea.bind(void 0,3),void 0,void 0,void 0,void 0,function(w){var I=(N=w.stack).pop(),N=N.pop();d.DEBUG&&console.log(w.step,"WCVTF[]",I,N),w.cvt[N]=I*w.ppem/w.font.unitsPerEm},Si.bind(void 0,2),Si.bind(void 0,3),Ua.bind(void 0,1),Ua.bind(void 0,2),Ua.bind(void 0,3),function(w){var I,N=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"SROUND[]",N),w.round=jo,192&N){case 0:I=.5;break;case 64:I=1;break;case 128:I=2;break;default:throw new Error("invalid SROUND value")}switch(w.srPeriod=I,48&N){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*I;break;case 32:w.srPhase=.5*I;break;case 48:w.srPhase=.75*I;break;default:throw new Error("invalid SROUND value")}w.srThreshold=(N&=15)==0?0:(N/8-.5)*I},function(w){var I,N=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"S45ROUND[]",N),w.round=jo,192&N){case 0:I=Math.sqrt(2)/2;break;case 64:I=Math.sqrt(2);break;case 128:I=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(w.srPeriod=I,48&N){case 0:w.srPhase=0;break;case 16:w.srPhase=.25*I;break;case 32:w.srPhase=.5*I;break;case 48:w.srPhase=.75*I;break;default:throw new Error("invalid S45ROUND value")}w.srThreshold=(N&=15)==0?0:(N/8-.5)*I},void 0,void 0,function(w){d.DEBUG&&console.log(w.step,"ROFF[]"),w.round=Ni},void 0,function(w){d.DEBUG&&console.log(w.step,"RUTG[]"),w.round=Qr},function(w){d.DEBUG&&console.log(w.step,"RDTG[]"),w.round=Da},Zo,Zo,void 0,void 0,void 0,void 0,void 0,function(w){var I=w.stack.pop();d.DEBUG&&console.log(w.step,"SCANCTRL[]",I)},ql.bind(void 0,0),ql.bind(void 0,1),function(w){var I=w.stack,N=I.pop(),z=0;d.DEBUG&&console.log(w.step,"GETINFO[]",N),1&N&&(z=35),32&N&&(z|=4096),I.push(z)},void 0,function(w){var I=w.stack,N=I.pop(),z=I.pop(),K=I.pop();d.DEBUG&&console.log(w.step,"ROLL[]"),I.push(z),I.push(N),I.push(K)},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"MAX[]",N,z),I.push(Math.max(z,N))},function(w){var I=w.stack,N=I.pop(),z=I.pop();d.DEBUG&&console.log(w.step,"MIN[]",N,z),I.push(Math.min(z,N))},function(w){var I=w.stack.pop();d.DEBUG&&console.log(w.step,"SCANTYPE[]",I)},function(w){var I=w.stack.pop(),N=w.stack.pop();switch(d.DEBUG&&console.log(w.step,"INSTCTRL[]",I,N),I){case 1:return void(w.inhibitGridFit=!!N);case 2:return void(w.ignoreCvt=!!N);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Ei.bind(void 0,1),Ei.bind(void 0,2),Ei.bind(void 0,3),Ei.bind(void 0,4),Ei.bind(void 0,5),Ei.bind(void 0,6),Ei.bind(void 0,7),Ei.bind(void 0,8),si.bind(void 0,1),si.bind(void 0,2),si.bind(void 0,3),si.bind(void 0,4),si.bind(void 0,5),si.bind(void 0,6),si.bind(void 0,7),si.bind(void 0,8),Pt.bind(void 0,0,0,0,0,0),Pt.bind(void 0,0,0,0,0,1),Pt.bind(void 0,0,0,0,0,2),Pt.bind(void 0,0,0,0,0,3),Pt.bind(void 0,0,0,0,1,0),Pt.bind(void 0,0,0,0,1,1),Pt.bind(void 0,0,0,0,1,2),Pt.bind(void 0,0,0,0,1,3),Pt.bind(void 0,0,0,1,0,0),Pt.bind(void 0,0,0,1,0,1),Pt.bind(void 0,0,0,1,0,2),Pt.bind(void 0,0,0,1,0,3),Pt.bind(void 0,0,0,1,1,0),Pt.bind(void 0,0,0,1,1,1),Pt.bind(void 0,0,0,1,1,2),Pt.bind(void 0,0,0,1,1,3),Pt.bind(void 0,0,1,0,0,0),Pt.bind(void 0,0,1,0,0,1),Pt.bind(void 0,0,1,0,0,2),Pt.bind(void 0,0,1,0,0,3),Pt.bind(void 0,0,1,0,1,0),Pt.bind(void 0,0,1,0,1,1),Pt.bind(void 0,0,1,0,1,2),Pt.bind(void 0,0,1,0,1,3),Pt.bind(void 0,0,1,1,0,0),Pt.bind(void 0,0,1,1,0,1),Pt.bind(void 0,0,1,1,0,2),Pt.bind(void 0,0,1,1,0,3),Pt.bind(void 0,0,1,1,1,0),Pt.bind(void 0,0,1,1,1,1),Pt.bind(void 0,0,1,1,1,2),Pt.bind(void 0,0,1,1,1,3),Pt.bind(void 0,1,0,0,0,0),Pt.bind(void 0,1,0,0,0,1),Pt.bind(void 0,1,0,0,0,2),Pt.bind(void 0,1,0,0,0,3),Pt.bind(void 0,1,0,0,1,0),Pt.bind(void 0,1,0,0,1,1),Pt.bind(void 0,1,0,0,1,2),Pt.bind(void 0,1,0,0,1,3),Pt.bind(void 0,1,0,1,0,0),Pt.bind(void 0,1,0,1,0,1),Pt.bind(void 0,1,0,1,0,2),Pt.bind(void 0,1,0,1,0,3),Pt.bind(void 0,1,0,1,1,0),Pt.bind(void 0,1,0,1,1,1),Pt.bind(void 0,1,0,1,1,2),Pt.bind(void 0,1,0,1,1,3),Pt.bind(void 0,1,1,0,0,0),Pt.bind(void 0,1,1,0,0,1),Pt.bind(void 0,1,1,0,0,2),Pt.bind(void 0,1,1,0,0,3),Pt.bind(void 0,1,1,0,1,0),Pt.bind(void 0,1,1,0,1,1),Pt.bind(void 0,1,1,0,1,2),Pt.bind(void 0,1,1,0,1,3),Pt.bind(void 0,1,1,1,0,0),Pt.bind(void 0,1,1,1,0,1),Pt.bind(void 0,1,1,1,0,2),Pt.bind(void 0,1,1,1,0,3),Pt.bind(void 0,1,1,1,1,0),Pt.bind(void 0,1,1,1,1,1),Pt.bind(void 0,1,1,1,1,2),Pt.bind(void 0,1,1,1,1,3)],J=Array.from||function(w){return w.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function se(w){(w=w||{}).empty||(oo(w.familyName,"When creating a new Font object, familyName is required."),oo(w.styleName,"When creating a new Font object, styleName is required."),oo(w.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),oo(w.ascender,"When creating a new Font object, ascender is required."),oo(w.descender,"When creating a new Font object, descender is required."),oo(w.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:w.familyName||" "},fontSubfamily:{en:w.styleName||" "},fullName:{en:w.fullName||w.familyName+" "+w.styleName},postScriptName:{en:w.postScriptName||(w.familyName+w.styleName).replace(/\s/g,"")},designer:{en:w.designer||" "},designerURL:{en:w.designerURL||" "},manufacturer:{en:w.manufacturer||" "},manufacturerURL:{en:w.manufacturerURL||" "},license:{en:w.license||" "},licenseURL:{en:w.licenseURL||" "},version:{en:w.version||"Version 0.1"},description:{en:w.description||" "},copyright:{en:w.copyright||" "},trademark:{en:w.trademark||" "}},this.unitsPerEm=w.unitsPerEm||1e3,this.ascender=w.ascender,this.descender=w.descender,this.createdTimestamp=w.createdTimestamp,this.tables={os2:{usWeightClass:w.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:w.widthClass||this.usWidthClasses.MEDIUM,fsSelection:w.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new gt.GlyphSet(this,w.glyphs||[]),this.encoding=new ue(this),this.position=new hi(this),this.substitution=new Zn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Oa(this):void 0)}})}se.prototype.hasChar=function(w){return this.encoding.charToGlyphIndex(w)!==null},se.prototype.charToGlyphIndex=function(w){return this.encoding.charToGlyphIndex(w)},se.prototype.charToGlyph=function(w){return w=this.charToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},se.prototype.stringToGlyphs=function(w,I){I=I||this.defaultRenderOptions;for(var N=J(w),z=[],K=0;K<N.length;K+=1){var ee=N[K];z.push(this.charToGlyphIndex(ee))}var re=z.length;if(I.features){w=I.script||this.substitution.getDefaultScriptName();var _e=[];I.features.liga&&(_e=_e.concat(this.substitution.getFeature("liga",w,I.language))),I.features.rlig&&(_e=_e.concat(this.substitution.getFeature("rlig",w,I.language)));for(var Te=0;Te<re;Te+=1)for(var Ce=0;Ce<_e.length;Ce++){for(var Ne=_e[Ce],ze=Ne.sub,He=ze.length,Ie=0;Ie<He&&ze[Ie]===z[Te+Ie];)Ie++;Ie===He&&(z.splice(Te,He,Ne.by),re=re-He+1)}}for(var xt=new Array(re),tt=this.glyphs.get(0),Qe=0;Qe<re;Qe+=1)xt[Qe]=this.glyphs.get(z[Qe])||tt;return xt},se.prototype.nameToGlyphIndex=function(w){return this.glyphNames.nameToGlyphIndex(w)},se.prototype.nameToGlyph=function(w){return w=this.nameToGlyphIndex(w),this.glyphs.get(w)||this.glyphs.get(0)},se.prototype.glyphIndexToName=function(w){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(w):""},se.prototype.getKerningValue=function(w,I){w=w.index||w,I=I.index||I;var N=this.position.defaultKerningTables;return N?this.position.getKerningValue(N,w,I):this.kerningPairs[w+","+I]||0},se.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},se.prototype.forEachGlyph=function(w,I,N,z,K,ee){I=I!==void 0?I:0,N=N!==void 0?N:0,K=K||this.defaultRenderOptions;var re,_e=1/this.unitsPerEm*(z=z!==void 0?z:72),Te=this.stringToGlyphs(w,K);K.kerning&&(w=K.script||this.position.getDefaultScriptName(),re=this.position.getKerningTables(w,K.language));for(var Ce=0;Ce<Te.length;Ce+=1){var Ne=Te[Ce];ee.call(this,Ne,I,N,z,K),Ne.advanceWidth&&(I+=Ne.advanceWidth*_e),K.kerning&&Ce<Te.length-1&&(I+=(re?this.position.getKerningValue(re,Ne.index,Te[Ce+1].index):this.getKerningValue(Ne,Te[Ce+1]))*_e),K.letterSpacing?I+=K.letterSpacing*z:K.tracking&&(I+=K.tracking/1e3*z)}return I},se.prototype.getPath=function(w,I,N,z,K){var ee=new $;return this.forEachGlyph(w,I,N,z,K,function(re,_e,Te,Ce){re=re.getPath(_e,Te,Ce,K,this),ee.extend(re)}),ee},se.prototype.getPaths=function(w,I,N,z,K){var ee=[];return this.forEachGlyph(w,I,N,z,K,function(re,_e,Te,Ce){re=re.getPath(_e,Te,Ce,K,this),ee.push(re)}),ee},se.prototype.getAdvanceWidth=function(w,I,N){return this.forEachGlyph(w,0,0,I,N,function(){})},se.prototype.draw=function(w,I,N,z,K,ee){this.getPath(I,N,z,K,ee).draw(w)},se.prototype.drawPoints=function(w,I,N,z,K,ee){this.forEachGlyph(I,N,z,K,ee,function(re,_e,Te,Ce){re.drawPoints(w,_e,Te,Ce)})},se.prototype.drawMetrics=function(w,I,N,z,K,ee){this.forEachGlyph(I,N,z,K,ee,function(re,_e,Te,Ce){re.drawMetrics(w,_e,Te,Ce)})},se.prototype.getEnglishName=function(w){if(w=this.names[w])return w.en},se.prototype.validate=function(){var w=this;function I(N){(N=w.getEnglishName(N))&&N.trim().length}I("fontFamily"),I("weightName"),I("manufacturer"),I("copyright"),I("version"),this.unitsPerEm},se.prototype.toTables=function(){return md(this)},se.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},se.prototype.toArrayBuffer=function(){for(var w=this.toTables().encode(),I=new ArrayBuffer(w.length),N=new Uint8Array(I),z=0;z<w.length;z++)N[z]=w[z];return I},se.prototype.download=function(w){var I=this.getEnglishName("fontFamily"),N=this.getEnglishName("fontSubfamily"),z=(w=w||I.replace(/\s/g,"")+"-"+N+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,z.byteLength,function(K){K.root.getFile(w,{create:!0},function(ee){ee.createWriter(function(re){var _e=new DataView(z);_e=new Blob([_e],{type:"font/opentype"}),re.write(_e),re.addEventListener("writeend",function(){location.href=ee.toURL()},!1)})})},function(K){throw new Error(K.name+": "+K.message)})):(I=n("fs"),N=function(K){for(var ee=new m(K.byteLength),re=new Uint8Array(K),_e=0;_e<ee.length;++_e)ee[_e]=re[_e];return ee}(z),I.writeFileSync(w,N))},se.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},se.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},se.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var we=function(w,I,N){for(var z,K,ee,re,_e=new Ye.Parser(w,I),Te=_e.parseULong(),Ce=(ne.argument(Te===65536,"Unsupported fvar table version."),_e.parseOffset16()),Ne=(_e.skip("uShort",1),_e.parseUShort()),ze=_e.parseUShort(),He=_e.parseUShort(),Ie=_e.parseUShort(),xt=[],tt=0;tt<Ne;tt++)xt.push((z=w,K=I+Ce+tt*ze,ee=N,re={},z=new Ye.Parser(z,K),re.tag=z.parseTag(),re.minValue=z.parseFixed(),re.defaultValue=z.parseFixed(),re.maxValue=z.parseFixed(),z.skip("uShort",1),re.name=ee[z.parseUShort()]||{},re));for(var Qe=[],rt=I+Ce+Ne*ze,ot=0;ot<He;ot++)Qe.push(function(Lt,Dt,Nt,yr){var xr={},en=new Ye.Parser(Lt,Dt);xr.name=yr[en.parseUShort()]||{},en.skip("uShort",1),xr.coordinates={};for(var tn=0;tn<Nt.length;++tn)xr.coordinates[Nt[tn].tag]=en.parseFixed();return xr}(w,rt+ot*Ie,xt,N));return{axes:xt,instances:Qe}},Ge=new Array(10);Ge[1]=function(){var w=this.offset+this.relativeOffset,I=this.parseUShort();return I===1?{posFormat:1,coverage:this.parsePointer(je.coverage),value:this.parseValueRecord()}:I===2?{posFormat:2,coverage:this.parsePointer(je.coverage),values:this.parseValueRecordList()}:void ne.assert(!1,"0x"+w.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Ge[2]=function(){var w,I,N,z,K=this.offset+this.relativeOffset,ee=this.parseUShort(),re=(K=(ne.assert(ee===1||ee===2,"0x"+K.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(je.coverage)),this.parseUShort()),_e=this.parseUShort();return ee===1?{posFormat:ee,coverage:K,valueFormat1:re,valueFormat2:_e,pairSets:this.parseList(je.pointer(je.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(re),value2:this.parseValueRecord(_e)}})))}:ee===2?(w=this.parsePointer(je.classDef),I=this.parsePointer(je.classDef),N=this.parseUShort(),z=this.parseUShort(),{posFormat:ee,coverage:K,valueFormat1:re,valueFormat2:_e,classDef1:w,classDef2:I,class1Count:N,class2Count:z,classRecords:this.parseList(N,je.list(z,function(){return{value1:this.parseValueRecord(re),value2:this.parseValueRecord(_e)}}))}):void 0},Ge[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Ge[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Ge[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Ge[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Ge[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Ge[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Ge[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10);var it=function(w,I){return I=(w=new je(w,I=I||0)).parseVersion(1),ne.argument(I===1||I===1.1,"Unsupported GPOS table version "+I),I===1?{version:I,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(Ge)}:{version:I,scripts:w.parseScriptList(),features:w.parseFeatureList(),lookups:w.parseLookupList(Ge),variations:w.parseFeatureVariationsList()}},kt=function(w,I){if((I=(w=new Ye.Parser(w,I)).parseUShort())===0){var N=w,z={},K=(N.skip("uShort"),N.parseUShort()),ee=(ne.argument(K===0,"Unsupported kern sub-table version."),N.skip("uShort",2),N.parseUShort());N.skip("uShort",3);for(var re=0;re<ee;re+=1){var _e=N.parseUShort(),Te=N.parseUShort(),Ce=N.parseShort();z[_e+","+Te]=Ce}return z}if(I!==1)throw new Error("Unsupported kern table version ("+I+").");var Ne=w,ze={};if(Ne.skip("uShort"),1<Ne.parseULong()&&console.warn("Only the first kern subtable is supported."),Ne.skip("uLong"),K=255&Ne.parseUShort(),Ne.skip("uShort"),K==0){var He=Ne.parseUShort();Ne.skip("uShort",3);for(var Ie=0;Ie<He;Ie+=1){var xt=Ne.parseUShort(),tt=Ne.parseUShort(),Qe=Ne.parseShort();ze[xt+","+tt]=Qe}}return ze},Or=function(w,I,N,z){for(var K=new Ye.Parser(w,I),ee=z?K.parseUShort:K.parseULong,re=[],_e=0;_e<N+1;_e+=1){var Te=ee.call(K);z&&(Te*=2),re.push(Te)}return re};function Vn(w,I){n("fs").readFile(w,function(N,z){if(N)return I(N.message);I(null,Ia(z))})}function Dr(w,I){var N=new XMLHttpRequest;N.open("get",w,!0),N.responseType="arraybuffer",N.onload=function(){return N.response?I(null,N.response):I("Font could not be loaded: "+N.statusText)},N.onerror=function(){I("Font could not be loaded")},N.send()}function zn(w,I){for(var N=[],z=12,K=0;K<I;K+=1){var ee=Ye.getTag(w,z),re=Ye.getULong(w,z+4),_e=Ye.getULong(w,z+8),Te=Ye.getULong(w,z+12);N.push({tag:ee,checksum:re,offset:_e,length:Te,compression:!1}),z+=16}return N}function br(w,I){if(I.compression!=="WOFF")return{data:w,offset:I.offset};w=new Uint8Array(w.buffer,I.offset+2,I.compressedLength-2);var N=new Uint8Array(I.length);if(function(z,K){var ee,re,_e,Te=new f(z,K);do{switch((re=Te).bitcount--||(re.tag=re.source[re.sourceIndex++],re.bitcount=7),_e=1&re.tag,re.tag>>>=1,re=_e,O(Te,2,0)){case 0:ee=function(Nt){for(var yr,xr;8<Nt.bitcount;)Nt.sourceIndex--,Nt.bitcount-=8;if((yr=256*Nt.source[Nt.sourceIndex+1]+Nt.source[Nt.sourceIndex])!==(65535&~(256*Nt.source[Nt.sourceIndex+3]+Nt.source[Nt.sourceIndex+2])))return-3;for(Nt.sourceIndex+=4,xr=yr;xr;--xr)Nt.dest[Nt.destLen++]=Nt.source[Nt.sourceIndex++];return Nt.bitcount=0,0}(Te);break;case 1:ee=F(Te,h,p);break;case 2:Lt=ot=rt=Dt=Ce=Qe=void 0;for(var Ce,Ne=Te,ze=Te.ltree,He=Te.dtree,Ie=O(Ne,5,257),xt=O(Ne,5,1),tt=O(Ne,4,4),Qe=0;Qe<19;++Qe)E[Qe]=0;for(Qe=0;Qe<tt;++Qe){var rt=O(Ne,3,0);E[_[Qe]]=rt}for(D(b,E,0,19),Ce=0;Ce<Ie+xt;){var ot=U(Ne,b);switch(ot){case 16:for(var Lt=E[Ce-1],Dt=O(Ne,2,3);Dt;--Dt)E[Ce++]=Lt;break;case 17:for(Dt=O(Ne,3,3);Dt;--Dt)E[Ce++]=0;break;case 18:for(Dt=O(Ne,7,11);Dt;--Dt)E[Ce++]=0;break;default:E[Ce++]=ot}}D(ze,E,0,Ie),D(He,E,Ie,xt),ee=F(Te,Te.ltree,Te.dtree);break;default:ee=-3}if(ee!==0)throw new Error("Data error")}while(!re);Te.destLen<Te.dest.length?typeof Te.dest.slice=="function"?Te.dest.slice(0,Te.destLen):Te.dest.subarray(0,Te.destLen):Te.dest}(w,N),N.byteLength!==I.length)throw new Error("Decompression error: "+I.tag+" decompressed length doesn't match recorded length");return{data:new DataView(N.buffer,0),offset:0}}function ji(w){var I,N,z,K,ee,re,_e,Te,Ce,Ne,ze,He,Ie,xt,tt=new se({empty:!0}),Qe=new DataView(w,0),rt=[];if((w=Ye.getTag(Qe,0))==="\0\0\0"||w==="true"||w==="typ1")tt.outlinesFormat="truetype",rt=zn(Qe,z=Ye.getUShort(Qe,4));else if(w==="OTTO")tt.outlinesFormat="cff",rt=zn(Qe,z=Ye.getUShort(Qe,4));else{if(w!=="wOFF")throw new Error("Unsupported OpenType signature "+w);if((Nt=Ye.getTag(Qe,4))==="\0\0\0")tt.outlinesFormat="truetype";else{if(Nt!=="OTTO")throw new Error("Unsupported OpenType flavor "+w);tt.outlinesFormat="cff"}rt=function(rn,an){for(var Yr=[],Pn=44,ln=0;ln<an;ln+=1){var cs=Ye.getTag(rn,Pn),un=Ye.getULong(rn,Pn+4),Ln=Ye.getULong(rn,Pn+8),Wl=Ye.getULong(rn,Pn+12),Yl=Ln<Wl&&"WOFF";Yr.push({tag:cs,offset:un,compression:Yl,compressedLength:Ln,length:Wl}),Pn+=20}return Yr}(Qe,z=Ye.getUShort(Qe,12))}for(var ot=0;ot<z;ot+=1){var Lt=rt[ot],Dt=void 0;switch(Lt.tag){case"cmap":Dt=br(Qe,Lt),tt.tables.cmap=ft(Dt.data,Dt.offset),tt.encoding=new pe(tt.tables.cmap);break;case"cvt ":Dt=br(Qe,Lt),xt=new Ye.Parser(Dt.data,Dt.offset),tt.tables.cvt=xt.parseShortList(Lt.length/2);break;case"fvar":ee=Lt;break;case"fpgm":Dt=br(Qe,Lt),xt=new Ye.Parser(Dt.data,Dt.offset),tt.tables.fpgm=xt.parseByteList(Lt.length);break;case"head":Dt=br(Qe,Lt),tt.tables.head=no(Dt.data,Dt.offset),tt.unitsPerEm=tt.tables.head.unitsPerEm,I=tt.tables.head.indexToLocFormat;break;case"hhea":Dt=br(Qe,Lt),tt.tables.hhea=wo(Dt.data,Dt.offset),tt.ascender=tt.tables.hhea.ascender,tt.descender=tt.tables.hhea.descender,tt.numberOfHMetrics=tt.tables.hhea.numberOfHMetrics;break;case"hmtx":Ce=Lt;break;case"ltag":Dt=br(Qe,Lt),N=pt(Dt.data,Dt.offset);break;case"maxp":Dt=br(Qe,Lt),tt.tables.maxp=ar(Dt.data,Dt.offset),tt.numGlyphs=tt.tables.maxp.numGlyphs;break;case"name":He=Lt;break;case"OS/2":Dt=br(Qe,Lt),tt.tables.os2=pd(Dt.data,Dt.offset);break;case"post":Dt=br(Qe,Lt),tt.tables.post=Ca(Dt.data,Dt.offset),tt.glyphNames=new De(tt.tables.post);break;case"prep":Dt=br(Qe,Lt),xt=new Ye.Parser(Dt.data,Dt.offset),tt.tables.prep=xt.parseByteList(Lt.length);break;case"glyf":re=Lt;break;case"loca":ze=Lt;break;case"CFF ":K=Lt;break;case"kern":Ne=Lt;break;case"GPOS":_e=Lt;break;case"GSUB":Te=Lt;break;case"meta":Ie=Lt}}if(Nt=br(Qe,He),tt.tables.name=sn(Nt.data,Nt.offset,N),tt.names=tt.tables.name,re&&ze)w=I===0,Nt=br(Qe,ze),Nt=Or(Nt.data,Nt.offset,tt.numGlyphs,w),w=br(Qe,re),tt.glyphs=Li.parse(w.data,w.offset,Nt,tt);else{if(!K)throw new Error("Font doesn't contain TrueType or CFF outlines.");w=br(Qe,K),jr(w.data,w.offset,tt)}for(var Nt=br(Qe,Ce),yr=(ke(Nt.data,Nt.offset,tt.numberOfHMetrics,tt.numGlyphs,tt.glyphs),tt),xr=yr.tables.cmap.glyphIndexMap,en=Object.keys(xr),tn=0;tn<en.length;tn+=1){var on,Nr=en[tn],ir=xr[Nr];(on=yr.glyphs.get(ir)).addUnicode(parseInt(Nr))}for(var Rn=0;Rn<yr.glyphs.length;Rn+=1)on=yr.glyphs.get(Rn),yr.cffEncoding?yr.isCIDFont?on.name="gid"+Rn:on.name=yr.cffEncoding.charset[Rn]:yr.glyphNames.names&&(on.name=yr.glyphNames.glyphIndexToName(Rn));return Ne?(w=br(Qe,Ne),tt.kerningPairs=kt(w.data,w.offset)):tt.kerningPairs={},_e&&(Nt=br(Qe,_e),tt.tables.gpos=it(Nt.data,Nt.offset),tt.position.init()),Te&&(w=br(Qe,Te),tt.tables.gsub=Ra(w.data,w.offset)),ee&&(Nt=br(Qe,ee),tt.tables.fvar=we(Nt.data,Nt.offset,tt.names)),Ie&&(w=br(Qe,Ie),tt.tables.meta=Yo(w.data,w.offset),tt.metas=tt.tables.meta),tt}d.Font=se,d.Glyph=mt,d.Path=$,d.BoundingBox=V,d._parse=Ye,d.parse=ji,d.load=function(w,I){(typeof window>"u"?Vn:Dr)(w,function(N,z){if(N)return I(N);var K;try{K=ji(z)}catch(ee){return I(ee,null)}return I(null,K)})},d.loadSync=function(w){return ji(Ia(n("fs").readFileSync(w)))},Object.defineProperty(d,"__esModule",{value:!0})})(typeof x=="object"&&C!==void 0?x:this.opentype={})}).call(this,n("buffer").Buffer)},{buffer:4,fs:2}],248:[function(n,C,x){(function(m){function d(A,f){for(var h=0,p=A.length-1;0<=p;p--){var u=A[p];u==="."?A.splice(p,1):u===".."?(A.splice(p,1),h++):h&&(A.splice(p,1),h--)}if(f)for(;h--;)A.unshift("..");return A}function c(A,f){if(A.filter)return A.filter(f);for(var h=[],p=0;p<A.length;p++)f(A[p],p,A)&&h.push(A[p]);return h}x.resolve=function(){for(var A="",f=!1,h=arguments.length-1;-1<=h&&!f;h--){var p=0<=h?arguments[h]:m.cwd();if(typeof p!="string")throw new TypeError("Arguments to path.resolve must be strings");p&&(A=p+"/"+A,f=p.charAt(0)==="/")}return(f?"/":"")+(A=d(c(A.split("/"),function(u){return!!u}),!f).join("/"))||"."},x.normalize=function(A){var f=x.isAbsolute(A),h=T(A,-1)==="/";return(A=(A=d(c(A.split("/"),function(p){return!!p}),!f).join("/"))||f?A:".")&&h&&(A+="/"),(f?"/":"")+A},x.isAbsolute=function(A){return A.charAt(0)==="/"},x.join=function(){var A=Array.prototype.slice.call(arguments,0);return x.normalize(c(A,function(f,h){if(typeof f!="string")throw new TypeError("Arguments to path.join must be strings");return f}).join("/"))},x.relative=function(A,f){function h(b){for(var E=0;E<b.length&&b[E]==="";E++);for(var M=b.length-1;0<=M&&b[M]==="";M--);return M<E?[]:b.slice(E,M-E+1)}A=x.resolve(A).substr(1),f=x.resolve(f).substr(1);for(var p=h(A.split("/")),u=h(f.split("/")),g=Math.min(p.length,u.length),S=g,j=0;j<g;j++)if(p[j]!==u[j]){S=j;break}var _=[];for(j=S;j<p.length;j++)_.push("..");return(_=_.concat(u.slice(S))).join("/")},x.sep="/",x.delimiter=":",x.dirname=function(A){if(typeof A!="string"&&(A+=""),A.length===0)return".";for(var f=A.charCodeAt(0)===47,h=-1,p=!0,u=A.length-1;1<=u;--u)if(A.charCodeAt(u)===47){if(!p){h=u;break}}else p=!1;return h===-1?f?"/":".":f&&h===1?"/":A.slice(0,h)},x.basename=function(A,f){return A=function(h){typeof h!="string"&&(h+="");for(var p=0,u=-1,g=!0,S=h.length-1;0<=S;--S)if(h.charCodeAt(S)===47){if(!g){p=S+1;break}}else u===-1&&(g=!1,u=S+1);return u===-1?"":h.slice(p,u)}(A),f&&A.substr(-1*f.length)===f?A.substr(0,A.length-f.length):A},x.extname=function(A){typeof A!="string"&&(A+="");for(var f=-1,h=0,p=-1,u=!0,g=0,S=A.length-1;0<=S;--S){var j=A.charCodeAt(S);if(j===47){if(u)continue;h=S+1;break}p===-1&&(u=!1,p=S+1),j===46?f===-1?f=S:g!==1&&(g=1):f!==-1&&(g=-1)}return f===-1||p===-1||g===0||g===1&&f===p-1&&f===h+1?"":A.slice(f,p)};var T="ab".substr(-1)==="b"?function(A,f,h){return A.substr(f,h)}:function(A,f,h){return f<0&&(f=A.length+f),A.substr(f,h)}}).call(this,n("_process"))},{_process:249}],249:[function(n,C,x){var m,d;C=C.exports={};function c(){throw new Error("setTimeout has not been defined")}function T(){throw new Error("clearTimeout has not been defined")}try{m=typeof setTimeout=="function"?setTimeout:c}catch{m=c}try{d=typeof clearTimeout=="function"?clearTimeout:T}catch{d=T}function A(b){if(m===setTimeout)return setTimeout(b,0);if((m===c||!m)&&setTimeout)return(m=setTimeout)(b,0);try{return m(b,0)}catch{try{return m.call(null,b,0)}catch{return m.call(this,b,0)}}}var f,h=[],p=!1,u=-1;function g(){p&&f&&(p=!1,f.length?h=f.concat(h):u=-1,h.length&&S())}function S(){if(!p){for(var b=A(g),E=(p=!0,h.length);E;){for(f=h,h=[];++u<E;)f&&f[u].run();u=-1,E=h.length}f=null,p=!1,function(M){if(d===clearTimeout)return clearTimeout(M);if((d===T||!d)&&clearTimeout)return(d=clearTimeout)(M);try{d(M)}catch{try{return d.call(null,M)}catch{return d.call(this,M)}}}(b)}}function j(b,E){this.fun=b,this.array=E}function _(){}C.nextTick=function(b){var E=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)E[M-1]=arguments[M];h.push(new j(b,E)),h.length!==1||p||A(S)},j.prototype.run=function(){this.fun.apply(null,this.array)},C.title="browser",C.browser=!0,C.env={},C.argv=[],C.version="",C.versions={},C.on=_,C.addListener=_,C.once=_,C.off=_,C.removeListener=_,C.removeAllListeners=_,C.emit=_,C.prependListener=_,C.prependOnceListener=_,C.listeners=function(b){return[]},C.binding=function(b){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(b){throw new Error("process.chdir is not supported")},C.umask=function(){return 0}},{}],250:[function(n,C,x){C=function(m){var d,c=Object.prototype,T=c.hasOwnProperty,A=(D=typeof Symbol=="function"?Symbol:{}).iterator||"@@iterator",f=D.asyncIterator||"@@asyncIterator",h=D.toStringTag||"@@toStringTag";function p(Q,te,ne,ae){var ce,de,X,Z;return te=te&&te.prototype instanceof E?te:E,te=Object.create(te.prototype),ae=new q(ae||[]),te._invoke=(ce=Q,de=ne,X=ae,Z=g,function(ie,he){if(Z===j)throw new Error("Generator is already running");if(Z===_){if(ie==="throw")throw he;return $()}for(X.method=ie,X.arg=he;;){var ye=X.delegate;if(ye&&(ye=function ve(le,me){var Se=le.iterator[me.method];if(Se===d){if(me.delegate=null,me.method==="throw"){if(le.iterator.return&&(me.method="return",me.arg=d,ve(le,me),me.method==="throw"))return b;me.method="throw",me.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}return(Se=u(Se,le.iterator,me.arg)).type==="throw"?(me.method="throw",me.arg=Se.arg,me.delegate=null,b):(Se=Se.arg)?Se.done?(me[le.resultName]=Se.value,me.next=le.nextLoc,me.method!=="return"&&(me.method="next",me.arg=d),me.delegate=null,b):Se:(me.method="throw",me.arg=new TypeError("iterator result is not an object"),me.delegate=null,b)}(ye,X))){if(ye===b)continue;return ye}if(X.method==="next")X.sent=X._sent=X.arg;else if(X.method==="throw"){if(Z===g)throw Z=_,X.arg;X.dispatchException(X.arg)}else X.method==="return"&&X.abrupt("return",X.arg);if(Z=j,(ye=u(ce,de,X)).type==="normal"){if(Z=X.done?_:S,ye.arg!==b)return{value:ye.arg,done:X.done}}else ye.type==="throw"&&(Z=_,X.method="throw",X.arg=ye.arg)}}),te}function u(Q,te,ne){try{return{type:"normal",arg:Q.call(te,ne)}}catch(ae){return{type:"throw",arg:ae}}}m.wrap=p;var g="suspendedStart",S="suspendedYield",j="executing",_="completed",b={};function E(){}function M(){}function P(){}var D,O,U=((O=(O=((D={})[A]=function(){return this},Object.getPrototypeOf))&&O(O(V([]))))&&O!==c&&T.call(O,A)&&(D=O),P.prototype=E.prototype=Object.create(D));function F(Q){["next","throw","return"].forEach(function(te){Q[te]=function(ne){return this._invoke(te,ne)}})}function H(Q){var te;this._invoke=function(ne,ae){function ce(){return new Promise(function(de,X){(function Z(ie,he,ye,ve){var le;if((ie=u(Q[ie],Q,he)).type!=="throw")return(he=(le=ie.arg).value)&&typeof he=="object"&&T.call(he,"__await")?Promise.resolve(he.__await).then(function(me){Z("next",me,ye,ve)},function(me){Z("throw",me,ye,ve)}):Promise.resolve(he).then(function(me){le.value=me,ye(le)},function(me){return Z("throw",me,ye,ve)});ve(ie.arg)})(ne,ae,de,X)})}return te=te?te.then(ce,ce):ce()}}function G(Q){var te={tryLoc:Q[0]};1 in Q&&(te.catchLoc=Q[1]),2 in Q&&(te.finallyLoc=Q[2],te.afterLoc=Q[3]),this.tryEntries.push(te)}function Y(Q){var te=Q.completion||{};te.type="normal",delete te.arg,Q.completion=te}function q(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(G,this),this.reset(!0)}function V(Q){if(Q){var te,ne=Q[A];if(ne)return ne.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length))return te=-1,(ne=function ae(){for(;++te<Q.length;)if(T.call(Q,te))return ae.value=Q[te],ae.done=!1,ae;return ae.value=d,ae.done=!0,ae}).next=ne}return{next:$}}function $(){return{value:d,done:!0}}return(M.prototype=U.constructor=P).constructor=M,P[h]=M.displayName="GeneratorFunction",m.isGeneratorFunction=function(Q){return!!(Q=typeof Q=="function"&&Q.constructor)&&(Q===M||(Q.displayName||Q.name)==="GeneratorFunction")},m.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,P):(Q.__proto__=P,h in Q||(Q[h]="GeneratorFunction")),Q.prototype=Object.create(U),Q},m.awrap=function(Q){return{__await:Q}},F(H.prototype),H.prototype[f]=function(){return this},m.AsyncIterator=H,m.async=function(Q,te,ne,ae){var ce=new H(p(Q,te,ne,ae));return m.isGeneratorFunction(te)?ce:ce.next().then(function(de){return de.done?de.value:ce.next()})},F(U),U[h]="Generator",U[A]=function(){return this},U.toString=function(){return"[object Generator]"},m.keys=function(Q){var te,ne=[];for(te in Q)ne.push(te);return ne.reverse(),function ae(){for(;ne.length;){var ce=ne.pop();if(ce in Q)return ae.value=ce,ae.done=!1,ae}return ae.done=!0,ae}},m.values=V,q.prototype={constructor:q,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(Y),!Q)for(var te in this)te.charAt(0)==="t"&&T.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=d)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var te=this;function ne(ie,he){return de.type="throw",de.arg=Q,te.next=ie,he&&(te.method="next",te.arg=d),!!he}for(var ae=this.tryEntries.length-1;0<=ae;--ae){var ce=this.tryEntries[ae],de=ce.completion;if(ce.tryLoc==="root")return ne("end");if(ce.tryLoc<=this.prev){var X=T.call(ce,"catchLoc"),Z=T.call(ce,"finallyLoc");if(X&&Z){if(this.prev<ce.catchLoc)return ne(ce.catchLoc,!0);if(this.prev<ce.finallyLoc)return ne(ce.finallyLoc)}else if(X){if(this.prev<ce.catchLoc)return ne(ce.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<ce.finallyLoc)return ne(ce.finallyLoc)}}}},abrupt:function(Q,te){for(var ne=this.tryEntries.length-1;0<=ne;--ne){var ae=this.tryEntries[ne];if(ae.tryLoc<=this.prev&&T.call(ae,"finallyLoc")&&this.prev<ae.finallyLoc){var ce=ae;break}}var de=(ce=ce&&(Q==="break"||Q==="continue")&&ce.tryLoc<=te&&te<=ce.finallyLoc?null:ce)?ce.completion:{};return de.type=Q,de.arg=te,ce?(this.method="next",this.next=ce.finallyLoc,b):this.complete(de)},complete:function(Q,te){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&te&&(this.next=te),b},finish:function(Q){for(var te=this.tryEntries.length-1;0<=te;--te){var ne=this.tryEntries[te];if(ne.finallyLoc===Q)return this.complete(ne.completion,ne.afterLoc),Y(ne),b}},catch:function(Q){for(var te=this.tryEntries.length-1;0<=te;--te){var ne,ae,ce=this.tryEntries[te];if(ce.tryLoc===Q)return(ne=ce.completion).type==="throw"&&(ae=ne.arg,Y(ce)),ae}throw new Error("illegal catch attempt")},delegateYield:function(Q,te,ne){return this.delegate={iterator:V(Q),resultName:te,nextLoc:ne},this.method==="next"&&(this.arg=d),b}},m}(typeof C=="object"?C.exports:{});try{regeneratorRuntime=C}catch{Function("r","regeneratorRuntime = r")(C)}},{}],251:[function(n,C,x){(function(m){var d,c,T,A,f,h,p,u,g,S;function j(Y){if(typeof Y!="string"&&(Y=String(Y)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(Y))throw new TypeError("Invalid character in header field name");return Y.toLowerCase()}function _(Y){return typeof Y!="string"?String(Y):Y}function b(Y){var q={next:function(){var V=Y.shift();return{done:V===void 0,value:V}}};return c&&(q[Symbol.iterator]=function(){return q}),q}function E(Y){this.map={},Y instanceof E?Y.forEach(function(q,V){this.append(V,q)},this):Array.isArray(Y)?Y.forEach(function(q){this.append(q[0],q[1])},this):Y&&Object.getOwnPropertyNames(Y).forEach(function(q){this.append(q,Y[q])},this)}function M(Y){if(Y.bodyUsed)return Promise.reject(new TypeError("Already read"));Y.bodyUsed=!0}function P(Y){return new Promise(function(q,V){Y.onload=function(){q(Y.result)},Y.onerror=function(){V(Y.error)}})}function D(Y){var q=new FileReader,V=P(q);return q.readAsArrayBuffer(Y),V}function O(Y){var q;return Y.slice?Y.slice(0):((q=new Uint8Array(Y.byteLength)).set(new Uint8Array(Y)),q.buffer)}function U(){return this.bodyUsed=!1,this._initBody=function(Y){if(this._bodyInit=Y)if(typeof Y=="string")this._bodyText=Y;else if(T&&Blob.prototype.isPrototypeOf(Y))this._bodyBlob=Y;else if(A&&FormData.prototype.isPrototypeOf(Y))this._bodyFormData=Y;else if(d&&URLSearchParams.prototype.isPrototypeOf(Y))this._bodyText=Y.toString();else if(f&&T&&p(Y))this._bodyArrayBuffer=O(Y.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!f||!ArrayBuffer.prototype.isPrototypeOf(Y)&&!u(Y))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=O(Y)}else this._bodyText="";this.headers.get("content-type")||(typeof Y=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d&&URLSearchParams.prototype.isPrototypeOf(Y)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},T&&(this.blob=function(){var Y=M(this);if(Y)return Y;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?M(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(D)}),this.text=function(){var Y,q,V=M(this);if(V)return V;if(this._bodyBlob)return V=this._bodyBlob,q=P(Y=new FileReader),Y.readAsText(V),q;if(this._bodyArrayBuffer)return Promise.resolve(function($){for(var Q=new Uint8Array($),te=new Array(Q.length),ne=0;ne<Q.length;ne++)te[ne]=String.fromCharCode(Q[ne]);return te.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},A&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}function F(Y,q){var V,$=(q=q||{}).body;if(Y instanceof F){if(Y.bodyUsed)throw new TypeError("Already read");this.url=Y.url,this.credentials=Y.credentials,q.headers||(this.headers=new E(Y.headers)),this.method=Y.method,this.mode=Y.mode,$||Y._bodyInit==null||($=Y._bodyInit,Y.bodyUsed=!0)}else this.url=String(Y);if(this.credentials=q.credentials||this.credentials||"omit",!q.headers&&this.headers||(this.headers=new E(q.headers)),this.method=(V=(Y=q.method||this.method||"GET").toUpperCase(),-1<g.indexOf(V)?V:Y),this.mode=q.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody($)}function H(Y){var q=new FormData;return Y.trim().split("&").forEach(function(V){var $;V&&($=(V=V.split("=")).shift().replace(/\+/g," "),V=V.join("=").replace(/\+/g," "),q.append(decodeURIComponent($),decodeURIComponent(V)))}),q}function G(Y,q){q=q||{},this.type="default",this.status=q.status===void 0?200:q.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in q?q.statusText:"OK",this.headers=new E(q.headers),this.url=q.url||"",this._initBody(Y)}m.fetch||(d="URLSearchParams"in m,c="Symbol"in m&&"iterator"in Symbol,T="FileReader"in m&&"Blob"in m&&function(){try{return new Blob,!0}catch{return!1}}(),A="FormData"in m,(f="ArrayBuffer"in m)&&(h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=function(Y){return Y&&DataView.prototype.isPrototypeOf(Y)},u=ArrayBuffer.isView||function(Y){return Y&&-1<h.indexOf(Object.prototype.toString.call(Y))}),E.prototype.append=function(Y,q){Y=j(Y),q=_(q);var V=this.map[Y];this.map[Y]=V?V+","+q:q},E.prototype.delete=function(Y){delete this.map[j(Y)]},E.prototype.get=function(Y){return Y=j(Y),this.has(Y)?this.map[Y]:null},E.prototype.has=function(Y){return this.map.hasOwnProperty(j(Y))},E.prototype.set=function(Y,q){this.map[j(Y)]=_(q)},E.prototype.forEach=function(Y,q){for(var V in this.map)this.map.hasOwnProperty(V)&&Y.call(q,this.map[V],V,this)},E.prototype.keys=function(){var Y=[];return this.forEach(function(q,V){Y.push(V)}),b(Y)},E.prototype.values=function(){var Y=[];return this.forEach(function(q){Y.push(q)}),b(Y)},E.prototype.entries=function(){var Y=[];return this.forEach(function(q,V){Y.push([V,q])}),b(Y)},c&&(E.prototype[Symbol.iterator]=E.prototype.entries),g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],F.prototype.clone=function(){return new F(this,{body:this._bodyInit})},U.call(F.prototype),U.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},G.error=function(){var Y=new G(null,{status:0,statusText:""});return Y.type="error",Y},S=[301,302,303,307,308],G.redirect=function(Y,q){if(S.indexOf(q)===-1)throw new RangeError("Invalid status code");return new G(null,{status:q,headers:{location:Y}})},m.Headers=E,m.Request=F,m.Response=G,m.fetch=function(Y,q){return new Promise(function(V,$){var Q=new F(Y,q),te=new XMLHttpRequest;te.onload=function(){var ne,ae={status:te.status,statusText:te.statusText,headers:(ae=te.getAllResponseHeaders()||"",ne=new E,ae.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(de){var X=(de=de.split(":")).shift().trim();X&&(de=de.join(":").trim(),ne.append(X,de))}),ne)},ce=(ae.url="responseURL"in te?te.responseURL:ae.headers.get("X-Request-URL"),"response"in te?te.response:te.responseText);V(new G(ce,ae))},te.onerror=function(){$(new TypeError("Network request failed"))},te.ontimeout=function(){$(new TypeError("Network request failed"))},te.open(Q.method,Q.url,!0),Q.credentials==="include"?te.withCredentials=!0:Q.credentials==="omit"&&(te.withCredentials=!1),"responseType"in te&&T&&(te.responseType="blob"),Q.headers.forEach(function(ne,ae){te.setRequestHeader(ae,ne)}),te.send(Q._bodyInit===void 0?null:Q._bodyInit)})},m.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],252:[function(n,C,x){n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m,d=T(n("../core/main")),c=T(n("../color/color_conversion"));function T(h){return h&&h.__esModule?h:{default:h}}var A=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],f=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];d.default.prototype._rgbColorName=function(h){h=c.default._rgbaToHSBA(h);var p,u,g=[(m=h)[0],h[1],h[2]];g[0]!==0&&(g[0]=Math.round(100*g[0]),(h=g[0].toString().split(""))[u=h.length-1]=parseInt(h[u]),h[u]<2.5?h[u]=0:2.5<=h[u]&&h[u]<7.5&&(h[u]=5),h.length===2?(h[0]=parseInt(h[0]),7.5<=h[u]&&(h[u]=0,h[0]=h[0]+1),g[0]=10*h[0]+h[1]):7.5<=h[u]?g[0]=10:g[0]=h[u]),g[2]=g[2]/255;for(var S=g.length-1;1<=S;S--)g[S]<=.25?g[S]=0:.25<g[S]&&g[S]<.75?g[S]=.5:g[S]=1;if(g[0]===0&&g[1]===0&&g[2]===1){for(var j=2;0<=j;j--)m[j]=Math.round(1e4*m[j])/1e4;for(var _=0;_<A.length;_++){if(A[_].h===m[0]&&A[_].s===m[1]&&A[_].b===m[2]){p=A[_].name;break}p="white"}}else for(var b=0;b<f.length;b++)if(f[b].h===g[0]&&f[b].s===g[1]&&f[b].b===g[2]){p=f[b].name;break}return p},n=d.default,x.default=n},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(n,C,x){n("core-js/modules/es.array.concat"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.replace"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n},d="_Description",c="_fallbackDesc",T="_fallbackTable",A="_Label",f="_labelDesc",h="_labelTable";function p(u){if(u==="label"||u==="fallback")throw new Error("description should not be LABEL or FALLBACK");return u.endsWith(".")||u.endsWith(";")||u.endsWith(",")||u.endsWith("?")||u.endsWith("!")||(u+="."),u}m.default.prototype.describe=function(u,g){var S;m.default._validateParameters("describe",arguments),typeof u=="string"&&(S=this.canvas.id,u=p(u),this.dummyDOM||(this.dummyDOM=document.getElementById(S).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==u&&(this.descriptions.fallback.innerHTML=u):this._describeHTML("fallback",u),g===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==u&&(this.descriptions.label.innerHTML=u):this._describeHTML("label",u)))},m.default.prototype.describeElement=function(u,g,S){var j,_;m.default._validateParameters("describeElement",arguments),typeof g=="string"&&typeof u=="string"&&(j=this.canvas.id,g=p(g),_=function(b){if(b==="label"||b==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return b.endsWith(".")||b.endsWith(";")||b.endsWith(",")?b=b.replace(/.$/,":"):b.endsWith(":")||(b+=":"),b}(u),u=u.replace(/[^a-zA-Z0-9]/g,""),_='<th scope="row">'.concat(_,"</th><td>").concat(g,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(j).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[u]?this.descriptions.fallbackElements[u].innerHTML!==_&&(this.descriptions.fallbackElements[u].innerHTML=_):this._describeElementHTML("fallback",u,_),S===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[u]?this.descriptions.labelElements[u].innerHTML!==_&&(this.descriptions.labelElements[u].innerHTML=_):this._describeElementHTML("label",u,_)))},m.default.prototype._describeHTML=function(u,g){var S,j=this.canvas.id;u==="fallback"?(this.dummyDOM.querySelector("#".concat(j+d))?this.dummyDOM.querySelector("#"+j+T).insertAdjacentHTML("beforebegin",'<p id="'.concat(j+c,'"></p>')):(S='<div id="'.concat(j).concat(d,'" role="region" aria-label="Canvas Description"><p id="').concat(j).concat(c,'"></p></div>'),this.dummyDOM.querySelector("#".concat(j,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(j,"accessibleOutput")).insertAdjacentHTML("beforebegin",S):this.dummyDOM.querySelector("#".concat(j)).innerHTML=S),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(j).concat(c)),this.descriptions.fallback.innerHTML=g):u==="label"&&(this.dummyDOM.querySelector("#".concat(j+A))?this.dummyDOM.querySelector("#".concat(j+h))&&this.dummyDOM.querySelector("#".concat(j+h)).insertAdjacentHTML("beforebegin",'<p id="'.concat(j).concat(f,'"></p>')):(S='<div id="'.concat(j).concat(A,'" class="p5Label"><p id="').concat(j).concat(f,'"></p></div>'),this.dummyDOM.querySelector("#".concat(j,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(j,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",S):this.dummyDOM.querySelector("#"+j).insertAdjacentHTML("afterend",S)),this.descriptions.label=this.dummyDOM.querySelector("#"+j+f),this.descriptions.label.innerHTML=g)},m.default.prototype._describeElementHTML=function(u,g,S){var j,_=this.canvas.id;u==="fallback"?(this.dummyDOM.querySelector("#".concat(_+d))?this.dummyDOM.querySelector("#"+_+T)||this.dummyDOM.querySelector("#"+_+c).insertAdjacentHTML("afterend",'<table id="'.concat(_).concat(T,'"><caption>Canvas elements and their descriptions</caption></table>')):(j='<div id="'.concat(_).concat(d,'" role="region" aria-label="Canvas Description"><table id="').concat(_).concat(T,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutput")).insertAdjacentHTML("beforebegin",j):this.dummyDOM.querySelector("#"+_).innerHTML=j),(j=document.createElement("tr")).id=_+"_fte_"+g,this.dummyDOM.querySelector("#"+_+T).appendChild(j),this.descriptions.fallbackElements[g]=this.dummyDOM.querySelector("#".concat(_).concat("_fte_").concat(g)),this.descriptions.fallbackElements[g].innerHTML=S):u==="label"&&(this.dummyDOM.querySelector("#".concat(_+A))?this.dummyDOM.querySelector("#".concat(_+h))||this.dummyDOM.querySelector("#"+_+f).insertAdjacentHTML("afterend",'<table id="'.concat(_+h,'"></table>')):(j='<div id="'.concat(_).concat(A,'" class="p5Label"><table id="').concat(_).concat(h,'"></table></div>'),this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(_,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",j):this.dummyDOM.querySelector("#"+_).insertAdjacentHTML("afterend",j)),(u=document.createElement("tr")).id=_+"_lte_"+g,this.dummyDOM.querySelector("#"+_+h).appendChild(u),this.descriptions.labelElements[g]=this.dummyDOM.querySelector("#".concat(_).concat("_lte_").concat(g)),this.descriptions.labelElements[g].innerHTML=S)},n=m.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(n,C,x){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.map"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.map"),n("core-js/modules/es.string.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../core/main"))&&n.__esModule?n:{default:n}).default.prototype._updateGridOutput=function(m){var d,c,T,A;this.dummyDOM.querySelector("#".concat(m,"_summary"))&&(d=this._accessibleOutputs[m],T=function(f,h,p,u){return h="".concat(h," canvas, ").concat(p," by ").concat(u," pixels, contains ").concat(f[0]),h=(f[0]===1?"".concat(h," shape: "):"".concat(h," shapes: ")).concat(f[1])}((c=function(f,h){var p,u="",g="",S=0;for(p in h){var j,_=0;for(j in h[p]){var b='<li id="'.concat(f,"shape").concat(S,'">').concat(h[p][j].color," ").concat(p,",");p==="line"?b+=" location = ".concat(h[p][j].pos,", length = ").concat(h[p][j].length," pixels"):(b+=" location = ".concat(h[p][j].pos),p!=="point"&&(b+=", area = ".concat(h[p][j].area," %")),b+="</li>"),u+=b,_++,S++}g=1<_?"".concat(g," ").concat(_," ").concat(p,"s"):"".concat(g," ").concat(_," ").concat(p)}return{numShapes:[S,g],details:u}}(m,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),A=function(f,h){var p,u,g=0,S="",j=Array.from(Array(10),function(){return Array(10)});for(p in h)for(var _ in h[p]){var b;b=p!=="line"?'<a href="#'.concat(f,"shape").concat(g,'">').concat(h[p][_].color," ").concat(p,"</a>"):'<a href="#'.concat(f,"shape").concat(g,'">').concat(h[p][_].color," ").concat(p," midpoint</a>"),j[h[p][_].loc.locY][h[p][_].loc.locX]?j[h[p][_].loc.locY][h[p][_].loc.locX]=j[h[p][_].loc.locY][h[p][_].loc.locX]+"  "+b:j[h[p][_].loc.locY][h[p][_].loc.locX]=b,g++}for(u in j){var E,M="<tr>";for(E in j[u])M+="<td>",j[u][E]!==void 0&&(M+=j[u][E]),M+="</td>";S=S+M+"</tr>"}return S}(m,this.ingredients.shapes),T!==d.summary.innerHTML&&(d.summary.innerHTML=T),A!==d.map.innerHTML&&(d.map.innerHTML=A),c.details!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=c.details),this._accessibleOutputs[m]=d)},n=n.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(c,T,A){return(T=Math.floor(c[0]/T*10))===10&&(T-=1),(c=Math.floor(c[1]/A*10))===10&&(c-=1),{locX:T,locY:c}}m.default.prototype.textOutput=function(c){m.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},m.default.prototype.gridOutput=function(c){m.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},m.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},m.default.prototype._createOutput=function(c,T){var A,f,h,p=this.canvas.id,u=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),"");T==="Fallback"?(A=p+c,this.dummyDOM.querySelector("#".concat(f=p+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(p,"_Description"))?this.dummyDOM.querySelector("#".concat(p,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(f,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(p)).innerHTML='<div id="'.concat(f,'" role="region" aria-label="Canvas Outputs"></div>'))):T==="Label"&&(A=p+c+(u=T),this.dummyDOM.querySelector("#".concat(f=p+"accessibleOutput"+T))||(this.dummyDOM.querySelector("#".concat(p,"_Label"))?this.dummyDOM.querySelector("#".concat(p,"_Label")):this.dummyDOM.querySelector("#".concat(p))).insertAdjacentHTML("afterend",'<div id="'.concat(f,'"></div>'))),this._accessibleOutputs[A]={},c==="textOutput"?(u="#".concat(p,"gridOutput").concat(u),h='<div id="'.concat(A,'">Text Output<div id="').concat(A,'Summary" aria-label="text output summary"><p id="').concat(A,'_summary"></p><ul id="').concat(A,'_list"></ul></div><table id="').concat(A,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("beforebegin",h):this.dummyDOM.querySelector("#".concat(f)).innerHTML=h,this._accessibleOutputs[A].list=this.dummyDOM.querySelector("#".concat(A,"_list"))):c==="gridOutput"&&(u="#".concat(p,"textOutput").concat(u),h='<div id="'.concat(A,'">Grid Output<p id="').concat(A,'_summary" aria-label="grid output summary"><table id="').concat(A,'_map" summary="grid output content"></table><ul id="').concat(A,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(u)?this.dummyDOM.querySelector(u).insertAdjacentHTML("afterend",h):this.dummyDOM.querySelector("#".concat(f)).innerHTML=h,this._accessibleOutputs[A].map=this.dummyDOM.querySelector("#".concat(A,"_map"))),this._accessibleOutputs[A].shapeDetails=this.dummyDOM.querySelector("#".concat(A,"_shapeDetails")),this._accessibleOutputs[A].summary=this.dummyDOM.querySelector("#".concat(A,"_summary"))},m.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},m.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},m.default.prototype._accsCanvasColors=function(c,T){c==="fill"?this.ingredients.colors.fillRGBA!==T&&(this.ingredients.colors.fillRGBA=T,this.ingredients.colors.fill=this._rgbColorName(T)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==T&&(this.ingredients.colors.strokeRGBA=T,this.ingredients.colors.stroke=this._rgbColorName(T))},m.default.prototype._accsOutput=function(c,T){c==="ellipse"&&T[2]===T[3]?c="circle":c==="rectangle"&&T[2]===T[3]&&(c="square");var A,f,h={},p=!0,u=function(S,j){var _;return S=S==="rectangle"||S==="ellipse"||S==="arc"||S==="circle"||S==="square"?(_=Math.round(j[0]+j[2]/2),Math.round(j[1]+j[3]/2)):S==="triangle"?(_=(j[0]+j[2]+j[4])/3,(j[1]+j[3]+j[5])/3):S==="quadrilateral"?(_=(j[0]+j[2]+j[4]+j[6])/4,(j[1]+j[3]+j[5]+j[7])/4):S==="line"?(_=(j[0]+j[2])/2,(j[1]+j[3])/2):(_=j[0],j[1]),[_,S]}(c,T);if(c==="line"?(h.color=this.ingredients.colors.stroke,h.length=Math.round(this.dist(T[0],T[1],T[2],T[3])),A=this._getPos(T[0],[1]),f=this._getPos(T[2],[3]),h.loc=d(u,this.width,this.height),h.pos=A===f?"at ".concat(A):"from ".concat(A," to ").concat(f)):(c==="point"?h.color=this.ingredients.colors.stroke:(h.color=this.ingredients.colors.fill,h.area=this._getArea(c,T)),h.pos=this._getPos.apply(this,function(S){return function(j){if(Array.isArray(j)){for(var _=0,b=new Array(j.length);_<j.length;_++)b[_]=j[_];return b}}(S)||function(j){if(Symbol.iterator in Object(j)||Object.prototype.toString.call(j)==="[object Arguments]")return Array.from(j)}(S)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(u)),h.loc=d(u,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[h]){for(var g in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][g])===JSON.stringify(h)&&(p=!1);p===!0&&this.ingredients.shapes[c].push(h)}}else this.ingredients.shapes[c]=[h]},m.default.prototype._getPos=function(c,T){c=new DOMPointReadOnly(c,T),T=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),T=(c=c.matrixTransform(T)).x,c=c.y;var A=this.width,f=this.height;return T<.4*A?c<.4*f?"top left":.6*f<c?"bottom left":"mid left":.6*A<T?c<.4*f?"top right":.6*f<c?"bottom right":"mid right":c<.4*f?"top middle":.6*f<c?"bottom middle":"middle"},m.default.prototype._getArea=function(c,T){var A,f,h=0,p=(c==="arc"?(h=(A=((T[5]-T[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*T[2]*T[3]/8,T[6]!=="open"&&T[6]!=="chord"||(f=T[0],j=T[1],p=T[0]+T[2]/2*Math.cos(T[4]).toFixed(2),_=T[1]+T[3]/2*Math.sin(T[4]).toFixed(2),g=T[0]+T[2]/2*Math.cos(T[5]).toFixed(2),u=T[1]+T[3]/2*Math.sin(T[5]).toFixed(2),f=Math.abs(f*(_-u)+p*(u-j)+g*(j-_))/2,A>Math.PI?h+=f:h-=f)):c==="ellipse"||c==="circle"?h=3.14*T[2]/2*T[3]/2:c==="line"||c==="point"?h=0:c==="quadrilateral"?h=Math.abs((T[6]+T[0])*(T[7]-T[1])+(T[0]+T[2])*(T[1]-T[3])+(T[2]+T[4])*(T[3]-T[5])+(T[4]+T[6])*(T[5]-T[7]))/2:c==="rectangle"||c==="square"?h=T[2]*T[3]:c==="triangle"&&(h=Math.abs(T[0]*(T[3]-T[5])+T[2]*(T[5]-T[1])+T[4]*(T[1]-T[3]))/2),this.width*this._pixelDensity),u=this.height*this._pixelDensity,g=[new DOMPoint(0,0),new DOMPoint(p,0),new DOMPoint(p,u),new DOMPoint(0,u)],S=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),j=g.map(function(b){return b.matrixTransform(S)}),_=Math.abs((j[3].x+j[0].x)*(j[3].y-j[0].y)+(j[0].x+j[1].x)*(j[0].y-j[1].y)+(j[1].x+j[2].x)*(j[1].y-j[2].y)+(j[2].x+j[3].x)*(j[2].y-j[3].y))/2;return Math.round(100*h/_)},n=m.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(n,C,x){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.concat"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../core/main"))&&n.__esModule?n:{default:n}).default.prototype._updateTextOutput=function(m){var d,c,T,A;this.dummyDOM.querySelector("#".concat(m,"_summary"))&&(d=this._accessibleOutputs[m],T=function(f,h,p,u){return p="Your output is a, ".concat(p," by ").concat(u," pixels, ").concat(h," canvas containing the following"),p=f===1?"".concat(p," shape:"):"".concat(p," ").concat(f," shapes:")}((c=function(f,h){var p,u="",g=0;for(p in h)for(var S in h[p]){var j='<li><a href="#'.concat(f,"shape").concat(g,'">').concat(h[p][S].color," ").concat(p,"</a>");p==="line"?j+=", ".concat(h[p][S].pos,", ").concat(h[p][S].length," pixels long.</li>"):(j+=", at ".concat(h[p][S].pos),p!=="point"&&(j+=", covering ".concat(h[p][S].area,"% of the canvas")),j+=".</li>"),u+=j,g++}return{numShapes:g,listShapes:u}}(m,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),A=function(f,h){var p,u="",g=0;for(p in h)for(var S in h[p]){var j='<tr id="'.concat(f,"shape").concat(g,'"><th>').concat(h[p][S].color," ").concat(p,"</th>");p==="line"?j+="<td>location = ".concat(h[p][S].pos,"</td><td>length = ").concat(h[p][S].length," pixels</td></tr>"):(j+="<td>location = ".concat(h[p][S].pos,"</td>"),p!=="point"&&(j+="<td> area = ".concat(h[p][S].area,"%</td>")),j+="</tr>"),u+=j,g++}return u}(m,this.ingredients.shapes),T!==d.summary.innerHTML&&(d.summary.innerHTML=T),c.listShapes!==d.list.innerHTML&&(d.list.innerHTML=c.listShapes),A!==d.shapeDetails.innerHTML&&(d.shapeDetails.innerHTML=A),this._accessibleOutputs[m]=d)},n=n.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(n,C,x){var m=(m=n("./core/main"))&&m.__esModule?m:{default:m};n("./core/constants"),n("./core/environment"),n("./core/friendly_errors/stacktrace"),n("./core/friendly_errors/validate_params"),n("./core/friendly_errors/file_errors"),n("./core/friendly_errors/fes_core"),n("./core/friendly_errors/sketch_reader"),n("./core/helpers"),n("./core/legacy"),n("./core/preload"),n("./core/p5.Element"),n("./core/p5.Graphics"),n("./core/p5.Renderer"),n("./core/p5.Renderer2D"),n("./core/rendering"),n("./core/shim"),n("./core/structure"),n("./core/transform"),n("./core/shape/2d_primitives"),n("./core/shape/attributes"),n("./core/shape/curves"),n("./core/shape/vertex"),n("./accessibility/outputs"),n("./accessibility/textOutput"),n("./accessibility/gridOutput"),n("./accessibility/color_namer"),n("./color/color_conversion"),n("./color/creating_reading"),n("./color/p5.Color"),n("./color/setting"),n("./data/p5.TypedDict"),n("./data/local_storage.js"),n("./dom/dom"),n("./accessibility/describe"),n("./events/acceleration"),n("./events/keyboard"),n("./events/mouse"),n("./events/touch"),n("./image/filters"),n("./image/image"),n("./image/loading_displaying"),n("./image/p5.Image"),n("./image/pixels"),n("./io/files"),n("./io/p5.Table"),n("./io/p5.TableRow"),n("./io/p5.XML"),n("./math/calculation"),n("./math/math"),n("./math/noise"),n("./math/p5.Vector"),n("./math/random"),n("./math/trigonometry"),n("./typography/attributes"),n("./typography/loading_displaying"),n("./typography/p5.Font"),n("./utilities/array_functions"),n("./utilities/conversion"),n("./utilities/string_functions"),n("./utilities/time_date"),n("./webgl/3d_primitives"),n("./webgl/interaction"),n("./webgl/light"),n("./webgl/loading"),n("./webgl/material"),n("./webgl/p5.Camera"),n("./webgl/p5.Geometry"),n("./webgl/p5.Matrix"),n("./webgl/p5.RendererGL.Immediate"),n("./webgl/p5.RendererGL"),n("./webgl/p5.RendererGL.Retained"),n("./webgl/p5.Framebuffer"),n("./webgl/p5.Shader"),n("./webgl/p5.RenderBuffer"),n("./webgl/p5.Texture"),n("./webgl/text"),n("./core/init"),C.exports=m.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../core/main"))&&n.__esModule?n:{default:n}).default.ColorConversion={_hsbaToHSLA:function(m){var d=m[0],c=m[1],T=m[2],A=(2-c)*T/2;return A!=0&&(A==1?c=0:A<.5?c/=2-c:c=c*T/(2-2*A)),[d,c,A,m[3]]},_hsbaToRGBA:function(m){var d,c,T,A,f,h=6*m[0],p=m[1],u=m[2];return p===0?[u,u,u,m[3]]:(c=u*(1-p),T=u*(1-p*(h-(d=Math.floor(h)))),p=u*(1-p*(1+d-h)),h=d===1?(A=T,f=u,c):d===2?(A=c,f=u,p):d===3?(A=c,f=T,u):d===4?(A=p,f=c,u):d===5?(A=u,f=c,T):(A=u,f=p,c),[A,f,h,m[3]])},_hslaToHSBA:function(m){var d=m[0],c=m[1],T=m[2],A=T<.5?(1+c)*T:T+c-T*c;return[d,c=2*(A-T)/A,A,m[3]]},_hslaToRGBA:function(m){var d,c=6*m[0],T=m[1],A=m[2];return T===0?[A,A,A,m[3]]:[(d=function(f,h,p){return f<0?f+=6:6<=f&&(f-=6),f<1?h+(p-h)*f:f<3?p:f<4?h+(p-h)*(4-f):h})(2+c,T=2*A-(A=A<.5?(1+T)*A:A+T-A*T),A),d(c,T,A),d(c-2,T,A),m[3]]},_rgbaToHSBA:function(m){var d,c,T=m[0],A=m[1],f=m[2],h=Math.max(T,A,f),p=h-Math.min(T,A,f);return p==0?c=d=0:(c=p/h,T===h?d=(A-f)/p:A===h?d=2+(f-T)/p:f===h&&(d=4+(T-A)/p),d<0?d+=6:6<=d&&(d-=6)),[d/6,c,h,m[3]]},_rgbaToHSLA:function(m){var d,c,T,A=m[0],f=m[1],h=m[2],p=Math.max(A,f,h),u=p+(T=Math.min(A,f,h));return(T=p-T)==0?c=d=0:(c=u<1?T/u:T/(2-u),A===p?d=(f-h)/T:f===p?d=2+(h-A)/T:h===p&&(d=4+(A-f)/T),d<0?d+=6:6<=d&&(d-=6)),[d/6,c,u/2,m[3]]}},n=n.default.ColorConversion,x.default=n},{"../core/main":273}],259:[function(n,C,x){function m(f){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function d(f){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(f)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.map"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(A=n("../core/main"))&&A.__esModule?A:{default:A},T=function(f){if(f&&f.__esModule)return f;if(f===null||d(f)!=="object"&&typeof f!="function")return{default:f};var h=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(h&&h.has(f))return h.get(f);var p,u={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in f){var S;Object.prototype.hasOwnProperty.call(f,p)&&((S=g?Object.getOwnPropertyDescriptor(f,p):null)&&(S.get||S.set)?Object.defineProperty(u,p,S):u[p]=f[p])}return u.default=f,h&&h.set(f,u),u}(n("../core/constants"));n("./p5.Color"),n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(f){return c.default._validateParameters("alpha",arguments),this.color(f)._getAlpha()},c.default.prototype.blue=function(f){return c.default._validateParameters("blue",arguments),this.color(f)._getBlue()},c.default.prototype.brightness=function(f){return c.default._validateParameters("brightness",arguments),this.color(f)._getBrightness()},c.default.prototype.color=function(){var f;return c.default._validateParameters("color",arguments),arguments[0]instanceof c.default.Color?arguments[0]:(f=arguments[0]instanceof Array?arguments[0]:arguments,new c.default.Color(this,f))},c.default.prototype.green=function(f){return c.default._validateParameters("green",arguments),this.color(f)._getGreen()},c.default.prototype.hue=function(f){return c.default._validateParameters("hue",arguments),this.color(f)._getHue()},c.default.prototype.lerpColor=function(f,h,p){c.default._validateParameters("lerpColor",arguments);var u,g,S,j=this._colorMode,_=this._colorMaxes;if(j===T.RGB)g=f.levels.map(function(b){return b/255}),S=h.levels.map(function(b){return b/255});else if(j===T.HSB)f._getBrightness(),h._getBrightness(),g=f.hsba,S=h.hsba;else{if(j!==T.HSL)throw new Error("".concat(j,"cannot be used for interpolation."));f._getLightness(),h._getLightness(),g=f.hsla,S=h.hsla}return p=Math.max(Math.min(p,1),0),this.lerp===void 0&&(this.lerp=function(b,E,M){return M*(E-b)+b}),f=this.lerp(g[0],S[0],p),h=this.lerp(g[1],S[1],p),u=this.lerp(g[2],S[2],p),g=this.lerp(g[3],S[3],p),f*=_[j][0],h*=_[j][1],u*=_[j][2],g*=_[j][3],this.color(f,h,u,g)},c.default.prototype.lightness=function(f){return c.default._validateParameters("lightness",arguments),this.color(f)._getLightness()},c.default.prototype.red=function(f){return c.default._validateParameters("red",arguments),this.color(f)._getRed()},c.default.prototype.saturation=function(f){return c.default._validateParameters("saturation",arguments),this.color(f)._getSaturation()};var A=c.default;x.default=A},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(n,C,x){function m(_){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function d(_){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(b){return m(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":m(b)})(_)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.trim"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.trim"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=f(n("../core/main")),T=function(_){if(_&&_.__esModule)return _;if(_===null||d(_)!=="object"&&typeof _!="function")return{default:_};var b=function(){var O;return typeof WeakMap!="function"?null:(O=new WeakMap,O)}();if(b&&b.has(_))return b.get(_);var E,M={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in _){var D;Object.prototype.hasOwnProperty.call(_,E)&&((D=P?Object.getOwnPropertyDescriptor(_,E):null)&&(D.get||D.set)?Object.defineProperty(M,E,D):M[E]=_[E])}return M.default=_,b&&b.set(_,M),M}(n("../core/constants")),A=f(n("./color_conversion"));function f(_){return _&&_.__esModule?_:{default:_}}function h(_,b){for(var E=0;E<b.length;E++){var M=b[E];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},u=(n=/\s*/,/(\d{1,3})/),g=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,S=new RegExp("".concat(g.source,"%")),j={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",u.source,",",u.source,",",u.source,"\\)$"].join(n.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",S.source,",",S.source,",",S.source,"\\)$"].join(n.source),"i"),RGBA:new RegExp(["^rgba\\(",u.source,",",u.source,",",u.source,",",g.source,"\\)$"].join(n.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",S.source,",",S.source,",",S.source,",",g.source,"\\)$"].join(n.source),"i"),HSL:new RegExp(["^hsl\\(",u.source,",",S.source,",",S.source,"\\)$"].join(n.source),"i"),HSLA:new RegExp(["^hsla\\(",u.source,",",S.source,",",S.source,",",g.source,"\\)$"].join(n.source),"i"),HSB:new RegExp(["^hsb\\(",u.source,",",S.source,",",S.source,"\\)$"].join(n.source),"i"),HSBA:new RegExp(["^hsba\\(",u.source,",",S.source,",",S.source,",",g.source,"\\)$"].join(n.source),"i")};c.default.Color=function(){function _(P,D){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(P._colorMode,P._colorMaxes),![T.RGB,T.HSL,T.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=_._parseInputs.apply(this,D),this._calculateLevels()}var b,E,M;return b=_,M=[{key:"_parseInputs",value:function(P,D,O,U){var F,H=arguments.length,G=this.mode,Y=this.maxes[G],q=[];if(3<=H){for(q[0]=P/Y[0],q[1]=D/Y[1],q[2]=O/Y[2],q[3]=typeof U=="number"?U/Y[3]:1,F=q.length-1;0<=F;--F){var V=q[F];V<0?q[F]=0:1<V&&(q[F]=1)}return G===T.HSL?A.default._hslaToRGBA(q):G===T.HSB?A.default._hsbaToRGBA(q):q}if(H===1&&typeof P=="string"){if(O=P.trim().toLowerCase(),p[O])return _._parseInputs.call(this,p[O]);if(j.HEX3.test(O))return(q=j.HEX3.exec(O).slice(1).map(function($){return parseInt($+$,16)/255}))[3]=1,q;if(j.HEX6.test(O))return(q=j.HEX6.exec(O).slice(1).map(function($){return parseInt($,16)/255}))[3]=1,q;if(j.HEX4.test(O))return j.HEX4.exec(O).slice(1).map(function($){return parseInt($+$,16)/255});if(j.HEX8.test(O))return j.HEX8.exec(O).slice(1).map(function($){return parseInt($,16)/255});if(j.RGB.test(O))return(q=j.RGB.exec(O).slice(1).map(function($){return $/255}))[3]=1,q;if(j.RGB_PERCENT.test(O))return(q=j.RGB_PERCENT.exec(O).slice(1).map(function($){return parseFloat($)/100}))[3]=1,q;if(j.RGBA.test(O))return j.RGBA.exec(O).slice(1).map(function($,Q){return Q===3?parseFloat($):$/255});if(j.RGBA_PERCENT.test(O))return j.RGBA_PERCENT.exec(O).slice(1).map(function($,Q){return Q===3?parseFloat($):parseFloat($)/100});if(j.HSL.test(O)?(q=j.HSL.exec(O).slice(1).map(function($,Q){return Q===0?parseInt($,10)/360:parseInt($,10)/100}))[3]=1:j.HSLA.test(O)&&(q=j.HSLA.exec(O).slice(1).map(function($,Q){return Q===0?parseInt($,10)/360:Q===3?parseFloat($):parseInt($,10)/100})),(q=q.map(function($){return Math.max(Math.min($,1),0)})).length)return A.default._hslaToRGBA(q);if(j.HSB.test(O)?(q=j.HSB.exec(O).slice(1).map(function($,Q){return Q===0?parseInt($,10)/360:parseInt($,10)/100}))[3]=1:j.HSBA.test(O)&&(q=j.HSBA.exec(O).slice(1).map(function($,Q){return Q===0?parseInt($,10)/360:Q===3?parseFloat($):parseInt($,10)/100})),q.length){for(F=q.length-1;0<=F;--F)q[F]=Math.max(Math.min(q[F],1),0);return A.default._hsbaToRGBA(q)}q=[1,1,1,1]}else{if(H!==1&&H!==2||typeof P!="number")throw new Error("".concat(arguments,"is not a valid color representation."));q[0]=P/Y[2],q[1]=P/Y[2],q[2]=P/Y[2],q[3]=typeof D=="number"?D/Y[3]:1,q=q.map(function($){return Math.max(Math.min($,1),0)})}return q}}],(E=[{key:"toString",value:function(P){var D=this.levels,O=this._array,U=O[3];switch(P){case"#rrggbb":return"#".concat(D[0]<16?"0".concat(D[0].toString(16)):D[0].toString(16),D[1]<16?"0".concat(D[1].toString(16)):D[1].toString(16),D[2]<16?"0".concat(D[2].toString(16)):D[2].toString(16));case"#rrggbbaa":return"#".concat(D[0]<16?"0".concat(D[0].toString(16)):D[0].toString(16),D[1]<16?"0".concat(D[1].toString(16)):D[1].toString(16),D[2]<16?"0".concat(D[2].toString(16)):D[2].toString(16),D[3]<16?"0".concat(D[3].toString(16)):D[3].toString(16));case"#rgb":return"#".concat(Math.round(15*O[0]).toString(16),Math.round(15*O[1]).toString(16),Math.round(15*O[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*O[0]).toString(16),Math.round(15*O[1]).toString(16),Math.round(15*O[2]).toString(16),Math.round(15*O[3]).toString(16));case"rgb":return"rgb(".concat(D[0],", ",D[1],", ",D[2],")");case"rgb%":return"rgb(".concat((100*O[0]).toPrecision(3),"%, ",(100*O[1]).toPrecision(3),"%, ",(100*O[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*O[0]).toPrecision(3),"%, ",(100*O[1]).toPrecision(3),"%, ",(100*O[2]).toPrecision(3),"%, ",(100*O[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[T.HSB][0],", ",this.hsba[1]*this.maxes[T.HSB][1],", ",this.hsba[2]*this.maxes[T.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[T.HSB][0],", ",this.hsba[1]*this.maxes[T.HSB][1],", ",this.hsba[2]*this.maxes[T.HSB][2],", ",U,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*U).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[T.HSL][0],", ",this.hsla[1]*this.maxes[T.HSL][1],", ",this.hsla[2]*this.maxes[T.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[T.HSL][0],", ",this.hsla[1]*this.maxes[T.HSL][1],", ",this.hsla[2]*this.maxes[T.HSL][2],", ",U,")");case"hsla%":return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*U).toPrecision(3),"%)");default:return"rgba(".concat(D[0],",",D[1],",",D[2],",",U,")")}}},{key:"setRed",value:function(P){this._array[0]=P/this.maxes[T.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(P){this._array[1]=P/this.maxes[T.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(P){this._array[2]=P/this.maxes[T.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(P){this._array[3]=P/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var P=this._array,D=this.levels=new Array(P.length),O=P.length-1;0<=O;--O)D[O]=Math.round(255*P[O]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(P,D){this.mode=P,this.maxes=D}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[T.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[T.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[T.RGB][1]}},{key:"_getHue",value:function(){return this.mode===T.HSB?(this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[T.HSB][0]):(this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[T.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[T.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[T.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===T.HSB?(this.hsba||(this.hsba=A.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[T.HSB][1]):(this.hsla||(this.hsla=A.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[T.HSL][1])}}])&&h(b.prototype,E),M&&h(b,M),_}(),u=c.default.Color,x.default=u},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(n,C,x){function m(f){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function d(f){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(f)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.fill"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(A=n("../core/main"))&&A.__esModule?A:{default:A},T=function(f){if(f&&f.__esModule)return f;if(f===null||d(f)!=="object"&&typeof f!="function")return{default:f};var h=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(h&&h.has(f))return h.get(f);var p,u={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in f){var S;Object.prototype.hasOwnProperty.call(f,p)&&((S=g?Object.getOwnPropertyDescriptor(f,p):null)&&(S.get||S.set)?Object.defineProperty(u,p,S):u[p]=f[p])}return u.default=f,h&&h.set(f,u),u}(n("../core/constants"));n("./p5.Color"),c.default.prototype.background=function(){var f;return(f=this._renderer).background.apply(f,arguments),this},c.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},c.default.prototype.colorMode=function(f,h,p,u,g){return c.default._validateParameters("colorMode",arguments),f!==T.RGB&&f!==T.HSB&&f!==T.HSL||(this._colorMode=f,f=this._colorMaxes[f],arguments.length===2?(f[0]=h,f[1]=h,f[2]=h,f[3]=h):arguments.length===4?(f[0]=h,f[1]=p,f[2]=u):arguments.length===5&&(f[0]=h,f[1]=p,f[2]=u,f[3]=g)),this},c.default.prototype.fill=function(){var f;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(f=this._renderer).fill.apply(f,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var f;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(f=this._renderer).stroke.apply(f,arguments),this},c.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var A=c.default;x.default=A},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.QUADRATIC=x.LINEAR=x._CTX_MIDDLE=x._DEFAULT_LEADMULT=x._DEFAULT_TEXT_FILL=x.WORD=x.CHAR=x.BOLDITALIC=x.BOLD=x.ITALIC=x.NORMAL=x.BLUR=x.ERODE=x.DILATE=x.POSTERIZE=x.INVERT=x.OPAQUE=x.GRAY=x.THRESHOLD=x.BURN=x.DODGE=x.SOFT_LIGHT=x.HARD_LIGHT=x.OVERLAY=x.REPLACE=x.SCREEN=x.MULTIPLY=x.EXCLUSION=x.SUBTRACT=x.DIFFERENCE=x.LIGHTEST=x.DARKEST=x.ADD=x.REMOVE=x.BLEND=x.UP_ARROW=x.TAB=x.SHIFT=x.RIGHT_ARROW=x.RETURN=x.OPTION=x.LEFT_ARROW=x.ESCAPE=x.ENTER=x.DOWN_ARROW=x.DELETE=x.CONTROL=x.BACKSPACE=x.ALT=x.AUTO=x.HSL=x.HSB=x.RGB=x.MITER=x.BEVEL=x.ROUND=x.SQUARE=x.PROJECT=x.PIE=x.CHORD=x.OPEN=x.CLOSE=x.TESS=x.QUAD_STRIP=x.QUADS=x.TRIANGLE_STRIP=x.TRIANGLE_FAN=x.TRIANGLES=x.LINE_LOOP=x.LINE_STRIP=x.LINES=x.POINTS=x.BASELINE=x.BOTTOM=x.TOP=x.CENTER=x.LEFT=x.RIGHT=x.RADIUS=x.CORNERS=x.CORNER=x.RAD_TO_DEG=x.DEG_TO_RAD=x.RADIANS=x.DEGREES=x.TWO_PI=x.TAU=x.QUARTER_PI=x.PI=x.HALF_PI=x.WAIT=x.TEXT=x.MOVE=x.HAND=x.CROSS=x.ARROW=x.WEBGL2=x.WEBGL=x.P2D=x.VERSION=void 0,x.RGBA=x.HALF_FLOAT=x.FLOAT=x.UNSIGNED_INT=x.UNSIGNED_BYTE=x.COVER=x.CONTAIN=x.FALLBACK=x.LABEL=x.AXES=x.GRID=x._DEFAULT_FILL=x._DEFAULT_STROKE=x.PORTRAIT=x.LANDSCAPE=x.MIRROR=x.CLAMP=x.REPEAT=x.NEAREST=x.IMAGE=x.IMMEDIATE=x.TEXTURE=x.FILL=x.STROKE=x.CURVE=x.BEZIER=void 0;var m=Math.PI,d=(x.VERSION="1.7.0",x.P2D="p2d",x.WEBGL="webgl",x.WEBGL2="webgl2",x.ARROW="default",x.CROSS="crosshair",x.HAND="pointer",x.MOVE="move",x.TEXT="text",x.WAIT="wait",m/2);x.HALF_PI=d,d=m,x.PI=d,d=m/4,x.QUARTER_PI=d,d=2*m,x.TAU=d,d=2*m,x.TWO_PI=d,x.DEGREES="degrees",x.RADIANS="radians",d=m/180,x.DEG_TO_RAD=d,d=180/m,x.RAD_TO_DEG=d,x.CORNER="corner",x.CORNERS="corners",x.RADIUS="radius",x.RIGHT="right",x.LEFT="left",x.CENTER="center",x.TOP="top",x.BOTTOM="bottom",x.BASELINE="alphabetic",x.POINTS=0,x.LINES=1,x.LINE_STRIP=3,x.LINE_LOOP=2,x.TRIANGLES=4,x.TRIANGLE_FAN=6,x.TRIANGLE_STRIP=5,x.QUADS="quads",x.QUAD_STRIP="quad_strip",x.TESS="tess",x.CLOSE="close",x.OPEN="open",x.CHORD="chord",x.PIE="pie",x.PROJECT="square",x.SQUARE="butt",x.ROUND="round",x.BEVEL="bevel",x.MITER="miter",x.RGB="rgb",x.HSB="hsb",x.HSL="hsl",x.AUTO="auto",x.ALT=18,x.BACKSPACE=8,x.CONTROL=17,x.DELETE=46,x.DOWN_ARROW=40,x.ENTER=13,x.ESCAPE=27,x.LEFT_ARROW=37,x.OPTION=18,x.RETURN=13,x.RIGHT_ARROW=39,x.SHIFT=16,x.TAB=9,x.UP_ARROW=38,x.BLEND="source-over",x.REMOVE="destination-out",x.ADD="lighter",x.DARKEST="darken",x.LIGHTEST="lighten",x.DIFFERENCE="difference",x.SUBTRACT="subtract",x.EXCLUSION="exclusion",x.MULTIPLY="multiply",x.SCREEN="screen",x.REPLACE="copy",x.OVERLAY="overlay",x.HARD_LIGHT="hard-light",x.SOFT_LIGHT="soft-light",x.DODGE="color-dodge",x.BURN="color-burn",x.THRESHOLD="threshold",x.GRAY="gray",x.OPAQUE="opaque",x.INVERT="invert",x.POSTERIZE="posterize",x.DILATE="dilate",x.ERODE="erode",x.BLUR="blur",x.NORMAL="normal",x.ITALIC="italic",x.BOLD="bold",x.BOLDITALIC="bold italic",x.CHAR="CHAR",x.WORD="WORD",x._DEFAULT_TEXT_FILL="#000000",x._DEFAULT_LEADMULT=1.25,x._CTX_MIDDLE="middle",x.LINEAR="linear",x.QUADRATIC="quadratic",x.BEZIER="bezier",x.CURVE="curve",x.STROKE="stroke",x.FILL="fill",x.TEXTURE="texture",x.IMMEDIATE="immediate",x.IMAGE="image",x.NEAREST="nearest",x.REPEAT="repeat",x.CLAMP="clamp",x.MIRROR="mirror",x.LANDSCAPE="landscape",x.PORTRAIT="portrait",x._DEFAULT_STROKE="#000000",x._DEFAULT_FILL="#FFFFFF",x.GRID="grid",x.AXES="axes",x.LABEL="label",x.FALLBACK="fallback",x.CONTAIN="contain",x.COVER="cover",x.UNSIGNED_BYTE="unsigned-byte",x.UNSIGNED_INT="unsigned-int",x.FLOAT="float",x.HALF_FLOAT="half-float",x.RGBA="rgba"},{}],263:[function(n,C,x){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function d(u){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(g){return m(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":m(g)})(u)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.search"),n("core-js/modules/es.string.split"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.search"),n("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(T=n("./main"))&&T.__esModule?T:{default:T},T=function(u){if(u&&u.__esModule)return u;if(u===null||d(u)!=="object"&&typeof u!="function")return{default:u};var g=function(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,E)}();if(g&&g.has(u))return g.get(u);var S,j={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in u){var b;Object.prototype.hasOwnProperty.call(u,S)&&((b=_?Object.getOwnPropertyDescriptor(u,S):null)&&(b.get||b.set)?Object.defineProperty(j,S,b):j[S]=u[S])}return j.default=u,g&&g.set(u,j),j}(n("./constants")),A=[T.ARROW,T.CROSS,T.HAND,T.MOVE,T.TEXT,T.WAIT],f=(c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60,window.print);function h(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function p(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var u;arguments.length?(u=console).log.apply(u,arguments):f()},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(u,g,S){var j,_="auto",b=this._curElement.elt;A.includes(u)?_=u:typeof u=="string"&&(j="",g&&S&&typeof g=="number"&&typeof S=="number"&&(j="".concat(g," ").concat(S)),_=u.substring(0,7)==="http://"||u.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(u)?"url(".concat(u,") ").concat(j,", auto"):u),b.style.cursor=_},c.default.prototype.frameRate=function(u){return c.default._validateParameters("frameRate",arguments),typeof u!="number"||u<0?this._frameRate:(this._setProperty("_targetFrameRate",u),u===0&&this._setProperty("_frameRate",u),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(u){return this.frameRate(u)},c.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.webglVersion=T.P2D,c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=h(),c.default.prototype.windowHeight=p(),c.default.prototype._onresize=function(u){this._setProperty("windowWidth",h()),this._setProperty("windowHeight",p());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(u))===void 0||g||u.preventDefault()},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(u){if(c.default._validateParameters("fullscreen",arguments),u===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(u){if(u=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");u.requestFullscreen?u.requestFullscreen():u.mozRequestFullScreen?u.mozRequestFullScreen():u.webkitRequestFullscreen?u.webkitRequestFullscreen():u.msRequestFullscreen&&u.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(u){var g;return c.default._validateParameters("pixelDensity",arguments),typeof u=="number"?(u!==this._pixelDensity&&(this._pixelDensity=u),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(u){return u!==""})},c.default.prototype.getURLParams=function(){for(var u,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,S={};(u=g.exec(location.search))!=null;)u.index===g.lastIndex&&g.lastIndex++,S[u[1]]=u[2];return S},n=c.default,x.default=n},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.starts-with"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.starts-with"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(f=n("../main"))&&f.__esModule?f:{default:f};function d(h,p){p=p||console.log.bind(console),c||T(),c.some(function(u){var g;if(h.message&&h.message.match("\\W?".concat(u.name,"\\W"))!==null)return g=u.type==="function"?"".concat(u.name,"()"):u.name,p("Did you just try to use p5.js's ".concat(g," ").concat(u.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(A)),!0})}n("../internationalization");var c=null,T=null,A=(m.default._friendlyError=m.default._checkForUserDefinedFunctions=m.default._fesErrorMonitor=function(){},c=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),f=(T=function(){function h(u){return Object.getOwnPropertyNames(u).filter(function(g){return g[0]!=="_"&&!(g in p)&&(p[g]=!0)}).map(function(g){var S=typeof u[g]=="function"?"function":g===g.toUpperCase()?"constant":"variable";return{name:g,type:S}})}var p={};(c=[].concat(h(m.default.prototype),h(n("../constants")))).sort(function(u,g){return g.name.length-u.name.length})},m.default.prototype._helpForMisusedAtTopLevelCode=d,document.readyState!=="complete"&&(window.addEventListener("error",d,!1),window.addEventListener("load",function(){window.removeEventListener("error",d,!1)})),m.default);x.default=f},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(m=n("../main"))&&m.__esModule?m:{default:m};n("../internationalization"),m.default._friendlyFileLoadError=function(){},n=m.default,x.default=n},{"../internationalization":271,"../main":273}],266:[function(n,C,x){function m(f){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function d(f){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(f)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=function(f){return f&&f.__esModule?f:{default:f}}(n("../main"));n("../internationalization"),function(f){if(f&&f.__esModule)return f;if(f===null||d(f)!=="object"&&typeof f!="function")return{default:f};var h=T();if(h&&h.has(f))return h.get(f);var p,u,g={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&((u=S?Object.getOwnPropertyDescriptor(f,p):null)&&(u.get||u.set)?Object.defineProperty(g,p,u):g[p]=f[p]);g.default=f,h&&h.set(f,g)}(n("../constants"));function T(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,T=function(){return f},f)}c.default._fesCodeReader=function(){};var A=c.default;x.default=A},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(n,C,x){function m(){var d=/(^|@)\S+:\d+/,c=/^\s*at .*(\S+:\d+|\(native\))/m,T=/^(eval@)?(\[native code])?$/;return{parse:function(A){return A.stacktrace!==void 0||A["opera#sourceloc"]!==void 0?this.parseOpera(A):A.stack&&A.stack.match(c)?this.parseV8OrIE(A):A.stack?this.parseFFOrSafari(A):void 0},extractLocation:function(A){return A.indexOf(":")===-1?[A]:[(A=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(A.replace(/[()]/g,"")))[1],A[2]||void 0,A[3]||void 0]},parseV8OrIE:function(A){return A.stack.split(`
`).filter(function(f){return!!f.match(c)},this).map(function(f){var h=(p=(f=-1<f.indexOf("(eval ")?f.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):f).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),p=(p=h?p.replace(h[0],""):p).split(/\s+/).slice(1);return h=this.extractLocation(h?h[1]:p.pop()),{functionName:p.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(h[0])?void 0:h[0],lineNumber:h[1],columnNumber:h[2],source:f}},this)},parseFFOrSafari:function(A){return A.stack.split(`
`).filter(function(f){return!f.match(T)},this).map(function(f){var h,p;return(f=-1<f.indexOf(" > eval")?f.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):f).indexOf("@")===-1&&f.indexOf(":")===-1?{functionName:f}:{functionName:(p=f.match(h=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&p[1]?p[1]:void 0,fileName:(p=this.extractLocation(f.replace(h,"")))[0],lineNumber:p[1],columnNumber:p[2],source:f}},this)},parseOpera:function(A){return!A.stacktrace||-1<A.message.indexOf(`
`)&&A.message.split(`
`).length>A.stacktrace.split(`
`).length?this.parseOpera9(A):A.stack?this.parseOpera11(A):this.parseOpera10(A)},parseOpera9:function(A){for(var f=/Line (\d+).*script (?:in )?(\S+)/i,h=A.message.split(`
`),p=[],u=2,g=h.length;u<g;u+=2){var S=f.exec(h[u]);S&&p.push({fileName:S[2],lineNumber:S[1],source:h[u]})}return p},parseOpera10:function(A){for(var f=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,h=A.stacktrace.split(`
`),p=[],u=0,g=h.length;u<g;u+=2){var S=f.exec(h[u]);S&&p.push({functionName:S[3]||void 0,fileName:S[2],lineNumber:S[1],source:h[u]})}return p},parseOpera11:function(A){return A.stack.split(`
`).filter(function(f){return!!f.match(d)&&!f.match(/^Error created at/)},this).map(function(f){var h,p=f.split("@"),u=this.extractLocation(p.pop());return{functionName:(p=p.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(h=p.match(/\(([^)]*)\)/)?p.replace(/^[^(]+\(([^)]*)\)$/,"$1"):h)===void 0||h==="[arguments not available]"?void 0:h.split(","),fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:f}},this)}}}n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../main"))&&n.__esModule?n:{default:n}).default._getErrorStackParser=function(){return new m},n=n.default,x.default=n},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(n,C,x){function m(T){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(T)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(d=n("../main"))&&d.__esModule?d:{default:d};function c(T){return(c=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(A){return m(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":m(A)})(T)}(function(T){if(!(T&&T.__esModule||T===null||c(T)!=="object"&&typeof T!="function")){var A=function(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,g)}();if(A&&A.has(T))return A.get(T);var f,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in T){var u;Object.prototype.hasOwnProperty.call(T,f)&&((u=p?Object.getOwnPropertyDescriptor(T,f):null)&&(u.get||u.set)?Object.defineProperty(h,f,u):h[f]=T[f])}h.default=T,A&&A.set(T,h)}})(n("../constants")),n("../internationalization"),d.default._validateParameters=d.default._clearValidateParamsCache=function(){},n=d.default,x.default=n},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(n,C,x){function m(T){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(T)}function d(T){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(A){return m(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":m(A)})(T)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=function(T){if(T&&T.__esModule)return T;if(T===null||d(T)!=="object"&&typeof T!="function")return{default:T};var A=function(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,g)}();if(A&&A.has(T))return A.get(T);var f,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in T){var u;Object.prototype.hasOwnProperty.call(T,f)&&((u=p?Object.getOwnPropertyDescriptor(T,f):null)&&(u.get||u.set)?Object.defineProperty(h,f,u):h[f]=T[f])}return h.default=T,A&&A.set(T,h),h}(n("./constants"));x.default={modeAdjust:function(T,A,f,h,p){return p===c.CORNER?{x:T,y:A,w:f,h}:p===c.CORNERS?{x:T,y:A,w:f-T,h:h-A}:p===c.RADIUS?{x:T-f,y:A-h,w:2*f,h:2*h}:p===c.CENTER?{x:T-.5*f,y:A-.5*h,w:f,h}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(n,C,x){n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var m=(d=n("../core/main"))&&d.__esModule?d:{default:d};n("./internationalization");var d=Promise.resolve();Promise.all([new Promise(function(c,T){document.readyState==="complete"?c():window.addEventListener("load",c,!1)}),d]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!m.default.instance&&new m.default})},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(n,C,x){n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.setTranslatorLanguage=x.currentTranslatorLanguage=x.availableTranslatorLanguages=x.initialize=x.translator=void 0;var m,d=T(n("i18next")),c=T(n("i18next-browser-languagedetector"));function T(h){return h&&h.__esModule?h:{default:h}}function A(h,p){for(var u=0;u<p.length;u++){var g=p[u];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}var f=function(){function h(g,S){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.init(g,S)}var p,u;return p=h,(u=[{key:"fetchWithTimeout",value:function(g,S){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(g,S),new Promise(function(_,b){return setTimeout(function(){return b(new Error("timeout"))},j)})])}},{key:"init",value:function(g){var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=g,this.options=S}},{key:"read",value:function(g,S,j){var _=this.options.loadPath;g===this.options.fallback?j(null,m[g][S]):(void 0).includes(g)?(_=this.services.interpolator.interpolate(_,{lng:g,ns:S}),this.loadUrl(_,j)):j("Not found",!1)}},{key:"loadUrl",value:function(g,S){this.fetchWithTimeout(g).then(function(j){if(j.ok)return j.json();throw new Error("failed loading ".concat(g))},function(){throw new Error("failed loading ".concat(g))}).then(function(j){return S(null,j)}).catch(S)}}])&&A(p.prototype,u),h}();f.type="backend",x.translator=function(h,p){console.debug("p5.js translator called before translations were loaded"),d.default.t(h,p)},x.initialize=function(){return d.default.use(c.default).use(f).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:m}).then(function(h){x.translator=h},function(h){return console.debug("Translations failed to load (".concat(h,")"))})},x.availableTranslatorLanguages=function(){return d.default.languages},x.currentTranslatorLanguage=function(h){return d.default.language},x.setTranslatorLanguage=function(h){return d.default.changeLanguage(h||void 0,function(p){return console.debug("Translations failed to load (".concat(p,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("./main"))&&n.__esModule?n:{default:n}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},n.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},n.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},n.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},n=n.default,x.default=n},{"./main":273}],273:[function(n,C,x){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function d(h){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(h)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-names"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,n("./shim");var c=function(h){if(h&&h.__esModule)return h;if(h===null||d(h)!=="object"&&typeof h!="function")return{default:h};var p=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(p&&p.has(h))return p.get(h);var u,g={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var j;Object.prototype.hasOwnProperty.call(h,u)&&((j=S?Object.getOwnPropertyDescriptor(h,u):null)&&(j.get||j.set)?Object.defineProperty(g,u,j):g[u]=h[u])}return g.default=h,p&&p.set(h,g),g}(n("./constants"));function T(h,p){for(var u=0;u<p.length;u++){var g=p[u];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,g.key,g)}}var A,f=function(){function h(g,S,j){var _=this;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=S,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},S=Object.getOwnPropertyNames(h.prototype._registeredMethods);var b=!0,E=!1,M=void 0;try{for(var P,D=S[Symbol.iterator]();!(b=(P=D.next()).done);b=!0){var O=P.value;this._registeredMethods[O]=h.prototype._registeredMethods[O].slice()}}catch(Q){E=!0,M=Q}finally{try{b||D.return==null||D.return()}finally{if(E)throw M}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){_._userNode&&typeof _._userNode=="string"&&(_._userNode=document.getElementById(_._userNode));var Q=_._isGlobal?window:_;if(Q.preload){var te,ne=document.getElementById(_._loadingScreenId),ae=(ne||((ne=document.createElement("div")).innerHTML="Loading...",ne.style.position="absolute",ne.id=_._loadingScreenId,(_._userNode||document.body).appendChild(ne)),_._preloadMethods);for(te in ae){ae[te]=ae[te]||h;var ce=ae[te];ce!==h.prototype&&ce!==h||(_._isGlobal&&(window[te]=_._wrapPreload(_,te)),ce=_),_._registeredPreloadMethods[te]=ce[te],ce[te]=_._wrapPreload(ce,te)}Q.preload(),_._runIfPreloadsAreDone()}else _._setup(),_._recording||_._draw()},this._runIfPreloadsAreDone=function(){var Q,te=this._isGlobal?window:this;te._preloadCount===0&&((Q=document.getElementById(te._loadingScreenId))&&Q.parentNode.removeChild(Q),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),te._setup(),this._recording||te._draw()))},this._decrementPreload=function(){var Q=this._isGlobal?window:this;Q._preloadDone||typeof Q.preload!="function"||(Q._setProperty("_preloadCount",Q._preloadCount-1),Q._runIfPreloadsAreDone())},this._wrapPreload=function(Q,te){var ne=this;return function(){ne._incrementPreload();for(var ae=arguments.length,ce=new Array(ae),de=0;de<ae;de++)ce[de]=arguments[de];return ne._registeredPreloadMethods[te].apply(Q,ce)}},this._incrementPreload=function(){var Q=this._isGlobal?window:this;Q._preloadDone||Q._setProperty("_preloadCount",Q._preloadCount+1)},this._setup=function(){_.createCanvas(_._defaultCanvasSize.width,_._defaultCanvasSize.height,"p2d");var Q=_._isGlobal?window:_;if(typeof Q.preload=="function")for(var te in _._preloadMethods)Q[te]=_._preloadMethods[te][te],Q[te]&&_&&(Q[te]=Q[te].bind(_));_._millisStart=window.performance.now(),Q._preloadDone=!0,typeof Q.setup=="function"&&Q.setup();var ne=document.getElementsByTagName("canvas"),ae=!0,ce=!1,de=void 0;try{for(var X,Z=ne[Symbol.iterator]();!(ae=(X=Z.next()).done);ae=!0){var ie=X.value;ie.dataset.hidden==="true"&&(ie.style.visibility="",delete ie.dataset.hidden)}}catch(he){ce=!0,de=he}finally{try{ae||Z.return==null||Z.return()}finally{if(ce)throw de}}_._lastTargetFrameTime=window.performance.now(),_._lastRealFrameTime=window.performance.now(),_._setupDone=!0,(_._accessibleOutputs.grid||_._accessibleOutputs.text)&&_._updateAccsOutput()},this._draw=function(){var Q=window.performance.now(),te=Q-_._lastTargetFrameTime,ne=1e3/_._targetFrameRate;(!_._loop||ne-5<=te)&&(_.deltaTime=Q-_._lastRealFrameTime,_._setProperty("deltaTime",_.deltaTime),_._frameRate=1e3/_.deltaTime,_.redraw(),_._lastTargetFrameTime=Math.max(_._lastTargetFrameTime+ne,Q),_._lastRealFrameTime=Q,_._updateMouseCoords!==void 0&&(_._updateMouseCoords(),_._setProperty("movedX",0),_._setProperty("movedY",0))),_._loop&&(_._requestAnimId=window.requestAnimationFrame(_._draw))},this._setProperty=function(Q,te){_[Q]=te,_._isGlobal&&(window[Q]=te)},this.remove=function(){if((ne=document.getElementById(_._loadingScreenId))&&(ne.parentNode.removeChild(ne),_._incrementPreload()),_._curElement){for(var Q in _._loop=!1,_._requestAnimId&&window.cancelAnimationFrame(_._requestAnimId),_._events)window.removeEventListener(Q,_._events[Q]);var te=!0,ne=!1,ae=void 0;try{for(var ce,de=_._elements[Symbol.iterator]();!(te=(ce=de.next()).done);te=!0){var X,Z=ce.value;for(X in Z.elt&&Z.elt.parentNode&&Z.elt.parentNode.removeChild(Z.elt),Z._events)Z.elt.removeEventListener(X,Z._events[X])}}catch(ve){ne=!0,ae=ve}finally{try{te||de.return==null||de.return()}finally{if(ne)throw ae}}var ie=_;_._registeredMethods.remove.forEach(function(ve){ve!==void 0&&ve.call(ie)})}if(_._isGlobal){for(var he in h.prototype)try{delete window[he]}catch{window[he]=void 0}for(var ye in _)if(_.hasOwnProperty(ye))try{delete window[ye]}catch{window[ye]=void 0}h.instance=null}},this._registeredMethods.init.forEach(function(Q){Q!==void 0&&Q.call(this)},this),this._setupPromisePreloads();var U,F,H=this._createFriendlyGlobalFunctionBinder();if(g)g(this),h._checkForUserDefinedFunctions(this);else{for(var G in this._isGlobal=!0,h.instance=this,h.prototype)typeof h.prototype[G]=="function"?(U=G.substring(2),this._events.hasOwnProperty(U)||(Math.hasOwnProperty(G)&&Math[G]===h.prototype[G]?H(G,h.prototype[G]):H(G,h.prototype[G].bind(this)))):H(G,h.prototype[G]);for(var Y in this)this.hasOwnProperty(Y)&&H(Y,this[Y])}for(F in this._events){var q=this["_on".concat(F)];q&&(q=q.bind(this),window.addEventListener(F,q,{passive:!1}),this._events[F]=q)}function V(){_._setProperty("focused",!0)}function $(){_._setProperty("focused",!1)}window.addEventListener("focus",V),window.addEventListener("blur",$),this.registerMethod("remove",function(){window.removeEventListener("focus",V),window.removeEventListener("blur",$)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var p,u;return p=h,(u=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=c.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(g,S){h.prototype._preloadMethods.hasOwnProperty(g)||(h.prototype._preloadMethods[g]=S)}},{key:"registerMethod",value:function(g,S){var j=this||h.prototype;j._registeredMethods.hasOwnProperty(g)||(j._registeredMethods[g]=[]),j._registeredMethods[g].push(S)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},S=g.globalObject||window;return g.log||console.log.bind(console),function(j,_){h.disableFriendlyErrors,S[j]=_}}}])&&T(p.prototype,u),h}();for(A in f.instance=null,f.disableFriendlyErrors=!1,c)f.prototype[A]=c[A];f.VERSION=c.VERSION,f.prototype._preloadMethods={loadJSON:f.prototype,loadImage:f.prototype,loadStrings:f.prototype,loadXML:f.prototype,loadBytes:f.prototype,loadTable:f.prototype,loadFont:f.prototype,loadModel:f.prototype,loadShader:f.prototype},f.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},f.prototype._registeredPreloadMethods={},x.default=f},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("./main"))&&n.__esModule?n:{default:n};function d(c,T){for(var A=0;A<T.length;A++){var f=T[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}m.default.Element=function(){function c(h,p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.elt=h,this._pInst=this._pixelsState=p,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var T,A,f;return T=c,f=[{key:"_adjustListener",value:function(h,p,u){return p===!1?m.default.Element._detachListener(h,u):m.default.Element._attachListener(h,p,u),this}},{key:"_attachListener",value:function(h,p,u){u._events[h]&&m.default.Element._detachListener(h,u),p=p.bind(u),u.elt.addEventListener(h,p,!1),u._events[h]=p}},{key:"_detachListener",value:function(h,p){var u=p._events[h];p.elt.removeEventListener(h,u,!1),p._events[h]=null}}],(A=[{key:"parent",value:function(h){return h===void 0?this.elt.parentNode:(typeof h=="string"?(h[0]==="#"&&(h=h.substring(1)),h=document.getElementById(h)):h instanceof m.default.Element&&(h=h.elt),h.appendChild(this.elt),this)}},{key:"id",value:function(h){return h===void 0?this.elt.id:(this.elt.id=h,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(h){return h===void 0?this.elt.className:(this.elt.className=h,this)}},{key:"mousePressed",value:function(h){return m.default.Element._adjustListener("mousedown",function(p){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(p),h.call(this,p)},this),this}},{key:"doubleClicked",value:function(h){return m.default.Element._adjustListener("dblclick",h,this),this}},{key:"mouseWheel",value:function(h){return m.default.Element._adjustListener("wheel",h,this),this}},{key:"mouseReleased",value:function(h){return m.default.Element._adjustListener("mouseup",h,this),this}},{key:"mouseClicked",value:function(h){return m.default.Element._adjustListener("click",h,this),this}},{key:"mouseMoved",value:function(h){return m.default.Element._adjustListener("mousemove",h,this),this}},{key:"mouseOver",value:function(h){return m.default.Element._adjustListener("mouseover",h,this),this}},{key:"mouseOut",value:function(h){return m.default.Element._adjustListener("mouseout",h,this),this}},{key:"touchStarted",value:function(h){return m.default.Element._adjustListener("touchstart",h,this),this}},{key:"touchMoved",value:function(h){return m.default.Element._adjustListener("touchmove",h,this),this}},{key:"touchEnded",value:function(h){return m.default.Element._adjustListener("touchend",h,this),this}},{key:"dragOver",value:function(h){return m.default.Element._adjustListener("dragover",h,this),this}},{key:"dragLeave",value:function(h){return m.default.Element._adjustListener("dragleave",h,this),this}},{key:"_setProperty",value:function(h,p){this[h]=p}}])&&d(T.prototype,A),f&&d(T,f),c}(),n=m.default.Element,x.default=n},{"./main":273}],275:[function(n,C,x){function m(j){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(j)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(S=n("./main"))&&S.__esModule?S:{default:S},c=function(j){if(j&&j.__esModule)return j;if(j===null||T(j)!=="object"&&typeof j!="function")return{default:j};var _=function(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,D)}();if(_&&_.has(j))return _.get(j);var b,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in j){var P;Object.prototype.hasOwnProperty.call(j,b)&&((P=M?Object.getOwnPropertyDescriptor(j,b):null)&&(P.get||P.set)?Object.defineProperty(E,b,P):E[b]=j[b])}return E.default=j,_&&_.set(j,E),E}(n("./constants"));function T(j){return(T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(j)}function A(j,_){for(var b=0;b<_.length;b++){var E=_[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(j,E.key,E)}}function f(j,_){return(f=Object.setPrototypeOf||function(b,E){return b.__proto__=E,b})(j,_)}function h(j){return function(){var _,b=g(j);return p(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=g(this).constructor,Reflect.construct(b,arguments,_)):b.apply(this,arguments))}}function p(j,_){return!_||T(_)!=="object"&&typeof _!="function"?u(j):_}function u(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function g(j){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(j)}d.default.Graphics=function(j){var _=E;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(j&&j.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),j&&f(_,j);var b=h(E);function E(M,P,D,O,U){var F;if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");G=U||document.createElement("canvas"),(F=b.call(this,G,O)).canvas=G;var H,G=D||c.P2D;D=O._userNode||document.body;for(H in U||D.appendChild(F.canvas),d.default.prototype)F[H]||(typeof d.default.prototype[H]=="function"?F[H]=d.default.prototype[H].bind(u(F)):F[H]=d.default.prototype[H]);return d.default.prototype._initializeInstanceVariables.apply(u(F)),F.width=M,F.height=P,F._pixelDensity=O._pixelDensity,G===c.WEBGL?F._renderer=new d.default.RendererGL(F.canvas,u(F),!1):F._renderer=new d.default.Renderer2D(F.canvas,u(F),!1),O._elements.push(u(F)),Object.defineProperty(u(F),"deltaTime",{get:function(){return this._pInst.deltaTime}}),F._renderer.resize(M,P),F._renderer._applyDefaults(),p(F,u(F))}return _=E,(j=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var M,P=this._pInst._elements.indexOf(this);for(M in P!==-1&&this._pInst._elements.splice(P,1),this._events)this.elt.removeEventListener(M,this._events[M])}},{key:"createFramebuffer",value:function(M){return new d.default.Framebuffer(this,M)}}])&&A(_.prototype,j),E}(d.default.Element);var S=d.default.Graphics;x.default=S},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(n,C,x){function m(j){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(j)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(g=n("./main"))&&g.__esModule?g:{default:g},c=function(j){if(j&&j.__esModule)return j;if(j===null||T(j)!=="object"&&typeof j!="function")return{default:j};var _=function(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,D)}();if(_&&_.has(j))return _.get(j);var b,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in j){var P;Object.prototype.hasOwnProperty.call(j,b)&&((P=M?Object.getOwnPropertyDescriptor(j,b):null)&&(P.get||P.set)?Object.defineProperty(E,b,P):E[b]=j[b])}return E.default=j,_&&_.set(j,E),E}(n("../core/constants"));function T(j){return(T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(j)}function A(j,_){for(var b=0;b<_.length;b++){var E=_[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(j,E.key,E)}}function f(j,_){return(f=Object.setPrototypeOf||function(b,E){return b.__proto__=E,b})(j,_)}function h(j){return function(){var _,b,E=u(j);return _=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=u(this).constructor,Reflect.construct(E,arguments,_)):E.apply(this,arguments),E=this,!(b=_)||T(b)!=="object"&&typeof b!="function"?p(E):b}}function p(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function u(j){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(j)}var g=function(j){var _=E;if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(j&&j.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),j&&f(_,j);var b=h(E);function E(M,P,D){var O;if(this instanceof E)return(O=b.call(this,M,P)).canvas=M,O._pixelsState=P,D?(O._isMainCanvas=!0,O._pInst._setProperty("_curElement",p(O)),O._pInst._setProperty("canvas",O.canvas),O._pInst._setProperty("width",O.width),O._pInst._setProperty("height",O.height)):(O.canvas.style.display="none",O._styles=[]),O._textSize=12,O._textLeading=15,O._textFont="sans-serif",O._textStyle=c.NORMAL,O._textAscent=null,O._textDescent=null,O._textAlign=c.LEFT,O._textBaseline=c.BASELINE,O._textWrap=c.WORD,O._rectMode=c.CORNER,O._ellipseMode=c.CENTER,O._curveTightness=0,O._imageMode=c.CORNER,O._tint=null,O._doStroke=!0,O._doFill=!0,O._strokeSet=!1,O._fillSet=!1,O._leadingSet=!1,O;throw new TypeError("Cannot call a class as a function")}return _=E,(j=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(M){M.properties&&Object.assign(this,M.properties)}},{key:"resize",value:function(M,P){this.width=M,this.height=P,this.elt.width=M*this._pInst._pixelDensity,this.elt.height=P*this._pInst._pixelDensity,this.elt.style.width="".concat(M,"px"),this.elt.style.height="".concat(P,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(M,P,D,O){var U=this._pixelsState,F=U._pixelDensity,H=this.canvas;if(M===void 0&&P===void 0)M=P=0,D=U.width,O=U.height;else if(M*=F,P*=F,D===void 0&&O===void 0)return M<0||P<0||M>=H.width||P>=H.height?[0,0,0,0]:this._getPixel(M,P);return(U=new d.default.Image(D,O)).canvas.getContext("2d").drawImage(H,M,P,D*F,O*F,0,0,D,O),U}},{key:"textLeading",value:function(M){return typeof M=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",M),this._pInst):this._textLeading}},{key:"textStyle",value:function(M){return M?(M!==c.NORMAL&&M!==c.ITALIC&&M!==c.BOLD&&M!==c.BOLDITALIC||this._setProperty("_textStyle",M),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(M,P){return M!==void 0?(this._setProperty("_textAlign",M),P!==void 0&&this._setProperty("_textBaseline",P),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(M){return this._setProperty("_textWrap",M),this._textWrap}},{key:"text",value:function(M,P,D,O,U){var F,H,G,Y,q=this._pInst,V=this._textWrap,$=Number.MAX_VALUE,Q=D;if((this._doFill||this._doStroke)&&M!==void 0){if(F=(M=(M=typeof M!="string"?M.toString():M).replace(/(\t)/g,"  ")).split(`
`),O!==void 0){switch(this._rectMode===c.CENTER&&(P-=O/2),this._textAlign){case c.CENTER:P+=O/2;break;case c.RIGHT:P+=O}if(U!==void 0){this._rectMode===c.CENTER&&(D-=U/2,Q-=U/2),M=D;var te=q.textAscent();switch(this._textBaseline){case c.BOTTOM:Y=D+U,D=Math.max(Y,D),Q+=te;break;case c.CENTER:Y=D+U/2,D=Math.max(Y,D),Q+=te/2}$=D+U-te,this._textBaseline===c.CENTER&&($=M+U-te/2)}else this._textBaseline!==c.BOTTOM&&this._textBaseline!==c.CENTER||(Q=D-(M=q.textSize()*this._textLeading)/2,$=D+M/2);if(V===c.WORD){for(var ne=[],ae=0;ae<F.length;ae++){for(var ce="",de=F[ae].split(" "),X=0;X<de.length;X++)H="".concat(ce+de[X])+" ",ce=O<(G=this.textWidth(H))&&0<ce.length?(ne.push(ce),"".concat(de[X])+" "):H;ne.push(ce)}var Z=0;this._textBaseline===c.CENTER?Z=(ne.length-1)*q.textLeading()/2:this._textBaseline===c.BOTTOM&&(Z=(ne.length-1)*q.textLeading());for(var ie=0;ie<F.length;ie++){ce="",de=F[ie].split(" ");for(var he=0;he<de.length;he++)H="".concat(ce+de[he])+" ",O<(G=this.textWidth(H))&&0<ce.length?(this._renderText(q,ce.trim(),P,D-Z,$,Q),ce="".concat(de[he])+" ",D+=q.textLeading()):ce=H;this._renderText(q,ce.trim(),P,D-Z,$,Q),D+=q.textLeading()}}else{for(var ye=[],ve=0;ve<F.length;ve++)for(var le=F[ve].split(ce=""),me=0;me<le.length;me++)H="".concat(ce+le[me]),(G=this.textWidth(H))<=O?ce+=le[me]:O<G&&0<ce.length&&(ye.push(ce),ce="".concat(le[me]));ye.push(ce);var Se=0;this._textBaseline===c.CENTER?Se=(ye.length-1)*q.textLeading()/2:this._textBaseline===c.BOTTOM&&(Se=(ye.length-1)*q.textLeading());for(var Re=0;Re<F.length;Re++){le=F[Re].split(ce="");for(var Ee=0;Ee<le.length;Ee++)H="".concat(ce+le[Ee]),(G=this.textWidth(H))<=O?ce+=le[Ee]:O<G&&0<ce.length&&(this._renderText(q,ce.trim(),P,D-Se,$,Q),D+=q.textLeading(),ce="".concat(le[Ee]))}this._renderText(q,ce.trim(),P,D-Se,$,Q),D+=q.textLeading()}}else{var Ae=0;this._textBaseline===c.CENTER?Ae=(F.length-1)*q.textLeading()/2:this._textBaseline===c.BOTTOM&&(Ae=(F.length-1)*q.textLeading());for(var Be=0;Be<F.length;Be++)this._renderText(q,F[Be],P,D-Ae,$,Q-Ae),D+=q.textLeading()}return q}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return T(M)==="object"&&M.font&&M.font.supported}},{key:"_updateTextMetrics",value:function(){var M,P,D,O,U,F;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((M=document.createElement("span")).style.fontFamily=this._textFont,M.style.fontSize="".concat(this._textSize,"px"),M.innerHTML="ABCjgq|",(F=document.createElement("div")).style.display="inline-block",F.style.width="1px",F.style.height="0px",(P=document.createElement("div")).appendChild(M),P.appendChild(F),P.style.height="0px",P.style.overflow="hidden",document.body.appendChild(P),F.style.verticalAlign="baseline",O=S(F),U=S(M),D=O[1]-U[1],F.style.verticalAlign="bottom",O=S(F),U=S(M),F=O[1]-U[1]-D,document.body.removeChild(P),this._setProperty("_textAscent",D),this._setProperty("_textDescent",F)),this}}])&&A(_.prototype,j),E}(d.default.Element);function S(j){var _=0,b=0;if(j.offsetParent)for(;_+=j.offsetLeft,b+=j.offsetTop,j=j.offsetParent;);else _+=j.offsetLeft,b+=j.offsetTop;return[_,b]}g.prototype.textSize=function(j){return typeof j=="number"?(this._setProperty("_textSize",j),this._leadingSet||this._setProperty("_textLeading",j*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},d.default.Renderer=g,n=d.default.Renderer,x.default=n},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(n,C,x){function m(S){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(S)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.reflect.get"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.reflect.get"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(g=n("./main"))&&g.__esModule?g:{default:g},c=function(S){if(S&&S.__esModule)return S;if(S===null||T(S)!=="object"&&typeof S!="function")return{default:S};var j=function(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,P)}();if(j&&j.has(S))return j.get(S);var _,b={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in S){var M;Object.prototype.hasOwnProperty.call(S,_)&&((M=E?Object.getOwnPropertyDescriptor(S,_):null)&&(M.get||M.set)?Object.defineProperty(b,_,M):b[_]=S[_])}return b.default=S,j&&j.set(S,b),b}(n("./constants"));function T(S){return(T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(j){return m(j)}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":m(j)})(S)}function A(S,j){for(var _=0;_<j.length;_++){var b=j[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(S,b.key,b)}}function f(S,j,_){return(f=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(b,E,M){if(b=function(P,D){for(;!Object.prototype.hasOwnProperty.call(P,D)&&(P=p(P))!==null;);return P}(b,E))return(b=Object.getOwnPropertyDescriptor(b,E)).get?b.get.call(M):b.value})(S,j,_||S)}function h(S,j){return(h=Object.setPrototypeOf||function(_,b){return _.__proto__=b,_})(S,j)}function p(S){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)})(S)}n("./p5.Renderer");var u="rgba(0,0,0,0)",g=function(S){var j=b;if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),S&&h(j,S);var _=function(E){return function(){var M,P=p(E);if(M=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(M=p(this).constructor,Reflect.construct(P,arguments,M)):P.apply(this,arguments),P=this,!M||T(M)!=="object"&&typeof M!="function"){if(P!==void 0)return P;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return M}}(b);function b(E,M,P){if(this instanceof b)return(E=_.call(this,E,M,P)).drawingContext=E.canvas.getContext("2d"),E._pInst._setProperty("drawingContext",E.drawingContext),E;throw new TypeError("Cannot call a class as a function")}return j=b,(S=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(E,M){f(p(b.prototype),"resize",this).call(this,E,M),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var E,M;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof d.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(E=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(E,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(E=this._getFill(),M=(M=this._pInst).color.apply(M,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(M.levels),M=M.toString(),this._setFill(M),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(E),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setFill(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",E.levels)}},{key:"stroke",value:function(){var E=(E=this._pInst).color.apply(E,arguments);this._setStroke(E.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",E.levels)}},{key:"erase",value:function(E,M){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,E=this._pInst.color(255,E).toString(),this.drawingContext.fillStyle=E,this._cachedStrokeStyle=this.drawingContext.strokeStyle,E=this._pInst.color(255,M).toString(),this.drawingContext.strokeStyle=E,M=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=M,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(E,M,P,D,O,U,F,H,G){E.gifProperties&&E._animateGif(this._pInst);try{d.default.MediaElement&&E instanceof d.default.MediaElement&&E._ensureCanvas();var Y=(Y=this._tint&&E.canvas?this._getTintedImageCanvas(E):Y)||E.canvas||E.elt,q=1;E.width&&0<E.width&&(q=Y.width/E.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(Y,q*M,q*P,q*D,q*O,U,F,H,G),this._isErasing&&this._pInst.erase()}catch(V){if(V.name!=="NS_ERROR_NOT_AVAILABLE")throw V}}},{key:"_getTintedImageCanvas",value:function(E){if(!E.canvas)return E;E.tintCanvas||(E.tintCanvas=document.createElement("canvas")),E.tintCanvas.width!==E.canvas.width&&(E.tintCanvas.width=E.canvas.width),E.tintCanvas.height!==E.canvas.height&&(E.tintCanvas.height=E.canvas.height);var M=E.tintCanvas.getContext("2d");return M.save(),M.clearRect(0,0,E.canvas.width,E.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(M.drawImage(E.canvas,0,0),M.globalCompositeOperation="luminosity",M.drawImage(E.canvas,0,0),M.globalCompositeOperation="color",M.drawImage(E.canvas,0,0),M.globalCompositeOperation="multiply",M.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),M.fillRect(0,0,E.canvas.width,E.canvas.height),M.globalCompositeOperation="destination-in"),M.globalAlpha=this._tint[3]/255,M.drawImage(E.canvas,0,0),M.restore(),E.tintCanvas}},{key:"blendMode",value:function(E){if(E===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(E!==c.BLEND&&E!==c.REMOVE&&E!==c.DARKEST&&E!==c.LIGHTEST&&E!==c.DIFFERENCE&&E!==c.MULTIPLY&&E!==c.EXCLUSION&&E!==c.SCREEN&&E!==c.REPLACE&&E!==c.OVERLAY&&E!==c.HARD_LIGHT&&E!==c.SOFT_LIGHT&&E!==c.DODGE&&E!==c.BURN&&E!==c.ADD)throw new Error("Mode ".concat(E," not recognized."));this._cachedBlendMode=E,this.drawingContext.globalCompositeOperation=E}}},{key:"blend",value:function(){for(var E=this.drawingContext.globalCompositeOperation,M=arguments.length,P=new Array(M),D=0;D<M;D++)P[D]=arguments[D];var O=P[P.length-1],U=Array.prototype.slice.call(P,0,P.length-1);this.drawingContext.globalCompositeOperation=O,d.default.prototype.copy.apply(this,U),this.drawingContext.globalCompositeOperation=E}},{key:"_getPixel",value:function(E,M){return[(E=this.drawingContext.getImageData(E,M,1,1).data)[0],E[1],E[2],E[3]]}},{key:"loadPixels",value:function(){var E=this._pixelsState,M=E._pixelDensity,P=this.width*M;M=this.height*M,P=this.drawingContext.getImageData(0,0,P,M),E._setProperty("imageData",P),E._setProperty("pixels",P.data)}},{key:"set",value:function(E,M,P){E=Math.floor(E),M=Math.floor(M);var D=this._pixelsState;if(P instanceof d.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(D._pixelDensity,D._pixelDensity),this.drawingContext.clearRect(E,M,P.width,P.height),this.drawingContext.drawImage(P.canvas,E,M),this.drawingContext.restore();else{var O=0,U=0,F=0,H=0,G=4*(M*D._pixelDensity*(this.width*D._pixelDensity)+E*D._pixelDensity);if(D.imageData||D.loadPixels.call(D),typeof P=="number")G<D.pixels.length&&(F=U=O=P,H=255);else if(P instanceof Array){if(P.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");G<D.pixels.length&&(O=P[0],U=P[1],F=P[2],H=P[3])}else P instanceof d.default.Color&&G<D.pixels.length&&(O=P.levels[0],U=P.levels[1],F=P.levels[2],H=P.levels[3]);for(var Y=0;Y<D._pixelDensity;Y++)for(var q=0;q<D._pixelDensity;q++)G=4*((M*D._pixelDensity+q)*this.width*D._pixelDensity+(E*D._pixelDensity+Y)),D.pixels[G]=O,D.pixels[G+1]=U,D.pixels[G+2]=F,D.pixels[G+3]=H}}},{key:"updatePixels",value:function(E,M,P,D){var O=this._pixelsState,U=O._pixelDensity;E===void 0&&M===void 0&&P===void 0&&D===void 0&&(M=E=0,P=this.width,D=this.height),E*=U,M*=U,P*=U,D*=U,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=O.imageData),this.drawingContext.putImageData(O.imageData,E,M,0,0,P,D)}},{key:"_acuteArcToBezier",value:function(E,M){var P=M/2,D=Math.cos(P),O=Math.sin(P),U=1/Math.tan(P),F=(P=E+P,Math.cos(P)),H=(P=Math.sin(P),(4-D)/3);return O+=(D-H)*U,{ax:Math.cos(E).toFixed(7),ay:Math.sin(E).toFixed(7),bx:(H*F+O*P).toFixed(7),by:(H*P-O*F).toFixed(7),cx:(H*F-O*P).toFixed(7),cy:(H*P+O*F).toFixed(7),dx:Math.cos(E+M).toFixed(7),dy:Math.sin(E+M).toFixed(7)}}},{key:"arc",value:function(E,M,P,D,O,U,F){var H,G=this.drawingContext,Y=P/2,q=D/2,V=[];for(E+=Y,M+=q;1e-5<=U-O;)H=Math.min(U-O,c.HALF_PI),V.push(this._acuteArcToBezier(O,H)),O+=H;return this._doFill&&(G.beginPath(),V.forEach(function($,Q){Q===0&&G.moveTo(E+$.ax*Y,M+$.ay*q),G.bezierCurveTo(E+$.bx*Y,M+$.by*q,E+$.cx*Y,M+$.cy*q,E+$.dx*Y,M+$.dy*q)}),F!==c.PIE&&F!=null||G.lineTo(E,M),G.closePath(),G.fill()),this._doStroke&&(G.beginPath(),V.forEach(function($,Q){Q===0&&G.moveTo(E+$.ax*Y,M+$.ay*q),G.bezierCurveTo(E+$.bx*Y,M+$.by*q,E+$.cx*Y,M+$.cy*q,E+$.dx*Y,M+$.dy*q)}),F===c.PIE?(G.lineTo(E,M),G.closePath()):F===c.CHORD&&G.closePath(),G.stroke()),this}},{key:"ellipse",value:function(E){var M=this.drawingContext,P=this._doFill,D=this._doStroke,O=parseFloat(E[0]),U=parseFloat(E[1]),F=parseFloat(E[2]);if(E=parseFloat(E[3]),P&&!D){if(this._getFill()===u)return this}else if(!P&&D&&this._getStroke()===u)return this;var H=F/2*.5522847498,G=E/2*.5522847498,Y=O+F,q=U+E;F=O+F/2,E=U+E/2,M.beginPath(),M.moveTo(O,E),M.bezierCurveTo(O,E-G,F-H,U,F,U),M.bezierCurveTo(F+H,U,Y,E-G,Y,E),M.bezierCurveTo(Y,E+G,F+H,q,F,q),M.bezierCurveTo(F-H,q,O,E+G,O,E),P&&M.fill(),D&&M.stroke()}},{key:"line",value:function(E,M,P,D){var O=this.drawingContext;return this._doStroke&&this._getStroke()!==u&&(O.beginPath(),O.moveTo(E,M),O.lineTo(P,D),O.stroke()),this}},{key:"point",value:function(E,M){var P,D,O=this.drawingContext;return this._doStroke&&this._getStroke()!==u?(P=this._getStroke(),D=this._getFill(),this._setFill(P),O.beginPath(),O.arc(E,M,O.lineWidth/2,0,c.TWO_PI,!1),O.fill(),void this._setFill(D)):this}},{key:"quad",value:function(E,M,P,D,O,U,F,H){var G=this.drawingContext,Y=this._doFill,q=this._doStroke;if(Y&&!q){if(this._getFill()===u)return this}else if(!Y&&q&&this._getStroke()===u)return this;return G.beginPath(),G.moveTo(E,M),G.lineTo(P,D),G.lineTo(O,U),G.lineTo(F,H),G.closePath(),Y&&G.fill(),q&&G.stroke(),this}},{key:"rect",value:function(E){var M,P,D=E[0],O=E[1],U=E[2],F=E[3],H=E[4],G=E[5],Y=E[6],q=(E=E[7],this.drawingContext),V=this._doFill,$=this._doStroke;if(V&&!$){if(this._getFill()===u)return this}else if(!V&&$&&this._getStroke()===u)return this;return q.beginPath(),H===void 0?q.rect(D,O,U,F):(G===void 0&&(G=H),Y===void 0&&(Y=G),E===void 0&&(E=Y),$=(V=Math.abs(U))/2,P=(M=Math.abs(F))/2,M<2*(H=V<2*H?$:H)&&(H=P),M<2*(G=V<2*G?$:G)&&(G=P),M<2*(Y=V<2*Y?$:Y)&&(Y=P),M<2*(E=V<2*E?$:E)&&(E=P),q.beginPath(),q.moveTo(D+H,O),q.arcTo(D+U,O,D+U,O+F,G),q.arcTo(D+U,O+F,D,O+F,Y),q.arcTo(D,O+F,D,O,E),q.arcTo(D,O,D+U,O,H),q.closePath()),this._doFill&&q.fill(),this._doStroke&&q.stroke(),this}},{key:"triangle",value:function(E){var M=this.drawingContext,P=this._doFill,D=this._doStroke,O=E[0],U=E[1],F=E[2],H=E[3],G=E[4];if(E=E[5],P&&!D){if(this._getFill()===u)return this}else if(!P&&D&&this._getStroke()===u)return this;M.beginPath(),M.moveTo(O,U),M.lineTo(F,H),M.lineTo(G,E),M.closePath(),P&&M.fill(),D&&M.stroke()}},{key:"endShape",value:function(E,M,P,D,O,U,F){if(M.length!==0&&(this._doStroke||this._doFill)){var H,G,Y,q=E===c.CLOSE,V=(q&&!U&&M.push(M[0]),M.length);if(!P||F!==c.POLYGON&&F!==null)if(!D||F!==c.POLYGON&&F!==null)if(!O||F!==c.POLYGON&&F!==null)if(F===c.POINTS)for(G=0;G<V;G++)H=M[G],this._doStroke&&this._pInst.stroke(H[6]),this._pInst.point(H[0],H[1]);else if(F===c.LINES)for(G=0;G+1<V;G+=2)H=M[G],this._doStroke&&this._pInst.stroke(M[G+1][6]),this._pInst.line(H[0],H[1],M[G+1][0],M[G+1][1]);else if(F===c.TRIANGLES)for(G=0;G+2<V;G+=3)H=M[G],this.drawingContext.beginPath(),this.drawingContext.moveTo(H[0],H[1]),this.drawingContext.lineTo(M[G+1][0],M[G+1][1]),this.drawingContext.lineTo(M[G+2][0],M[G+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(M[G+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(M[G+2][6]),this.drawingContext.stroke());else if(F===c.TRIANGLE_STRIP)for(G=0;G+1<V;G++)H=M[G],this.drawingContext.beginPath(),this.drawingContext.moveTo(M[G+1][0],M[G+1][1]),this.drawingContext.lineTo(H[0],H[1]),this._doStroke&&this._pInst.stroke(M[G+1][6]),this._doFill&&this._pInst.fill(M[G+1][5]),G+2<V&&(this.drawingContext.lineTo(M[G+2][0],M[G+2][1]),this._doStroke&&this._pInst.stroke(M[G+2][6]),this._doFill&&this._pInst.fill(M[G+2][5])),this._doFillStrokeClose(q);else if(F===c.TRIANGLE_FAN){if(2<V){for(this.drawingContext.beginPath(),G=2;G<V;G++)H=M[G],this.drawingContext.moveTo(M[0][0],M[0][1]),this.drawingContext.lineTo(M[G-1][0],M[G-1][1]),this.drawingContext.lineTo(H[0],H[1]),this.drawingContext.lineTo(M[0][0],M[0][1]),G<V-1&&(this._doFill&&H[5]!==M[G+1][5]||this._doStroke&&H[6]!==M[G+1][6])&&(this._doFill&&(this._pInst.fill(H[5]),this.drawingContext.fill(),this._pInst.fill(M[G+1][5])),this._doStroke&&(this._pInst.stroke(H[6]),this.drawingContext.stroke(),this._pInst.stroke(M[G+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(q)}}else if(F===c.QUADS)for(G=0;G+3<V;G+=4){for(H=M[G],this.drawingContext.beginPath(),this.drawingContext.moveTo(H[0],H[1]),Y=1;Y<4;Y++)this.drawingContext.lineTo(M[G+Y][0],M[G+Y][1]);this.drawingContext.lineTo(H[0],H[1]),this._doFill&&this._pInst.fill(M[G+3][5]),this._doStroke&&this._pInst.stroke(M[G+3][6]),this._doFillStrokeClose(q)}else if(F===c.QUAD_STRIP){if(3<V)for(G=0;G+1<V;G+=2)H=M[G],this.drawingContext.beginPath(),G+3<V?(this.drawingContext.moveTo(M[G+2][0],M[G+2][1]),this.drawingContext.lineTo(H[0],H[1]),this.drawingContext.lineTo(M[G+1][0],M[G+1][1]),this.drawingContext.lineTo(M[G+3][0],M[G+3][1]),this._doFill&&this._pInst.fill(M[G+3][5]),this._doStroke&&this._pInst.stroke(M[G+3][6])):(this.drawingContext.moveTo(H[0],H[1]),this.drawingContext.lineTo(M[G+1][0],M[G+1][1])),this._doFillStrokeClose(q)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(M[0][0],M[0][1]),G=1;G<V;G++)(H=M[G]).isVert&&(H.moveTo?this.drawingContext.moveTo(H[0],H[1]):this.drawingContext.lineTo(H[0],H[1]));this._doFillStrokeClose(q)}else{for(this.drawingContext.beginPath(),G=0;G<V;G++)M[G].isVert?M[G].moveTo?this.drawingContext.moveTo(M[G][0],M[G][1]):this.drawingContext.lineTo(M[G][0],M[G][1]):this.drawingContext.quadraticCurveTo(M[G][0],M[G][1],M[G][2],M[G][3]);this._doFillStrokeClose(q)}else{for(this.drawingContext.beginPath(),G=0;G<V;G++)M[G].isVert?M[G].moveTo?this.drawingContext.moveTo(M[G][0],M[G][1]):this.drawingContext.lineTo(M[G][0],M[G][1]):this.drawingContext.bezierCurveTo(M[G][0],M[G][1],M[G][2],M[G][3],M[G][4],M[G][5]);this._doFillStrokeClose(q)}else if(3<V){var $=[],Q=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(M[1][0],M[1][1]),G=1;G+2<V;G++)H=M[G],$[0]=[H[0],H[1]],$[1]=[H[0]+(Q*M[G+1][0]-Q*M[G-1][0])/6,H[1]+(Q*M[G+1][1]-Q*M[G-1][1])/6],$[2]=[M[G+1][0]+(Q*M[G][0]-Q*M[G+2][0])/6,M[G+1][1]+(Q*M[G][1]-Q*M[G+2][1])/6],$[3]=[M[G+1][0],M[G+1][1]],this.drawingContext.bezierCurveTo($[1][0],$[1][1],$[2][0],$[2][1],$[3][0],$[3][1]);q&&this.drawingContext.lineTo(M[G+1][0],M[G+1][1]),this._doFillStrokeClose(q)}U=O=D=P=!1,q&&M.pop()}return this}},{key:"strokeCap",value:function(E){return E!==c.ROUND&&E!==c.SQUARE&&E!==c.PROJECT||(this.drawingContext.lineCap=E),this}},{key:"strokeJoin",value:function(E){return E!==c.ROUND&&E!==c.BEVEL&&E!==c.MITER||(this.drawingContext.lineJoin=E),this}},{key:"strokeWeight",value:function(E){return this.drawingContext.lineWidth=E===void 0||E===0?1e-4:E,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(E){E!==this._cachedFillStyle&&(this.drawingContext.fillStyle=E,this._cachedFillStyle=E)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(E){E!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=E,this._cachedStrokeStyle=E)}},{key:"bezier",value:function(E,M,P,D,O,U,F,H){return this._pInst.beginShape(),this._pInst.vertex(E,M),this._pInst.bezierVertex(P,D,O,U,F,H),this._pInst.endShape(),this}},{key:"curve",value:function(E,M,P,D,O,U,F,H){return this._pInst.beginShape(),this._pInst.curveVertex(E,M),this._pInst.curveVertex(P,D),this._pInst.curveVertex(O,U),this._pInst.curveVertex(F,H),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(E){E&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(E,M,P,D,O,U){this.drawingContext.transform(E,M,P,D,O,U)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(E){this.drawingContext.rotate(E)}},{key:"scale",value:function(E,M){return this.drawingContext.scale(E,M),this}},{key:"translate",value:function(E,M){return E instanceof d.default.Vector&&(M=E.y,E=E.x),this.drawingContext.translate(E,M),this}},{key:"_renderText",value:function(E,M,P,D,O,U){if(!(D<U||O<=D))return E.push(),this._isOpenType()?this._textFont._renderPath(M,P,D,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(M,P,D),this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(M,P,D))),E.pop(),E}},{key:"textWidth",value:function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):this.drawingContext.measureText(E).width}},{key:"_applyTextProperties",value:function(){var E,M=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),E=this._textFont,this._isOpenType()&&(E=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(E||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,M}},{key:"push",value:function(){return this.drawingContext.save(),f(p(b.prototype),"push",this).call(this)}},{key:"pop",value:function(E){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,f(p(b.prototype),"pop",this).call(this,E)}}])&&A(j.prototype,S),b}(d.default.Renderer);g.prototype.text=function(S,j,_,b,E){b!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(M=!0,this.drawingContext.textBaseline=c.TOP);var M;return b=d.default.Renderer.prototype.text.apply(this,arguments),M&&(this.drawingContext.textBaseline=c.BASELINE),b},d.default.Renderer2D=g,n=d.default.Renderer2D,x.default=n},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var m=(n=n("./main"))&&n.__esModule?n:{default:n};function d(){return{}}m.default.prototype._promisePreloads=[];var c=!(m.default.prototype.registerPromisePreload=function(T){m.default.prototype._promisePreloads.push(T)});m.default.prototype._setupPromisePreloads=function(){var T=!0,A=!1,f=void 0;try{for(var h,p=this._promisePreloads[Symbol.iterator]();!(T=(h=p.next()).done);T=!0){var u=h.value,g=this,S=u.method,j=u.addCallbacks,_=u.legacyPreloadSetup,b=u.target||this,E=b[S].bind(b);if(b===m.default.prototype){if(c)continue;g=null,E=b[S]}b[S]=this._wrapPromisePreload(g,E,j),_&&(b[_.method]=this._legacyPreloadGenerator(g,_,b[S]))}}catch(M){A=!0,f=M}finally{try{T||p.return==null||p.return()}finally{if(A)throw f}}c=!0},m.default.prototype._wrapPromisePreload=function(T,A,f){var h=function(){for(var p=this,u=(this._incrementPreload(),null),g=null,S=arguments.length,j=new Array(S),_=0;_<S;_++)j[_]=arguments[_];if(f)for(var b=j.length-1;0<=b&&!g&&typeof j[b]=="function";b--)g=u,u=j.pop();var E=Promise.resolve(A.apply(this,j));return u&&E.then(u),g&&E.catch(g),E.then(function(){return p._decrementPreload()}),E};return T?h.bind(T):h},m.default.prototype._legacyPreloadGenerator=function(T,A,f){var h=A.createBaseObject||d;return A=function(){var p=this;this._incrementPreload();for(var u=arguments.length,g=new Array(u),S=0;S<u;S++)g[S]=arguments[S];var j=h.apply(this,g);return f.apply(this,g).then(function(_){Object.assign(j,_),p._decrementPreload()}),j},T?A.bind(T):A}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(n,C,x){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(f=n("./main"))&&f.__esModule?f:{default:f},c=function(h){if(h&&h.__esModule)return h;if(h===null||T(h)!=="object"&&typeof h!="function")return{default:h};var p=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(p&&p.has(h))return p.get(h);var u,g={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var j;Object.prototype.hasOwnProperty.call(h,u)&&((j=S?Object.getOwnPropertyDescriptor(h,u):null)&&(j.get||j.set)?Object.defineProperty(g,u,j):g[u]=h[u])}return g.default=h,p&&p.set(h,g),g}(n("./constants"));function T(h){return(T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(h)}n("./p5.Graphics"),n("./p5.Renderer2D"),n("../webgl/p5.RendererGL");var A="defaultCanvas0",f=(d.default.prototype.createCanvas=function(h,p,u,g){var S,j,_;if(d.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(u=c.P2D,g=arguments[2]):S=u||c.P2D,g)(_=document.getElementById(A))&&_.parentNode.removeChild(_),_=g,this._defaultGraphicsCreated=!1;else{if(S===c.WEBGL)(_=document.getElementById(A))&&(_.parentNode.removeChild(_),j=this._renderer,this._elements=this._elements.filter(function(E){return E!==j})),(_=document.createElement("canvas")).id=A,_.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)_=this.canvas;else{_=g||document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;A="defaultCanvas".concat(b),_.id=A,_.classList.add("p5Canvas")}this._setupDone||(_.dataset.hidden=!0,_.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(u=document.createElement("main"),document.body.appendChild(u)),document.getElementsByTagName("main")[0])).appendChild(_)}return S===c.WEBGL?(this._setProperty("_renderer",new d.default.RendererGL(_,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new d.default.Renderer2D(_,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(h,p),this._renderer._applyDefaults(),this._renderer},d.default.prototype.resizeCanvas=function(h,p,u){if(d.default._validateParameters("resizeCanvas",arguments),this._renderer){var g,S,j={};for(g in this.drawingContext){var _=this.drawingContext[g];T(_)!=="object"&&typeof _!="function"&&(j[g]=_)}for(S in this.width=h,this.height=p,this._renderer.resize(h,p),j)try{this.drawingContext[S]=j[S]}catch{}u||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},d.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},d.default.prototype.createGraphics=function(h,p,u,g){return arguments[2]instanceof HTMLCanvasElement&&(u=c.P2D,g=arguments[2]),d.default._validateParameters("createGraphics",arguments),new d.default.Graphics(h,p,u,this,g)},d.default.prototype.createFramebuffer=function(h){return new d.default.Framebuffer(this,h)},d.default.prototype.blendMode=function(h){d.default._validateParameters("blendMode",arguments),h===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),h=c.BLEND),this._renderer.blendMode(h)},d.default);x.default=f},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(n,C,x){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(p)}function d(p){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(u){return m(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":m(u)})(p)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=f(n("../main")),T=function(p){if(p&&p.__esModule)return p;if(p===null||d(p)!=="object"&&typeof p!="function")return{default:p};var u=function(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,b)}();if(u&&u.has(p))return u.get(p);var g,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in p){var _;Object.prototype.hasOwnProperty.call(p,g)&&((_=j?Object.getOwnPropertyDescriptor(p,g):null)&&(_.get||_.set)?Object.defineProperty(S,g,_):S[g]=p[g])}return S.default=p,u&&u.set(p,S),S}(n("../constants")),A=f(n("../helpers"));function f(p){return p&&p.__esModule?p:{default:p}}function h(p){return function(u){if(Array.isArray(u)){for(var g=0,S=new Array(u.length);g<u.length;g++)S[g]=u[g];return S}}(p)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n("../friendly_errors/fes_core"),n("../friendly_errors/file_errors"),n("../friendly_errors/validate_params"),c.default.prototype._normalizeArcAngles=function(p,u,g,S,j){var _;return p-=T.TWO_PI*Math.floor(p/T.TWO_PI),u-=T.TWO_PI*Math.floor(u/T.TWO_PI),_=Math.min(Math.abs(p-u),T.TWO_PI-Math.abs(p-u)),j&&(p=p<=T.HALF_PI?Math.atan(g/S*Math.tan(p)):p>T.HALF_PI&&p<=3*T.HALF_PI?Math.atan(g/S*Math.tan(p))+T.PI:Math.atan(g/S*Math.tan(p))+T.TWO_PI,u=u<=T.HALF_PI?Math.atan(g/S*Math.tan(u)):u>T.HALF_PI&&u<=3*T.HALF_PI?Math.atan(g/S*Math.tan(u))+T.PI:Math.atan(g/S*Math.tan(u))+T.TWO_PI),u<p&&(u+=T.TWO_PI),{start:p,stop:u,correspondToSamePoint:_<1e-5}},c.default.prototype.arc=function(p,u,g,S,j,_,b,E){return c.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&j!==_&&(j=this._toRadians(j),_=this._toRadians(_),g=Math.abs(g),S=Math.abs(S),p=A.default.modeAdjust(p,u,g,S,this._renderer._ellipseMode),(u=this._normalizeArcAngles(j,_,p.w,p.h,!0)).correspondToSamePoint?this._renderer.ellipse([p.x,p.y,p.w,p.h,E]):(this._renderer.arc(p.x,p.y,p.w,p.h,u.start,u.stop,b,E),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[p.x,p.y,p.w,p.h,u.start,u.stop,b]))),this},c.default.prototype.ellipse=function(p,u,g,S,j){return c.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},c.default.prototype.circle=function(){c.default._validateParameters("circle",arguments);var p=Array.prototype.slice.call(arguments,0,2);return p.push(arguments[2]),p.push(arguments[2]),this._renderEllipse.apply(this,h(p))},c.default.prototype._renderEllipse=function(p,u,g,S,j){return(this._renderer._doStroke||this._renderer._doFill)&&(g<0&&(g=Math.abs(g)),S===void 0?S=g:S<0&&(S=Math.abs(S)),p=A.default.modeAdjust(p,u,g,S,this._renderer._ellipseMode),this._renderer.ellipse([p.x,p.y,p.w,p.h,j]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[p.x,p.y,p.w,p.h])),this},c.default.prototype.line=function(){for(var p,u=arguments.length,g=new Array(u),S=0;S<u;S++)g[S]=arguments[S];return c.default._validateParameters("line",g),this._renderer._doStroke&&(p=this._renderer).line.apply(p,g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",g),this},c.default.prototype.point=function(){for(var p,u=arguments.length,g=new Array(u),S=0;S<u;S++)g[S]=arguments[S];return c.default._validateParameters("point",g),this._renderer._doStroke&&(g.length===1&&g[0]instanceof c.default.Vector?this._renderer.point.call(this._renderer,g[0].x,g[0].y,g[0].z):((p=this._renderer).point.apply(p,g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",g))),this},c.default.prototype.quad=function(){for(var p,u=arguments.length,g=new Array(u),S=0;S<u;S++)g[S]=arguments[S];return c.default._validateParameters("quad",g),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&g.length<12?this._renderer.quad.call(this._renderer,g[0],g[1],0,g[2],g[3],0,g[4],g[5],0,g[6],g[7],0,g[8],g[9]):((p=this._renderer).quad.apply(p,g),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",g))),this},c.default.prototype.rect=function(){for(var p=arguments.length,u=new Array(p),g=0;g<p;g++)u[g]=arguments[g];return c.default._validateParameters("rect",u),this._renderRect.apply(this,u)},c.default.prototype.square=function(p,u,g,S,j,_,b){return c.default._validateParameters("square",arguments),this._renderRect.call(this,p,u,g,g,S,j,_,b)},c.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var p=A.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),u=[p.x,p.y,p.w,p.h],g=4;g<arguments.length;g++)u[g]=arguments[g];this._renderer.rect(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[p.x,p.y,p.w,p.h])}return this},c.default.prototype.triangle=function(){for(var p=arguments.length,u=new Array(p),g=0;g<p;g++)u[g]=arguments[g];return c.default._validateParameters("triangle",u),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",u),this},n=c.default,x.default=n},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(n,C,x){function m(f){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function d(f){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(f)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(A=n("../main"))&&A.__esModule?A:{default:A},T=function(f){if(f&&f.__esModule)return f;if(f===null||d(f)!=="object"&&typeof f!="function")return{default:f};var h=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(h&&h.has(f))return h.get(f);var p,u={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in f){var S;Object.prototype.hasOwnProperty.call(f,p)&&((S=g?Object.getOwnPropertyDescriptor(f,p):null)&&(S.get||S.set)?Object.defineProperty(u,p,S):u[p]=f[p])}return u.default=f,h&&h.set(f,u),u}(n("../constants"));c.default.prototype.ellipseMode=function(f){return c.default._validateParameters("ellipseMode",arguments),f!==T.CORNER&&f!==T.CORNERS&&f!==T.RADIUS&&f!==T.CENTER||(this._renderer._ellipseMode=f),this},c.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(f){return c.default._validateParameters("rectMode",arguments),f!==T.CORNER&&f!==T.CORNERS&&f!==T.RADIUS&&f!==T.CENTER||(this._renderer._rectMode=f),this},c.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(f){return c.default._validateParameters("strokeCap",arguments),f!==T.ROUND&&f!==T.SQUARE&&f!==T.PROJECT||this._renderer.strokeCap(f),this},c.default.prototype.strokeJoin=function(f){return c.default._validateParameters("strokeJoin",arguments),f!==T.ROUND&&f!==T.BEVEL&&f!==T.MITER||this._renderer.strokeJoin(f),this},c.default.prototype.strokeWeight=function(f){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(f),this};var A=c.default;x.default=A},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(d=n("../main"))&&d.__esModule?d:{default:d};n("../friendly_errors/fes_core"),n("../friendly_errors/file_errors"),n("../friendly_errors/validate_params"),m.default.prototype.bezier=function(){for(var c,T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];return m.default._validateParameters("bezier",A),(this._renderer._doStroke||this._renderer._doFill)&&(c=this._renderer).bezier.apply(c,A),this},m.default.prototype.bezierDetail=function(c){return m.default._validateParameters("bezierDetail",arguments),this._bezierDetail=c,this},m.default.prototype.bezierPoint=function(c,T,A,f,h){m.default._validateParameters("bezierPoint",arguments);var p=1-h;return Math.pow(p,3)*c+3*Math.pow(p,2)*h*T+3*p*Math.pow(h,2)*A+Math.pow(h,3)*f},m.default.prototype.bezierTangent=function(c,T,A,f,h){m.default._validateParameters("bezierTangent",arguments);var p=1-h;return 3*f*Math.pow(h,2)-3*A*Math.pow(h,2)+6*A*p*h-6*T*p*h+3*T*Math.pow(p,2)-3*c*Math.pow(p,2)},m.default.prototype.curve=function(){for(var c,T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];return m.default._validateParameters("curve",A),this._renderer._doStroke&&(c=this._renderer).curve.apply(c,A),this},m.default.prototype.curveDetail=function(c){return m.default._validateParameters("curveDetail",arguments),this._curveDetail=c<3?3:c,this},m.default.prototype.curveTightness=function(c){return m.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=c,this},m.default.prototype.curvePoint=function(c,T,A,f,h){m.default._validateParameters("curvePoint",arguments);var p=this._renderer._curveTightness,u=h*h*h,g=h*h;return c*((p-1)/2*u+(1-p)*g+(p-1)/2*h)+T*((p+3)/2*u+(-5-p)/2*g+1)+A*((-3-p)/2*u+(p+2)*g+(1-p)/2*h)+f*((1-p)/2*u+(p-1)/2*g)},m.default.prototype.curveTangent=function(c,T,A,f,h){m.default._validateParameters("curveTangent",arguments);var p=this._renderer._curveTightness,u=h*h*3;return c*((p-1)/2*u+(1-p)*(h=2*h)+(p-1)/2)+T*((p+3)/2*u+(-5-p)/2*h)+A*((-3-p)/2*u+(p+2)*h+(1-p)/2)+f*((1-p)/2*u+(p-1)/2*h)};var d=m.default;x.default=d},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(n,C,x){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(b)}function d(b){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(E){return m(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":m(E)})(b)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.slice"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(_=n("../main"))&&_.__esModule?_:{default:_},T=function(b){if(b&&b.__esModule)return b;if(b===null||d(b)!=="object"&&typeof b!="function")return{default:b};var E=function(){var U;return typeof WeakMap!="function"?null:(U=new WeakMap,U)}();if(E&&E.has(b))return E.get(b);var M,P={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in b){var O;Object.prototype.hasOwnProperty.call(b,M)&&((O=D?Object.getOwnPropertyDescriptor(b,M):null)&&(O.get||O.set)?Object.defineProperty(P,M,O):P[M]=b[M])}return P.default=b,E&&E.set(b,P),P}(n("../constants")),A=null,f=[],h=[],p=!1,u=!1,g=!1,S=!1,j=!0,_=(c.default.prototype.beginContour=function(){return h=[],S=!0,this},c.default.prototype.beginShape=function(b){var E;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(E=this._renderer).beginShape.apply(E,arguments):(A=b===T.POINTS||b===T.LINES||b===T.TRIANGLES||b===T.TRIANGLE_FAN||b===T.TRIANGLE_STRIP||b===T.QUADS||b===T.QUAD_STRIP?b:null,f=[],h=[]),this},c.default.prototype.bezierVertex=function(){for(var b,E=arguments.length,M=new Array(E),P=0;P<E;P++)M[P]=arguments[P];if(c.default._validateParameters("bezierVertex",M),this._renderer.isP3D)(b=this._renderer).bezierVertex.apply(b,M);else if(f.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{p=!0;for(var D=[],O=0;O<M.length;O++)D[O]=M[O];D.isVert=!1,(S?h:f).push(D)}return this},c.default.prototype.curveVertex=function(){for(var b,E=arguments.length,M=new Array(E),P=0;P<E;P++)M[P]=arguments[P];return c.default._validateParameters("curveVertex",M),this._renderer.isP3D?(b=this._renderer).curveVertex.apply(b,M):(u=!0,this.vertex(M[0],M[1])),this},c.default.prototype.endContour=function(){var b=h[0].slice();b.isVert=h[0].isVert,b.moveTo=!1,h.push(b),j&&(f.push(f[0]),j=!1);for(var E=0;E<h.length;E++)f.push(h[E]);return this},c.default.prototype.endShape=function(b){if(c.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(b,u,p,g,S,A);else{if(f.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var E=b===T.CLOSE;E&&!S&&f.push(f[0]),this._renderer.endShape(b,f,u,p,g,S,A),j=!(S=g=p=u=!1),E&&f.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var b,E=arguments.length,M=new Array(E),P=0;P<E;P++)M[P]=arguments[P];if(c.default._validateParameters("quadraticVertex",M),this._renderer.isP3D)(b=this._renderer).quadraticVertex.apply(b,M);else{if(this._contourInited)return(b={}).x=M[0],b.y=M[1],b.x3=M[2],b.y3=M[3],b.type=T.QUADRATIC,this._contourVertices.push(b),this;if(0<f.length){g=!0;for(var D=[],O=0;O<M.length;O++)D[O]=M[O];D.isVert=!1,(S?h:f).push(D)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(b,E,M,P,D){var O;return this._renderer.isP3D?(O=this._renderer).vertex.apply(O,arguments):((O=[]).isVert=!0,O[0]=b,O[1]=E,O[2]=0,O[3]=0,O[4]=0,O[5]=this._renderer._getFill(),O[6]=this._renderer._getStroke(),M&&(O.moveTo=M),(S?(h.length===0&&(O.moveTo=!0),h):f).push(O)),this},c.default.prototype.normal=function(b,E,M){var P;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),(P=this._renderer).normal.apply(P,arguments),this},c.default);x.default=_},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(n,C,x){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function d(h){return function(p){if(Array.isArray(p)){for(var u=0,g=new Array(p.length);u<p.length;u++)g[u]=p[u];return g}}(h)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(h){return(c=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(h)}var T,A,f;n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(h,p){window.setTimeout(h,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(T=Object.keys,n=Object.defineProperty,A=typeof Symbol=="function"&&c(Symbol())==="symbol",f=Object.prototype.propertyIsEnumerable,n(Object,"assign",{value:function(h,p){if(h==null)throw new TypeError("target must be an object");for(var u,g=Object(h),S=1;S<arguments.length;++S){var j=Object(arguments[S]),_=T(j);for(A&&Object.getOwnPropertySymbols&&_.push.apply(_,d(Object.getOwnPropertySymbols(j).filter(function(b){return function(E){return f.call(b,E)}}(j)))),u=0;u<_.length;++u)g[_[u]]=j[_[u]]}return g},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(n,C,x){n("core-js/modules/es.array.for-each"),n("core-js/modules/es.object.assign"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.object.assign"),n("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("./main"))&&n.__esModule?n:{default:n}).default.prototype.noLoop=function(){this._loop=!1},n.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},n.default.prototype.isLooping=function(){return this._loop},n.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},n.default.prototype.pop=function(){var m=this._styles.pop();m?(this._renderer.pop(m.renderer),Object.assign(this,m.props)):console.warn("pop() was called without matching push()")},n.default.prototype.redraw=function(m){if(!this._inUserDraw&&this._setupDone){var d=parseInt(m),c=((isNaN(d)||d<1)&&(d=1),this._isGlobal?window:this);if(typeof c.draw=="function"){c.setup===void 0&&c.scale(c._pixelDensity,c._pixelDensity);for(var T=function(f){f.call(c)},A=0;A<d;A++){c.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),c._renderer.isP3D&&c._renderer._update(),c._setProperty("frameCount",c.frameCount+1),c._registeredMethods.pre.forEach(T),this._inUserDraw=!0;try{c.draw()}finally{this._inUserDraw=!1}c._registeredMethods.post.forEach(T)}}}},n=n.default,x.default=n},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("./main"))&&n.__esModule?n:{default:n};function d(c){return function(T){if(Array.isArray(T)){for(var A=0,f=new Array(T.length);A<T.length;A++)f[A]=T[A];return f}}(c)||function(T){if(Symbol.iterator in Object(T)||Object.prototype.toString.call(T)==="[object Arguments]")return Array.from(T)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}m.default.prototype.applyMatrix=function(){var c=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||c?(c=this._renderer).applyMatrix.apply(c,d(arguments.length<=0?void 0:arguments[0])):(c=this._renderer).applyMatrix.apply(c,arguments),this},m.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},m.default.prototype.rotate=function(c,T){return m.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(c),T),this},m.default.prototype.rotateX=function(c){return this._assert3d("rotateX"),m.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(c)),this},m.default.prototype.rotateY=function(c){return this._assert3d("rotateY"),m.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(c)),this},m.default.prototype.rotateZ=function(c){return this._assert3d("rotateZ"),m.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(c)),this},m.default.prototype.scale=function(c,T,A){var f;return m.default._validateParameters("scale",arguments),c instanceof m.default.Vector?(c=(f=c).x,T=f.y,A=f.z):c instanceof Array&&(c=(f=c)[0],T=f[1],A=f[2]||1),isNaN(T)?T=A=c:isNaN(A)&&(A=1),this._renderer.scale.call(this._renderer,c,T,A),this},m.default.prototype.shearX=function(c){return m.default._validateParameters("shearX",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,0,Math.tan(c),1,0,0),this},m.default.prototype.shearY=function(c){return m.default._validateParameters("shearY",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,Math.tan(c),0,1,0,0),this},m.default.prototype.translate=function(c,T,A){return m.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(c,T,A):this._renderer.translate(c,T),this},n=m.default,x.default=n},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(n,C,x){function m(A){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(A)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.ends-with"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator");var d=(n=n("../core/main"))&&n.__esModule?n:{default:n};function c(A){return function(f){if(Array.isArray(f)){for(var h=0,p=new Array(f.length);h<f.length;h++)p[h]=f[h];return p}}(A)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function T(A){return(T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(f){return m(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":m(f)})(A)}d.default.prototype.storeItem=function(A,f){typeof A!="string"&&console.log("The argument that you passed to storeItem() - ".concat(A," is not a string.")),A.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(A," must not end with 'p5TypeID'.")),f===void 0&&console.log("You cannot store undefined variables using storeItem().");var h=T(f);switch(h){case"number":case"boolean":f=f.toString();break;case"object":f instanceof d.default.Color?h="p5.Color":f instanceof d.default.Vector&&(h="p5.Vector",f=[f.x,f.y,f.z]),f=JSON.stringify(f)}localStorage.setItem(A,f),A="".concat(A,"p5TypeID"),localStorage.setItem(A,h)},d.default.prototype.getItem=function(A){var f=localStorage.getItem(A),h=localStorage.getItem("".concat(A,"p5TypeID"));if(h===void 0)console.log("Unable to determine type of item stored under ".concat(A,"in local storage. Did you save the item with something other than setItem()?"));else if(f!==null)switch(h){case"number":f=parseFloat(f);break;case"boolean":f=f==="true";break;case"object":f=JSON.parse(f);break;case"p5.Color":f=JSON.parse(f),f=this.color.apply(this,c(f.levels));break;case"p5.Vector":f=JSON.parse(f),f=this.createVector.apply(this,c(f))}return f},d.default.prototype.clearStorage=function(){localStorage.clear()},d.default.prototype.removeItem=function(A){typeof A!="string"&&console.log("The argument that you passed to removeItem() - ".concat(A," is not a string.")),localStorage.removeItem(A),localStorage.removeItem("".concat(A,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(n,C,x){function m(g){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(g)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(n=n("../core/main"))&&n.__esModule?n:{default:n};function c(g){return(c=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(S){return m(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":m(S)})(g)}function T(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),S&&function(j,_){(Object.setPrototypeOf||function(b,E){return b.__proto__=E,b})(j,_)}(g,S)}function A(g){return function(){var S,j=f(g);if(S=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=f(this).constructor,Reflect.construct(j,arguments,S)):j.apply(this,arguments),j=this,!S||c(S)!=="object"&&typeof S!="function"){if(j!==void 0)return j;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return S}}function f(g){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(g)}function h(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}function p(g,S){for(var j=0;j<S.length;j++){var _=S[j];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}function u(g,S,j){S&&p(g.prototype,S)}d.default.prototype.createStringDict=function(g,S){return d.default._validateParameters("createStringDict",arguments),new d.default.StringDict(g,S)},d.default.prototype.createNumberDict=function(g,S){return d.default._validateParameters("createNumberDict",arguments),new d.default.NumberDict(g,S)},d.default.TypedDict=function(){function g(S,j){return h(this,g),S instanceof Object?this.data=S:(this.data={},this.data[S]=j),this}return u(g,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(S){return this.data.hasOwnProperty(S)}},{key:"get",value:function(S){if(this.data.hasOwnProperty(S))return this.data[S];console.log("".concat(S," does not exist in this Dictionary"))}},{key:"set",value:function(S,j){this._validate(j)?this.data[S]=j:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(S){for(var j in S)this.set(j,S[j])}},{key:"create",value:function(S,j){S instanceof Object&&j===void 0?this._addObj(S):S!==void 0?this.set(S,j):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(S){if(!this.data.hasOwnProperty(S))throw new Error("".concat(S," does not exist in this Dictionary"));delete this.data[S]}},{key:"print",value:function(){for(var S in this.data)console.log("key:".concat(S," value:").concat(this.data[S]))}},{key:"saveTable",value:function(S){var j,_="";for(j in this.data)_+="".concat(j,",").concat(this.data[j],`
`);var b=new Blob([_],{type:"text/csv"});d.default.prototype.downloadFile(b,S||"mycsv","csv")}},{key:"saveJSON",value:function(S,j){d.default.prototype.saveJSON(this.data,S,j)}},{key:"_validate",value:function(S){return!0}}]),g}(),d.default.StringDict=function(){T(S,d.default.TypedDict);var g=A(S);function S(){h(this,S);for(var j=arguments.length,_=new Array(j),b=0;b<j;b++)_[b]=arguments[b];return g.call.apply(g,[this].concat(_))}return u(S,[{key:"_validate",value:function(j){return typeof j=="string"}}]),S}(),d.default.NumberDict=function(){T(S,d.default.TypedDict);var g=A(S);function S(){h(this,S);for(var j=arguments.length,_=new Array(j),b=0;b<j;b++)_[b]=arguments[b];return g.call.apply(g,[this].concat(_))}return u(S,[{key:"_validate",value:function(j){return typeof j=="number"}},{key:"add",value:function(j,_){this.data.hasOwnProperty(j)?this.data[j]+=_:console.log("The key - ".concat(j," does not exist in this dictionary."))}},{key:"sub",value:function(j,_){this.add(j,-_)}},{key:"mult",value:function(j,_){this.data.hasOwnProperty(j)?this.data[j]*=_:console.log("The key - ".concat(j," does not exist in this dictionary."))}},{key:"div",value:function(j,_){this.data.hasOwnProperty(j)?this.data[j]/=_:console.log("The key - ".concat(j," does not exist in this dictionary."))}},{key:"_valueTest",value:function(j){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var _,b=this.data[Object.keys(this.data)[0]];for(_ in this.data)this.data[_]*j<b*j&&(b=this.data[_]);return b}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(j){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var _=Object.keys(this.data)[0],b=1;b<Object.keys(this.data).length;b++)Object.keys(this.data)[b]*j<_*j&&(_=Object.keys(this.data)[b]);return _}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),S}(),n=d.default.TypedDict,x.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(n,C,x){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(b)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(n=n("../core/main"))&&n.__esModule?n:{default:n};function c(b,E){for(var M=0;M<E.length;M++){var P=E[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}function T(b,E,M){E&&c(b.prototype,E),M&&c(b,M)}function A(b,E){return(A=Object.setPrototypeOf||function(M,P){return M.__proto__=P,M})(b,E)}function f(b){return function(){var E,M,P=p(b);return E=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=p(this).constructor,Reflect.construct(P,arguments,E)):P.apply(this,arguments),P=this,!(M=E)||g(M)!=="object"&&typeof M!="function"?h(P):M}}function h(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function p(b){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(b)}function u(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")}function g(b){return(g=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(E){return m(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":m(E)})(b)}function S(b,E,M){return(E._userNode||document.body).appendChild(b),M=new(M?d.default.MediaElement:d.default.Element)(b,E),E._elements.push(M),M}function j(b,E,M,P){var D=document.createElement(E),O=(typeof(M=M||"")=="string"&&(M=[M]),!0),U=(E=!1,void 0);try{for(var F,H=M[Symbol.iterator]();!(O=(F=H.next()).done);O=!0){var G=F.value,Y=document.createElement("source");Y.setAttribute("src",G),D.appendChild(Y)}}catch(V){E=!0,U=V}finally{try{O||H.return==null||H.return()}finally{if(E)throw U}}typeof P=="function"&&D.addEventListener("canplaythrough",function V(){P(),D.removeEventListener("canplaythrough",V)});var q=S(D,b,!0);return q.loadedmetadata=!1,D.addEventListener("loadedmetadata",function(){q.width=D.videoWidth,q.height=D.videoHeight,q.elt.width===0&&(q.elt.width=D.videoWidth),q.elt.height===0&&(q.elt.height=D.videoHeight),q.presetPlaybackRate&&(q.elt.playbackRate=q.presetPlaybackRate,delete q.presetPlaybackRate),q.loadedmetadata=!0}),q}function _(b,E,M,P){u(this,_),this.callback=b,this.time=E,this.id=M,this.val=P}d.default.prototype.select=function(b,E){return d.default._validateParameters("select",arguments),(E=this._getContainer(E).querySelector(b))?this._wrapElement(E):null},d.default.prototype.selectAll=function(b,E){d.default._validateParameters("selectAll",arguments);var M=[],P=this._getContainer(E).querySelectorAll(b);if(P)for(var D=0;D<P.length;D++){var O=this._wrapElement(P[D]);M.push(O)}return M},d.default.prototype._getContainer=function(b){var E=document;return typeof b=="string"?E=document.querySelector(b)||document:b instanceof d.default.Element?E=b.elt:b instanceof HTMLElement&&(E=b),E},d.default.prototype._wrapElement=function(b){var E,M=Array.prototype.slice.call(b.children);return b.tagName==="INPUT"&&b.type==="checkbox"?((E=new d.default.Element(b,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},E):b.tagName==="VIDEO"||b.tagName==="AUDIO"?new d.default.MediaElement(b,this):b.tagName==="SELECT"?this.createSelect(new d.default.Element(b,this)):0<M.length&&M.every(function(P){return P.tagName==="INPUT"||P.tagName==="LABEL"})?this.createRadio(new d.default.Element(b,this)):new d.default.Element(b,this)},d.default.prototype.removeElements=function(b){d.default._validateParameters("removeElements",arguments),this._elements.filter(function(E){return!(E.elt instanceof HTMLCanvasElement)}).map(function(E){return E.remove()})},d.default.Element.prototype.changed=function(b){return d.default.Element._adjustListener("change",b,this),this},d.default.Element.prototype.input=function(b){return d.default.Element._adjustListener("input",b,this),this},d.default.prototype.createDiv=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",E=document.createElement("div");return E.innerHTML=b,S(E,this)},d.default.prototype.createP=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",E=document.createElement("p");return E.innerHTML=b,S(E,this)},d.default.prototype.createSpan=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",E=document.createElement("span");return E.innerHTML=b,S(E,this)},d.default.prototype.createImg=function(){d.default._validateParameters("createImg",arguments);var b,E=document.createElement("img"),M=arguments;return 1<M.length&&typeof M[1]=="string"&&(E.alt=M[1]),2<M.length&&typeof M[2]=="string"&&(E.crossOrigin=M[2]),E.src=M[0],b=S(E,this),E.addEventListener("load",function(){b.width=E.offsetWidth||E.width,b.height=E.offsetHeight||E.height;var P=M[M.length-1];typeof P=="function"&&P(b)}),b},d.default.prototype.createA=function(b,E,M){d.default._validateParameters("createA",arguments);var P=document.createElement("a");return P.href=b,P.innerHTML=E,M&&(P.target=M),S(P,this)},d.default.prototype.createSlider=function(b,E,M,P){d.default._validateParameters("createSlider",arguments);var D=document.createElement("input");return D.type="range",D.min=b,D.max=E,P===0?D.step=1e-18:P&&(D.step=P),typeof M=="number"&&(D.value=M),S(D,this)},d.default.prototype.createButton=function(b,E){d.default._validateParameters("createButton",arguments);var M=document.createElement("button");return M.innerHTML=b,E&&(M.value=E),S(M,this)},d.default.prototype.createCheckbox=function(){for(var b=arguments.length,E=new Array(b),M=0;M<b;M++)E[M]=arguments[M];d.default._validateParameters("createCheckbox",E);var P=document.createElement("div"),D=document.createElement("input"),O=(D.type="checkbox",document.createElement("label")),U=(O.appendChild(D),P.appendChild(O),S(P,this));return U.checked=function(){var F=U.elt.firstElementChild.getElementsByTagName("input")[0];if(F){if(arguments.length===0)return F.checked;F.checked=!(arguments.length<=0||!arguments[0])}return U},this.value=function(F){return U.value=F,this},E[0]&&(U.value(E[0]),(P=document.createElement("span")).innerHTML=E[0],O.appendChild(P)),E[1]&&(D.checked=!0),U},d.default.prototype.createSelect=function(){for(var b,E=arguments.length,M=new Array(E),P=0;P<E;P++)M[P]=arguments[P];d.default._validateParameters("createSelect",M);var D,O=M[0];return O instanceof d.default.Element&&O.elt instanceof HTMLSelectElement?this.elt=(b=O).elt:O instanceof HTMLSelectElement?(b=S(O,this),this.elt=O):(D=document.createElement("select"),O&&typeof O=="boolean"&&D.setAttribute("multiple","true"),b=S(D,this),this.elt=D),b.option=function(U,F){var H;if(U!==void 0){for(var G,Y=0;Y<this.elt.length;Y+=1)if(this.elt[Y].textContent===U){H=Y;break}H!==void 0?F===!1?this.elt.remove(H):this.elt[H].value=F:((G=document.createElement("option")).textContent=U,G.value=F===void 0?U:F,this.elt.appendChild(G),this._pInst._elements.push(G))}},b.selected=function(U){if(U!==void 0){for(var F=0;F<this.elt.length;F+=1)this.elt[F].value.toString()===U.toString()&&(this.elt.selectedIndex=F);return this}if(this.elt.getAttribute("multiple")){var H=[],G=!0,Y=!1,q=void 0;try{for(var V,$=this.elt.selectedOptions[Symbol.iterator]();!(G=(V=$.next()).done);G=!0){var Q=V.value;H.push(Q.value)}}catch(te){Y=!0,q=te}finally{try{G||$.return==null||$.return()}finally{if(Y)throw q}}return H}return this.elt.value},b.disable=function(U){if(typeof U=="string")for(var F=0;F<this.elt.length;F++)this.elt[F].value.toString()===U&&(this.elt[F].disabled=!0,this.elt[F].selected=!1);else this.elt.disabled=!0;return this},b.enable=function(U){if(typeof U=="string")for(var F=0;F<this.elt.length;F++)this.elt[F].value.toString()===U&&(this.elt[F].disabled=!1,this.elt[F].selected=!1);else{this.elt.disabled=!1;for(var H=0;H<this.elt.length;H++)this.elt[H].disabled=!1,this.elt[H].selected=!1}return this},b},d.default.prototype.createRadio=function(){function b(U){return U instanceof HTMLInputElement&&U.type==="radio"}function E(U){return U instanceof HTMLLabelElement}var M,P,D,O=arguments.length<=0?void 0:arguments[0];return O instanceof d.default.Element&&(O.elt instanceof HTMLDivElement||O.elt instanceof HTMLSpanElement)?(M=O,this.elt=O.elt):O instanceof HTMLDivElement||O instanceof HTMLSpanElement?(M=S(O,this),P=this.elt=O,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(D=arguments.length<=1?void 0:arguments[1])):(typeof O=="string"&&(D=O),P=document.createElement("div"),M=S(P,this),this.elt=P),M._name=D||"radioOption",M._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(U){return b(U)||E(U)&&b(U.firstElementChild)}).map(function(U){return b(U)?U:U.firstElementChild})},M.option=function(U,F){var H,G,Y,q=!0,V=!1,$=void 0;try{for(var Q,te=M._getOptionsArray()[Symbol.iterator]();!(q=(Q=te.next()).done);q=!0){var ne=Q.value;if(ne.value===U){H=ne;break}}}catch(ae){V=!0,$=ae}finally{try{q||te.return==null||te.return()}finally{if(V)throw $}}return H===void 0&&((H=document.createElement("input")).setAttribute("type","radio"),H.setAttribute("value",U)),H.setAttribute("name",M._name),E(H.parentElement)?G=H.parentElement:(G=document.createElement("label")).insertAdjacentElement("afterbegin",H),G.lastElementChild instanceof HTMLSpanElement?Y=G.lastElementChild:(Y=document.createElement("span"),H.insertAdjacentElement("afterend",Y)),Y.innerHTML=F===void 0?U:F,this.elt.appendChild(G),H},M.remove=function(U){var F=!0,H=!1,G=void 0;try{for(var Y,q=M._getOptionsArray()[Symbol.iterator]();!(F=(Y=q.next()).done);F=!0){var V=Y.value;if(V.value===U)return void(E(V.parentElement)?V.parentElement:V).remove()}}catch($){H=!0,G=$}finally{try{F||q.return==null||q.return()}finally{if(H)throw G}}},M.value=function(){var U="",F=!0,H=!1,G=void 0;try{for(var Y,q=M._getOptionsArray()[Symbol.iterator]();!(F=(Y=q.next()).done);F=!0){var V=Y.value;if(V.checked){U=V.value;break}}}catch($){H=!0,G=$}finally{try{F||q.return==null||q.return()}finally{if(H)throw G}}return U},M.selected=function(U){var F=null;if(U===void 0){var H=!0,G=!1,Y=void 0;try{for(var q,V=M._getOptionsArray()[Symbol.iterator]();!(H=(q=V.next()).done);H=!0){var $=q.value;if($.checked){F=$;break}}}catch(ce){G=!0,Y=ce}finally{try{H||V.return==null||V.return()}finally{if(G)throw Y}}}else{M._getOptionsArray().forEach(function(ce){ce.checked=!1,ce.removeAttribute("checked")});var Q=!0;G=!1,Y=void 0;try{for(var te,ne=M._getOptionsArray()[Symbol.iterator]();!(Q=(te=ne.next()).done);Q=!0){var ae=te.value;ae.value===U&&(ae.setAttribute("checked",!0),ae.checked=!0,F=ae)}}catch(ce){G=!0,Y=ce}finally{try{Q||ne.return==null||ne.return()}finally{if(G)throw Y}}}return F},M.disable=function(){var U=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],F=!0,H=!1,G=void 0;try{for(var Y,q=M._getOptionsArray()[Symbol.iterator]();!(F=(Y=q.next()).done);F=!0)Y.value.setAttribute("disabled",U)}catch(V){H=!0,G=V}finally{try{F||q.return==null||q.return()}finally{if(H)throw G}}},M},d.default.prototype.createColorPicker=function(b){d.default._validateParameters("createColorPicker",arguments);var E=document.createElement("input");return E.type="color",b?b instanceof d.default.Color?E.value=b.toString("#rrggbb"):(d.default.prototype._colorMode="rgb",d.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},E.value=d.default.prototype.color(b).toString("#rrggbb")):E.value="#000000",(E=S(E,this)).color=function(){return b&&(b.mode&&(d.default.prototype._colorMode=b.mode),b.maxes&&(d.default.prototype._colorMaxes=b.maxes)),d.default.prototype.color(this.elt.value)},E},d.default.prototype.createInput=function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",M=(d.default._validateParameters("createInput",arguments),document.createElement("input"));return M.setAttribute("value",b),M.setAttribute("type",E),S(M,this)},d.default.prototype.createFileInput=function(b){var E,M=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(d.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(E=document.createElement("input")).setAttribute("type","file"),M&&E.setAttribute("multiple",!0),E.addEventListener("change",function(P){var D=!0,O=!1,U=void 0;try{for(var F,H=P.target.files[Symbol.iterator]();!(D=(F=H.next()).done);D=!0){var G=F.value;d.default.File._load(G,b)}}catch(Y){O=!0,U=Y}finally{try{D||H.return==null||H.return()}finally{if(O)throw U}}},!1),S(E,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},d.default.prototype.createVideo=function(b,E){return d.default._validateParameters("createVideo",arguments),j(this,"video",b,E)},d.default.prototype.createAudio=function(b,E){return d.default._validateParameters("createAudio",arguments),j(this,"audio",b,E)},d.default.prototype.VIDEO="video",d.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(b){var E=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return E?new Promise(function(M,P){E.call(navigator,b,M,P)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),d.default.prototype.createCapture=function(){for(var b=arguments.length,E=new Array(b),M=0;M<b;M++)E[M]=arguments[M];if(d.default._validateParameters("createCapture",E),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var P,D=!0,O=!0,U=0,F=E;U<F.length;U++){var H=F[U];H===d.default.prototype.VIDEO?O=!1:H===d.default.prototype.AUDIO?D=!1:g(H)==="object"?G=H:typeof H=="function"&&(P=H)}var G=G||{video:D,audio:O},Y=document.createElement("video"),q=(Y.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(G).then(function(V){try{"srcObject"in Y?Y.srcObject=V:Y.src=window.URL.createObjectURL(V)}catch{Y.src=V}},console.log),S(Y,this,!0));return q.loadedmetadata=!1,Y.addEventListener("loadedmetadata",function(){Y.play(),Y.width?(q.width=Y.width,q.height=Y.height):(q.width=q.elt.width=Y.videoWidth,q.height=q.elt.height=Y.videoHeight),q.loadedmetadata=!0,P&&P(Y.srcObject)}),q},d.default.prototype.createElement=function(b,E){return d.default._validateParameters("createElement",arguments),b=document.createElement(b),E!==void 0&&(b.innerHTML=E),S(b,this)},d.default.Element.prototype.addClass=function(b){return this.elt.className?this.hasClass(b)||(this.elt.className=this.elt.className+" "+b):this.elt.className=b,this},d.default.Element.prototype.removeClass=function(b){return this.elt.classList.remove(b),this},d.default.Element.prototype.hasClass=function(b){return this.elt.classList.contains(b)},d.default.Element.prototype.toggleClass=function(b){return this.elt.classList.contains(b)?this.elt.classList.remove(b):this.elt.classList.add(b),this},d.default.Element.prototype.child=function(b){return b===void 0?this.elt.childNodes:(typeof b=="string"?(b[0]==="#"&&(b=b.substring(1)),b=document.getElementById(b)):b instanceof d.default.Element&&(b=b.elt),b instanceof HTMLElement&&this.elt.appendChild(b),this)},d.default.Element.prototype.center=function(b){var E=this.elt.style.display,M=this.elt.style.display==="none",P=this.parent().style.display==="none",D={x:this.elt.offsetLeft,y:this.elt.offsetTop},O=(M&&this.show(),P&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),U=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return b==="both"||b===void 0?this.position(O/2+this.parent().offsetLeft,U/2+this.parent().offsetTop):b==="horizontal"?this.position(O/2+this.parent().offsetLeft,D.y):b==="vertical"&&this.position(D.x,U/2+this.parent().offsetTop),this.style("display",E),M&&this.hide(),P&&this.parent().hide(),this},d.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},d.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},d.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var b="";return this.elt.style.transform&&(b=(b=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=b,this},d.default.Element.prototype._rotate=function(){var b="";return this.elt.style.transform&&(b=(b=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=b,this},d.default.Element.prototype.style=function(b,E){if((E=E instanceof d.default.Color?"rgba("+E.levels[0]+","+E.levels[1]+","+E.levels[2]+","+E.levels[3]/255+")":E)===void 0){if(b.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(b);for(var M=b.split(";"),P=0;P<M.length;P++){var D=M[P].split(":");D[0]&&D[1]&&(this.elt.style[D[0].trim()]=D[1].trim())}}else this.elt.style[b]=E,b!=="width"&&b!=="height"&&b!=="left"&&b!=="top"||(E=window.getComputedStyle(this.elt).getPropertyValue(b).replace(/[^\d.]/g,""),this[b]=Math.round(parseFloat(E,10)));return this},d.default.Element.prototype.attribute=function(b,E){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return E===void 0?this.elt.getAttribute(b):(this.elt.setAttribute(b,E),this);if(E===void 0)return this.elt.firstChild.getAttribute(b);for(var M=0;M<this.elt.childNodes.length;M++)this.elt.childNodes[M].setAttribute(b,E)},d.default.Element.prototype.removeAttribute=function(b){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var E=0;E<this.elt.childNodes.length;E++)this.elt.childNodes[E].removeAttribute(b);return this.elt.removeAttribute(b),this},d.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},d.default.Element.prototype.show=function(){return this.elt.style.display="block",this},d.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},d.default.Element.prototype.size=function(b,E){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var M=b,P=E,D=d.default.prototype.AUTO;if(M!==D||P!==D){if(M===D?M=E*this.width/this.height:P===D&&(P=b*this.height/this.width),this.elt instanceof HTMLCanvasElement){var O,U={},F=this.elt.getContext("2d");for(O in F)U[O]=F[O];for(O in this.elt.setAttribute("width",M*this._pInst._pixelDensity),this.elt.setAttribute("height",P*this._pInst._pixelDensity),this.elt.style.width=M+"px",this.elt.style.height=P+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),U)this.elt.getContext("2d")[O]=U[O]}else this.elt.style.width=M+"px",this.elt.style.height=P+"px",this.elt.width=M,this.elt.height=P;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},d.default.Element.prototype.remove=function(){this instanceof d.default.MediaElement&&(this.stop(),(E=this.elt.srcObject)!==null&&E.getTracks().forEach(function(M){M.stop()}));var b,E=this._pInst._elements.indexOf(this);for(b in E!==-1&&this._pInst._elements.splice(E,1),this._events)this.elt.removeEventListener(b,this._events[b]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},d.default.Element.prototype.drop=function(b,E){var M;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",M=function(P){P.preventDefault()}),this.elt.addEventListener("dragleave",M)),d.default.Element._attachListener("drop",function(P){P.preventDefault(),typeof E=="function"&&E.call(this,P),P=P.dataTransfer.files;var D=!0,O=!1,U=void 0;try{for(var F,H=P[Symbol.iterator]();!(D=(F=H.next()).done);D=!0){var G=F.value;d.default.File._load(G,b)}}catch(Y){O=!0,U=Y}finally{try{D||H.return==null||H.return()}finally{if(O)throw U}}},this)):console.log("The File APIs are not fully supported in this browser."),this},n=function(b){var E=P;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(b&&b.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),b&&A(E,b);var M=f(P);function P(D,O){u(this,P);var U=h(O=M.call(this,D,O));return O.elt.crossOrigin="anonymous",O._prevTime=0,O._cueIDCounter=0,O._cues=[],O.pixels=[],O._pixelsState=h(O),O._pixelDensity=1,O._modified=!1,O._frameOnCanvas=-1,Object.defineProperty(U,"src",{get:function(){var F=U.elt.children[0].src,H=U.elt.src===window.location.href?"":U.elt.src;return F===window.location.href?H:F},set:function(F){for(var H=0;H<U.elt.children.length;H++)U.elt.removeChild(U.elt.children[H]);var G=document.createElement("source");G.src=F,D.appendChild(G),U.elt.src=F,U.modified=!0}}),U._onended=function(){},U.elt.onended=function(){U._onended(U)},O}return T(P,[{key:"play",value:function(){var D;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(D=this.elt.play())&&D.catch&&D.catch(function(O){O.name==="NotAllowedError"?console.error(O):console.error("Media play method encountered an unexpected error",O)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var D=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(D)},{passive:!0,once:!0})}},{key:"autoplay",value:function(D){var O=this,U=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",D),D&&!U&&(D=function(){return O._setupAutoplayFailDetection()},this.elt.readyState===4?D():this.elt.addEventListener("canplay",D,{passive:!0,once:!0})),this}},{key:"volume",value:function(D){if(D===void 0)return this.elt.volume;this.elt.volume=D}},{key:"speed",value:function(D){if(D===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=D:this.presetPlaybackRate=D}},{key:"time",value:function(D){return D===void 0?this.elt.currentTime:(this.elt.currentTime=D,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var D=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&D&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var D=arguments.length,O=new Array(D),U=0;U<D;U++)O[U]=arguments[U];return d.default.Renderer2D.prototype.loadPixels.apply(this,O)}},{key:"updatePixels",value:function(D,O,U,F){return this.loadedmetadata&&(this._ensureCanvas(),d.default.Renderer2D.prototype.updatePixels.call(this,D,O,U,F)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var D=arguments.length,O=new Array(D),U=0;U<D;U++)O[U]=arguments[U];return d.default.Renderer2D.prototype.get.apply(this,O)}},{key:"_getPixel",value:function(){this.loadPixels();for(var D=arguments.length,O=new Array(D),U=0;U<D;U++)O[U]=arguments[U];return d.default.Renderer2D.prototype._getPixel.apply(this,O)}},{key:"set",value:function(D,O,U){this.loadedmetadata&&(this._ensureCanvas(),d.default.Renderer2D.prototype.set.call(this,D,O,U),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var D=arguments.length,O=new Array(D),U=0;U<D;U++)O[U]=arguments[U];d.default.prototype.copy.apply(this,O)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var D=arguments.length,O=new Array(D),U=0;U<D;U++)O[U]=arguments[U];d.default.Image.prototype.mask.apply(this,O)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(D){this._modified=D}},{key:"onended",value:function(D){return this._onended=D,this}},{key:"connect",value:function(D){var O,U;if(typeof d.default.prototype.getAudioContext=="function")O=d.default.prototype.getAudioContext(),U=d.default.soundOut.input;else try{U=(O=D.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=O.createMediaElementSource(this.elt),this.audioSourceNode.connect(U)),D?D.input?this.audioSourceNode.connect(D.input):this.audioSourceNode.connect(D):this.audioSourceNode.connect(U)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(D,O,U){var F=this._cueIDCounter++;return O=new _(O,D,F,U),this._cues.push(O),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),F}},{key:"removeCue",value:function(D){for(var O=0;O<this._cues.length;O++)this._cues[O].id===D&&(console.log(D),this._cues.splice(O,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var D=this.time(),O=0;O<this._cues.length;O++){var U=this._cues[O].time,F=this._cues[O].val;this._prevTime<U&&U<=D&&this._cues[O].callback(F)}this._prevTime=D}}]),P}(d.default.Element),d.default.MediaElement=n,n=function(){function b(E,M){u(this,b),this.file=E,this._pInst=M,M=E.type.split("/"),this.type=M[0],this.subtype=M[1],this.name=E.name,this.size=E.size,this.data=void 0}return T(b,null,[{key:"_createLoader",value:function(E,M){var P=new FileReader;return P.onload=function(D){var O,U=new d.default.File(E);U.file.type==="application/json"?U.data=JSON.parse(D.target.result):U.file.type==="text/xml"?(O=new DOMParser().parseFromString(D.target.result,"text/xml"),U.data=new d.default.XML(O.documentElement)):U.data=D.target.result,M(U)},P}},{key:"_load",value:function(E,M){var P;/^text\//.test(E.type)||E.type==="application/json"?d.default.File._createLoader(E,M).readAsText(E):/^(video|audio)\//.test(E.type)?((P=new d.default.File(E)).data=URL.createObjectURL(E),M(P)):d.default.File._createLoader(E,M).readAsDataURL(E)}}]),b}(),d.default.File=n,n=d.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(n,C,x){function m(b){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(b)}function d(b){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(E){return m(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":m(E)})(b)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(_=n("../core/main"))&&_.__esModule?_:{default:_},T=function(b){if(b&&b.__esModule)return b;if(b===null||d(b)!=="object"&&typeof b!="function")return{default:b};var E=function(){var U;return typeof WeakMap!="function"?null:(U=new WeakMap,U)}();if(E&&E.has(b))return E.get(b);var M,P={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in b){var O;Object.prototype.hasOwnProperty.call(b,M)&&((O=D?Object.getOwnPropertyDescriptor(b,M):null)&&(O.get||O.set)?Object.defineProperty(P,M,O):P[M]=b[M])}return P.default=b,E&&E.set(b,P),P}(n("../core/constants"));c.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",c.default.prototype.accelerationX=0,c.default.prototype.accelerationY=0,c.default.prototype.accelerationZ=0,c.default.prototype.pAccelerationX=0,c.default.prototype.pAccelerationY=0,c.default.prototype.pAccelerationZ=0,c.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},c.default.prototype.rotationX=0,c.default.prototype.rotationY=0,c.default.prototype.rotationZ=0,c.default.prototype.pRotationX=0,c.default.prototype.pRotationY=0;var A=c.default.prototype.pRotationZ=0,f=0,h=0,p="clockwise",u="clockwise",g="clockwise",S=(c.default.prototype.pRotateDirectionX=void 0,c.default.prototype.pRotateDirectionY=void 0,c.default.prototype.pRotateDirectionZ=void 0,c.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},c.default.prototype.turnAxis=void 0,.5),j=30,_=(c.default.prototype.setMoveThreshold=function(b){c.default._validateParameters("setMoveThreshold",arguments),S=b},c.default.prototype.setShakeThreshold=function(b){c.default._validateParameters("setShakeThreshold",arguments),j=b},c.default.prototype._ondeviceorientation=function(b){this._updatePRotations(),this._angleMode===T.radians&&(b.beta=b.beta*(_PI/180),b.gamma=b.gamma*(_PI/180),b.alpha=b.alpha*(_PI/180)),this._setProperty("rotationX",b.beta),this._setProperty("rotationY",b.gamma),this._setProperty("rotationZ",b.alpha),this._handleMotion()},c.default.prototype._ondevicemotion=function(b){this._updatePAccelerations(),this._setProperty("accelerationX",2*b.acceleration.x),this._setProperty("accelerationY",2*b.acceleration.y),this._setProperty("accelerationZ",2*b.acceleration.z),this._handleMotion()},c.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var b,E,M,P,D,O=this._isGlobal?window:this;typeof O.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>S||Math.abs(this.accelerationY-this.pAccelerationY)>S||Math.abs(this.accelerationZ-this.pAccelerationZ)>S)&&O.deviceMoved(),typeof O.deviceTurned=="function"&&(E=this.rotationX+180,b=this.pRotationX+180,M=A+180,0<E-b&&E-b<270||E-b<-270?p="clockwise":(E-b<0||270<E-b)&&(p="counter-clockwise"),p!==this.pRotateDirectionX&&(M=E),90<Math.abs(E-M)&&Math.abs(E-M)<270&&(M=E,this._setProperty("turnAxis","X"),O.deviceTurned()),this.pRotateDirectionX=p,A=M-180,b=this.rotationY+180,E=this.pRotationY+180,M=f+180,0<b-E&&b-E<270||b-E<-270?u="clockwise":(b-E<0||270<b-this.pRotationY)&&(u="counter-clockwise"),u!==this.pRotateDirectionY&&(M=b),90<Math.abs(b-M)&&Math.abs(b-M)<270&&(M=b,this._setProperty("turnAxis","Y"),O.deviceTurned()),this.pRotateDirectionY=u,f=M-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?g="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(g="counter-clockwise"),g!==this.pRotateDirectionZ&&(h=this.rotationZ),90<Math.abs(this.rotationZ-h)&&Math.abs(this.rotationZ-h)<270&&(h=this.rotationZ,this._setProperty("turnAxis","Z"),O.deviceTurned()),this.pRotateDirectionZ=g,this._setProperty("turnAxis",void 0)),typeof O.deviceShaken=="function"&&(this.pAccelerationX!==null&&(P=Math.abs(this.accelerationX-this.pAccelerationX),D=Math.abs(this.accelerationY-this.pAccelerationY)),j<P+D&&O.deviceShaken())},c.default);x.default=_},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};m.default.prototype.isKeyPressed=!1,m.default.prototype.keyIsPressed=!1,m.default.prototype.key="",m.default.prototype.keyCode=0,m.default.prototype._onkeydown=function(d){var c;this._downKeys[d.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",d.which),this._downKeys[d.which]=!0,this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),typeof(c=this._isGlobal?window:this).keyPressed!="function"||d.charCode||c.keyPressed(d)===!1&&d.preventDefault())},m.default.prototype._onkeyup=function(d){this._downKeys[d.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),this._setProperty("keyCode",d.which);var c=this._isGlobal?window:this;typeof c.keyReleased=="function"&&c.keyReleased(d)===!1&&d.preventDefault()},m.default.prototype._onkeypress=function(d){var c;d.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",d.which),this._setProperty("key",d.key||String.fromCharCode(d.which)||d.which),typeof(c=this._isGlobal?window:this).keyTyped=="function"&&c.keyTyped(d)===!1&&d.preventDefault())},m.default.prototype._onblur=function(d){this._downKeys={}},m.default.prototype.keyIsDown=function(d){return m.default._validateParameters("keyIsDown",arguments),this._downKeys[d]||!1},m.default.prototype._areDownKeys=function(){for(var d in this._downKeys)if(this._downKeys.hasOwnProperty(d)&&this._downKeys[d]===!0)return!0;return!1},n=m.default,x.default=n},{"../core/main":273}],292:[function(n,C,x){function m(A){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(A)}function d(A){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(f){return m(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":m(f)})(A)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.string.includes"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(c=n("../core/main"))&&c.__esModule?c:{default:c},T=function(A){if(A&&A.__esModule)return A;if(A===null||d(A)!=="object"&&typeof A!="function")return{default:A};var f=function(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,S)}();if(f&&f.has(A))return f.get(A);var h,p={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in A){var g;Object.prototype.hasOwnProperty.call(A,h)&&((g=u?Object.getOwnPropertyDescriptor(A,h):null)&&(g.get||g.set)?Object.defineProperty(p,h,g):p[h]=A[h])}return p.default=A,f&&f.set(A,p),p}(n("../core/constants"));c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(A){var f,h,p,u,g;this._curElement!==null&&(!A.touches||0<A.touches.length)&&(f=this._curElement.elt,h=this.width,p=this.height,(u=A)&&!u.clientX&&(u.touches?u=u.touches[0]:u.changedTouches&&(u=u.changedTouches[0])),g=f.getBoundingClientRect(),h=f.scrollWidth/h||1,f=f.scrollHeight/p||1,p={x:(u.clientX-g.left)/h,y:(u.clientY-g.top)/f,winX:u.clientX,winY:u.clientY,id:u.identifier},this._setProperty("movedX",A.movementX),this._setProperty("movedY",A.movementY),this._setProperty("mouseX",p.x),this._setProperty("mouseY",p.y),this._setProperty("winMouseX",p.winX),this._setProperty("winMouseY",p.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(A){A.button===1?this._setProperty("mouseButton",T.CENTER):A.button===2?this._setProperty("mouseButton",T.RIGHT):this._setProperty("mouseButton",T.LEFT)},c.default.prototype._onmousemove=function(A){var f=this._isGlobal?window:this;this._updateNextMouseCoords(A),this.mouseIsPressed?typeof f.mouseDragged=="function"?f.mouseDragged(A)===!1&&A.preventDefault():typeof f.touchMoved=="function"&&f.touchMoved(A)===!1&&A.preventDefault():typeof f.mouseMoved=="function"&&f.mouseMoved(A)===!1&&A.preventDefault()},c.default.prototype._onmousedown=function(A){var f=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(A),this._updateNextMouseCoords(A),typeof f.mousePressed=="function"?f.mousePressed(A)===!1&&A.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof f.touchStarted=="function"&&f.touchStarted(A)===!1&&A.preventDefault()},c.default.prototype._onmouseup=function(A){var f=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof f.mouseReleased=="function"?f.mouseReleased(A)===!1&&A.preventDefault():typeof f.touchEnded=="function"&&f.touchEnded(A)===!1&&A.preventDefault()},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(A){var f=this._isGlobal?window:this;typeof f.mouseClicked=="function"&&f.mouseClicked(A)===!1&&A.preventDefault()},c.default.prototype._ondblclick=function(A){var f=this._isGlobal?window:this;typeof f.doubleClicked=="function"&&f.doubleClicked(A)===!1&&A.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(A){var f=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",A.deltaY),typeof f.mouseWheel=="function"&&(A.delta=A.deltaY,f.mouseWheel(A)===!1&&A.preventDefault())},c.default.prototype.requestPointerLock=function(){var A=this._curElement.elt;return A.requestPointerLock=A.requestPointerLock||A.mozRequestPointerLock,A.requestPointerLock?(A.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()},n=c.default,x.default=n},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(n,C,x){n("core-js/modules/es.array.includes"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.string.includes"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../core/main"))&&n.__esModule?n:{default:n}).default.prototype.touches=[],n.default.prototype._updateTouchCoords=function(m){if(this._curElement!==null){for(var d=[],c=0;c<m.touches.length;c++)d[c]=function(T,A,f,h){var p=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,u=T.getBoundingClientRect();return A=T.scrollWidth/A||1,T=T.scrollHeight/f||1,{x:((f=h.touches[p]||h.changedTouches[p]).clientX-u.left)/A,y:(f.clientY-u.top)/T,winX:f.clientX,winY:f.clientY,id:f.identifier}}(this._curElement.elt,this.width,this.height,m,c);this._setProperty("touches",d)}},n.default.prototype._ontouchstart=function(m){var d=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(m),this._updateNextMouseCoords(m),this._updateMouseCoords(),typeof d.touchStarted=="function"?d.touchStarted(m)===!1&&m.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof d.mousePressed=="function"&&d.mousePressed(m)===!1&&m.preventDefault()},n.default.prototype._ontouchmove=function(m){var d=this._isGlobal?window:this;this._updateTouchCoords(m),this._updateNextMouseCoords(m),typeof d.touchMoved=="function"?d.touchMoved(m)===!1&&m.preventDefault():typeof d.mouseDragged=="function"&&d.mouseDragged(m)===!1&&m.preventDefault()},n.default.prototype._ontouchend=function(m){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(m),this._updateNextMouseCoords(m);var d=this._isGlobal?window:this;typeof d.touchEnded=="function"?d.touchEnded(m)===!1&&m.preventDefault():typeof d.mouseReleased=="function"&&d.mouseReleased(m)===!1&&m.preventDefault()},n=n.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(n,C,x){n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.int32-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.int32-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m,d,c,T,A={_toPixels:function(f){var h,p;return f instanceof ImageData?f.data:f.getContext("2d")?f.getContext("2d").getImageData(0,0,f.width,f.height).data:f.getContext("webgl")?(p=(h=f.getContext("webgl")).drawingBufferWidth*h.drawingBufferHeight*4,p=new Uint8Array(p),h.readPixels(0,0,f.width,f.height,h.RGBA,h.UNSIGNED_BYTE,p),p):void 0},_getARGB:function(f,h){return f[3+(h*=4)]<<24&4278190080|f[h]<<16&16711680|f[1+h]<<8&65280|255&f[2+h]},_setPixels:function(f,h){for(var p,u=0,g=f.length;u<g;u++)f[0+(p=4*u)]=(16711680&h[u])>>>16,f[1+p]=(65280&h[u])>>>8,f[2+p]=255&h[u],f[3+p]=(4278190080&h[u])>>>24},_toImageData:function(f){return f instanceof ImageData?f:f.getContext("2d").getImageData(0,0,f.width,f.height)},_createImageData:function(f,h){return A._tmpCanvas=document.createElement("canvas"),A._tmpCtx=A._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(f,h)},apply:function(f,h,p){var u=f.getContext("2d"),g=u.getImageData(0,0,f.width,f.height);(h=h(g,p))instanceof ImageData?u.putImageData(h,0,0,0,0,f.width,f.height):u.putImageData(g,0,0,0,0,f.width,f.height)},threshold:function(f,h){for(var p=A._toPixels(f),u=(h===void 0&&(h=.5),Math.floor(255*h)),g=0;g<p.length;g+=4){var S=u<=.2126*p[g]+.7152*p[g+1]+.0722*p[g+2]?255:0;p[g]=p[g+1]=p[g+2]=S}},gray:function(f){for(var h=A._toPixels(f),p=0;p<h.length;p+=4){var u=h[p],g=h[p+1],S=h[p+2];h[p]=h[p+1]=h[p+2]=.2126*u+.7152*g+.0722*S}},opaque:function(f){for(var h=A._toPixels(f),p=0;p<h.length;p+=4)h[p+3]=255;return h},invert:function(f){for(var h=A._toPixels(f),p=0;p<h.length;p+=4)h[p]=255-h[p],h[p+1]=255-h[p+1],h[p+2]=255-h[p+2]},posterize:function(f,h){var p=A._toPixels(f);if(h<2||255<h)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var u=h-1,g=0;g<p.length;g+=4){var S=p[g],j=p[g+1],_=p[g+2];p[g]=255*(S*h>>8)/u,p[g+1]=255*(j*h>>8)/u,p[g+2]=255*(_*h>>8)/u}},dilate:function(f){for(var h,p,u,g,S,j,_,b,E,M=A._toPixels(f),P=0,D=M.length?M.length/4:0,O=new Int32Array(D);P<D;)for(p=(h=P)+f.width;P<p;)g=u=A._getARGB(M,P),(E=P-1)<h&&(E=P),p<=(b=P+1)&&(b=P),(S=P-f.width)<0&&(S=0),D<=(j=P+f.width)&&(j=P),S=A._getARGB(M,S),E=A._getARGB(M,E),j=A._getARGB(M,j),(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(_=77*(E>>16&255)+151*(E>>8&255)+28*(255&E))&&(u=E,g=_),g<(_=77*((E=A._getARGB(M,b))>>16&255)+151*(E>>8&255)+28*(255&E))&&(u=E,g=_),g<(b=77*(S>>16&255)+151*(S>>8&255)+28*(255&S))&&(u=S,g=b),g<(E=77*(j>>16&255)+151*(j>>8&255)+28*(255&j))&&(u=j,g=E),O[P++]=u;A._setPixels(M,O)},erode:function(f){for(var h,p,u,g,S,j,_,b,E,M=A._toPixels(f),P=0,D=M.length?M.length/4:0,O=new Int32Array(D);P<D;)for(p=(h=P)+f.width;P<p;)g=u=A._getARGB(M,P),(E=P-1)<h&&(E=P),p<=(b=P+1)&&(b=P),(S=P-f.width)<0&&(S=0),D<=(j=P+f.width)&&(j=P),S=A._getARGB(M,S),E=A._getARGB(M,E),j=A._getARGB(M,j),(_=77*(E>>16&255)+151*(E>>8&255)+28*(255&E))<(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(u=E,g=_),(_=77*((E=A._getARGB(M,b))>>16&255)+151*(E>>8&255)+28*(255&E))<g&&(u=E,g=_),(b=77*(S>>16&255)+151*(S>>8&255)+28*(255&S))<g&&(u=S,g=b),(E=77*(j>>16&255)+151*(j>>8&255)+28*(255&j))<g&&(u=j,g=E),O[P++]=u;A._setPixels(M,O)},blur:function(f,h){for(var p,u,g,S,j,_,b,E,M,P,D=A._toPixels(f),O=f.width,U=f.height,F=O*U,H=new Int32Array(F),G=0;G<F;G++)H[G]=A._getARGB(D,G);var Y,q,V,$,Q,te,ne,ae,ce=new Int32Array(F),de=new Int32Array(F),X=new Int32Array(F),Z=new Int32Array(F),ie=0,he=3.5*h|0;if(m!==(he=he<1?1:he<248?he:248)){d=1+(m=he)<<1,c=new Int32Array(d),T=new Array(d);for(var ye=0;ye<d;ye++)T[ye]=new Int32Array(256);for(var ve=1,le=he-1;ve<he;ve++){c[he+ve]=c[le]=te=le*le,ne=T[he+ve],ae=T[le--];for(var me=0;me<256;me++)ne[me]=ae[me]=te*me}Q=c[he]=he*he,ne=T[he];for(var Se=0;Se<256;Se++)ne[Se]=Q*Se}for(q=0;q<U;q++){for(Y=0;Y<O;Y++){if(S=g=u=j=p=0,(_=Y-m)<0)P=-_,_=0;else{if(O<=_)break;P=0}for(V=P;V<d&&!(O<=_);V++){var Re=H[_+ie];j+=($=T[V])[(-16777216&Re)>>>24],u+=$[(16711680&Re)>>16],g+=$[(65280&Re)>>8],S+=$[255&Re],p+=c[V],_++}ce[b=ie+Y]=j/p,de[b]=u/p,X[b]=g/p,Z[b]=S/p}ie+=O}for(M=(E=-m)*O,q=ie=0;q<U;q++){for(Y=0;Y<O;Y++){if(S=g=u=j=p=0,E<0)P=b=-E,_=Y;else{if(U<=E)break;P=0,b=E,_=Y+M}for(V=P;V<d&&!(U<=b);V++)j+=($=T[V])[ce[_]],u+=$[de[_]],g+=$[X[_]],S+=$[Z[_]],p+=c[V],b++,_+=O;H[Y+ie]=j/p<<24|u/p<<16|g/p<<8|S/p}ie+=O,M+=O,E++}A._setPixels(D,H)}};x.default=A},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=c(n("../core/main")),d=c(n("omggif"));function c(A){return A&&A.__esModule?A:{default:A}}function T(A){return function(f){if(Array.isArray(f)){for(var h=0,p=new Array(f.length);h<f.length;h++)p[h]=f[h];return p}}(A)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}m.default.prototype.createImage=function(A,f){return m.default._validateParameters("createImage",arguments),new m.default.Image(A,f)},m.default.prototype.saveCanvas=function(){m.default._validateParameters("saveCanvas",arguments);var A,f,h,p,u=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(A=arguments[0],u.shift()):arguments[0]instanceof m.default.Element?(A=arguments[0].elt,u.shift()):A=this._curElement&&this._curElement.elt,1<=u.length&&(f=u[0]),h=(h=2<=u.length?u[1]:h)||m.default.prototype._checkFileExtension(f,h)[1]||"png"){default:p="image/png";break;case"jpeg":case"jpg":p="image/jpeg"}A.toBlob(function(g){m.default.prototype.downloadFile(g,f,h)},p)},m.default.prototype.encodeAndDownloadGif=function(A,f){for(var h=A.gifProperties,p=((ne=h.loopLimit)===1?ne=null:ne===null&&(ne=0),new Uint8Array(A.width*A.height*h.numFrames)),u=[],g={},S=0;S<h.numFrames;S++){for(var j=new Set,_=h.frames[S].image.data,b=_.length,E=new Uint32Array(A.width*A.height),M=0,P=0;M<b;M+=4,P++){var D=_[M+0]<<16|_[M+1]<<8|_[M+2]<<0;j.add(D),E[P]=D}var O=T(j).sort().toString();g[O]===void 0?g[O]={freq:1,frames:[S]}:(g[O].freq+=1,g[O].frames.push(S)),u.push(E)}for(var U=[],F=Object.keys(g).sort(function(X,Z){return g[Z].freq-g[X].freq}),H=F[0].split(",").map(function(X){return parseInt(X)}),G=(U=U.concat(g[H].frames),new Set(H)),Y=1;Y<F.length;Y++){var q=F[Y].split(",").map(function(X){return parseInt(X)}).filter(function(X){return!G.has(X)});if(H.length+q.length<=256){for(var V=0;V<q.length;V++)H.push(q[V]),G.add(q[V]);U=U.concat(g[F[Y]].frames)}}U=new Set(U);for(var $={},Q=0;Q<H.length;Q++)$[H[Q]]||($[H[Q]]=Q);for(var te=1;te<H.length;)te<<=1;H.length=te;for(var ne={loop:ne,palette:new Uint32Array(H)},ae=new d.default.GifWriter(p,A.width,A.height,ne),ce={},de=0;de<h.numFrames;de++)(function(X){var Z=!U.has(X),ie=Z?[]:H,he=new Uint8Array(A.width*A.height),ye={},ve=new Set,le=(u[X].forEach(function(Ae,Be){Z?(ye[Ae]===void 0&&(ye[Ae]=ie.length,ie.push(Ae)),he[Be]=ye[Ae]):he[Be]=$[Ae],0<X&&u[X-1][Be]!==Ae&&ve.add(Ae)}),{});if(0<(me=ie.filter(function(Ae){return!ve.has(Ae)})).length){var me=me[0],Se=(Z?ye:$)[me];if(0<X){for(var Re=0;Re<u[X].length;Re++)u[X-1][Re]===u[X][Re]&&(he[Re]=Se);le.transparent=Se,ce.frameOpts.disposal=1}}if(le.delay=h.frames[X].delay/10,Z){for(var Ee=1;Ee<ie.length;)Ee<<=1;ie.length=Ee,le.palette=new Uint32Array(ie)}0<X&&ae.addFrame(0,0,A.width,A.height,ce.pixelPaletteIndex,ce.frameOpts),ce={pixelPaletteIndex:he,frameOpts:le}})(de);ce.frameOpts.disposal=1,ae.addFrame(0,0,A.width,A.height,ce.pixelPaletteIndex,ce.frameOpts),ne=new Blob([p.slice(0,ae.end())],{type:"image/gif"}),m.default.prototype.downloadFile(ne,f,"gif")},m.default.prototype.saveFrames=function(A,f,h,p,u){m.default._validateParameters("saveFrames",arguments),h=m.default.prototype.constrain(h=h||3,0,15),h*=1e3,p=m.default.prototype.constrain(p||15,0,22);var g=0,S=m.default.prototype._makeFrame,j=this._curElement.elt,_=[],b=setInterval(function(){_.push(S(A+g,f,j)),g++},1e3/p);setTimeout(function(){if(clearInterval(b),u)u(_);else{var E=!0,M=!1,P=void 0;try{for(var D,O=_[Symbol.iterator]();!(E=(D=O.next()).done);E=!0){var U=D.value;m.default.prototype.downloadFile(U.imageData,U.filename,U.ext)}}catch(F){M=!0,P=F}finally{try{E||O.return==null||O.return()}finally{if(M)throw P}}}_=[]},.01+h)},m.default.prototype._makeFrame=function(A,f,h){var p;if(h=this?this._curElement.elt:h,f)switch(f.toLowerCase()){case"png":p="image/png";break;case"jpeg":case"jpg":p="image/jpeg";break;default:p="image/png"}else f="png",p="image/png";h=(h=h.toDataURL(p)).replace(p,"image/octet-stream");var u={};return u.imageData=h,u.filename=A,u.ext=f,u},n=m.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(n,C,x){function m(j){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(j)}function d(j){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(_){return m(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":m(_)})(j)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.copy-within"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.copy-within"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,n("regenerator-runtime/runtime");var c=p(n("../core/main")),T=p(n("../core/helpers")),A=function(j){if(j&&j.__esModule)return j;if(j===null||d(j)!=="object"&&typeof j!="function")return{default:j};var _=function(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,D)}();if(_&&_.has(j))return _.get(j);var b,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in j){var P;Object.prototype.hasOwnProperty.call(j,b)&&((P=M?Object.getOwnPropertyDescriptor(j,b):null)&&(P.get||P.set)?Object.defineProperty(E,b,P):E[b]=j[b])}return E.default=j,_&&_.set(j,E),E}(n("../core/constants")),f=p(n("omggif")),h=n("gifenc");function p(j){return j&&j.__esModule?j:{default:j}}function u(j,_,b,E,M,P,D){try{var O=j[P](D),U=O.value}catch(F){return void b(F)}O.done?_(U):Promise.resolve(U).then(E,M)}function g(j,_,b,E,M,P,D,O,U,F,H){var G,Y,q,V,$,Q,te,ne,ae;return j===A.COVER&&(G=_,q=b,te=P,ne=D,Q=O,ae=U,Y=F,V=H,te/=$=Math.max(te/Y,ne/V),ne/=$,$=Q,Q=ae,G===A.CENTER?$+=(Y-te)/2:G===A.RIGHT&&($+=Y-te),q===A.CENTER?Q+=(V-ne)/2:q===A.BOTTOM&&(Q+=V-ne),O=(ae={x:$,y:Q,w:te,h:ne}).x,U=ae.y,F=ae.w,H=ae.h),j===A.CONTAIN&&(G=_,Y=b,q=E,V=M,$=P,Q=D,te=F,ne=H,te/=ae=Math.max(te/$,ne/Q),ne/=ae,ae=q,q=V,G===A.CENTER?ae+=($-te)/2:G===A.RIGHT&&(ae+=$-te),Y===A.CENTER?q+=(Q-ne)/2:Y===A.BOTTOM&&(q+=Q-ne),E=(j={x:ae,y:q,w:te,h:ne}).x,M=j.y,P=j.w,D=j.h),{sx:O,sy:U,sw:F,sh:H,dx:E,dy:M,dw:P,dh:D}}function S(j,_){return 0<j&&j<_?j:_}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),c.default.prototype.loadImage=function(j,_,b){c.default._validateParameters("loadImage",arguments);var E=new c.default.Image(1,1,this),M=this,P=new Request(j,{method:"GET",mode:"cors"});return fetch(j,P).then(function(D){var O,U=D.headers.get("content-type");U===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),U&&U.includes("image/gif")?D.arrayBuffer().then(function(F){if(F){F=new Uint8Array(F);for(var H=E,G=_,Y=b,q=(function(X){M._decrementPreload()}).bind(M),V=new f.default.GifReader(F),$=(H.width=H.canvas.width=V.width,H.height=H.canvas.height=V.height,[]),Q=V.numFrames(),te=new Uint8ClampedArray(H.width*H.height*4),ne=0;ne<Q;ne++){var ae=V.frameInfo(ne),ce=H.drawingContext.getImageData(0,0,H.width,H.height),de=(te=ce.data.slice(),function(X,Z){try{Z.decodeAndBlitFrameRGBA(X,te)}catch(ie){c.default._friendlyFileLoadError(8,H.src),typeof Y=="function"?Y(ie):console.error(ie)}}(ne,V),new ImageData(te,H.width,H.height));(de=(H.drawingContext.putImageData(de,0,0),ae.delay))===0&&(de=10),$.push({image:H.drawingContext.getImageData(0,0,H.width,H.height),delay:10*de}),ae.disposal===2?H.drawingContext.clearRect(ae.x,ae.y,ae.width,ae.height):ae.disposal===3&&H.drawingContext.putImageData(ce,0,0,ae.x,ae.y,ae.width,ae.height)}(F=V.loopCount())===null?F=1:F===0&&(F=null),H.drawingContext.putImageData($[0].image,0,0),1<$.length&&(H.gifProperties={displayIndex:0,loopLimit:F,loopCount:0,frames:$,numFrames:Q,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof G=="function"&&G(H),q()}},function(F){typeof b=="function"?(b(F),M._decrementPreload()):console.error(F)}):((O=new Image).onload=function(){E.width=E.canvas.width=O.width,E.height=E.canvas.height=O.height,E.drawingContext.drawImage(O,0,0),E.modified=!0,typeof _=="function"&&_(E),M._decrementPreload()},O.onerror=function(F){c.default._friendlyFileLoadError(0,O.src),typeof b=="function"?(b(F),M._decrementPreload()):console.error(F)},j.indexOf("data:image/")!==0&&(O.crossOrigin="Anonymous"),O.src=j),E.modified=!0}).catch(function(D){c.default._friendlyFileLoadError(0,j),typeof b=="function"?(b(D),M._decrementPreload()):console.error(D)}),E},c.default.prototype.saveGif=function(){j=regeneratorRuntime.mark(function b(E,M){var P,D,O,U,F,H,G,Y,q,V,$,Q,te,ne,ae,ce,de,X,Z,ie,he,ye,ve,le,me,Se,Re=arguments;return regeneratorRuntime.wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(P=2<Re.length&&Re[2]!==void 0?Re[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof E!="string")throw TypeError("fileName parameter must be a string");Ee.next=3;break;case 3:if(typeof M!="number")throw TypeError("Duration parameter must be a number");Ee.next=5;break;case 5:if(D=P&&P.delay||0,O=P&&P.units||"seconds",U=P&&P.silent||!1,F=P&&P.notificationDuration||0,H=P&&P.notificationID||"progressBar",typeof D!="number")throw TypeError("Delay parameter must be a number");Ee.next=12;break;case 12:if(O!=="seconds"&&O!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');Ee.next=14;break;case 14:if(typeof U!="boolean")throw TypeError("Silent parameter must be a boolean");Ee.next=16;break;case 16:if(typeof F!="number")throw TypeError("Notification duration parameter must be a number");Ee.next=18;break;case 18:if(typeof H!="string")throw TypeError("Notification ID parameter must be a string");Ee.next=20;break;case 20:return this._recording=!0,V=this._targetFrameRate,G=(G=1/(V=V!==1/0&&V!==void 0&&V!==0?V:60)*1e3)<20?20:G,q=(Y=O==="seconds"?M*V:M)+(V=O==="seconds"?D*V:D),V=V,this.frameCount=V,$=this._pixelDensity,this.pixelDensity(1),Q=[],document.getElementById(H)!==null&&document.getElementById(H).remove(),U||((te=this.createP("")).id(H),te.style("font-size","16px"),te.style("font-family","Montserrat"),te.style("background-color","#ffffffa0"),te.style("padding","8px"),te.style("border-radius","10px"),te.position(0,0)),this._renderer instanceof c.default.RendererGL&&(ae=this.drawingContext,ne=new Uint8Array(ae.drawingBufferWidth*ae.drawingBufferHeight*4)),this.noLoop(),Ee.next=39,Promise.resolve();case 39:if(V<q)return this.redraw(),le=void 0,le=this._renderer instanceof c.default.RendererGL?(ne=new Uint8Array(ae.drawingBufferWidth*ae.drawingBufferHeight*4),ae.readPixels(0,0,ae.drawingBufferWidth,ae.drawingBufferHeight,ae.RGBA,ae.UNSIGNED_BYTE,ne),function(Ae){for(var Be=parseInt(height/2),et=4*width,$e=new Uint8Array(4*width),at=0;at<Be;++at){var jt=at*et,_t=(height-at-1)*et;$e.set(Ae.subarray(jt,jt+et)),Ae.copyWithin(jt,_t,_t+et),Ae.set($e,_t)}return Ae}(ne)):this.drawingContext.getImageData(0,0,this.width,this.height).data,Q.push(le),V++,U||te.html("Saved frame <b>"+Q.length.toString()+"</b> out of "+Y.toString()),Ee.next=48,new Promise(function(Ae){return setTimeout(Ae,0)});Ee.next=50;break;case 48:Ee.next=39;break;case 50:U||te.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity($),ce=(0,h.GIFEncoder)(),de=function(Ae){for(var Be=new Uint8Array(Ae.length*Ae[0].length),et=0;et<Ae.length;et++)Be.set(Ae[et],et*Ae[0].length);var $e=(0,h.quantize)(Be,256,{format:"rgba4444",oneBitAlpha:!0});return $e.length===256?$e[$e.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:$e.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),$e}(Q),X={},Z=function(Ae){for(var Be=Ae.length/4,et=new Uint8Array(Be),$e=0;$e<Be;$e++){var at=Ae[4*$e]<<24|Ae[4*$e+1]<<16|Ae[4*$e+2]<<8|Ae[4*$e+3];X[at]===void 0&&(X[at]=(0,h.nearestColorIndex)(de,Ae.slice(4*$e,4*($e+1)))),et[$e]=X[at]}return et},ie=de.length-1,he=[],ye=0;case 60:if(!(ye<Q.length)){Ee.next=71;break}if(ve=Z(Q[ye]),le=ve.slice(),ye===0)ce.writeFrame(ve,this.width,this.height,{palette:de,delay:G,dispose:1});else{for(me=0;me<ve.length;me++)ve[me]===he[me]&&(ve[me]=ie);ce.writeFrame(ve,this.width,this.height,{delay:G,transparent:!0,transparentIndex:ie,dispose:1})}return he=le,U||te.html("Rendered frame <b>"+ye.toString()+"</b> out of "+Y.toString()),Ee.next=68,new Promise(function(Ae){return setTimeout(Ae,0)});case 68:ye++,Ee.next=60;break;case 71:ce.finish(),Se=ce.bytesView(),Se=new Blob([Se],{type:"image/gif"}),Q=[],this._recording=!1,this.loop(),U||(te.html("Done. Downloading your gif!🌸"),0<F&&setTimeout(function(){return te.remove()},1e3*F)),c.default.prototype.downloadFile(Se,E,"gif");case 80:case"end":return Ee.stop()}},b,this)});var j,_=function(){var b=this,E=arguments;return new Promise(function(M,P){var D=j.apply(b,E);function O(F){u(D,M,P,O,U,"next",F)}function U(F){u(D,M,P,O,U,"throw",F)}O(void 0)})};return function(b,E){return _.apply(this,arguments)}}(),c.default.prototype.image=function(j,_,b,E,M,P,D,O,U,F,H,G){c.default._validateParameters("image",arguments);var Y=j.width,q=j.height,V=(G=G||A.CENTER,H=H||A.CENTER,j.elt&&j.elt.videoWidth&&!j.canvas&&(Y=j.elt.videoWidth,q=j.elt.videoHeight),E||Y);M=M||q,P=P||0,D=D||0,O=S(O||Y,Y),Y=S(U||q,q),U=1,j.elt&&!j.canvas&&j.elt.style.width&&(U=j.elt.videoWidth&&!E?j.elt.videoWidth:j.elt.width,U/=parseInt(j.elt.style.width,10)),P*=U,D*=U,Y*=U,O*=U,q=g(F,H,G,(q=T.default.modeAdjust(_,b,V,M,this._renderer._imageMode)).x,q.y,q.w,q.h,P,D,O,Y),this._renderer.image(j,q.sx,q.sy,q.sw,q.sh,q.dx,q.dy,q.dw,q.dh)},c.default.prototype.tint=function(){for(var j=arguments.length,_=new Array(j),b=0;b<j;b++)_[b]=arguments[b];c.default._validateParameters("tint",_);var E=this.color.apply(this,_);this._renderer._tint=E.levels},c.default.prototype.noTint=function(){this._renderer._tint=null},c.default.prototype._getTintedImageCanvas=c.default.Renderer2D.prototype._getTintedImageCanvas,c.default.prototype.imageMode=function(j){c.default._validateParameters("imageMode",arguments),j!==A.CORNER&&j!==A.CORNERS&&j!==A.CENTER||(this._renderer._imageMode=j)},n=c.default,x.default=n},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=c(n("../core/main")),d=c(n("./filters"));function c(A){return A&&A.__esModule?A:{default:A}}function T(A,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(A,p.key,p)}}m.default.Image=function(){function A(p,u){if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");this.width=p,this.height=u,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var f,h;return f=A,(h=[{key:"_animateGif",value:function(p){var u,g=this.gifProperties;p=p._lastRealFrameTime,g.lastChangeTime===0&&(g.lastChangeTime=p),g.playing&&(g.timeDisplayed=p-g.lastChangeTime,u=g.frames[g.displayIndex].delay,g.timeDisplayed>=u&&(u=Math.floor(g.timeDisplayed/u),g.timeDisplayed=0,g.lastChangeTime=p,g.displayIndex+=u,g.loopCount=Math.floor(g.displayIndex/g.numFrames),g.loopLimit!==null&&g.loopCount>=g.loopLimit?g.playing=!1:(p=g.displayIndex%g.numFrames,this.drawingContext.putImageData(g.frames[p].image,0,0),g.displayIndex=p,this.setModified(!0))))}},{key:"_setProperty",value:function(p,u){this[p]=u,this.setModified(!0)}},{key:"loadPixels",value:function(){m.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(p,u,g,S){m.default.Renderer2D.prototype.updatePixels.call(this,p,u,g,S),this.setModified(!0)}},{key:"get",value:function(p,u,g,S){return m.default._validateParameters("p5.Image.get",arguments),m.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var p=arguments.length,u=new Array(p),g=0;g<p;g++)u[g]=arguments[g];return m.default.Renderer2D.prototype._getPixel.apply(this,u)}},{key:"set",value:function(p,u,g){m.default.Renderer2D.prototype.set.call(this,p,u,g),this.setModified(!0)}},{key:"resize",value:function(p,u){p===0&&u===0?(p=this.canvas.width,u=this.canvas.height):p===0?p=this.canvas.width*u/this.canvas.height:u===0&&(u=this.canvas.height*p/this.canvas.width),p=Math.floor(p),u=Math.floor(u);var g=document.createElement("canvas");if(g.width=p,g.height=u,this.gifProperties)for(var S=this.gifProperties,j=0;j<S.numFrames;j++){for(var _=this.drawingContext.createImageData(p,u),b=(O=O=D=P=M=void 0,S.frames[j].image),E=_,M=0,P=0;P<E.height;P++)for(var D=0;D<E.width;D++){var O=Math.floor(D*b.width/E.width);O=4*(Math.floor(P*b.height/E.height)*b.width+O),E.data[M++]=b.data[O++],E.data[M++]=b.data[O++],E.data[M++]=b.data[O++],E.data[M++]=b.data[+O]}S.frames[j].image=_}g.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,g.width,g.height),this.canvas.width=this.width=p,this.canvas.height=this.height=u,this.drawingContext.drawImage(g,0,0,p,u,0,0,p,u),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var p=arguments.length,u=new Array(p),g=0;g<p;g++)u[g]=arguments[g];m.default.prototype.copy.apply(this,u)}},{key:"mask",value:function(p){var u=this.drawingContext.globalCompositeOperation,g=1,S=[p=p===void 0?this:p,0,0,(g=p instanceof m.default.Renderer?p._pInst._pixelDensity:g)*p.width,g*p.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var j=0;j<this.gifProperties.frames.length;j++)this.drawingContext.putImageData(this.gifProperties.frames[j].image,0,0),this.copy.apply(this,S),this.gifProperties.frames[j].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,S);this.drawingContext.globalCompositeOperation=u,this.setModified(!0)}},{key:"filter",value:function(p,u){d.default.apply(this.canvas,d.default[p],u),this.setModified(!0)}},{key:"blend",value:function(){for(var p=arguments.length,u=new Array(p),g=0;g<p;g++)u[g]=arguments[g];m.default._validateParameters("p5.Image.blend",arguments),m.default.prototype.blend.apply(this,u),this.setModified(!0)}},{key:"setModified",value:function(p){this._modified=p}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(p,u){this.gifProperties?m.default.prototype.encodeAndDownloadGif(this,p):m.default.prototype.saveCanvas(this.canvas,p,u)}},{key:"reset",value:function(){var p;this.gifProperties&&((p=this.gifProperties).playing=!0,p.timeSinceStart=0,p.timeDisplayed=0,p.lastChangeTime=0,p.loopCount=0,p.displayIndex=0,this.drawingContext.putImageData(p.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var p;if(this.gifProperties)return(p=this.gifProperties).displayIndex%p.numFrames}},{key:"setFrame",value:function(p){var u;this.gifProperties&&(p<(u=this.gifProperties).numFrames&&0<=p?(u.timeDisplayed=0,u.lastChangeTime=0,u.displayIndex=p,this.drawingContext.putImageData(u.frames[p].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(p,u){if(this.gifProperties){var g=this.gifProperties;if(u<g.numFrames&&0<=u)g.frames[u].delay=p;else{var S=!0,j=(u=!1,void 0);try{for(var _,b=g.frames[Symbol.iterator]();!(S=(_=b.next()).done);S=!0)_.value.delay=p}catch(E){u=!0,j=E}finally{try{S||b.return==null||b.return()}finally{if(u)throw j}}}}}}])&&T(f.prototype,h),A}(),n=m.default.Image,x.default=n},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(n,C,x){n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.filter"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=c(n("../core/main")),d=c(n("./filters"));function c(T){return T&&T.__esModule?T:{default:T}}n("../color/p5.Color"),m.default.prototype.pixels=[],m.default.prototype.blend=function(){for(var T,A=arguments.length,f=new Array(A),h=0;h<A;h++)f[h]=arguments[h];m.default._validateParameters("blend",f),this._renderer?(T=this._renderer).blend.apply(T,f):m.default.Renderer2D.prototype.blend.apply(this,f)},m.default.prototype.copy=function(){for(var T,A,f,h,p,u,g,S,j,_=arguments.length,b=new Array(_),E=0;E<_;E++)b[E]=arguments[E];if(m.default._validateParameters("copy",b),b.length===9)T=b[0],A=b[1],f=b[2],h=b[3],p=b[4],u=b[5],g=b[6],S=b[7],j=b[8];else{if(b.length!==8)throw new Error("Signature not supported");T=this,A=b[0],f=b[1],h=b[2],p=b[3],u=b[4],g=b[5],S=b[6],j=b[7]}m.default.prototype._copyHelper(this,T,A,f,h,p,u,g,S,j)},m.default.prototype._copyHelper=function(T,A,f,h,p,u,g,S,j,_){A.loadPixels();var b=A.canvas.width/A.width,E=0,M=0;A._renderer&&A._renderer.isP3D&&(E=A.width/2,M=A.height/2),T._renderer&&T._renderer.isP3D?m.default.RendererGL.prototype.image.call(T._renderer,A,f+E,h+M,p,u,g,S,j,_):T.drawingContext.drawImage(A.canvas,b*(f+E),b*(h+M),b*p,b*u,g,S,j,_)},m.default.prototype.filter=function(T,A){m.default._validateParameters("filter",arguments),this.canvas!==void 0?d.default.apply(this.canvas,d.default[T],A):d.default.apply(this.elt,d.default[T],A)},m.default.prototype.get=function(T,A,f,h){var p;return m.default._validateParameters("get",arguments),(p=this._renderer).get.apply(p,arguments)},m.default.prototype.loadPixels=function(){for(var T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];m.default._validateParameters("loadPixels",A),this._renderer.loadPixels()},m.default.prototype.set=function(T,A,f){this._renderer.set(T,A,f)},m.default.prototype.updatePixels=function(T,A,f,h){m.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(T,A,f,h)},n=m.default,x.default=n},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(n,C,x){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.promise"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/web.url"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=A(n("../core/main")),c=(n("whatwg-fetch"),n("es6-promise/auto"),A(n("fetch-jsonp"))),T=A(n("file-saver"));function A(u){return u&&u.__esModule?u:{default:u}}function f(u){return(f=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(g){return m(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":m(g)})(u)}function h(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function p(u,g){g&&g!==!0&&g!=="true"||(g="");var S="";return(u=u||"untitled")&&u.includes(".")&&(S=u.split(".").pop()),g&&S!==g&&(S=g,u="".concat(u,".").concat(S)),[u,S]}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),d.default.prototype.loadJSON=function(){for(var u=arguments.length,g=new Array(u),S=0;S<u;S++)g[S]=arguments[S];d.default._validateParameters("loadJSON",g);for(var j,_,b,E=g[0],M={},P="json",D=1;D<g.length;D++){var O=g[D];typeof O=="string"?O!=="jsonp"&&O!=="json"||(P=O):typeof O=="function"?j?_=O:j=O:f(O)==="object"&&(O.hasOwnProperty("jsonpCallback")||O.hasOwnProperty("jsonpCallbackFunction"))&&(P="jsonp",b=O)}var U=this;return this.httpDo(E,"GET",b,P,function(F){for(var H in F)M[H]=F[H];j!==void 0&&j(F),U._decrementPreload()},function(F){if(d.default._friendlyFileLoadError(5,E),!_)throw F;_(F)}),M},d.default.prototype.loadStrings=function(){for(var u=arguments.length,g=new Array(u),S=0;S<u;S++)g[S]=arguments[S];d.default._validateParameters("loadStrings",g);for(var j,_,b=[],E=1;E<g.length;E++){var M=g[E];typeof M=="function"&&(j===void 0?j=M:_===void 0&&(_=M))}var P=this;return d.default.prototype.httpDo.call(this,g[0],"GET","text",function(D){for(var O=D.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),U=0,F=O.length;U<F;U+=32768)Array.prototype.push.apply(b,O.slice(U,Math.min(U+32768,F)));j!==void 0&&j(b),P._decrementPreload()},function(D){if(d.default._friendlyFileLoadError(3,D),!_)throw D;_(D)}),b},d.default.prototype.loadTable=function(u){var g,S,j,_=!1,b=u.substring(u.lastIndexOf(".")+1,u.length);b==="csv"?j=",":b==="ssv"?j=";":b==="tsv"&&(j="	");for(var E=1;E<arguments.length;E++)typeof arguments[E]=="function"?g===void 0?g=arguments[E]:S===void 0&&(S=arguments[E]):typeof arguments[E]=="string"&&(arguments[E]==="header"&&(_=!0),arguments[E]==="csv"?j=",":arguments[E]==="ssv"?j=";":arguments[E]==="tsv"&&(j="	"));var M=new d.default.Table,P=this;return this.httpDo(u,"GET","table",function(D){for(var O,U,F={},H=[],G=0,Y=null,q=function(){F.currentState=0,F.token=""},V=function(){Y.push(F.token),q()},$=function(){F.currentState=4,H.push(Y),Y=null};;){if((O=D[G++])==null){if(F.escaped)throw new Error("Unclosed quote in file.");if(Y){V(),$();break}}if(Y===null&&(F.escaped=!1,Y=[],q()),F.currentState===0){if(O==='"'){F.escaped=!0,F.currentState=1;continue}F.currentState=1}if(F.currentState===1&&F.escaped)if(O==='"')D[G]==='"'?(F.token+='"',G++):(F.escaped=!1,F.currentState=2);else{if(O==="\r")continue;F.token+=O}else O==="\r"?(D[G]===`
`&&G++,V(),$()):O===`
`?(V(),$()):O===j?V():F.currentState===1&&(F.token+=O)}if(_)M.columns=H.shift();else for(var Q=0;Q<H[0].length;Q++)M.columns[Q]="null";for(var te=0;te<H.length;te++)(H[te].length!==1||H[te][0]!=="undefined"&&H[te][0]!=="")&&((U=new d.default.TableRow).arr=H[te],U.obj=function(ne,ae){if((ae=ae||[])===void 0)for(var ce=0;ce<ne.length;ce++)ae[ce.toString()]=ce;return Object.fromEntries(ae.map(function(de,X){return[de,ne[X]]}))}(H[te],M.columns),M.addRow(U));typeof g=="function"&&g(M),P._decrementPreload()},function(D){d.default._friendlyFileLoadError(2,u),S?S(D):console.error(D)}),M},d.default.prototype.loadXML=function(){for(var u=arguments.length,g=new Array(u),S=0;S<u;S++)g[S]=arguments[S];for(var j,_,b=new d.default.XML,E=1;E<g.length;E++){var M=g[E];typeof M=="function"&&(j===void 0?j=M:_===void 0&&(_=M))}var P=this;return this.httpDo(g[0],"GET","xml",function(D){for(var O in D)b[O]=D[O];j!==void 0&&j(b),P._decrementPreload()},function(D){if(d.default._friendlyFileLoadError(1,D),!_)throw D;_(D)}),b},d.default.prototype.loadBytes=function(u,g,S){var j={},_=this;return this.httpDo(u,"GET","arrayBuffer",function(b){j.bytes=new Uint8Array(b),typeof g=="function"&&g(j),_._decrementPreload()},function(b){if(d.default._friendlyFileLoadError(6,u),!S)throw b;S(b)}),j},d.default.prototype.httpGet=function(){d.default._validateParameters("httpGet",arguments);var u=Array.prototype.slice.call(arguments);return u.splice(1,0,"GET"),d.default.prototype.httpDo.apply(this,u)},d.default.prototype.httpPost=function(){d.default._validateParameters("httpPost",arguments);var u=Array.prototype.slice.call(arguments);return u.splice(1,0,"POST"),d.default.prototype.httpDo.apply(this,u)},d.default.prototype.httpDo=function(){for(var u,g,S,j={},_=0,b="text/plain",E=arguments.length-1;0<E&&typeof(E<0||arguments.length<=E?void 0:arguments[E])=="function";E--)_++;var M=arguments.length<=0?void 0:arguments[0];if((H=arguments.length-_)==2&&typeof M=="string"&&f(arguments.length<=1?void 0:arguments[1])==="object")G=new Request(M,arguments.length<=1?void 0:arguments[1]),g=arguments.length<=2?void 0:arguments[2],S=arguments.length<=3?void 0:arguments[3];else{for(var P,D="GET",O=1;O<arguments.length;O++){var U=O<0||arguments.length<=O?void 0:arguments[O];if(typeof U=="string")U==="GET"||U==="POST"||U==="PUT"||U==="DELETE"?D=U:U==="json"||U==="jsonp"||U==="binary"||U==="arrayBuffer"||U==="xml"||U==="text"||U==="table"?u=U:P=U;else if(typeof U=="number")P=U.toString();else if(f(U)==="object")if(U.hasOwnProperty("jsonpCallback")||U.hasOwnProperty("jsonpCallbackFunction"))for(var F in U)j[F]=U[F];else b=U instanceof d.default.XML?(P=U.serialize(),"application/xml"):(P=JSON.stringify(U),"application/json");else typeof U=="function"&&(g?S=U:g=U)}var H=D==="GET"?new Headers:new Headers({"Content-Type":b}),G=new Request(M,{method:D,mode:"cors",body:P,headers:H})}return(H=(H=(u=u||(M.includes("json")?"json":M.includes("xml")?"xml":"text"))==="jsonp"?(0,c.default)(M,j):fetch(G)).then(function(Y){if(!Y.ok)throw(q=new Error(Y.body)).status=Y.status,q.ok=!1,q;var q=0;switch((q=u!=="jsonp"?Y.headers.get("content-length"):q)&&64e6<q&&d.default._friendlyFileLoadError(7,M),u){case"json":case"jsonp":return Y.json();case"binary":return Y.blob();case"arrayBuffer":return Y.arrayBuffer();case"xml":return Y.text().then(function(V){return V=new DOMParser().parseFromString(V,"text/xml"),new d.default.XML(V.documentElement)});default:return Y.text()}})).then(g||function(){}),H.catch(S||console.error),H},window.URL=window.URL||window.webkitURL,d.default.prototype._pWriters=[],d.default.prototype.createWriter=function(u,g){var S,j;for(j in d.default.prototype._pWriters)if(d.default.prototype._pWriters[j].name===u)return S=new d.default.PrintWriter(u+this.millis(),g),d.default.prototype._pWriters.push(S),S;return S=new d.default.PrintWriter(u,g),d.default.prototype._pWriters.push(S),S},d.default.PrintWriter=function(u,g){var S=this;this.name=u,this.content="",this.write=function(j){this.content+=j},this.print=function(j){this.content+="".concat(j,`
`)},this.clear=function(){this.content=""},this.close=function(){var j,_=[];for(j in _.push(this.content),d.default.prototype.writeFile(_,u,g),d.default.prototype._pWriters)d.default.prototype._pWriters[j].name===this.name&&d.default.prototype._pWriters.splice(j,1);S.clear(),S={}}},d.default.prototype.save=function(u,g,S){var j=arguments,_=(this._curElement||this).elt;if(j.length===0)d.default.prototype.saveCanvas(_);else if(j[0]instanceof d.default.Renderer||j[0]instanceof d.default.Graphics)d.default.prototype.saveCanvas(j[0].elt,j[1],j[2]);else if(j.length===1&&typeof j[0]=="string")d.default.prototype.saveCanvas(_,j[0]);else switch(p(j[1],j[2])[1]){case"json":return void d.default.prototype.saveJSON(j[0],j[1],j[2]);case"txt":return void d.default.prototype.saveStrings(j[0],j[1],j[2]);default:j[0]instanceof Array?d.default.prototype.saveStrings(j[0],j[1],j[2]):j[0]instanceof d.default.Table?d.default.prototype.saveTable(j[0],j[1],j[2]):j[0]instanceof d.default.Image?d.default.prototype.saveCanvas(j[0].canvas,j[1]):j[0]instanceof d.default.SoundFile&&d.default.prototype.saveSound(j[0],j[1],j[2],j[3])}},d.default.prototype.saveJSON=function(u,g,S){d.default._validateParameters("saveJSON",arguments),S=S?JSON.stringify(u):JSON.stringify(u,void 0,2),this.saveStrings(S.split(`
`),g,"json")},d.default.prototype.saveJSONObject=d.default.prototype.saveJSON,d.default.prototype.saveJSONArray=d.default.prototype.saveJSON,d.default.prototype.saveStrings=function(u,g,S,j){d.default._validateParameters("saveStrings",arguments);for(var _=this.createWriter(g,S||"txt"),b=0;b<u.length;b++)j?_.write(u[b]+`\r
`):_.write(u[b]+`
`);_.close(),_.clear()},d.default.prototype.saveTable=function(u,g,S){d.default._validateParameters("saveTable",arguments),j=S===void 0?g.substring(g.lastIndexOf(".")+1,g.length):S;var j,_=this.createWriter(g,j),b=u.columns,E=j==="tsv"?"	":",";if(j!=="html"){if(b[0]!=="0"){for(var M=0;M<b.length;M++)M<b.length-1?_.write(b[M]+E):_.write(b[M]);_.write(`
`)}for(var P=0;P<u.rows.length;P++){var D=void 0;for(D=0;D<u.rows[P].arr.length;D++)D<u.rows[P].arr.length-1?j==="csv"&&String(u.rows[P].arr[D]).includes(",")?_.write('"'+u.rows[P].arr[D]+'"'+E):_.write(u.rows[P].arr[D]+E):j==="csv"&&String(u.rows[P].arr[D]).includes(",")?_.write('"'+u.rows[P].arr[D]+'"'):_.write(u.rows[P].arr[D]);_.write(`
`)}}else{if(_.print("<html>"),_.print("<head>"),_.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),_.print("</head>"),_.print("<body>"),_.print("  <table>"),b[0]!=="0"){_.print("    <tr>");for(var O=0;O<b.length;O++){var U=h(b[O]);_.print("      <td>".concat(U)),_.print("      </td>")}_.print("    </tr>")}for(var F=0;F<u.rows.length;F++){_.print("    <tr>");for(var H=0;H<u.columns.length;H++){var G=h(u.rows[F].getString(H));_.print("      <td>".concat(G)),_.print("      </td>")}_.print("    </tr>")}_.print("  </table>"),_.print("</body>"),_.print("</html>")}_.close(),_.clear()},d.default.prototype.writeFile=function(u,g,S){var j="application/octet-stream";d.default.prototype._isSafari()&&(j="text/plain"),u=new Blob(u,{type:j}),d.default.prototype.downloadFile(u,g,S)},d.default.prototype.downloadFile=function(u,g,S){var j;S=(g=p(g,S))[0],u instanceof Blob?T.default.saveAs(u,S):((j=document.createElement("a")).href=u,j.download=S,j.onclick=function(_){document.body.removeChild(_.target),_.stopPropagation()},j.style.display="none",document.body.appendChild(j),d.default.prototype._isSafari()&&(u=(u=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(g[1],'"'),alert(u)),j.click())},d.default.prototype._checkFileExtension=p,d.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},n=d.default,x.default=n},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(n,C,x){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.replace"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(c,T){for(var A=0;A<T.length;A++){var f=T[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}m.default.Table=function(){function c(f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var T,A;return T=c,(A=[{key:"addRow",value:function(f){if((f=f||new m.default.TableRow).arr===void 0||f.obj===void 0)throw new Error("invalid TableRow: ".concat(f));return(f.table=this).rows.push(f),f}},{key:"removeRow",value:function(f){this.rows[f].table=null,f=this.rows.splice(f+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(f)}},{key:"getRow",value:function(f){return this.rows[f]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(f,h){if(typeof h=="string"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[h]===f)return this.rows[p]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].arr[h]===f)return this.rows[u];return null}},{key:"findRows",value:function(f,h){var p=[];if(typeof h=="string")for(var u=0;u<this.rows.length;u++)this.rows[u].obj[h]===f&&p.push(this.rows[u]);else for(var g=0;g<this.rows.length;g++)this.rows[g].arr[h]===f&&p.push(this.rows[g]);return p}},{key:"matchRow",value:function(f,h){if(typeof h=="number"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[h].match(f))return this.rows[p]}else for(var u=0;u<this.rows.length;u++)if(this.rows[u].obj[h].match(f))return this.rows[u];return null}},{key:"matchRows",value:function(f,h){var p=[];if(typeof h=="number")for(var u=0;u<this.rows.length;u++)this.rows[u].arr[h].match(f)&&p.push(this.rows[u]);else for(var g=0;g<this.rows.length;g++)this.rows[g].obj[h].match(f)&&p.push(this.rows[g]);return p}},{key:"getColumn",value:function(f){var h=[];if(typeof f=="string")for(var p=0;p<this.rows.length;p++)h.push(this.rows[p].obj[f]);else for(var u=0;u<this.rows.length;u++)h.push(this.rows[u].arr[f]);return h}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(f){this.columns.push(f||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(f,h){for(var p=[],u=0;u<f.length;u++)p.push(f.charAt(u).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var g=new RegExp(p.join("|"),"g");if(h===void 0)for(var S=0;S<this.columns.length;S++)for(var j=0;j<this.rows.length;j++){var _=(_=this.rows[j].arr[S]).replace(g,"");this.rows[j].arr[S]=_,this.rows[j].obj[this.columns[S]]=_}else if(typeof h=="string")for(var b=0;b<this.rows.length;b++){var E=(E=this.rows[b].obj[h]).replace(g,""),M=(this.rows[b].obj[h]=E,this.columns.indexOf(h));this.rows[b].arr[M]=E}else for(var P=0;P<this.rows.length;P++){var D=(D=this.rows[P].arr[h]).replace(g,"");this.rows[P].arr[h]=D,this.rows[P].obj[this.columns[h]]=D}}},{key:"trim",value:function(f){var h=new RegExp(" ","g");if(f===void 0)for(var p=0;p<this.columns.length;p++)for(var u=0;u<this.rows.length;u++){var g=(g=this.rows[u].arr[p]).replace(h,"");this.rows[u].arr[p]=g,this.rows[u].obj[this.columns[p]]=g}else if(typeof f=="string")for(var S=0;S<this.rows.length;S++){var j=(j=this.rows[S].obj[f]).replace(h,""),_=(this.rows[S].obj[f]=j,this.columns.indexOf(f));this.rows[S].arr[_]=j}else for(var b=0;b<this.rows.length;b++){var E=(E=this.rows[b].arr[f]).replace(h,"");this.rows[b].arr[f]=E,this.rows[b].obj[this.columns[f]]=E}}},{key:"removeColumn",value:function(f){typeof f=="string"?p=this.columns.indexOf(h=f):h=this.columns[p=f];var h,p;f=this.columns.splice(p+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(f);for(var u=0;u<this.rows.length;u++){var g=this.rows[u].arr,S=g.splice(p+1,g.length);g.pop(),this.rows[u].arr=g.concat(S),delete this.rows[u].obj[h]}}},{key:"set",value:function(f,h,p){this.rows[f].set(h,p)}},{key:"setNum",value:function(f,h,p){this.rows[f].setNum(h,p)}},{key:"setString",value:function(f,h,p){this.rows[f].setString(h,p)}},{key:"get",value:function(f,h){return this.rows[f].get(h)}},{key:"getNum",value:function(f,h){return this.rows[f].getNum(h)}},{key:"getString",value:function(f,h){return this.rows[f].getString(h)}},{key:"getObject",value:function(f){for(var h,p={},u=0;u<this.rows.length;u++)if(h=this.rows[u].obj,typeof f=="string"){if(!(0<=this.columns.indexOf(f)))throw new Error('This table has no column named "'.concat(f,'"'));p[h[f]]=h}else p[u]=this.rows[u].obj;return p}},{key:"getArray",value:function(){for(var f=[],h=0;h<this.rows.length;h++)f.push(this.rows[h].arr);return f}}])&&d(T.prototype,A),c}(),n=m.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(n,C,x){function m(d,c){for(var T=0;T<c.length;T++){var A=c[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.from-entries"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../core/main"))&&n.__esModule?n:{default:n}).default.TableRow=function(){function d(A,f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var h=[];A&&(h=A.split(f=f||",")),this.arr=h,this.obj=Object.fromEntries(h.entries()),this.table=null}var c,T;return c=d,(T=[{key:"set",value:function(A,f){if(typeof A=="string"){var h=this.table.columns.indexOf(A);if(!(0<=h))throw new Error('This table has no column named "'.concat(A,'"'));this.obj[A]=f,this.arr[h]=f}else{if(!(A<this.table.columns.length))throw new Error("Column #".concat(A," is out of the range of this table"));this.arr[A]=f,h=this.table.columns[A],this.obj[h]=f}}},{key:"setNum",value:function(A,f){f=parseFloat(f),this.set(A,f)}},{key:"setString",value:function(A,f){f=f.toString(),this.set(A,f)}},{key:"get",value:function(A){return(typeof A=="string"?this.obj:this.arr)[A]}},{key:"getNum",value:function(A){var f=parseFloat(typeof A=="string"?this.obj[A]:this.arr[A]);if(f.toString()==="NaN")throw"Error: ".concat(this.obj[A]," is NaN (Not a Number)");return f}},{key:"getString",value:function(A){return(typeof A=="string"?this.obj:this.arr)[A].toString()}}])&&m(c.prototype,T),d}(),n=n.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.replace"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(c,T){for(var A=0;A<T.length;A++){var f=T[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}m.default.XML=function(){function c(f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");f?this.DOM=f:(f=document.implementation.createDocument(null,"doc"),this.DOM=f.createElement("root"))}var T,A;return T=c,(A=[{key:"getParent",value:function(){return new m.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(f){var h=this.DOM.innerHTML,p=this.DOM.attributes,u=document.implementation.createDocument(null,"default").createElement(f);u.innerHTML=h;for(var g=0;g<p.length;g++)u.setAttribute(p[g].nodeName,p.nodeValue);this.DOM=u}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var f=[],h=0;h<this.DOM.childNodes.length;h++)f.push(this.DOM.childNodes[h].nodeName);return f}},{key:"getChildren",value:function(f){return function(h){for(var p=[],u=0;u<h.length;u++)p.push(new m.default.XML(h[u]));return p}(f?this.DOM.getElementsByTagName(f):this.DOM.children)}},{key:"getChild",value:function(f){if(typeof f!="string")return new m.default.XML(this.DOM.children[f]);var h=!0,p=!1,u=void 0;try{for(var g,S=this.DOM.children[Symbol.iterator]();!(h=(g=S.next()).done);h=!0){var j=g.value;if(j.tagName===f)return new m.default.XML(j)}}catch(_){p=!0,u=_}finally{try{h||S.return==null||S.return()}finally{if(p)throw u}}}},{key:"addChild",value:function(f){f instanceof m.default.XML&&this.DOM.appendChild(f.DOM)}},{key:"removeChild",value:function(f){var h=-1;if(typeof f=="string"){for(var p=0;p<this.DOM.children.length;p++)if(this.DOM.children[p].tagName===f){h=p;break}}else h=f;h!==-1&&this.DOM.removeChild(this.DOM.children[h])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var f=[],h=!0,p=!1,u=void 0;try{for(var g,S=this.DOM.attributes[Symbol.iterator]();!(h=(g=S.next()).done);h=!0){var j=g.value;f.push(j.nodeName)}}catch(_){p=!0,u=_}finally{try{h||S.return==null||S.return()}finally{if(p)throw u}}return f}},{key:"hasAttribute",value:function(f){var h={},p=!0,u=!1,g=void 0;try{for(var S,j=this.DOM.attributes[Symbol.iterator]();!(p=(S=j.next()).done);p=!0){var _=S.value;h[_.nodeName]=_.nodeValue}}catch(b){u=!0,g=b}finally{try{p||j.return==null||j.return()}finally{if(u)throw g}}return!!h[f]}},{key:"getNum",value:function(f,h){var p={},u=!0,g=!1,S=void 0;try{for(var j,_=this.DOM.attributes[Symbol.iterator]();!(u=(j=_.next()).done);u=!0){var b=j.value;p[b.nodeName]=b.nodeValue}}catch(E){g=!0,S=E}finally{try{u||_.return==null||_.return()}finally{if(g)throw S}}return Number(p[f])||h||0}},{key:"getString",value:function(f,h){var p={},u=!0,g=!1,S=void 0;try{for(var j,_=this.DOM.attributes[Symbol.iterator]();!(u=(j=_.next()).done);u=!0){var b=j.value;p[b.nodeName]=b.nodeValue}}catch(E){g=!0,S=E}finally{try{u||_.return==null||_.return()}finally{if(g)throw S}}return p[f]?String(p[f]):h||null}},{key:"setAttribute",value:function(f,h){this.DOM.setAttribute(f,h)}},{key:"getContent",value:function(f){var h=this.DOM.textContent;return(h=h.replace(/\s\s+/g,","))||f||null}},{key:"setContent",value:function(f){this.DOM.children.length||(this.DOM.textContent=f)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&d(T.prototype,A),c}(),n=m.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var c=arguments.length,T=[],A=0,f=0;f<c;f++){var h=arguments[f];if((h=+h)==1/0||h===-1/0)return 1/0;A<(h=Math.abs(h))&&(A=h),T[f]=h}A===0&&(A=1);for(var p=0,u=0,g=0;g<c;g++){var S,j=p+(S=(S=T[g]/A)*S-u);u=j-p-S,p=j}return Math.sqrt(p)*A}m.default.prototype.abs=Math.abs,m.default.prototype.ceil=Math.ceil,m.default.prototype.constrain=function(c,T,A){return m.default._validateParameters("constrain",arguments),Math.max(Math.min(c,A),T)},m.default.prototype.dist=function(){for(var c=arguments.length,T=new Array(c),A=0;A<c;A++)T[A]=arguments[A];return m.default._validateParameters("dist",T),T.length===4?d(T[2]-T[0],T[3]-T[1]):T.length===6?d(T[3]-T[0],T[4]-T[1],T[5]-T[2]):void 0},m.default.prototype.exp=Math.exp,m.default.prototype.floor=Math.floor,m.default.prototype.lerp=function(c,T,A){return m.default._validateParameters("lerp",arguments),A*(T-c)+c},m.default.prototype.log=Math.log,m.default.prototype.mag=function(c,T){return m.default._validateParameters("mag",arguments),d(c,T)},m.default.prototype.map=function(c,T,A,f,h,p){return m.default._validateParameters("map",arguments),c=(c-T)/(A-T)*(h-f)+f,p?f<h?this.constrain(c,f,h):this.constrain(c,h,f):c},m.default.prototype.max=function(){for(var c=function(h){var p=-1/0,u=!0,g=!1,S=void 0;try{for(var j,_=h[Symbol.iterator]();!(u=(j=_.next()).done);u=!0){var b=j.value;p=p<b?b:p}}catch(E){g=!0,S=E}finally{try{u||_.return==null||_.return()}finally{if(g)throw S}}return p},T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];return A[0]instanceof Array?c(A[0]):c(A)},m.default.prototype.min=function(){for(var c=function(h){var p=1/0,u=!0,g=!1,S=void 0;try{for(var j,_=h[Symbol.iterator]();!(u=(j=_.next()).done);u=!0){var b=j.value;p=b<p?b:p}}catch(E){g=!0,S=E}finally{try{u||_.return==null||_.return()}finally{if(g)throw S}}return p},T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];return A[0]instanceof Array?c(A[0]):c(A)},m.default.prototype.norm=function(c,T,A){return m.default._validateParameters("norm",arguments),this.map(c,T,A,0,1)},m.default.prototype.pow=Math.pow,m.default.prototype.round=function(c,T){return T?(T=Math.pow(10,T),Math.round(c*T)/T):Math.round(c)},m.default.prototype.sq=function(c){return c*c},m.default.prototype.sqrt=Math.sqrt,m.default.prototype.fract=function(c){m.default._validateParameters("fract",arguments);var T,A=0;return c=Number(c),isNaN(c)||Math.abs(c)===1/0?c:(c<0&&(c=-c,A=1),String(c).includes(".")&&!String(c).includes("e")?(T=String(c),T=+("0"+T.slice(T.indexOf("."))),Math.abs(A-T)):c<1?Math.abs(A-c):0)},n=m.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(n,C,x){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(T,A,f){return(d=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(h,p,u){var g=[null];return g.push.apply(g,p),p=new(Function.bind.apply(h,g)),u&&c(p,u.prototype),p}).apply(null,arguments)}function c(T,A){return(c=Object.setPrototypeOf||function(f,h){return f.__proto__=h,f})(T,A)}m.default.prototype.createVector=function(T,A,f){return this instanceof m.default?d(m.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new m.default.Vector(T,A,f)},n=m.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(n,C,x){function m(f){return .5*(1-Math.cos(f*Math.PI))}Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,n=(n=n("../core/main"))&&n.__esModule?n:{default:n};var d,c=4095,T=4,A=.5;n.default.prototype.noise=function(f){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(d==null){d=new Array(4096);for(var u=0;u<4096;u++)d[u]=Math.random()}f<0&&(f=-f),h<0&&(h=-h),p<0&&(p=-p);for(var g,S,j=Math.floor(f),_=Math.floor(h),b=Math.floor(p),E=f-j,M=h-_,P=p-b,D=0,O=.5,U=0;U<T;U++){var F=j+(_<<4)+(b<<8),H=m(E),G=m(M),Y=d[F&c];Y+=H*(d[F+1&c]-Y),g=d[F+16&c],Y+=G*((g+=H*(d[F+16+1&c]-g))-Y),g=d[(F+=256)&c],g+=H*(d[F+1&c]-g),S=d[F+16&c],g+=G*((S+=H*(d[F+16+1&c]-S))-g),D+=(Y+=m(P)*(g-Y))*O,O*=A,j<<=1,_<<=1,b<<=1,1<=(E*=2)&&(j++,E--),1<=(M*=2)&&(_++,M--),1<=(P*=2)&&(b++,P--)}return D},n.default.prototype.noiseDetail=function(f,h){0<f&&(T=f),0<h&&(A=h)},n.default.prototype.noiseSeed=function(f){p=4294967296;var h,p,u=function(){return(h=(1664525*h+1013904223)%p)/p};(function(S){h=(S??Math.random()*p)>>>0})(f),d=new Array(4096);for(var g=0;g<4096;g++)d[g]=u()},n=n.default,x.default=n},{"../core/main":273}],306:[function(n,C,x){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function d(u){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(g){return m(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":m(g)})(u)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.number.is-finite"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.sub"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.number.is-finite"),n("core-js/modules/es.string.sub"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(p=n("../core/main"))&&p.__esModule?p:{default:p},T=function(u){if(u&&u.__esModule)return u;if(u===null||d(u)!=="object"&&typeof u!="function")return{default:u};var g=function(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,E)}();if(g&&g.has(u))return g.get(u);var S,j={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in u){var b;Object.prototype.hasOwnProperty.call(u,S)&&((b=_?Object.getOwnPropertyDescriptor(u,S):null)&&(b.get||b.set)?Object.defineProperty(j,S,b):j[S]=u[S])}return j.default=u,g&&g.set(u,j),j}(n("../core/constants"));function A(u,g){for(var S=0;S<g.length;S++){var j=g[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(u,j.key,j)}}function f(u,g){return u!==0&&(this.x=this.x%u),g!==0&&(this.y=this.y%g),this}function h(u,g,S){return u!==0&&(this.x=this.x%u),g!==0&&(this.y=this.y%g),S!==0&&(this.z=this.z%S),this}c.default.Vector=function(){function u(){var _=u;if(!((M=this)instanceof _))throw new TypeError("Cannot call a class as a function");var b,E,M=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],b=(arguments.length<=2?void 0:arguments[2])||0,E=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(b=(arguments.length<=0?void 0:arguments[0])||0,E=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=b,this.y=E,this.z=M}var g,S,j;return g=u,j=[{key:"fromAngle",value:function(_,b){return new c.default.Vector((b=b===void 0?1:b)*Math.cos(_),b*Math.sin(_),0)}},{key:"fromAngles",value:function(_,b,E){E===void 0&&(E=1);var M=Math.cos(b),P=(b=Math.sin(b),Math.cos(_));return _=Math.sin(_),new c.default.Vector(E*_*b,-E*P,E*_*M)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*T.TWO_PI)}},{key:"random3D",value:function(){var _=Math.random()*T.TWO_PI,b=2*Math.random()-1,E=(M=Math.sqrt(1-b*b))*Math.cos(_),M=M*Math.sin(_);return new c.default.Vector(E,M,b)}},{key:"copy",value:function(_){return _.copy(_)}},{key:"add",value:function(_,b,E){return E?E.set(_):(E=_.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),E.add(b),E}},{key:"rem",value:function(_,b){if(_ instanceof c.default.Vector&&b instanceof c.default.Vector)return(_=_.copy()).rem(b),_}},{key:"sub",value:function(_,b,E){return E?E.set(_):(E=_.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),E.sub(b),E}},{key:"mult",value:function(_,b,E){return E?E.set(_):(E=_.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),E.mult(b),E}},{key:"rotate",value:function(_,b,E){return arguments.length===2?E=_.copy():(E instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),E.set(_)),E.rotate(b),E}},{key:"div",value:function(_,b,E){return E?E.set(_):(E=_.copy(),arguments.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),E.div(b),E}},{key:"dot",value:function(_,b){return _.dot(b)}},{key:"cross",value:function(_,b){return _.cross(b)}},{key:"dist",value:function(_,b){return _.dist(b)}},{key:"lerp",value:function(_,b,E,M){return M?M.set(_):(M=_.copy(),arguments.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),M.lerp(b,E),M}},{key:"slerp",value:function(_,b,E,M){return M?M.set(_):(M=_.copy(),arguments.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),M.slerp(b,E),M}},{key:"mag",value:function(_){return _.mag()}},{key:"magSq",value:function(_){return _.magSq()}},{key:"normalize",value:function(_,b){return arguments.length<2?b=_.copy():(b instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),b.set(_)),b.normalize()}},{key:"limit",value:function(_,b,E){return arguments.length<3?E=_.copy():(E instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),E.set(_)),E.limit(b)}},{key:"setMag",value:function(_,b,E){return arguments.length<3?E=_.copy():(E instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),E.set(_)),E.setMag(b)}},{key:"heading",value:function(_){return _.heading()}},{key:"angleBetween",value:function(_,b){return _.angleBetween(b)}},{key:"reflect",value:function(_,b,E){return arguments.length<3?E=_.copy():(E instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),E.set(_)),E.reflect(b)}},{key:"array",value:function(_){return _.array()}},{key:"equals",value:function(_,b){var E;return _ instanceof c.default.Vector?E=_:_ instanceof Array?E=new c.default.Vector().set(_):c.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),E.equals(b)}}],(S=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(_,b,E){return _ instanceof c.default.Vector?(this.x=_.x||0,this.y=_.y||0,this.z=_.z||0):Array.isArray(_)?(this.x=_[0]||0,this.y=_[1]||0,this.z=_[2]||0):(this.x=_||0,this.y=b||0,this.z=E||0),this}},{key:"copy",value:function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(_,b,E){return _ instanceof c.default.Vector?(this.x+=_.x||0,this.y+=_.y||0,this.z+=_.z||0):Array.isArray(_)?(this.x+=_[0]||0,this.y+=_[1]||0,this.z+=_[2]||0):(this.x+=_||0,this.y+=b||0,this.z+=E||0),this}},{key:"rem",value:function(_,b,E){var M;if(_ instanceof c.default.Vector){if([_.x,_.y,_.z].every(Number.isFinite))return P=parseFloat(_.x),D=parseFloat(_.y),M=parseFloat(_.z),h.call(this,P,D,M)}else if(Array.isArray(_)){if(_.every(function(O){return Number.isFinite(O)}))return _.length===2?f.call(this,_[0],_[1]):_.length===3?h.call(this,_[0],_[1],_[2]):void 0}else if(arguments.length===1){if(Number.isFinite(_)&&_!==0)return this.x=this.x%_,this.y=this.y%_,this.z=this.z%_,this}else if(arguments.length===2){var P=Array.prototype.slice.call(arguments);if(P.every(function(O){return Number.isFinite(O)})&&P.length===2)return f.call(this,P[0],P[1])}else if(arguments.length===3){var D=Array.prototype.slice.call(arguments);if(D.every(function(O){return Number.isFinite(O)})&&D.length===3)return h.call(this,D[0],D[1],D[2])}}},{key:"sub",value:function(_,b,E){return _ instanceof c.default.Vector?(this.x-=_.x||0,this.y-=_.y||0,this.z-=_.z||0):Array.isArray(_)?(this.x-=_[0]||0,this.y-=_[1]||0,this.z-=_[2]||0):(this.x-=_||0,this.y-=b||0,this.z-=E||0),this}},{key:"mult",value:function(_,b,E){var M;return _ instanceof c.default.Vector?Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"?(this.x*=_.x,this.y*=_.y,this.z*=_.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(_)?_.every(function(P){return Number.isFinite(P)})&&_.every(function(P){return typeof P=="number"})?_.length===1?(this.x*=_[0],this.y*=_[0],this.z*=_[0]):_.length===2?(this.x*=_[0],this.y*=_[1]):_.length===3&&(this.x*=_[0],this.y*=_[1],this.z*=_[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(M=Array.prototype.slice.call(arguments)).every(function(P){return Number.isFinite(P)})&&M.every(function(P){return typeof P=="number"})?(arguments.length===1&&(this.x*=_,this.y*=_,this.z*=_),arguments.length===2&&(this.x*=_,this.y*=b),arguments.length===3&&(this.x*=_,this.y*=b,this.z*=E)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(_,b,E){if(_ instanceof c.default.Vector)if(Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"){var M=_.z===0&&this.z===0;if(_.x===0||_.y===0||!M&&_.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=_.x,this.y/=_.y,M||(this.z/=_.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(_))if(_.every(function(P){return Number.isFinite(P)})&&_.every(function(P){return typeof P=="number"})){if(_.some(function(P){return P===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;_.length===1?(this.x/=_[0],this.y/=_[0],this.z/=_[0]):_.length===2?(this.x/=_[0],this.y/=_[1]):_.length===3&&(this.x/=_[0],this.y/=_[1],this.z/=_[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((M=Array.prototype.slice.call(arguments)).every(function(P){return Number.isFinite(P)})&&M.every(function(P){return typeof P=="number"})){if(M.some(function(P){return P===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=_,this.y/=_,this.z/=_),arguments.length===2&&(this.x/=_,this.y/=b),arguments.length===3&&(this.x/=_,this.y/=b,this.z/=E)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var _=this.x,b=this.y,E=this.z;return _*_+b*b+E*E}},{key:"dot",value:function(_,b,E){return _ instanceof c.default.Vector?this.dot(_.x,_.y,_.z):this.x*(_||0)+this.y*(b||0)+this.z*(E||0)}},{key:"cross",value:function(_){var b=this.y*_.z-this.z*_.y,E=this.z*_.x-this.x*_.z;return _=this.x*_.y-this.y*_.x,this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,b,E,_):new c.default.Vector(b,E,_)}},{key:"dist",value:function(_){return _.copy().sub(this).mag()}},{key:"normalize",value:function(){var _=this.mag();return _!==0&&this.mult(1/_),this}},{key:"limit",value:function(_){var b=this.magSq();return _*_<b&&this.div(Math.sqrt(b)).mult(_),this}},{key:"setMag",value:function(_){return this.normalize().mult(_)}},{key:"heading",value:function(){var _=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(_):_}},{key:"setHeading",value:function(_){this.isPInst&&(_=this._toRadians(_));var b=this.mag();return this.x=b*Math.cos(_),this.y=b*Math.sin(_),this}},{key:"rotate",value:function(_){_=this.heading()+_;var b=(this.isPInst&&(_=this._toRadians(_)),this.mag());return this.x=Math.cos(_)*b,this.y=Math.sin(_)*b,this}},{key:"angleBetween",value:function(_){var b;return this.magSq()*_.magSq()==0?NaN:(b=this.cross(_),_=Math.atan2(b.mag(),this.dot(_))*Math.sign(b.z||1),this.isPInst?this._fromRadians(_):_)}},{key:"lerp",value:function(_,b,E,M){return _ instanceof c.default.Vector?this.lerp(_.x,_.y,_.z,b):(this.x+=(_-this.x)*M||0,this.y+=(b-this.y)*M||0,this.z+=(E-this.z)*M||0,this)}},{key:"slerp",value:function(_,b){if(b!==0){if(b===1)return this.set(_);var E=this.mag(),M=_.mag();if(E*M==0)this.mult(1-b).add(_.x*b,_.y*b,_.z*b);else{var P=this.cross(_),D=P.mag(),O=Math.atan2(D,this.dot(_));if(0<D)P.x/=D,P.y/=D,P.z/=D;else{if(O<.5*Math.PI)return this.mult(1-b).add(_.x*b,_.y*b,_.z*b),this;this.z===0&&_.z===0?P.set(0,0,1):this.x!==0?P.set(this.y,-this.x,0).normalize():P.set(1,0,0)}D=P.cross(this),P=(_=1-b+b*M/E)*Math.cos(b*O),M=_*Math.sin(b*O),this.x=this.x*P+D.x*M,this.y=this.y*P+D.y*M,this.z=this.z*P+D.z*M}}return this}},{key:"reflect",value:function(_){return _.normalize(),this.sub(_.mult(2*this.dot(_)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(_,b,E){var M,P;return _=_ instanceof c.default.Vector?(M=_.x||0,P=_.y||0,_.z||0):Array.isArray(_)?(M=_[0]||0,P=_[1]||0,_[2]||0):(M=_||0,P=b||0,E||0),this.x===M&&this.y===P&&this.z===_}}])&&A(g.prototype,S),j&&A(g,j),u}();var p=c.default.Vector;x.default=p},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n},d="_lcg_random_state",c=4294967296,T=0;m.default.prototype._lcg=function(A){return this[A]=(1664525*this[A]+1013904223)%c,this[A]/c},m.default.prototype._lcgSetSeed=function(A,f){this[A]=(f??Math.random()*c)>>>0},m.default.prototype.randomSeed=function(A){this._lcgSetSeed(d,A),this._gaussian_previous=!1},m.default.prototype.random=function(A,f){var h,p;return m.default._validateParameters("random",arguments),h=this[d]!=null?this._lcg(d):Math.random(),A===void 0?h:f===void 0?A instanceof Array?A[Math.floor(h*A.length)]:h*A:(f<A&&(p=A,A=f,f=p),h*(f-A)+A)},m.default.prototype.randomGaussian=function(A){var f,h,p,u,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)f=T,this._gaussian_previous=!1;else{for(;1<=(u=(h=this.random(2)-1)*h+(p=this.random(2)-1)*p););f=h*(u=Math.sqrt(-2*Math.log(u)/u)),T=p*u,this._gaussian_previous=!0}return f*g+(A||0)},n=m.default,x.default=n},{"../core/main":273}],308:[function(n,C,x){function m(f){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function d(f){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(f)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(A=n("../core/main"))&&A.__esModule?A:{default:A},T=function(f){if(f&&f.__esModule)return f;if(f===null||d(f)!=="object"&&typeof f!="function")return{default:f};var h=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(h&&h.has(f))return h.get(f);var p,u={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in f){var S;Object.prototype.hasOwnProperty.call(f,p)&&((S=g?Object.getOwnPropertyDescriptor(f,p):null)&&(S.get||S.set)?Object.defineProperty(u,p,S):u[p]=f[p])}return u.default=f,h&&h.set(f,u),u}(n("../core/constants"));c.default.prototype._angleMode=T.RADIANS,c.default.prototype.acos=function(f){return this._fromRadians(Math.acos(f))},c.default.prototype.asin=function(f){return this._fromRadians(Math.asin(f))},c.default.prototype.atan=function(f){return this._fromRadians(Math.atan(f))},c.default.prototype.atan2=function(f,h){return this._fromRadians(Math.atan2(f,h))},c.default.prototype.cos=function(f){return Math.cos(this._toRadians(f))},c.default.prototype.sin=function(f){return Math.sin(this._toRadians(f))},c.default.prototype.tan=function(f){return Math.tan(this._toRadians(f))},c.default.prototype.degrees=function(f){return f*T.RAD_TO_DEG},c.default.prototype.radians=function(f){return f*T.DEG_TO_RAD},c.default.prototype.angleMode=function(f){if(c.default._validateParameters("angleMode",arguments),f===void 0)return this._angleMode;f!==T.DEGREES&&f!==T.RADIANS||(this._angleMode=f)},c.default.prototype._toRadians=function(f){return this._angleMode===T.DEGREES?f*T.DEG_TO_RAD:f},c.default.prototype._toDegrees=function(f){return this._angleMode===T.RADIANS?f*T.RAD_TO_DEG:f},c.default.prototype._fromRadians=function(f){return this._angleMode===T.DEGREES?f*T.RAD_TO_DEG:f};var A=c.default;x.default=A},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};m.default.prototype.textAlign=function(d,c){var T;return m.default._validateParameters("textAlign",arguments),(T=this._renderer).textAlign.apply(T,arguments)},m.default.prototype.textLeading=function(d){var c;return m.default._validateParameters("textLeading",arguments),(c=this._renderer).textLeading.apply(c,arguments)},m.default.prototype.textSize=function(d){var c;return m.default._validateParameters("textSize",arguments),(c=this._renderer).textSize.apply(c,arguments)},m.default.prototype.textStyle=function(d){var c;return m.default._validateParameters("textStyle",arguments),(c=this._renderer).textStyle.apply(c,arguments)},m.default.prototype.textWidth=function(){for(var d,c=arguments.length,T=new Array(c),A=0;A<c;A++)T[A]=arguments[A];return T[0]+="",m.default._validateParameters("textWidth",T),T[0].length===0?0:(d=this._renderer).textWidth.apply(d,T)},m.default.prototype.textAscent=function(){for(var d=arguments.length,c=new Array(d),T=0;T<d;T++)c[T]=arguments[T];return m.default._validateParameters("textAscent",c),this._renderer.textAscent()},m.default.prototype.textDescent=function(){for(var d=arguments.length,c=new Array(d),T=0;T<d;T++)c[T]=arguments[T];return m.default._validateParameters("textDescent",c),this._renderer.textDescent()},m.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},m.default.prototype.textWrap=function(d){if(d!=="WORD"&&d!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(d)},n=m.default,x.default=n},{"../core/main":273}],310:[function(n,C,x){function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function d(u){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(g){return m(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":m(g)})(u)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.last-index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.split"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(p=n("../core/main"))&&p.__esModule?p:{default:p},T=h(n("../core/constants")),A=h(n("opentype.js"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}function h(u){if(u&&u.__esModule)return u;if(u===null||d(u)!=="object"&&typeof u!="function")return{default:u};var g=f();if(g&&g.has(u))return g.get(u);var S,j,_={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in u)Object.prototype.hasOwnProperty.call(u,S)&&((j=b?Object.getOwnPropertyDescriptor(u,S):null)&&(j.get||j.set)?Object.defineProperty(_,S,j):_[S]=u[S]);return _.default=u,g&&g.set(u,_),_}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(u,g,S){c.default._validateParameters("loadFont",arguments);var j=new c.default.Font(this),_=this;return A.load(u,function(b,E){if(b)return c.default._friendlyFileLoadError(4,u),S!==void 0?S(b):void console.error(b,u);j.font=E,g!==void 0&&g(j),_._decrementPreload();var M=(E=(b=u.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:b.slice(E+1);["ttf","otf","woff","woff2"].includes(M)&&(M=b.slice(0,E!==-1?E:0),(b=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(M,`;
src: url(`).concat(u,`);
}
`))),document.head.appendChild(b))}),j},c.default.prototype.text=function(u,g,S,j,_){var b;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(b=this._renderer).text.apply(b,arguments):this},c.default.prototype.textFont=function(u,g){if(c.default._validateParameters("textFont",arguments),arguments.length){if(u)return this._renderer._setProperty("_textFont",u),g&&(this._renderer._setProperty("_textSize",g),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",g*T._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var p=c.default;x.default=p},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(n,C,x){function m(D){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(D)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(d=n("../core/main"))&&d.__esModule?d:{default:d},c=function(D){if(D&&D.__esModule)return D;if(D===null||T(D)!=="object"&&typeof D!="function")return{default:D};var O=function(){var Y;return typeof WeakMap!="function"?null:(Y=new WeakMap,Y)}();if(O&&O.has(D))return O.get(D);var U,F={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in D){var G;Object.prototype.hasOwnProperty.call(D,U)&&((G=H?Object.getOwnPropertyDescriptor(D,U):null)&&(G.get||G.set)?Object.defineProperty(F,U,G):F[U]=D[U])}return F.default=D,O&&O.set(D,F),F}(n("../core/constants"));function T(D){return(T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(O){return m(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":m(O)})(D)}function A(D,O){for(var U=0;U<O.length;U++){var F=O[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}function f(D,O){var U=D.length;return D[O<0?O%U+U:O%U]}function h(D,O,U,F){var H,G,Y;return F?(h.tmpPoint1===void 0&&(h.tmpPoint1=[],h.tmpPoint2=[]),G=h.tmpPoint1,Y=h.tmpPoint2,G.x=O.x-D.x,G.y=O.y-D.y,Y.x=U.x-O.x,Y.y=U.y-O.y,H=G.x*Y.x+G.y*Y.y,G=Math.sqrt(G.x*G.x+G.y*G.y),Y=Math.sqrt(Y.x*Y.x+Y.y*Y.y),Math.acos(H/(G*Y))<F):(O[0]-D[0])*(U[1]-D[1])-(U[0]-D[0])*(O[1]-D[1])==0}function p(D,O,U,F,H,G,Y,q,V){var $=1-V,Q=(te=Math.pow($,3))*D+3*(ne=Math.pow($,2))*V*U+3*$*V*V*H+(ae=(de=V*V)*V)*Y,te=te*O+3*ne*V*F+3*$*V*V*G+ae*q,ne=D+2*V*(U-D)+de*(H-2*U+D),ae=O+2*V*(F-O)+de*(G-2*F+O),ce=U+2*V*(H-U)+de*(Y-2*H+U),de=F+2*V*(G-F)+de*(q-2*G+F);return D=$*D+V*U,U=$*O+V*F,O=$*H+V*Y,F=$*G+V*q,H=90-180*Math.atan2(ne-ce,ae-de)/Math.PI,(ce<ne||ae<de)&&(H+=180),{x:Q,y:te,m:{x:ne,y:ae},n:{x:ce,y:de},start:{x:D,y:U},end:{x:O,y:F},alpha:H}}function u(D,O,U,F,H,G,Y,q,V){return V==null?M(D,O,U,F,H,G,Y,q):p(D,O,U,F,H,G,Y,q,function($,Q,te,ne,ae,ce,de,X,Z){if(!(Z<0||M($,Q,te,ne,ae,ce,de,X)<Z)){var ie,he=.5,ye=1-he;for(ie=M($,Q,te,ne,ae,ce,de,X,ye);.01<Math.abs(ie-Z);)ie=M($,Q,te,ne,ae,ce,de,X,ye+=(ie<Z?1:-1)*(he/=2));return ye}}(D,O,U,F,H,G,Y,q,V))}function g(D,O,U){for(var F,H,G,Y,q,V=0,$=0,Q=(D=function(te,ne){function ae(Ae,Be,et){var $e,at;if(!Ae)return["C",Be.x,Be.y,Be.x,Be.y,Be.x,Be.y];switch(Ae[0]in{T:1,Q:1}||(Be.qx=Be.qy=null),Ae[0]){case"M":Be.X=Ae[1],Be.Y=Ae[2];break;case"A":Ae=["C"].concat(j.apply(0,[Be.x,Be.y].concat(Ae.slice(1))));break;case"S":at=et==="C"||et==="S"?($e=2*Be.x-Be.bx,2*Be.y-Be.by):($e=Be.x,Be.y),Ae=["C",$e,at].concat(Ae.slice(1));break;case"T":et==="Q"||et==="T"?(Be.qx=2*Be.x-Be.qx,Be.qy=2*Be.y-Be.qy):(Be.qx=Be.x,Be.qy=Be.y),Ae=["C"].concat(E(Be.x,Be.y,Be.qx,Be.qy,Ae[1],Ae[2]));break;case"Q":Be.qx=Ae[1],Be.qy=Ae[2],Ae=["C"].concat(E(Be.x,Be.y,Ae[1],Ae[2],Ae[3],Ae[4]));break;case"L":Ae=["C"].concat(b(Be.x,Be.y,Ae[1],Ae[2]));break;case"H":Ae=["C"].concat(b(Be.x,Be.y,Ae[1],Be.y));break;case"V":Ae=["C"].concat(b(Be.x,Be.y,Be.x,Ae[1]));break;case"Z":Ae=["C"].concat(b(Be.x,Be.y,Be.X,Be.Y))}return Ae}function ce(Ae,Be){if(7<Ae[Be].length){Ae[Be].shift();for(var et=Ae[Be];et.length;)ve[Be]="A",Ae.splice(Be++,0,["C"].concat(et.splice(0,6)));Ae.splice(Be,1),X=Math.max(Z.length,0)}}function de(Ae,Be,et,$e,at){Ae&&Be&&Ae[at][0]==="M"&&Be[at][0]!=="M"&&(Be.splice(at,0,["M",$e.x,$e.y]),et.bx=0,et.by=0,et.x=Ae[at][1],et.y=Ae[at][2],X=Math.max(Z.length,0))}var X,Z=S(te),ie=ne,he={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ye={x:0,y:0,bx:0,by:0},ve=[],le="",me="";X=Math.max(Z.length,0);for(var Se=0;Se<X;Se++){(le=Z[Se]?Z[Se][0]:le)!=="C"&&(ve[Se]=le,Se&&(me=ve[Se-1])),Z[Se]=ae(Z[Se],he,me),ve[Se]!=="A"&&le==="C"&&(ve[Se]="C"),ce(Z,Se),de(Z,ie,he,ye,Se),de(ie,Z,ye,he,Se);var Re=Z[Se],Ee=Re.length;he.x=Re[Ee-2],he.y=Re[Ee-1],he.bx=parseFloat(Re[Ee-4])||he.x,he.by=parseFloat(Re[Ee-3])||he.y,ye.bx=ie,ye.by=ie,ye.x=ie,ye.y=ie}return ie?[Z,ie]:Z}(D)).length;$<Q;$++){if((G=D[$])[0]==="M")F=+G[1],H=+G[2];else{if(O<V+(Y=u(F,H,G[1],G[2],G[3],G[4],G[5],G[6]))&&!U)return{x:(q=u(F,H,G[1],G[2],G[3],G[4],G[5],G[6],O-V)).x,y:q.y,alpha:q.alpha};V+=Y,F=+G[5],H=+G[6]}G.shift()}return(q=U?V:p(F,H,G[0],G[1],G[2],G[3],G[4],G[5],1)).alpha?{x:q.x,y:q.y,alpha:q.alpha}:q}function S(D){var O=[],U=0,F=0,H=0,G=0,Y=0;if(D){D[0][0]==="M"&&(H=U=+D[0][1],G=F=+D[0][2],Y++,O[0]=["M",U,F]);for(var q,V,$=D.length===3&&D[0][0]==="M"&&D[1][0].toUpperCase()==="R"&&D[2][0].toUpperCase()==="Z",Q=Y,te=D.length;Q<te;Q++){if(O.push(q=[]),(V=D[Q])[0]!==String.prototype.toUpperCase.call(V[0]))switch(q[0]=String.prototype.toUpperCase.call(V[0]),q[0]){case"A":q[1]=V[1],q[2]=V[2],q[3]=V[3],q[4]=V[4],q[5]=V[5],q[6]=+(V[6]+U),q[7]=+(V[7]+F);break;case"V":q[1]=+V[1]+F;break;case"H":q[1]=+V[1]+U;break;case"R":for(var ne,ae=2,ce=(ne=[U,F].concat(V.slice(1))).length;ae<ce;ae++)ne[ae]=+ne[ae]+U,ne[++ae]=+ne[ae]+F;O.pop(),O=O.concat(_(ne,$));break;case"M":H=+V[1]+U,G=+V[2]+F;break;default:for(var de=1,X=V.length;de<X;de++)q[de]=+V[de]+(de%2?U:F)}else if(V[0]==="R")ne=[U,F].concat(V.slice(1)),O.pop(),O=O.concat(_(ne,$)),q=["R"].concat(V.slice(-2));else for(var Z=0,ie=V.length;Z<ie;Z++)q[Z]=V[Z];switch(q[0]){case"Z":U=H,F=G;break;case"H":U=q[1];break;case"V":F=q[1];break;case"M":H=q[q.length-2],G=q[q.length-1];break;default:U=q[q.length-2],F=q[q.length-1]}}}return O}function j(D,O,U,F,H,G,Y,q,V,$){function Q(Ee,Ae,Be){return{x:Ee*Math.cos(Be)-Ae*Math.sin(Be),y:Ee*Math.sin(Be)+Ae*Math.cos(Be)}}var te,ne=120*(Z=Math.PI)/180,ae=Z/180*(+H||0),ce=[],de=($?(le=$[0],te=$[1],ye=$[2],ve=$[3]):(D=(ie=Q(D,O,-ae)).x,O=ie.y,1<(de=(X=(D-(q=(ie=Q(q,V,-ae)).x))/2)*X/(U*U)+(ie=(O-(V=ie.y))/2)*ie/(F*F))&&(U*=de=Math.sqrt(de),F*=de),de=U*U,he=F*F,ye=(G=(G===Y?-1:1)*Math.sqrt(Math.abs((de*he-de*ie*ie-he*X*X)/(de*ie*ie+he*X*X))))*U*ie/F+(D+q)/2,ve=G*-F*X/U+(O+V)/2,le=Math.asin(((O-ve)/F).toFixed(9)),te=Math.asin(((V-ve)/F).toFixed(9)),(le=D<ye?Z-le:le)<0&&(le=2*Z+le),(te=q<ye?Z-te:te)<0&&(te=2*Z+te),Y&&te<le&&(le-=2*Z),!Y&&le<te&&(te-=2*Z)),te-le),X=(Math.abs(de)>ne&&(he=te,ie=q,G=V,te=le+ne*(Y&&le<te?1:-1),ce=j(q=ye+U*Math.cos(te),V=ve+F*Math.sin(te),U,F,H,0,Y,ie,G,[te,he,ye,ve])),de=te-le,Math.cos(le)),Z=Math.sin(le),ie=(ne=Math.cos(te),H=Math.sin(te),4/3*U*(Y=Math.tan(de/4))),he=[D,O],ye=[D+ie*Z,O-(G=4/3*F*Y)*X],ve=[q+ie*H,V-G*ne],le=[q,V];if(ye[0]=2*he[0]-ye[0],ye[1]=2*he[1]-ye[1],$)return[ye,ve,le].concat(ce);for(var me=[],Se=0,Re=(ce=[ye,ve,le].concat(ce).join().split(",")).length;Se<Re;Se++)me[Se]=Se%2?Q(ce[Se-1],ce[Se],ae).y:Q(ce[Se],ce[Se+1],ae).x;return me}function _(D,O){for(var U=[],F=0,H=D.length;F<H-2*!O;F+=2){var G=[{x:+D[F-2],y:+D[F-1]},{x:+D[F],y:+D[F+1]},{x:+D[F+2],y:+D[F+3]},{x:+D[F+4],y:+D[F+5]}];O?F?H-4===F?G[3]={x:+D[0],y:+D[1]}:H-2===F&&(G[2]={x:+D[0],y:+D[1]},G[3]={x:+D[2],y:+D[3]}):G[0]={x:+D[H-2],y:+D[H-1]}:H-4===F?G[3]=G[2]:F||(G[0]={x:+D[F],y:+D[F+1]}),U.push(["C",(-G[0].x+6*G[1].x+G[2].x)/6,(-G[0].y+6*G[1].y+G[2].y)/6,(G[1].x+6*G[2].x-G[3].x)/6,(G[1].y+6*G[2].y-G[3].y)/6,G[2].x,G[2].y])}return U}function b(D,O,U,F){return[D,O,U,F,U,F]}function E(D,O,U,F,H,G){return[1/3*D+2/3*U,1/3*O+2/3*F,1/3*H+2/3*U,1/3*G+2/3*F,H,G]}function M(D,O,U,F,H,G,Y,q,V){for(var $=(V=1<(V=V??1)?1:V<0?0:V)/2,Q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],te=0,ne=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ae=0;ae<12;ae++){var ce=P(de=$*Q[ae]+$,D,U,H,Y),de=P(de,O,F,G,q);te+=ne[ae]*Math.sqrt(ce*ce+de*de)}return $*te}function P(D,O,U,F,H){return D*(D*(-3*O+9*U-9*F+3*H)+6*O-12*U+6*F)-3*O+3*U}d.default.Font=function(){function D(F){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function");this.parent=F,this.cache={},this.font=void 0}var O,U;return O=D,(U=[{key:"textBounds",value:function(F){var H=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,G=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,Y=3<arguments.length?arguments[3]:void 0,q=4<arguments.length?arguments[4]:void 0,V=q&&q.renderer&&q.renderer._pInst||this.parent;if((he=V._renderer.drawingContext).textAlign||c.LEFT,he.textBaseline||c.BASELINE,Y=Y||V._renderer._textSize,!ye){for(var $=[],Q=[],te=[],ne=(te[0]=[],[]),ae=this._scale(Y),ce=V._renderer.textLeading(),de=0,X=(this.font.forEachGlyph(F,H,G,Y,q,function(ve,le,me,Se){var Re=ve.getMetrics();ve.index===0||ve.index===10?te[de+=1]=[]:(te[de].push(le+Re.xMin*ae),te[de].push(le+Re.xMax*ae),ne.push(me+de*ce+-Re.yMin*ae),ne.push(me+de*ce+-Re.yMax*ae))}),0<te[de].length&&($[de]=Math.min.apply(null,te[de]),Q[de]=Math.max.apply(null,te[de])),0),Z=0;Z<=de;Z++){$[Z]=Math.min.apply(null,te[Z]),Q[Z]=Math.max.apply(null,te[Z]);var ie=Q[Z]-$[Z];X<ie&&(X=ie)}var he,ye={x:he=Math.min.apply(null,$),y:G=Math.min.apply(null,ne),h:Math.max.apply(null,ne)-G,w:X,advance:he-H};Y=this._handleAlignment(V._renderer,F,ye.x,ye.y,ye.w+ye.advance),ye.x=Y.x,ye.y=Y.y}return ye}},{key:"textToPoints",value:function(F,H,G,Y,q){var V=0,$=[],Q=this._getGlyphs(F);Y=Y||this.parent._renderer._textSize;for(var te,ne=0;ne<Q.length;ne++){if(!(Q[te=ne].name&&Q[te].name==="space"||F.length===Q.length&&F[te]===" "))for(var ae=function(Z){for(var ie,he=[],ye=0;ye<Z.length;ye++)Z[ye].type==="M"&&(ie&&he.push(ie),ie=[]),ie.push(function(ve){var le=[ve.type];return ve.type==="M"||ve.type==="L"?le.push(ve.x,ve.y):ve.type==="C"?le.push(ve.x1,ve.y1,ve.x2,ve.y2,ve.x,ve.y):ve.type==="Q"&&le.push(ve.x1,ve.y1,ve.x,ve.y),le}(Z[ye]));return he.push(ie),he}(Q[ne].getPath(H,G,Y).commands),ce=0;ce<ae.length;ce++)for(var de=function(Z,ie){ie=function(me,Se){if(T(me)!=="object")me=Se;else for(var Re in Se)me[Re]===void 0&&(me[Re]=Se[Re]);return me}(ie,{sampleFactor:.1,simplifyThreshold:0});for(var he=g(Z,0,1),ye=he/(he*ie.sampleFactor),ve=[],le=0;le<he;le+=ye)ve.push(g(Z,le));return ie.simplifyThreshold&&function(me){for(var Se=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Re=me.length-1;3<me.length&&0<=Re;--Re)h(f(me,Re-1),f(me,Re),f(me,Re+1),Se)&&me.splice(Re%me.length,1)}(ve,ie.simplifyThreshold),ve}(ae[ce],q),X=0;X<de.length;X++)de[X].x+=V,$.push(de[X]);V+=Q[ne].advanceWidth*this._scale(Y)}return $}},{key:"_getGlyphs",value:function(F){return this.font.stringToGlyphs(F)}},{key:"_getPath",value:function(F,H,G,Y){var q=(Y&&Y.renderer&&Y.renderer._pInst||this.parent)._renderer;return H=this._handleAlignment(q,F,H,G),this.font.getPath(F,H.x,H.y,q._textSize,Y)}},{key:"_getPathData",value:function(F,H,G,Y){var q=3;return typeof F=="string"&&2<arguments.length?F=this._getPath(F,H,G,Y):T(H)==="object"&&(Y=H),Y&&typeof Y.decimals=="number"&&(q=Y.decimals),F.toPathData(q)}},{key:"_getSVG",value:function(F,H,G,Y){var q=3;return typeof F=="string"&&2<arguments.length?F=this._getPath(F,H,G,Y):T(H)==="object"&&(Y=H),Y&&(typeof Y.decimals=="number"&&(q=Y.decimals),typeof Y.strokeWidth=="number"&&(F.strokeWidth=Y.strokeWidth),Y.fill!==void 0&&(F.fill=Y.fill),Y.stroke!==void 0&&(F.stroke=Y.stroke)),F.toSVG(q)}},{key:"_renderPath",value:function(F,H,G,Y){var q=Y&&Y.renderer||this.parent._renderer,V=q.drawingContext,$=(F=(T(F)==="object"&&F.commands?F:this._getPath(F,H,G,Y)).commands,V.beginPath(),!0);H=!1,G=void 0;try{for(var Q,te=F[Symbol.iterator]();!($=(Q=te.next()).done);$=!0){var ne=Q.value;ne.type==="M"?V.moveTo(ne.x,ne.y):ne.type==="L"?V.lineTo(ne.x,ne.y):ne.type==="C"?V.bezierCurveTo(ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y):ne.type==="Q"?V.quadraticCurveTo(ne.x1,ne.y1,ne.x,ne.y):ne.type==="Z"&&V.closePath()}}catch(ae){H=!0,G=ae}finally{try{$||te.return==null||te.return()}finally{if(H)throw G}}return q._doStroke&&q._strokeSet&&V.stroke(),q._doFill&&(q._fillSet||q._setFill(c._DEFAULT_TEXT_FILL),V.fill()),this}},{key:"_textWidth",value:function(F,H){return this.font.getAdvanceWidth(F,H)}},{key:"_textAscent",value:function(F){return this.font.ascender*this._scale(F)}},{key:"_textDescent",value:function(F){return-this.font.descender*this._scale(F)}},{key:"_scale",value:function(F){return 1/this.font.unitsPerEm*(F||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(F,H,G,Y,q){var V=F._textSize;switch(q===void 0&&(q=this._textWidth(H,V)),F._textAlign){case c.CENTER:G-=q/2;break;case c.RIGHT:G-=q}switch(F._textBaseline){case c.TOP:Y+=this._textAscent(V);break;case c.CENTER:Y+=this._textAscent(V)/2;break;case c.BOTTOM:Y-=this._textDescent(V)}return{x:G,y:Y}}}])&&A(O.prototype,U),D}(),n=d.default,x.default=n},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(n,C,x){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.array-buffer.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.array-buffer.constructor"),n("core-js/modules/es.object.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../core/main"))&&n.__esModule?n:{default:n}).default.prototype.append=function(m,d){return m.push(d),m},n.default.prototype.arrayCopy=function(m,d,c,T,A){var f,h;m=A!==void 0?(h=Math.min(A,m.length),f=T,m.slice(d,h+d)):(h=c!==void 0?(h=c,Math.min(h,m.length)):m.length,c=d,m.slice(f=0,h)),Array.prototype.splice.apply(c,[f,h].concat(m))},n.default.prototype.concat=function(m,d){return m.concat(d)},n.default.prototype.reverse=function(m){return m.reverse()},n.default.prototype.shorten=function(m){return m.pop(),m},n.default.prototype.shuffle=function(m,d){for(var c,T,A=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(m),f=(m=d||A?m:m.slice()).length;1<f;)c=this.random(0,1)*f|0,T=m[--f],m[f]=m[c],m[c]=T;return m},n.default.prototype.sort=function(m,d){var c=d?m.slice(0,Math.min(d,m.length)):m;return d=d?m.slice(Math.min(d,m.length)):[],(c=typeof c[0]=="string"?c.sort():c.sort(function(T,A){return T-A})).concat(d)},n.default.prototype.splice=function(m,d,c){return Array.prototype.splice.apply(m,[c,0].concat(d)),m},n.default.prototype.subset=function(m,d,c){return c!==void 0?m.slice(d,d+c):m.slice(d,m.length)},n=n.default,x.default=n},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(n,C,x){n("core-js/modules/es.array.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.repeat"),n("core-js/modules/es.array.map"),n("core-js/modules/es.number.constructor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.repeat"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};m.default.prototype.float=function(d){return d instanceof Array?d.map(parseFloat):parseFloat(d)},m.default.prototype.int=function(d){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return d===1/0||d==="Infinity"?1/0:d===-1/0||d==="-Infinity"?-1/0:typeof d=="string"?parseInt(d,c):typeof d=="number"?0|d:typeof d=="boolean"?d?1:0:d instanceof Array?d.map(function(T){return m.default.prototype.int(T,c)}):void 0},m.default.prototype.str=function(d){return d instanceof Array?d.map(m.default.prototype.str):String(d)},m.default.prototype.boolean=function(d){return typeof d=="number"?d!==0:typeof d=="string"?d.toLowerCase()==="true":typeof d=="boolean"?d:d instanceof Array?d.map(m.default.prototype.boolean):void 0},m.default.prototype.byte=function(d){return typeof(d=m.default.prototype.int(d,10))=="number"?(d+128)%256-128:d instanceof Array?d.map(m.default.prototype.byte):void 0},m.default.prototype.char=function(d){return typeof d!="number"||isNaN(d)?d instanceof Array?d.map(m.default.prototype.char):typeof d=="string"?m.default.prototype.char(parseInt(d,10)):void 0:String.fromCharCode(d)},m.default.prototype.unchar=function(d){return typeof d=="string"&&d.length===1?d.charCodeAt(0):d instanceof Array?d.map(m.default.prototype.unchar):void 0},m.default.prototype.hex=function(d,c){if(c=c??8,d instanceof Array)return d.map(function(A){return m.default.prototype.hex(A,c)});if(d===1/0||d===-1/0)return(d===1/0?"F":"0").repeat(c);if(typeof d=="number"){d<0&&(d=4294967295+d+1);for(var T=Number(d).toString(16).toUpperCase();T.length<c;)T="0".concat(T);return T.length>=c?T.substring(T.length-c,T.length):T}},m.default.prototype.unhex=function(d){return d instanceof Array?d.map(m.default.prototype.unhex):parseInt("0x".concat(d),16)},n=m.default,x.default=n},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.pad-start"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.filter"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.constructor"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.pad-start"),n("core-js/modules/es.string.replace"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(h=n("../core/main"))&&h.__esModule?h:{default:h};function d(p,u){return function(g){if(Array.isArray(g))return g}(p)||function(g,S){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var j=[],_=!0,b=!1,E=void 0;try{for(var M,P=g[Symbol.iterator]();!(_=(M=P.next()).done)&&(j.push(M.value),!S||j.length!==S);_=!0);}catch(D){b=!0,E=D}finally{try{_||P.return==null||P.return()}finally{if(b)throw E}}return j}}(p,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(p,u,g){var S=(j=d(p.toString().split("."),2))[0],j=j[1];return g===void 0?(S=S.padStart(u,"0"),j?S+"."+j:S):(S=(p=d(p.toFixed(g).toString().split("."),2))[0],j=p[1],(S=S.padStart(u,"0"))+"."+j)}function T(p,u){var g=(p=p.toString()).indexOf("."),S=g!==-1?p.substring(g):"";if(p=(p=g!==-1?p.substring(0,g):p).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),u===0)S="";else if(u!==void 0)if(u>S.length)for(var j=u-(S+=g===-1?".":"").length+1,_=0;_<j;_++)S+="0";else S=S.substring(0,u+1);return p+S}function A(p){return 0<parseFloat(p)?"+".concat(p.toString()):p.toString()}function f(p){return 0<=parseFloat(p)?" ".concat(p.toString()):p.toString()}n("../core/friendly_errors/validate_params"),n("../core/friendly_errors/file_errors"),n("../core/friendly_errors/fes_core"),m.default.prototype.join=function(p,u){return m.default._validateParameters("join",arguments),p.join(u)},m.default.prototype.match=function(p,u){return m.default._validateParameters("match",arguments),p.match(u)},m.default.prototype.matchAll=function(p,u){m.default._validateParameters("matchAll",arguments);for(var g=new RegExp(u,"g"),S=g.exec(p),j=[];S!==null;)j.push(S),S=g.exec(p);return j},m.default.prototype.nf=function(p,u,g){return m.default._validateParameters("nf",arguments),p instanceof Array?p.map(function(S){return c(S,u,g)}):Object.prototype.toString.call(p)==="[object Arguments]"?p.length===3?this.nf(p[0],p[1],p[2]):p.length===2?this.nf(p[0],p[1]):this.nf(p[0]):c(p,u,g)},m.default.prototype.nfc=function(p,u){return m.default._validateParameters("nfc",arguments),p instanceof Array?p.map(function(g){return T(g,u)}):T(p,u)},m.default.prototype.nfp=function(){for(var p=arguments.length,u=new Array(p),g=0;g<p;g++)u[g]=arguments[g];m.default._validateParameters("nfp",u);var S=m.default.prototype.nf.apply(this,u);return S instanceof Array?S.map(A):A(S)},m.default.prototype.nfs=function(){for(var p=arguments.length,u=new Array(p),g=0;g<p;g++)u[g]=arguments[g];m.default._validateParameters("nfs",u);var S=m.default.prototype.nf.apply(this,u);return S instanceof Array?S.map(f):f(S)},m.default.prototype.split=function(p,u){return m.default._validateParameters("split",arguments),p.split(u)},m.default.prototype.splitTokens=function(p,u){var g,S;return m.default._validateParameters("splitTokens",arguments),S=u!==void 0?(S=/\]/g.exec(u=u),(g=/\[/g.exec(u))&&S?(u=u.slice(0,S.index)+u.slice(S.index+1),g=/\[/g.exec(u),u=u.slice(0,g.index)+u.slice(g.index+1),new RegExp("[\\[".concat(u,"\\]]"),"g")):S?(u=u.slice(0,S.index)+u.slice(S.index+1),new RegExp("[".concat(u,"\\]]"),"g")):g?(u=u.slice(0,g.index)+u.slice(g.index+1),new RegExp("[".concat(u,"\\[]"),"g")):new RegExp("[".concat(u,"]"),"g")):/\s/g,p.split(S).filter(function(j){return j})},m.default.prototype.trim=function(p){return m.default._validateParameters("trim",arguments),p instanceof Array?p.map(this.trim):p.trim()};var h=m.default;x.default=h},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../core/main"))&&n.__esModule?n:{default:n}).default.prototype.day=function(){return new Date().getDate()},n.default.prototype.hour=function(){return new Date().getHours()},n.default.prototype.minute=function(){return new Date().getMinutes()},n.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},n.default.prototype.month=function(){return new Date().getMonth()+1},n.default.prototype.second=function(){return new Date().getSeconds()},n.default.prototype.year=function(){return new Date().getFullYear()},n=n.default,x.default=n},{"../core/main":273}],316:[function(n,C,x){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function d(h){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(h)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.number.to-fixed"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(f=n("../core/main"))&&f.__esModule?f:{default:f},T=(n("./p5.Geometry"),function(h){if(h&&h.__esModule)return h;if(h===null||d(h)!=="object"&&typeof h!="function")return{default:h};var p=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(p&&p.has(h))return p.get(h);var u,g={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var j;Object.prototype.hasOwnProperty.call(h,u)&&((j=S?Object.getOwnPropertyDescriptor(h,u):null)&&(j.get||j.set)?Object.defineProperty(g,u,j):g[u]=h[u])}return g.default=h,p&&p.set(h,g),g}(n("../core/constants")));function A(h,p,u,g,S,j,_){h=h<=0?1:h,p=p<0?0:p,u=u<=0?h:u,g=g<3?3:g;for(var b,E,M=(j=j===void 0||j)?-2:0,P=(S=S<1?1:S)+((_=_===void 0?p!==0:_)?2:0),D=Math.atan2(h-p,u),O=Math.sin(D),U=Math.cos(D),F=M;F<=P;++F){var H=F/S,G=u*H,Y=void 0;for(Y=F<0?(H=G=0,h):S<F?(G=u,H=1,p):h+(p-h)*H,F!==-2&&F!==S+2||(Y=0),G-=u/2,b=0;b<g;++b){var q=b/(g-1),V=2*Math.PI*q,$=Math.sin(V),Q=(V=Math.cos(V),this.vertices.push(new c.default.Vector($*Y,G,V*Y)));Q=F<0?new c.default.Vector(0,-1,0):S<F&&p?new c.default.Vector(0,1,0):new c.default.Vector($*U,O,V*U),this.vertexNormals.push(Q),this.uvs.push(q,H)}}var te=0;if(j){for(E=0;E<g;++E)this.faces.push([te+E,te+g+(E+1)%g,te+g+E]);te+=2*g}for(F=0;F<S;++F){for(b=0;b<g;++b){var ne=(b+1)%g;this.faces.push([te+b,te+ne,te+g+ne]),this.faces.push([te+b,te+g+ne,te+g+b])}te+=g}if(_)for(te+=g,b=0;b<g;++b)this.faces.push([te+b,te+(b+1)%g,te+g])}c.default.prototype.plane=function(h,p,u,g){this._assert3d("plane"),c.default._validateParameters("plane",arguments),h===void 0&&(h=50),p===void 0&&(p=h),g===void 0&&(g=1);var S,j="plane|".concat(u=u===void 0?1:u,"|").concat(g);return this._renderer.geometryInHash(j)||((S=new c.default.Geometry(u,g,function(){for(var _,b,E=0;E<=this.detailY;E++)for(var M=E/this.detailY,P=0;P<=this.detailX;P++)_=P/this.detailX,b=new c.default.Vector(_-.5,M-.5,0),this.vertices.push(b),this.uvs.push(_,M)})).computeFaces().computeNormals(),u<=1&&g<=1?S._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(j,S)),this._renderer.drawBuffersScaled(j,h,p,1),this},c.default.prototype.box=function(h,p,u,g,S){this._assert3d("box"),c.default._validateParameters("box",arguments),h===void 0&&(h=50),p===void 0&&(p=h),u===void 0&&(u=p);var j,_=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return S===void 0&&(S=_?1:4),_="box|".concat(g=g===void 0?_?1:4:g,"|").concat(S),this._renderer.geometryInHash(_)||((j=new c.default.Geometry(g,S,function(){var b=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(E,M){M*=4;for(var P=0;P<4;P++){var D=E[P];D=new c.default.Vector((2*(1&D)-1)/2,((2&D)-1)/2,((4&D)/2-1)/2),b.vertices.push(D),b.uvs.push(1&P,(2&P)/2)}b.faces.push([M,1+M,2+M]),b.faces.push([2+M,1+M,3+M])})})).computeNormals(),g<=4&&S<=4?j._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(_,j)),this._renderer.drawBuffersScaled(_,h,p,u),this},c.default.prototype.sphere=function(h,p,u){return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),this.ellipsoid(h=h===void 0?50:h,h,h,p=p===void 0?24:p,u=u===void 0?16:u),this},c.default.prototype.cylinder=function(h,p,u,g,S,j){this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),h===void 0&&(h=50),p===void 0&&(p=h),g===void 0&&(g=1),j===void 0&&(j=!0),S===void 0&&(S=!0);var _,b="cylinder|".concat(u=u===void 0?24:u,"|").concat(g,"|").concat(S,"|").concat(j);return this._renderer.geometryInHash(b)||(_=new c.default.Geometry(u,g),A.call(_,1,1,1,u,g,S,j),u<=24&&g<=16?_._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,_)),this._renderer.drawBuffersScaled(b,h,p,h),this},c.default.prototype.cone=function(h,p,u,g,S){this._assert3d("cone"),c.default._validateParameters("cone",arguments),h===void 0&&(h=50),p===void 0&&(p=h),g===void 0&&(g=1),S===void 0&&(S=!0);var j,_="cone|".concat(u=u===void 0?24:u,"|").concat(g,"|").concat(S);return this._renderer.geometryInHash(_)||(j=new c.default.Geometry(u,g),A.call(j,1,0,1,u,g,S,!1),u<=24&&g<=16?j._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(_,j)),this._renderer.drawBuffersScaled(_,h,p,h),this},c.default.prototype.ellipsoid=function(h,p,u,g,S){this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),h===void 0&&(h=50),p===void 0&&(p=h),u===void 0&&(u=h),S===void 0&&(S=16);var j,_="ellipsoid|".concat(g=g===void 0?24:g,"|").concat(S);return this._renderer.geometryInHash(_)||((j=new c.default.Geometry(g,S,function(){for(var b=0;b<=this.detailY;b++)for(var E=b/this.detailY,M=Math.PI*E-Math.PI/2,P=Math.cos(M),D=Math.sin(M),O=0;O<=this.detailX;O++){var U=O/this.detailX,F=2*Math.PI*U,H=Math.cos(F);F=Math.sin(F),F=new c.default.Vector(P*F,D,P*H),this.vertices.push(F),this.vertexNormals.push(F),this.uvs.push(U,E)}})).computeFaces(),g<=24&&S<=24?j._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(_,j)),this._renderer.drawBuffersScaled(_,h,p,u),this},c.default.prototype.torus=function(h,p,u,g){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),h===void 0)h=50;else if(!h)return;if(p===void 0)p=10;else if(!p)return;u===void 0&&(u=24),g===void 0&&(g=16);var S,j=(p/h).toPrecision(4);return p="torus|".concat(j,"|").concat(u,"|").concat(g),this._renderer.geometryInHash(p)||((S=new c.default.Geometry(u,g,function(){for(var _=0;_<=this.detailY;_++)for(var b=_/this.detailY,E=2*Math.PI*b,M=Math.cos(E),P=Math.sin(E),D=1+j*M,O=0;O<=this.detailX;O++){var U=O/this.detailX,F=2*Math.PI*U,H=Math.cos(F),G=(F=Math.sin(F),new c.default.Vector(D*H,D*F,j*P));H=new c.default.Vector(M*H,M*F,P),this.vertices.push(G),this.vertexNormals.push(H),this.uvs.push(U,b)}})).computeFaces(),u<=24&&g<=16?S._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(p,S)),this._renderer.drawBuffersScaled(p,h,h,h),this},c.default.RendererGL.prototype.point=function(h,p,u){var g=[];return g.push(new c.default.Vector(h,p,u=u===void 0?0:u)),this._drawPoints(g,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(h){var p=h[0],u=h[1],g=h[2],S=h[3],j=h[4],_=(h=h[5],this.geometryInHash("tri")||((_=new c.default.Geometry(1,1,function(){var M=[];M.push(new c.default.Vector(0,0,0)),M.push(new c.default.Vector(1,0,0)),M.push(new c.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=M,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),_.computeNormals(),this.createBuffers("tri",_)),this.uMVMatrix.copy());try{var b=Math.sign(p*S-g*u+g*h-j*S+j*u-p*h),E=new c.default.Matrix([g-p,S-u,0,0,j-p,h-u,0,0,0,0,b,0,p,u,0,1]).mult(this.uMVMatrix);this.uMVMatrix=E,this.drawBuffers("tri")}finally{this.uMVMatrix=_}return this},c.default.RendererGL.prototype.ellipse=function(h){this.arc(h[0],h[1],h[2],h[3],0,T.TWO_PI,T.OPEN,h[4])},c.default.RendererGL.prototype.arc=function(h){var p,u=arguments[1],g=arguments[2],S=arguments[3],j=arguments[4],_=arguments[5],b=arguments[6],E=arguments[7]||25,M=(Math.abs(_-j)>=T.TWO_PI?"".concat(P="ellipse","|"):"".concat(P="arc","|").concat(j,"|").concat(_,"|").concat(b,"|")).concat(E,"|"),P=(this.geometryInHash(M)||((p=new c.default.Geometry(E,1,function(){if(j.toFixed(10)!==_.toFixed(10)){b!==T.PIE&&b!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var D=0;D<=E;D++){var O=D/E*(_-j)+j,U=.5+Math.cos(O)/2;O=.5+Math.sin(O)/2,this.vertices.push(new c.default.Vector(U,O,0)),this.uvs.push([U,O]),D<E-1&&(this.faces.push([0,D+1,D+2]),this.edges.push([D+1,D+2]))}switch(b){case T.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case T.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case T.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),E<=50?p._edgesToVertices(p):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(P," with more than 50 detail")),this.createBuffers(M,p)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([h,u,0]),this.uMVMatrix.scale(g,S,1),this.drawBuffers(M)}finally{this.uMVMatrix=P}return this},c.default.RendererGL.prototype.rect=function(h){var p=h[0],u=h[1],g=h[2],S=h[3];if(h[4]===void 0){var j=this._pInst._glAttributes.perPixelLighting,_=h[4]||(j?1:24),b=h[5]||(j?1:16),E=(j="rect|".concat(_,"|").concat(b),this.geometryInHash(j)||((E=new c.default.Geometry(_,b,function(){for(var Q=0;Q<=this.detailY;Q++)for(var te=Q/this.detailY,ne=0;ne<=this.detailX;ne++){var ae=ne/this.detailX,ce=new c.default.Vector(ae,te,0);this.vertices.push(ce),this.uvs.push(ae,te)}0<_&&0<b&&(this.edges=[[0,_],[_,(_+1)*(b+1)-1],[(_+1)*(b+1)-1,(_+1)*b],[(_+1)*b,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(j,E)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([p,u,0]),this.uMVMatrix.scale(g,S,1),this.drawBuffers(j)}finally{this.uMVMatrix=E}}else{j=h[4],E=h[5]===void 0?j:h[5];var M=h[6]===void 0?E:h[6],P=(h=h[7]===void 0?M:h[7],g),D=S,O=((F=((P+=p)<p&&(F=p,p=P,P=F),(D+=u)<u&&(F=u,u=D,D=F),Math.min((P-p)/2,(D-u)/2)))<j&&(j=F),F<E&&(E=F),F<M&&(M=F),F<h&&(h=F),p),U=u,F=P,H=(p=D,this.beginShape(),E!==0?(this.vertex(F-E,U),this.quadraticVertex(F,U,F,U+E)):this.vertex(F,U),M!==0?(this.vertex(F,p-M),this.quadraticVertex(F,p,F-M,p)):this.vertex(F,p),h!==0?(this.vertex(O+h,p),this.quadraticVertex(O,p,O,p-h)):this.vertex(O,p),j!==0?(this.vertex(O,U+j),this.quadraticVertex(O,U,O+j,U)):this.vertex(O,U),!(this.immediateMode.geometry.uvs.length=0));u=!1,P=void 0;try{for(var G,Y=this.immediateMode.geometry.vertices[Symbol.iterator]();!(H=(G=Y.next()).done);H=!0){var q=G.value,V=(q.x-O)/g,$=(q.y-U)/S;this.immediateMode.geometry.uvs.push(V,$)}}catch(Q){u=!0,P=Q}finally{try{H||Y.return==null||Y.return()}finally{if(u)throw P}}this.endShape(T.CLOSE)}return this},c.default.RendererGL.prototype.quad=function(h,p,u,g,S,j,_,b,E,M,P,D,O,U){O===void 0&&(O=2),U===void 0&&(U=2);var F="quad|".concat(h,"|").concat(p,"|").concat(u,"|").concat(g,"|").concat(S,"|").concat(j,"|").concat(_,"|").concat(b,"|").concat(E,"|").concat(M,"|").concat(P,"|").concat(D,"|").concat(O,"|").concat(U);if(!this.geometryInHash(F)){var H=new c.default.Geometry(O,U,function(){for(var Q=1/(this.detailX-1),te=1/(this.detailY-1),ne=0;ne<this.detailY;ne++)for(var ae=0;ae<this.detailX;ae++){var ce=ae*Q,de=ne*te;this.vertices.push(new c.default.Vector((1-ce)*((1-de)*h+de*M)+ce*((1-de)*g+de*_),(1-ce)*((1-de)*p+de*P)+ce*((1-de)*S+de*b),(1-ce)*((1-de)*u+de*D)+ce*((1-de)*j+de*E))),this.uvs.push([ce,de])}});H.faces=[];for(var G=0;G<U-1;G++)for(var Y=0;Y<O-1;Y++){var q=Y+G*O,V=Y+1+(G+1)*O,$=Y+(G+1)*O;H.faces.push([q,Y+1+G*O,V]),H.faces.push([q,V,$])}H.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(F,H)}return this.drawBuffers(F),this},c.default.RendererGL.prototype.bezier=function(h,p,u,g,S,j,_,b,E,M,P,D){arguments.length===8&&(P=b,M=_,b=j,_=S,S=g,g=u,u=j=E=D=0);var O=this._pInst._bezierDetail||20;this.beginShape();for(var U=0;U<=O;U++){var F=Math.pow(1-U/O,3),H=U/O*3*Math.pow(1-U/O,2),G=3*Math.pow(U/O,2)*(1-U/O),Y=Math.pow(U/O,3);this.vertex(h*F+g*H+_*G+M*Y,p*F+S*H+b*G+P*Y,u*F+j*H+E*G+D*Y)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(h,p,u,g,S,j,_,b,E,M,P,D){arguments.length===8&&(M=_,P=b,_=S,b=g,S=g=u,u=j=E=D=0);var O=this._pInst._curveDetail;this.beginShape();for(var U=0;U<=O;U++){var F=.5*Math.pow(U/O,3),H=.5*Math.pow(U/O,2),G=U/O*.5;this.vertex(F*(3*g-h-3*_+M)+H*(2*h-5*g+4*_-M)+G*(-h+_)+2*g*.5,F*(3*S-p-3*b+P)+H*(2*p-5*S+4*b-P)+G*(-p+b)+2*S*.5,F*(3*j-u-3*E+D)+H*(2*u-5*j+4*E-D)+G*(-u+E)+2*j*.5)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(T.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(T.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var h,p,u,g,S,j,_=[],b=[],E=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,P=0,D=1,O=0;P<1;){if(j=parseFloat(P.toFixed(6)),this._lookUpTableBezier[O]=this._bezierCoefficients(j),D.toFixed(6)===M.toFixed(6)){j=parseFloat(D.toFixed(6))+parseFloat(P.toFixed(6)),++O,this._lookUpTableBezier[O]=this._bezierCoefficients(j);break}P+=M,D-=M,++O}}for(var U=this._lookUpTableBezier.length,F=[],H=0;H<4;H++)F.push([]);F[0]=this.immediateMode.geometry.vertexColors.slice(-4),F[3]=this.curFillColor.slice();var G=[];for(H=0;H<4;H++)G.push([]);if(G[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),G[3]=this.curStrokeColor.slice(),E===6){this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var Y=Math.hypot(_[0]-_[1],b[0]-b[1]),q=Math.hypot(_[1]-_[2],b[1]-b[2]),V=Math.hypot(_[2]-_[3],b[2]-b[3]);for(Y/=q=Y+q+V,V/=q,S=0;S<4;S++)F[1].push(F[0][S]*(1-Y)+F[3][S]*Y),F[2].push(F[0][S]*V+F[3][S]*(1-V)),G[1].push(G[0][S]*(1-Y)+G[3][S]*Y),G[2].push(G[0][S]*V+G[3][S]*(1-V));for(g=0;g<U;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],H=h=p=0;H<4;H++){for(S=0;S<4;S++)this.curFillColor[S]+=this._lookUpTableBezier[g][H]*F[H][S],this.curStrokeColor[S]+=this._lookUpTableBezier[g][H]*G[H][S];h+=_[H]*this._lookUpTableBezier[g][H],p+=b[H]*this._lookUpTableBezier[g][H]}this.vertex(h,p)}this.curFillColor=F[3],this.curStrokeColor=G[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(E===9){this.isBezier=!0,_=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var $=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],Q=Math.hypot(_[0]-_[1],b[0]-b[1],$[0]-$[1]),te=(q=Math.hypot(_[1]-_[2],b[1]-b[2],$[1]-$[2]),Math.hypot(_[2]-_[3],b[2]-b[3],$[2]-$[3]));for(Q/=E=Q+q+te,te/=E,S=0;S<4;S++)F[1].push(F[0][S]*(1-Q)+F[3][S]*Q),F[2].push(F[0][S]*te+F[3][S]*(1-te)),G[1].push(G[0][S]*(1-Q)+G[3][S]*Q),G[2].push(G[0][S]*te+G[3][S]*(1-te));for(g=0;g<U;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],H=h=p=u=0;H<4;H++){for(S=0;S<4;S++)this.curFillColor[S]+=this._lookUpTableBezier[g][H]*F[H][S],this.curStrokeColor[S]+=this._lookUpTableBezier[g][H]*G[H][S];h+=_[H]*this._lookUpTableBezier[g][H],p+=b[H]*this._lookUpTableBezier[g][H],u+=$[H]*this._lookUpTableBezier[g][H]}this.vertex(h,p,u)}this.curFillColor=F[3],this.curStrokeColor=G[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var h,p,u,g,S,j,_=[],b=[],E=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,P=0,D=1,O=0;P<1;){if(j=parseFloat(P.toFixed(6)),this._lookUpTableQuadratic[O]=this._quadraticCoefficients(j),D.toFixed(6)===M.toFixed(6)){j=parseFloat(D.toFixed(6))+parseFloat(P.toFixed(6)),++O,this._lookUpTableQuadratic[O]=this._quadraticCoefficients(j);break}P+=M,D-=M,++O}}for(var U=this._lookUpTableQuadratic.length,F=[],H=0;H<3;H++)F.push([]);F[0]=this.immediateMode.geometry.vertexColors.slice(-4),F[2]=this.curFillColor.slice();var G=[];for(H=0;H<3;H++)G.push([]);if(G[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),G[2]=this.curStrokeColor.slice(),E===4){this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var Y=Math.hypot(_[0]-_[1],b[0]-b[1]);for(Y/=Y+Math.hypot(_[1]-_[2],b[1]-b[2]),S=0;S<4;S++)F[1].push(F[0][S]*(1-Y)+F[2][S]*Y),G[1].push(G[0][S]*(1-Y)+G[2][S]*Y);for(g=0;g<U;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],H=h=p=0;H<3;H++){for(S=0;S<4;S++)this.curFillColor[S]+=this._lookUpTableQuadratic[g][H]*F[H][S],this.curStrokeColor[S]+=this._lookUpTableQuadratic[g][H]*G[H][S];h+=_[H]*this._lookUpTableQuadratic[g][H],p+=b[H]*this._lookUpTableQuadratic[g][H]}this.vertex(h,p)}this.curFillColor=F[2],this.curStrokeColor=G[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(E===6){this.isQuadratic=!0,_=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var q=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],V=Math.hypot(_[0]-_[1],b[0]-b[1],q[0]-q[1]);for(V/=V+Math.hypot(_[1]-_[2],b[1]-b[2],q[1]-q[2]),S=0;S<4;S++)F[1].push(F[0][S]*(1-V)+F[2][S]*V),G[1].push(G[0][S]*(1-V)+G[2][S]*V);for(g=0;g<U;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],H=h=p=u=0;H<3;H++){for(S=0;S<4;S++)this.curFillColor[S]+=this._lookUpTableQuadratic[g][H]*F[H][S],this.curStrokeColor[S]+=this._lookUpTableQuadratic[g][H]*G[H][S];h+=_[H]*this._lookUpTableQuadratic[g][H],p+=b[H]*this._lookUpTableQuadratic[g][H],u+=q[H]*this._lookUpTableQuadratic[g][H]}this.vertex(h,p,u)}this.curFillColor=F[2],this.curStrokeColor=G[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var h,p,u,g,S,j,_=[],b=[],E=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,P=0,D=1,O=0;P<1;){if(j=parseFloat(P.toFixed(6)),this._lookUpTableBezier[O]=this._bezierCoefficients(j),D.toFixed(6)===M.toFixed(6)){j=parseFloat(D.toFixed(6))+parseFloat(P.toFixed(6)),++O,this._lookUpTableBezier[O]=this._bezierCoefficients(j);break}P+=M,D-=M,++O}}var U=this._lookUpTableBezier.length;if(E===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),S=0;S<U;S++)p=_[0]*this._lookUpTableBezier[S][0]+_[1]*this._lookUpTableBezier[S][1]+_[2]*this._lookUpTableBezier[S][2]+_[3]*this._lookUpTableBezier[S][3],u=b[0]*this._lookUpTableBezier[S][0]+b[1]*this._lookUpTableBezier[S][1]+b[2]*this._lookUpTableBezier[S][2]+b[3]*this._lookUpTableBezier[S][3],this.vertex(p,u);for(S=0;S<E;S++)this.immediateMode._curveVertex.shift()}}else if(E===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,_=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),S=0;S<U;S++)p=_[0]*this._lookUpTableBezier[S][0]+_[1]*this._lookUpTableBezier[S][1]+_[2]*this._lookUpTableBezier[S][2]+_[3]*this._lookUpTableBezier[S][3],u=b[0]*this._lookUpTableBezier[S][0]+b[1]*this._lookUpTableBezier[S][1]+b[2]*this._lookUpTableBezier[S][2]+b[3]*this._lookUpTableBezier[S][3],g=h[0]*this._lookUpTableBezier[S][0]+h[1]*this._lookUpTableBezier[S][1]+h[2]*this._lookUpTableBezier[S][2]+h[3]*this._lookUpTableBezier[S][3],this.vertex(p,u,g);for(S=0;S<E;S++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(h,p,u,g,S,j,_,b,E){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(h),this._pInst.textureMode(T.NORMAL);var M=0,P=(p<=h.width&&(M=p/h.width),1);p+g<=h.width&&(P=(p+g)/h.width),p=0,u<=h.height&&(p=u/h.height),g=1,u+S<=h.height&&(g=(u+S)/h.height),this.beginShape(),this.vertex(j,_,0,M,p),this.vertex(j+b,_,0,P,p),this.vertex(j+b,_+E,0,P,g),this.vertex(j,_+E,0,M,g),this.endShape(T.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(T.REMOVE)};var f=c.default;x.default=f},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(n,C,x){function m(f){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.math.sign"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(A=n("../core/main"))&&A.__esModule?A:{default:A},c=function(f){if(f&&f.__esModule)return f;if(f===null||T(f)!=="object"&&typeof f!="function")return{default:f};var h=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(h&&h.has(f))return h.get(f);var p,u={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in f){var S;Object.prototype.hasOwnProperty.call(f,p)&&((S=g?Object.getOwnPropertyDescriptor(f,p):null)&&(S.get||S.set)?Object.defineProperty(u,p,S):u[p]=f[p])}return u.default=f,h&&h.set(f,u),u}(n("../core/constants"));function T(f){return(T=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(f)}d.default.prototype.orbitControl=function(f,h,p,u){var g=this,S=(this._assert3d("orbitControl"),d.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);f===void 0&&(f=1),h===void 0&&(h=f),p===void 0&&(p=1),T(u)!=="object"&&(u={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var j=u.disableTouchActions;this.touchActionsDisabled===!0||j!==void 0&&!j||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),u=(j=u.freeRotation)!==void 0&&j;var _,b,E,M=[],P=(j=(this.touches.forEach(function(G){g._renderer.prevTouches.forEach(function(Y){G.id===Y.id&&(Y={x:G.x,y:G.y,px:Y.x,py:Y.y},M.push(Y))})}),this._renderer.prevTouches=this.touches,0),0),D=0,O=0,U=0,F=this.height<this.width?this.height:this.width,H=!1;return 0<M.length?(H=0<M[0].x&&M[0].x<this.width&&0<M[0].y&&M[0].y<this.height,M.length===1?(P=-f*((_=M[0]).x-_.px)/F,D=h*(_.y-_.py)/F):(_=M[0],b=M[1],j=-(Math.hypot(_.x-b.x,_.y-b.y)-Math.hypot(_.px-b.px,_.py-b.py))*p*4e-4,O=.5*(_.x+b.x)-.5*(_.px+b.px),U=.5*(_.y+b.y)-.5*(_.py+b.py)),0<this.touches.length?H&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(H=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(j=Math.sign(this._mouseWheelDeltaY)*p,j*=.01,this._mouseWheelDeltaY=0,H&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(P=-f*this.movedX/F,D=h*this.movedY/F):this.mouseButton===this.RIGHT&&(O=this.movedX,U=this.movedY),H&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),j!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=j),.001<Math.abs(this._renderer.zoomVelocity)?(u?S._orbitFree(0,0,this._renderer.zoomVelocity):S._orbit(0,0,this._renderer.zoomVelocity),S.projMatrix.mat4[15]!==0&&(S.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),S.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=S.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=S.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,P===0&&D===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*P,.6*D),1e-6<this._renderer.rotateVelocity.magSq()?(u?S._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):S._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),O===0&&U===0||!this._renderer.executeRotateAndMove||(_=2*O/this.width,b=2*-U/this.height,this._renderer.moveVelocity.add(.15*_,.15*b)),1e-6<this._renderer.moveVelocity.magSq()?(p=S._getLocalAxes(),f=S.eyeX-S.centerX,h=S.eyeY-S.centerY,F=S.eyeZ-S.centerZ,H=Math.sqrt(f*f+h*h+F*F),j=new d.default.Vector(S.centerX,S.centerY,S.centerZ),j=S.cameraMatrix.multiplyPoint(j),(j=this._renderer.uPMatrix.multiplyAndNormalizePoint(j)).x-=this._renderer.moveVelocity.x,j.y-=this._renderer.moveVelocity.y,D=(P=this._renderer.uPMatrix.mat4)[15]===0?(E=(P[8]+j.x)/P[0]*H,(P[9]+j.y)/P[5]*H):(E=(j.x-P[12])/P[0],(j.y-P[13])/P[5]),S.setPosition(S.eyeX+E*p.x[0]+D*p.y[0],S.eyeY+E*p.x[1]+D*p.y[1],S.eyeZ+E*p.x[2]+D*p.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},d.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];d.default._validateParameters("debugMode",h);for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1);h[0]===c.GRID?this.registerMethod("post",this._grid.call(this,h[1],h[2],h[3],h[4],h[5])):h[0]===c.AXES?this.registerMethod("post",this._axesIcon.call(this,h[1],h[2],h[3],h[4])):(this.registerMethod("post",this._grid.call(this,h[0],h[1],h[2],h[3],h[4])),this.registerMethod("post",this._axesIcon.call(this,h[5],h[6],h[7],h[8])))},d.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1)},d.default.prototype._grid=function(f,h,p,u,g){f===void 0&&(f=this.width/2),h===void 0&&(h=Math.round(f/30)<4?4:Math.round(f/30)),p===void 0&&(p=0),u===void 0&&(u=0),g===void 0&&(g=0);var S=f/h,j=f/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var _=0;_<=h;_++)this.beginShape(this.LINES),this.vertex(-j+p,u,_*S-j+g),this.vertex(j+p,u,_*S-j+g),this.endShape();for(var b=0;b<=h;b++)this.beginShape(this.LINES),this.vertex(b*S-j+p,u,-j+g),this.vertex(b*S-j+p,u,j+g),this.endShape();this.pop()}},d.default.prototype._axesIcon=function(f,h,p,u){return f===void 0&&(f=40<this.width/20?this.width/20:40),h===void 0&&(h=-this.width/4),p===void 0&&(p=h),u===void 0&&(u=h),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(h,p,u),this.vertex(h+f,p,u),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(h,p,u),this.vertex(h,p+f,u),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(h,p,u),this.vertex(h,p,u+f),this.endShape(),this.pop()}};var A=d.default;x.default=A},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(n,C,x){Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};m.default.prototype.ambientLight=function(d,c,T,A){this._assert3d("ambientLight"),m.default._validateParameters("ambientLight",arguments);var f=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(f._array[0],f._array[1],f._array[2]),this._renderer._enableLighting=!0,this},m.default.prototype.specularColor=function(d,c,T){this._assert3d("specularColor"),m.default._validateParameters("specularColor",arguments);var A=this.color.apply(this,arguments);return this._renderer.specularColors=[A._array[0],A._array[1],A._array[2]],this},m.default.prototype.directionalLight=function(d,c,T,A,f,h){this._assert3d("directionalLight"),m.default._validateParameters("directionalLight",arguments),d=d instanceof m.default.Color?d:this.color(d,c,T);var p,u;return T=typeof(c=arguments[arguments.length-1])=="number"?(p=arguments[arguments.length-3],u=arguments[arguments.length-2],arguments[arguments.length-1]):(p=c.x,u=c.y,c.z),c=Math.sqrt(p*p+u*u+T*T),this._renderer.directionalLightDirections.push(p/c,u/c,T/c),this._renderer.directionalLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},m.default.prototype.pointLight=function(d,c,T,A,f,h){this._assert3d("pointLight"),m.default._validateParameters("pointLight",arguments),d=d instanceof m.default.Color?d:this.color(d,c,T);var p,u;return T=typeof(c=arguments[arguments.length-1])=="number"?(p=arguments[arguments.length-3],u=arguments[arguments.length-2],arguments[arguments.length-1]):(p=c.x,u=c.y,c.z),this._renderer.pointLightPositions.push(p,u,T),this._renderer.pointLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},m.default.prototype.lights=function(){this._assert3d("lights");var d=this.color("rgb(128,128,128)");return this.ambientLight(d),this.directionalLight(d,0,0,-1),this},m.default.prototype.lightFalloff=function(d,c,T){return this._assert3d("lightFalloff"),m.default._validateParameters("lightFalloff",arguments),d<0&&(d=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),T<0&&(T=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),d===0&&c===0&&T===0&&(d=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=d,this._renderer.linearAttenuation=c,this._renderer.quadraticAttenuation=T,this},m.default.prototype.spotLight=function(d,c,T,A,f,h,p,u,g,S,j){this._assert3d("spotLight"),m.default._validateParameters("spotLight",arguments);var _,b,E,M=arguments.length;switch(M){case 11:case 10:_=this.color(d,c,T),b=new m.default.Vector(A,f,h),E=new m.default.Vector(p,u,g);break;case 9:d instanceof m.default.Color?(_=d,b=new m.default.Vector(c,T,A),E=new m.default.Vector(f,h,p),S=u,j=g):A instanceof m.default.Vector?(_=this.color(d,c,T),b=A,E=new m.default.Vector(f,h,p),S=u,j=g):p instanceof m.default.Vector?(_=this.color(d,c,T),b=new m.default.Vector(A,f,h),E=p,S=u,j=g):(_=this.color(d,c,T),b=new m.default.Vector(A,f,h),E=new m.default.Vector(p,u,g));break;case 8:E=d instanceof m.default.Color?(_=d,b=new m.default.Vector(c,T,A),new m.default.Vector(f,h,p)):A instanceof m.default.Vector?(_=this.color(d,c,T),b=A,new m.default.Vector(f,h,p)):(_=this.color(d,c,T),b=new m.default.Vector(A,f,h),p),S=u;break;case 7:d instanceof m.default.Color&&c instanceof m.default.Vector?(_=d,b=c,E=new m.default.Vector(T,A,f),S=h,j=p):d instanceof m.default.Color&&f instanceof m.default.Vector?(_=d,b=new m.default.Vector(c,T,A),E=f,S=h,j=p):A instanceof m.default.Vector&&f instanceof m.default.Vector?(_=this.color(d,c,T),b=A,E=f,S=h,j=p):E=d instanceof m.default.Color?(_=d,b=new m.default.Vector(c,T,A),new m.default.Vector(f,h,p)):A instanceof m.default.Vector?(_=this.color(d,c,T),b=A,new m.default.Vector(f,h,p)):(_=this.color(d,c,T),b=new m.default.Vector(A,f,h),p);break;case 6:A instanceof m.default.Vector&&f instanceof m.default.Vector?(_=this.color(d,c,T),b=A,E=f,S=h):d instanceof m.default.Color&&f instanceof m.default.Vector?(_=d,b=new m.default.Vector(c,T,A),E=f,S=h):d instanceof m.default.Color&&c instanceof m.default.Vector&&(_=d,b=c,E=new m.default.Vector(T,A,f),S=h);break;case 5:d instanceof m.default.Color&&c instanceof m.default.Vector&&T instanceof m.default.Vector?(_=d,b=c,E=T,S=A,j=f):A instanceof m.default.Vector&&f instanceof m.default.Vector?(_=this.color(d,c,T),b=A,E=f):d instanceof m.default.Color&&f instanceof m.default.Vector?(_=d,b=new m.default.Vector(c,T,A),E=f):d instanceof m.default.Color&&c instanceof m.default.Vector&&(_=d,b=c,E=new m.default.Vector(T,A,f));break;case 4:_=d,b=c,E=T,S=A;break;case 3:_=d,b=c,E=T;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(M<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(_._array[0],_._array[1],_._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(b.x,b.y,b.z),E.normalize(),this._renderer.spotLightDirections.push(E.x,E.y,E.z),S===void 0&&(S=Math.PI/3),j!==void 0&&j<1?(j=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):j===void 0&&(j=100),S=this._renderer._pInst._toRadians(S),this._renderer.spotLightAngle.push(Math.cos(S)),this._renderer.spotLightConc.push(j),this._renderer._enableLighting=!0,this},m.default.prototype.noLights=function(){this._assert3d("noLights");for(var d=arguments.length,c=new Array(d),T=0;T<d;T++)c[T]=arguments[T];return m.default._validateParameters("noLights",c),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},n=m.default,x.default=n},{"../core/main":273}],319:[function(n,C,x){n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.splice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.match"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.trim"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(d=n("../core/main"))&&d.__esModule?d:{default:d};n("./p5.Geometry"),m.default.prototype.loadModel=function(c){m.default._validateParameters("loadModel",arguments);var T,A,f,h=c.slice(-4),p=(typeof arguments[1]=="boolean"?(T=arguments[1],A=arguments[2],f=arguments[3],arguments[4]!==void 0&&(h=arguments[4])):(T=!1,A=arguments[1],f=arguments[2],arguments[3]!==void 0&&(h=arguments[3])),new m.default.Geometry),u=(p.gid="".concat(c,"|").concat(T),this);return h.match(/\.stl$/i)?this.httpDo(c,"GET","arrayBuffer",function(g){(function(S,j){if(function(_){for(var b=new DataView(_),E=[115,111,108,105,100],M=0;M<5;M++)if(function(P,D,O){for(var U=0,F=P.length;U<F;U++)if(P[U]!==D.getUint8(O+U,!1))return;return 1}(E,b,M))return;return 1}(j))(function(_,b){for(var E,M,P,D,O,U,F,H=new DataView(b),G=H.getUint32(80,!0),Y=!1,q=0;q<70;q++)H.getUint32(q,!1)===1129270351&&H.getUint8(q+4)===82&&H.getUint8(q+5)===61&&(Y=!0,D=[],O=H.getUint8(q+6)/255,U=H.getUint8(q+7)/255,F=H.getUint8(q+8)/255);for(var V=0;V<G;V++){for(var $,Q=84+50*V,te=H.getFloat32(Q,!0),ne=H.getFloat32(4+Q,!0),ae=H.getFloat32(8+Q,!0),ce=(Y&&(P=(32768&($=H.getUint16(48+Q,!0)))==0?(E=(31&$)/31,M=($>>5&31)/31,($>>10&31)/31):(E=O,M=U,F)),new m.default.Vector(te,ne,ae)),de=1;de<=3;de++){var X=Q+12*de;X=new m.default.Vector(H.getFloat32(X,!0),H.getFloat32(4+X,!0),H.getFloat32(8+X,!0)),_.vertices.push(X),_.vertexNormals.push(ce),Y&&D.push(E,M,P)}_.faces.push([3*V,3*V+1,3*V+2]),_.uvs.push([0,0],[0,0],[0,0])}})(S,j);else{if(j=new DataView(j),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");(function(_,b){for(var E,M,P="",D=[],O=0;O<b.length;++O){for(var U=b[O].trim(),F=U.split(" "),H=0;H<F.length;++H)F[H]===""&&F.splice(H,1);if(F.length!==0)switch(P){case"":if(F[0]!=="solid")return console.error(U),console.error('Invalid state "'.concat(F[0],'", should be "solid"'));P="solid";break;case"solid":if(F[0]!=="facet"||F[1]!=="normal")return console.error(U),console.error('Invalid state "'.concat(F[0],'", should be "facet normal"'));E=new m.default.Vector(parseFloat(F[2]),parseFloat(F[3]),parseFloat(F[4])),_.vertexNormals.push(E,E,E),P="facet normal";break;case"facet normal":if(F[0]!=="outer"||F[1]!=="loop")return console.error(U),console.error('Invalid state "'.concat(F[0],'", should be "outer loop"'));P="vertex";break;case"vertex":if(F[0]==="vertex")M=new m.default.Vector(parseFloat(F[1]),parseFloat(F[2]),parseFloat(F[3])),_.vertices.push(M),_.uvs.push([0,0]),D.push(_.vertices.indexOf(M));else{if(F[0]!=="endloop")return console.error(U),console.error('Invalid state "'.concat(F[0],'", should be "vertex" or "endloop"'));_.faces.push(D),D=[],P="endloop"}break;case"endloop":if(F[0]!=="endfacet")return console.error(U),console.error('Invalid state "'.concat(F[0],'", should be "endfacet"'));P="endfacet";break;case"endfacet":if(F[0]!=="endsolid"){if(F[0]!=="facet"||F[1]!=="normal")return console.error(U),console.error('Invalid state "'.concat(F[0],'", should be "endsolid" or "facet normal"'));E=new m.default.Vector(parseFloat(F[2]),parseFloat(F[3]),parseFloat(F[4])),_.vertexNormals.push(E,E,E),P="facet normal"}break;default:console.error('Invalid state "'.concat(P,'"'))}}})(S,j=new TextDecoder("utf-8").decode(j).split(`
`))}})(p,g),T&&p.normalize(),u._decrementPreload(),typeof A=="function"&&A(p)},f):h.match(/\.obj$/i)?this.loadStrings(c,function(g){for(var S=p,j=g,_={v:[],vt:[],vn:[]},b={},E=0;E<j.length;++E){var M=j[E].trim().split(/\b\s+/);if(0<M.length){if(M[0]==="v"||M[0]==="vn"){var P=new m.default.Vector(parseFloat(M[1]),parseFloat(M[2]),parseFloat(M[3]));_[M[0]].push(P)}else if(M[0]==="vt")P=[parseFloat(M[1]),1-parseFloat(M[2])],_[M[0]].push(P);else if(M[0]==="f")for(var D=3;D<M.length;++D){for(var O=[],U=[1,D-1,D],F=0;F<U.length;++F){var H=M[U[F]],G=0;if(b[H]!==void 0)G=b[H];else{for(var Y=H.split("/"),q=0;q<Y.length;q++)Y[q]=parseInt(Y[q])-1;G=b[H]=S.vertices.length,S.vertices.push(_.v[Y[0]].copy()),_.vt[Y[1]]?S.uvs.push(_.vt[Y[1]].slice()):S.uvs.push([0,0]),_.vn[Y[2]]&&S.vertexNormals.push(_.vn[Y[2]].copy())}O.push(G)}O[0]!==O[1]&&O[0]!==O[2]&&O[1]!==O[2]&&S.faces.push(O)}}}S.vertexNormals.length===0&&S.computeNormals(),T&&p.normalize(),u._decrementPreload(),typeof A=="function"&&A(p)},f):(m.default._friendlyFileLoadError(3,c),f?f():m.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),p},m.default.prototype.model=function(c){this._assert3d("model"),m.default._validateParameters("model",arguments),0<c.vertices.length&&(this._renderer.geometryInHash(c.gid)||(c.edges.length===0&&c._makeTriangleEdges(),c._edgesToVertices(),this._renderer.createBuffers(c.gid,c)),this._renderer.drawBuffers(c.gid))};var d=m.default;x.default=d},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(n,C,x){function m(f){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(f)}function d(f){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(h){return m(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":m(h)})(f)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.join"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(A=n("../core/main"))&&A.__esModule?A:{default:A},T=function(f){if(f&&f.__esModule)return f;if(f===null||d(f)!=="object"&&typeof f!="function")return{default:f};var h=function(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,j)}();if(h&&h.has(f))return h.get(f);var p,u={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in f){var S;Object.prototype.hasOwnProperty.call(f,p)&&((S=g?Object.getOwnPropertyDescriptor(f,p):null)&&(S.get||S.set)?Object.defineProperty(u,p,S):u[p]=f[p])}return u.default=f,h&&h.set(f,u),u}(n("../core/constants"));n("./p5.Texture"),c.default.prototype.loadShader=function(f,h,p,u){function g(){j._decrementPreload(),p&&p(S)}c.default._validateParameters("loadShader",arguments),u=u||console.error;var S=new c.default.Shader,j=this,_=!1,b=!1;return this.loadStrings(f,function(E){S._vertSrc=E.join(`
`),b=!0,_&&g()},u),this.loadStrings(h,function(E){S._fragSrc=E.join(`
`),_=!0,b&&g()},u),S},c.default.prototype.createShader=function(f,h){return this._assert3d("createShader"),c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,f,h)},c.default.prototype.shader=function(f){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),f._renderer===void 0&&(f._renderer=this._renderer),f.init(),f.isStrokeShader()?this._renderer.userStrokeShader=f:(this._renderer.userFillShader=f,this._renderer._useNormalMaterial=!1),this},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(f){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),f.gifProperties&&f._animateGif(this),this._renderer.drawMode=T.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=f,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(f){f!==T.IMAGE&&f!==T.NORMAL?console.warn("You tried to set ".concat(f," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=f},c.default.prototype.textureWrap=function(f){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:f,p=(this._renderer.textureWrapX=f,this._renderer.textureWrapY=h,!0),u=!1,g=void 0;try{for(var S,j=this._renderer.textures.values()[Symbol.iterator]();!(p=(S=j.next()).done);p=!0)S.value.setWrapMode(f,h)}catch(_){u=!0,g=_}finally{try{p||j.return==null||j.return()}finally{if(u)throw g}}},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];return c.default._validateParameters("normalMaterial",h),this._renderer.drawMode=T.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(f,h,p){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var u=c.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=u._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(f,h,p,u){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var g=c.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=g._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.specularMaterial=function(f,h,p,u){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var g=c.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=g._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.shininess=function(f){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),this._renderer._useShininess=f=f<1?1:f,this},c.default.RendererGL.prototype._applyColorBlend=function(f){var h=this.GL,p=this.drawMode===T.TEXTURE;return(p=this.userFillShader||this.userStrokeShader||this.userPointShader||p||this.curBlendMode!==T.BLEND||f[f.length-1]<1||this._isErasing)!==this._isBlending&&(p||this.curBlendMode!==T.BLEND&&this.curBlendMode!==T.ADD?h.enable(h.BLEND):h.disable(h.BLEND),h.depthMask(!0),this._isBlending=p),this._applyBlendMode(),f},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var f=this.GL;switch(this.curBlendMode){case T.BLEND:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA);break;case T.ADD:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE);break;case T.REMOVE:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ZERO,f.ONE_MINUS_SRC_ALPHA);break;case T.MULTIPLY:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.DST_COLOR,f.ONE_MINUS_SRC_ALPHA);break;case T.SCREEN:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE_MINUS_SRC_COLOR);break;case T.EXCLUSION:f.blendEquationSeparate(f.FUNC_ADD,f.FUNC_ADD),f.blendFuncSeparate(f.ONE_MINUS_DST_COLOR,f.ONE_MINUS_SRC_COLOR,f.ONE,f.ONE);break;case T.REPLACE:f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ZERO);break;case T.SUBTRACT:f.blendEquationSeparate(f.FUNC_REVERSE_SUBTRACT,f.FUNC_ADD),f.blendFuncSeparate(f.ONE,f.ONE,f.ONE,f.ONE_MINUS_SRC_ALPHA);break;case T.DARKEST:this.blendExt?(f.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,f.FUNC_ADD),f.blendFuncSeparate(f.ONE,f.ONE,f.ONE,f.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case T.LIGHTEST:this.blendExt?(f.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,f.FUNC_ADD),f.blendFuncSeparate(f.ONE,f.ONE,f.ONE,f.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var A=c.default;x.default=A},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(n,C,x){n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.string.sub"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.math.hypot"),n("core-js/modules/es.string.sub"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(c,T){for(var A=0;A<T.length;A++){var f=T[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}m.default.prototype.camera=function(){var c;this._assert3d("camera");for(var T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];return m.default._validateParameters("camera",A),(c=this._renderer._curCamera).camera.apply(c,A),this},m.default.prototype.perspective=function(){var c;this._assert3d("perspective");for(var T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];return m.default._validateParameters("perspective",A),(c=this._renderer._curCamera).perspective.apply(c,A),this},m.default.prototype.ortho=function(){var c;this._assert3d("ortho");for(var T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];return m.default._validateParameters("ortho",A),(c=this._renderer._curCamera).ortho.apply(c,A),this},m.default.prototype.frustum=function(){var c;this._assert3d("frustum");for(var T=arguments.length,A=new Array(T),f=0;f<T;f++)A[f]=arguments[f];return m.default._validateParameters("frustum",A),(c=this._renderer._curCamera).frustum.apply(c,A),this},m.default.prototype.createCamera=function(){this._assert3d("createCamera");var c=new m.default.Camera(this._renderer);return c._computeCameraDefaultSettings(),c._setDefaultCamera(),this._renderer._curCamera=c},m.default.Camera=function(){function c(f){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._renderer=f,this.cameraType="default",this.cameraMatrix=new m.default.Matrix,this.projMatrix=new m.default.Matrix,this.yScale=1}var T,A;return T=c,(A=[{key:"perspective",value:function(f,h,p,u){this.cameraType=0<arguments.length?"custom":"default",f===void 0?(f=this.defaultCameraFOV,this.cameraFOV=f):this.cameraFOV=this._renderer._pInst._toRadians(f),h===void 0&&(h=this.defaultAspectRatio),p===void 0&&(p=this.defaultCameraNear),u===void 0&&(u=this.defaultCameraFar),p<=1e-4&&(p=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),u<p&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=h,this.cameraNear=p,this.cameraFar=u,this.projMatrix=m.default.Matrix.identity(),f=1/Math.tan(this.cameraFOV/2);var g=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(f/h,0,0,0,0,-f*this.yScale,0,0,0,0,(u+p)*g,-1,0,0,2*u*p*g,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(f,h,p,u,g,S){f===void 0&&(f=-this._renderer.width/2),h===void 0&&(h=+this._renderer.width/2),p===void 0&&(p=-this._renderer.height/2),u===void 0&&(u=+this._renderer.height/2),g===void 0&&(g=0),S===void 0&&(S=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=g;var j=h-f,_=u-p,b=(this.cameraFar=S)-g,E=2/j,M=2/_*this.yScale,P=-2/b;h=-(h+f)/j,f=-(u+p)/_,j=-(S+g)/b,this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-M,0,0,0,0,P,0,h,f,j,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(f,h,p,u,g,S){f===void 0&&(f=.05*-this._renderer.width),h===void 0&&(h=.05*+this._renderer.width),p===void 0&&(p=.05*+this._renderer.height),u===void 0&&(u=.05*-this._renderer.height),g===void 0&&(g=this.defaultCameraNear),S===void 0&&(S=this.defaultCameraFar),this.cameraNear=g;var j=h-f,_=u-p,b=(this.cameraFar=S)-g,E=2*g/j,M=2*g/_*this.yScale,P=-2*S*g/b;h=(h+f)/j,f=(u+p)/_,j=-(S+g)/b,this.projMatrix=m.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-M,0,0,h,f,j,-1,0,0,P,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(f,h,p,u){var g=this.centerX,S=this.centerY,j=this.centerZ,_=(g-=this.eyeX,S-=this.eyeY,j-=this.eyeZ,m.default.Matrix.identity(this._renderer._pInst));(f=(_.rotate(this._renderer._pInst._toRadians(f),h,p,u),[g*_.mat4[0]+S*_.mat4[4]+j*_.mat4[8],g*_.mat4[1]+S*_.mat4[5]+j*_.mat4[9],g*_.mat4[2]+S*_.mat4[6]+j*_.mat4[10]]))[0]+=this.eyeX,f[1]+=this.eyeY,f[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,f[0],f[1],f[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(f){var h=this._getLocalAxes();this._rotateView(f,h.y[0],h.y[1],h.y[2])}},{key:"tilt",value:function(f){var h=this._getLocalAxes();this._rotateView(f,h.x[0],h.x[1],h.x[2])}},{key:"lookAt",value:function(f,h,p){this.camera(this.eyeX,this.eyeY,this.eyeZ,f,h,p,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(f,h,p,u,g,S,j,_,b){return f===void 0&&(f=this.defaultEyeX,h=this.defaultEyeY,p=this.defaultEyeZ,u=f,g=h,_=1,b=j=S=0),this.eyeX=f,this.eyeY=h,this.eyeZ=p,u!==void 0&&(this.centerX=u,this.centerY=g,this.centerZ=S),j!==void 0&&(this.upX=j,this.upY=_,this.upZ=b),u=this._getLocalAxes(),this.cameraMatrix.set(u.x[0],u.y[0],u.z[0],0,u.x[1],u.y[1],u.z[1],0,u.x[2],u.y[2],u.z[2],0,0,0,0,1),g=-f,this.cameraMatrix.translate([g,-h,-p]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(f,h,p){f=[(u=this._getLocalAxes()).x[0]*f,u.x[1]*f,u.x[2]*f],h=[u.y[0]*h,u.y[1]*h,u.y[2]*h];var u=[u.z[0]*p,u.z[1]*p,u.z[2]*p];this.camera(this.eyeX+f[0]+h[0]+u[0],this.eyeY+f[1]+h[1]+u[1],this.eyeZ+f[2]+h[2]+u[2],this.centerX+f[0]+h[0]+u[0],this.centerY+f[1]+h[1]+u[1],this.centerZ+f[2]+h[2]+u[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(f,h,p){var u=f-this.eyeX,g=h-this.eyeY,S=p-this.eyeZ;this.camera(f,h,p,this.centerX+u,this.centerY+g,this.centerZ+S,this.upX,this.upY,this.upZ)}},{key:"set",value:function(f){for(var h=0,p=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];h<p.length;h++){var u=p[h];this[u]=f[u]}this.cameraMatrix=f.cameraMatrix.copy(),this.projMatrix=f.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(f,h,p){var u,g,S,j,_,b,E,M,P,D,O,U,F,H,G,Y,q,V;p===0?this.set(f):p===1?this.set(h):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=f.projMatrix.mat4[0]*Math.pow(h.projMatrix.mat4[0]/f.projMatrix.mat4[0],p),this.projMatrix.mat4[5]=f.projMatrix.mat4[5]*Math.pow(h.projMatrix.mat4[5]/f.projMatrix.mat4[5],p),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),j=new m.default.Vector(f.eyeX,f.eyeY,f.eyeZ),_=new m.default.Vector(h.eyeX,h.eyeY,h.eyeZ),Y=new m.default.Vector(f.centerX,f.centerY,f.centerZ),V=new m.default.Vector(h.centerX,h.centerY,h.centerZ),S=m.default.Vector.dist(j,Y),u=m.default.Vector.dist(_,V),u=S*Math.pow(u/S,p),S=m.default.Vector.sub(j,_),g=1,1e-6<(q=(H=j.copy().sub(_).sub(Y).add(V)).magSq())&&(g=m.default.Vector.dot(S,H)/q,g=Math.max(0,Math.min(g,1))),S=m.default.Vector.lerp(m.default.Vector.lerp(j,Y,g),m.default.Vector.lerp(_,V,g),p),H=f.cameraMatrix.createSubMatrix3x3(),q=h.cameraMatrix.createSubMatrix3x3(),j=H.column(2),Y=q.column(2),_=H.column(1),V=q.column(1),f=new m.default.Vector,h=new m.default.Vector,b=new m.default.Vector,E=new m.default.Vector,1-(M=.5*((H=(q=q.mult3x3(H.copy().transpose3x3())).diagonal())[0]+H[1]+H[2]-1))<1e-7?(f.set(m.default.Vector.lerp(j,Y,p)).normalize(),b.set(f).mult(g*u).add(S),E.set(f).mult((g-1)*u).add(S),h.set(m.default.Vector.lerp(_,V,p)).normalize()):(Y=1/(1-M),V=Math.max(H[0],H[1],H[2]),U=q.mat3[1]+q.mat3[3],F=q.mat3[2]+q.mat3[6],G=q.mat3[5]+q.mat3[7],V=V===H[0]?(D=.5*U*(Y/=P=Math.sqrt((H[0]-M)*Y)),O=.5*F*Y,.5*(q.mat3[7]-q.mat3[5])/P):V===H[1]?(O=.5*G*(Y/=D=Math.sqrt((H[1]-M)*Y)),P=.5*U*Y,.5*(q.mat3[2]-q.mat3[6])/D):(P=.5*F*(Y/=O=Math.sqrt((H[2]-M)*Y)),D=.5*G*Y,.5*(q.mat3[3]-q.mat3[1])/O),U=p*Math.atan2(V,M),F=Math.cos(U),H=Math.sin(U),(V=new m.default.Matrix("mat3",[F+(G=1-F)*P*P,G*(Y=P*D)-H*O,G*(q=O*P)+H*D,G*Y+H*O,F+G*D*D,G*(p=D*O)-H*P,G*q-H*D,G*p+H*P,F+G*O*O])).multiplyVec3(j,f),b.set(f).mult(g*u).add(S),E.set(f).mult((g-1)*u).add(S),V.multiplyVec3(_,h)),this.camera(b.x,b.y,b.z,E.x,E.y,E.z,h.x,h.y,h.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var f=new m.default.Camera(this._renderer);return f.cameraFOV=this.cameraFOV,f.aspectRatio=this.aspectRatio,f.eyeX=this.eyeX,f.eyeY=this.eyeY,f.eyeZ=this.eyeZ,f.centerX=this.centerX,f.centerY=this.centerY,f.centerZ=this.centerZ,f.upX=this.upX,f.upY=this.upY,f.upZ=this.upZ,f.cameraNear=this.cameraNear,f.cameraFar=this.cameraFar,f.cameraType=this.cameraType,f.cameraMatrix=this.cameraMatrix.copy(),f.projMatrix=this.projMatrix.copy(),f}},{key:"_getLocalAxes",value:function(){var f,h=this.eyeX-this.centerX,p=this.eyeY-this.centerY,u=this.eyeZ-this.centerZ,g=((g=Math.sqrt(h*h+p*p+u*u))!==0&&(h/=g,p/=g,u/=g),this.upX),S=(b=this.upY)*u-(E=this.upZ)*p,j=-g*u+E*h,_=g*p-b*h,b=(g=p*_-u*j,-h*_+u*S),E=h*j-p*S;return(f=((f=Math.sqrt(S*S+j*j+_*_))!==0&&(S/=f,j/=f,_/=f),Math.sqrt(g*g+b*b+E*E)))!==0&&(g/=f,b/=f,E/=f),{x:[S,j,_],y:[g,b,E],z:[h,p,u]}}},{key:"_orbit",value:function(f,h,p){var u=this.eyeX-this.centerX,g=this.eyeY-this.centerY,S=this.eyeZ-this.centerZ,j=Math.hypot(u,g,S),_=(u=new m.default.Vector(u,g,S).normalize(),g=new m.default.Vector(this.upX,this.upY,this.upZ).normalize(),S=new m.default.Vector.cross(g,u).normalize(),new m.default.Vector.cross(S,g));(j=(j*=Math.pow(10,p))<this.cameraNear?this.cameraNear:j)>this.cameraFar&&(j=this.cameraFar),p=Math.acos(Math.max(-1,Math.min(1,m.default.Vector.dot(u,g))))+h,h=f,(p<=0||p>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),g.mult(Math.cos(p)),_.mult(Math.cos(h)*Math.sin(p)),S.mult(Math.sin(h)*Math.sin(p)),u.set(g).add(_).add(S),this.eyeX=j*u.x+this.centerX,this.eyeY=j*u.y+this.centerY,this.eyeZ=j*u.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(f,h,p){var u=this.eyeX-this.centerX,g=this.eyeY-this.centerY,S=this.eyeZ-this.centerZ,j=Math.hypot(u,g,S),_=(u=new m.default.Vector(u,g,S).normalize(),g=new m.default.Vector(this.upX,this.upY,this.upZ),S=new m.default.Vector.cross(g,u).normalize(),new m.default.Vector.cross(u,S)),b=Math.atan2(h,f),E=(b=(_.mult(Math.sin(b)),S.mult(Math.cos(b)).add(_),Math.sqrt(f*f+h*h)),_=new m.default.Vector.cross(u,S),f=((j=(j*=Math.pow(10,p))<this.cameraNear?this.cameraNear:j)>this.cameraFar&&(j=this.cameraFar),Math.cos(b)),h=Math.sin(b),(p=g.dot(u))*f+(b=g.dot(S))*h);p=-p*h+b*f,b=g.dot(_),g.x=E*u.x+p*S.x+b*_.x,g.y=E*u.y+p*S.y+b*_.y,g.z=E*u.z+p*S.z+b*_.z,S.mult(-h),u.mult(f).add(S).mult(j),this.camera(u.x+this.centerX,u.y+this.centerY,u.z+this.centerZ,this.centerX,this.centerY,this.centerZ,g.x,g.y,g.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&d(T.prototype,A),c}(),m.default.prototype.setCamera=function(c){this._renderer._curCamera=c,this._renderer.uPMatrix.set(c.projMatrix.mat4[0],c.projMatrix.mat4[1],c.projMatrix.mat4[2],c.projMatrix.mat4[3],c.projMatrix.mat4[4],c.projMatrix.mat4[5],c.projMatrix.mat4[6],c.projMatrix.mat4[7],c.projMatrix.mat4[8],c.projMatrix.mat4[9],c.projMatrix.mat4[10],c.projMatrix.mat4[11],c.projMatrix.mat4[12],c.projMatrix.mat4[13],c.projMatrix.mat4[14],c.projMatrix.mat4[15])},n=m.default.Camera,x.default=n},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(n,C,x){function m(D){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(D)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.reflect.get"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.reflect.get"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint8-clamped-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var d=(P=n("../core/main"))&&P.__esModule?P:{default:P},c=function(D){if(D&&D.__esModule)return D;if(D===null||p(D)!=="object"&&typeof D!="function")return{default:D};var O=function(){var Y;return typeof WeakMap!="function"?null:(Y=new WeakMap,Y)}();if(O&&O.has(D))return O.get(D);var U,F={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in D){var G;Object.prototype.hasOwnProperty.call(D,U)&&((G=H?Object.getOwnPropertyDescriptor(D,U):null)&&(G.get||G.set)?Object.defineProperty(F,U,G):F[U]=D[U])}return F.default=D,O&&O.set(D,F),F}(n("../core/constants")),T=n("./p5.Texture"),A=n("./p5.RendererGL");function f(D,O){return function(U){if(Array.isArray(U))return U}(D)||function(U,F){if(Symbol.iterator in Object(U)||Object.prototype.toString.call(U)==="[object Arguments]"){var H=[],G=!0,Y=!1,q=void 0;try{for(var V,$=U[Symbol.iterator]();!(G=(V=$.next()).done)&&(H.push(V.value),!F||H.length!==F);G=!0);}catch(Q){Y=!0,q=Q}finally{try{G||$.return==null||$.return()}finally{if(Y)throw q}}return H}}(D,O)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(D,O,U){return O in D?Object.defineProperty(D,O,{value:U,enumerable:!0,configurable:!0,writable:!0}):D[O]=U,D}function p(D){return(p=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(O){return m(O)}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":m(O)})(D)}function u(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}function g(D,O){for(var U=0;U<O.length;U++){var F=O[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}}function S(D,O,U){O&&g(D.prototype,O)}function j(D,O,U){return(j=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(F,H,G){if(F=function(Y,q){for(;!Object.prototype.hasOwnProperty.call(Y,q)&&(Y=b(Y))!==null;);return Y}(F,H))return(F=Object.getOwnPropertyDescriptor(F,H)).get?F.get.call(G):F.value})(D,O,U||D)}function _(D,O){return(_=Object.setPrototypeOf||function(U,F){return U.__proto__=F,U})(D,O)}function b(D){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(D)}var E=function(D){var O=F;if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(D&&D.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),D&&_(O,D);var U=function(H){return function(){var G,Y=b(H);if(G=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(G=b(this).constructor,Reflect.construct(Y,arguments,G)):Y.apply(this,arguments),Y=this,!G||p(G)!=="object"&&typeof G!="function"){if(Y!==void 0)return Y;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return G}}(F);function F(H){var G;return u(this,F),(G=U.call(this,H.target._renderer)).fbo=H,G.yScale=-1,G}return S(F,[{key:"_computeCameraDefaultSettings",value:function(){j(b(F.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),F}(d.default.Camera),M=(d.default.FramebufferCamera=E,function(){function D(O,U){u(this,D),this.framebuffer=O,this.property=U}return S(D,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),D}()),P=(d.default.FramebufferTexture=M,function(){function D(O){var U=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(u(this,D),this.target=O,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=U.format||c.UNSIGNED_BYTE,this.channels=U.channels||(O._renderer._pInst._glAttributes.alpha?c.RGBA:c.RGB),this.useDepth=U.depth===void 0||U.depth,this.depthFormat=U.depthFormat||c.FLOAT,this.textureFiltering=U.textureFiltering||c.LINEAR,U.antialias===void 0?this.antialiasSamples=O._renderer._pInst._glAttributes.antialias?2:0:typeof U.antialias=="number"?this.antialiasSamples=U.antialias:this.antialiasSamples=U.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&O.webglVersion!==c.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),U.width&&U.height?(this.width=U.width,this.height=U.height,this.autoSized=!1):(U.width===void 0!=(U.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=O.width,this.height=O.height,this.autoSized=!0),this.density=U.density||O.pixelDensity(),U=O._renderer.GL,this.gl=U,this._checkIfFormatsAvailable(),this.framebuffer=U.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=U.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),O=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=O}return S(D,[{key:"resize",value:function(O,U){this.autoSized=!1,this.width=O,this.height=U,this._handleResize()}},{key:"pixelDensity",value:function(O){if(!O)return this.density;this.autoSized=!1,this.density=O,this._handleResize()}},{key:"autoSized",value:function(O){if(O===void 0)return this.autoSized;this.autoSized=O,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var O=this.gl;(O=(this.useDepth&&this.target.webglVersion===c.WEBGL&&!O.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===c.WEBGL&&this.depthFormat===c.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),[c.UNSIGNED_BYTE,c.FLOAT,c.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&![c.UNSIGNED_INT,c.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=c.FLOAT),(0,T.checkWebGLCapabilities)(this.target._renderer))).float||this.format!==c.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&!O.float&&this.depthFormat===c.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),O.halfFloat||this.format!==c.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.channels===c.RGB&&[c.FLOAT,c.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=c.RGBA)}},{key:"_recreateTextures",value:function(){var O=this.gl,U=(this._updateSize(),O.getParameter(O.TEXTURE_BINDING_2D)),F=O.getParameter(O.FRAMEBUFFER_BINDING);if(!(G=O.createTexture()))throw new Error("Unable to create color texture");O.bindTexture(O.TEXTURE_2D,G);var H=this._glColorFormat();if(O.texImage2D(O.TEXTURE_2D,0,H.internalFormat,this.width*this.density,this.height*this.density,0,H.format,H.type,null),this.colorTexture=G,O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,G,0),this.useDepth){var G;if(!(G=O.createTexture()))throw new Error("Unable to create depth texture");var Y=this._glDepthFormat();O.bindTexture(O.TEXTURE_2D,G),O.texImage2D(O.TEXTURE_2D,0,Y.internalFormat,this.width*this.density,this.height*this.density,0,Y.format,Y.type,null),O.framebufferTexture2D(O.FRAMEBUFFER,O.DEPTH_ATTACHMENT,O.TEXTURE_2D,G,0),this.depthTexture=G}this.antialias&&(this.colorRenderbuffer=O.createRenderbuffer(),O.bindRenderbuffer(O.RENDERBUFFER,this.colorRenderbuffer),O.renderbufferStorageMultisample(O.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,O.getParameter(O.MAX_SAMPLES))),H.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(Y=this._glDepthFormat(),this.depthRenderbuffer=O.createRenderbuffer(),O.bindRenderbuffer(O.RENDERBUFFER,this.depthRenderbuffer),O.renderbufferStorageMultisample(O.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,O.getParameter(O.MAX_SAMPLES))),Y.internalFormat,this.width*this.density,this.height*this.density)),O.bindFramebuffer(O.FRAMEBUFFER,this.aaFramebuffer),O.framebufferRenderbuffer(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&O.framebufferRenderbuffer(O.FRAMEBUFFER,O.DEPTH_ATTACHMENT,O.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new M(this,"depthTexture"),G=O.NEAREST,this.depthP5Texture=new d.default.Texture(this.target._renderer,this.depth,{minFilter:G,magFilter:G}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new M(this,"colorTexture"),H=this.textureFiltering===c.LINEAR?O.LINEAR:O.NEAREST,this.colorP5Texture=new d.default.Texture(this.target._renderer,this.color,{glMinFilter:H,glMagFilter:H}),this.target._renderer.textures.set(this.color,this.colorP5Texture),O.bindTexture(O.TEXTURE_2D,U),O.bindFramebuffer(O.FRAMEBUFFER,F)}},{key:"_glColorFormat",value:function(){var O,U,F=this.gl,H=this.format===c.FLOAT?F.FLOAT:this.format===c.HALF_FLOAT?this.target.webglVersion===c.WEBGL2?F.HALF_FLOAT:F.getExtension("OES_texture_half_float").HALF_FLOAT_OES:F.UNSIGNED_BYTE,G=this.channels===c.RGBA?F.RGBA:F.RGB;return{internalFormat:this.target.webglVersion===c.WEBGL2?(h(U={},F.FLOAT,h({},F.RGBA,F.RGBA32F)),h(U,F.HALF_FLOAT,h({},F.RGBA,F.RGBA16F)),h(U,F.UNSIGNED_BYTE,(h(O={},F.RGBA,F.RGBA8),h(O,F.RGB,F.RGB8),O)),U[H][G]):this.format===c.HALF_FLOAT?F.RGBA:G,format:G,type:H}}},{key:"_glDepthFormat",value:function(){var O=this.gl,U=this.depthFormat===c.FLOAT?O.FLOAT:O.UNSIGNED_INT,F=O.DEPTH_COMPONENT;return{internalFormat:O=this.target.webglVersion===c.WEBGL2?this.depthFormat===c.FLOAT?O.DEPTH_COMPONENT32F:O.DEPTH_COMPONENT24:O.DEPTH_COMPONENT,format:F,type:U}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var O=this.color,U=this.depth,F=this.colorRenderbuffer,H=this.depthRenderbuffer;this._deleteTexture(O),U&&this._deleteTexture(U),O=this.gl,F&&O.deleteRenderbuffer(F),H&&O.deleteRenderbuffer(H),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var O=new E(this);return O._computeCameraDefaultSettings(),O._setDefaultCamera(),this.target._renderer._curCamera=O}},{key:"_deleteTexture",value:function(O){this.gl.deleteTexture(O.rawTexture()),this.target._renderer.textures.delete(O)}},{key:"remove",value:function(){var O=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),O.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&O.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&O.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&O.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var O=this.gl;this.prevFramebuffer=O.getParameter(O.FRAMEBUFFER_BINDING),this.antialias?O.bindFramebuffer(O.FRAMEBUFFER,this.aaFramebuffer):O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),this.prevViewport=O.getParameter(O.VIEWPORT),O.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var O=this.gl;if(this.antialias){O.bindFramebuffer(O.READ_FRAMEBUFFER,this.aaFramebuffer),O.bindFramebuffer(O.DRAW_FRAMEBUFFER,this.framebuffer);var U=[[O.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&U.push([O.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var F=0,H=U;F<H.length;F++){var G=(Y=f(H[F],2))[0],Y=Y[1];O.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,G,Y)}}O.bindFramebuffer(O.FRAMEBUFFER,this.prevFramebuffer),O.viewport.apply(O,function(q){return function(V){if(Array.isArray(V)){for(var $=0,Q=new Array(V.length);$<V.length;$++)Q[$]=V[$];return Q}}(q)||function(V){if(Symbol.iterator in Object(V)||Object.prototype.toString.call(V)==="[object Arguments]")return Array.from(V)}(q)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(O){this.begin(),O(),this.end()}},{key:"loadPixels",value:function(){var O=this.gl,U=O.getParameter(O.FRAMEBUFFER_BINDING),F=(O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,A.readPixelsWebGL)(this.pixels,O,this.framebuffer,0,0,this.width*this.density,this.height*this.density,F.format,F.type),O.bindFramebuffer(O.FRAMEBUFFER,U)}},{key:"get",value:function(O,U,F,H){d.default._validateParameters("p5.Framebuffer.get",arguments);var G=this._glColorFormat();if(O===void 0&&U===void 0)U=O=0,F=this.width,H=this.height;else if(F===void 0&&H===void 0)return(O<0||U<0||O>=this.width||U>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),O=this.target.constrain(O,0,this.width-1),U=this.target.constrain(U,0,this.height-1)),(0,A.readPixelWebGL)(this.gl,this.framebuffer,O*this.density,U*this.density,G.format,G.type);O=this.target.constrain(O,0,this.width-1),U=this.target.constrain(U,0,this.height-1),F=this.target.constrain(F,1,this.width-O),H=this.target.constrain(H,1,this.height-U);for(var Y=(0,A.readPixelsWebGL)(void 0,this.gl,this.framebuffer,O*this.density,U*this.density,F*this.density,H*this.density,G.format,G.type),q=new Uint8ClampedArray(F*H*this.density*this.density*4),V=(q.fill(255),G.type===this.gl.RGB?3:4),$=0;$<H*this.density;$++)for(var Q=0;Q<F*this.density;Q++)for(var te=0;te<4;te++){var ne,ae=4*($*F*this.density+Q)+te;te<V&&(ne=V==4?ae:($*F*this.density+Q)*V+te,q[ae]=Y[ne])}return(O=new d.default.Image(F*this.density,H*this.density)).imageData=O.canvas.getContext("2d").createImageData(O.width,O.height),O.imageData.data.set(q),O.pixels=O.imageData.data,O.updatePixels(),this.density!==1&&O.resize(F,H),O}},{key:"updatePixels",value:function(){var O=this.gl,U=(this.colorP5Texture.bindTexture(),this._glColorFormat()),F=U.format===O.RGBA?4:3,H=(F=this.width*this.height*this.density*this.density*F,U.type===O.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!(this.pixels instanceof H)||this.pixels.length!==F)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");O.texImage2D(O.TEXTURE_2D,0,U.internalFormat,this.width*this.density,this.height*this.density,0,U.format,U.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=O.getParameter(O.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(O.clearDepth(1),O.clear(O.DEPTH_BUFFER_BIT)),this.end()):(O.bindFramebuffer(O.FRAMEBUFFER,this.framebuffer),this.useDepth&&(O.clearDepth(1),O.clear(O.DEPTH_BUFFER_BIT)),O.bindFramebuffer(O.FRAMEBUFFER,this.prevFramebuffer))}}]),D}());n=d.default.Framebuffer=P,x.default=n},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(n,C,x){n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.string.sub"),n("core-js/modules/web.dom-collections.for-each"),n("core-js/modules/es.array.for-each"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.string.sub"),n("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(c,T){for(var A=0;A<T.length;A++){var f=T[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}m.default.Geometry=function(){function c(f,h,p){if(this instanceof c)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=f!==void 0?f:1,this.detailY=h!==void 0?h:1,this.dirtyFlags={},p instanceof Function&&p.call(this),this;throw new TypeError("Cannot call a class as a function")}var T,A;return T=c,(A=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var f,h,p,u=this.detailX+1,g=0;g<this.detailY;g++)for(var S=0;S<this.detailX;S++)h=(g+1)*u+S+1,this.faces.push([g*u+S,f=g*u+S+1,p=(g+1)*u+S]),this.faces.push([p,f,h]);return this}},{key:"_getFaceNormal",value:function(f){f=this.faces[f];var h=this.vertices[f[0]],p=this.vertices[f[1]],u=(f=this.vertices[f[2]],p=m.default.Vector.sub(p,h),f=m.default.Vector.sub(f,h),h=m.default.Vector.cross(p,f),m.default.Vector.mag(h));return(p=u/(m.default.Vector.mag(p)*m.default.Vector.mag(f)))===0||isNaN(p)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),h):(1<p&&(p=1),h.mult(Math.asin(p)/u))}},{key:"computeNormals",value:function(){for(var f=this,h=this.vertexNormals,p=this.vertices,u=this.faces,g=h.length=0;g<p.length;++g)h.push(new m.default.Vector);for(u.forEach(function(S,j){for(var _=f._getFaceNormal(j),b=0;b<3;++b){var E=S[b];h[E].add(_)}}),g=0;g<p.length;++g)h[g].normalize();return this}},{key:"averageNormals",value:function(){for(var f=0;f<=this.detailY;f++){var h=this.detailX+1,p=m.default.Vector.add(this.vertexNormals[f*h],this.vertexNormals[f*h+this.detailX]);p=m.default.Vector.div(p,2),this.vertexNormals[f*h]=p,this.vertexNormals[f*h+this.detailX]=p}return this}},{key:"averagePoleNormals",value:function(){for(var f=new m.default.Vector(0,0,0),h=0;h<this.detailX;h++)f.add(this.vertexNormals[h]);f=m.default.Vector.div(f,this.detailX);for(var p=0;p<this.detailX;p++)this.vertexNormals[p]=f;f=new m.default.Vector(0,0,0);for(var u=this.vertices.length-1;u>this.vertices.length-1-this.detailX;u--)f.add(this.vertexNormals[u]);f=m.default.Vector.div(f,this.detailX);for(var g=this.vertices.length-1;g>this.vertices.length-1-this.detailX;g--)this.vertexNormals[g]=f;return this}},{key:"_makeTriangleEdges",value:function(){for(var f=this.edges.length=0;f<this.faces.length;f++)this.edges.push([this.faces[f][0],this.faces[f][1]]),this.edges.push([this.faces[f][1],this.faces[f][2]]),this.edges.push([this.faces[f][2],this.faces[f][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var f,h=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],p=!1,u=0;u<this.edges.length;u++){var g=this.edges[u-1],S=this.edges[u],j=this.vertices[S[0]],_=this.vertices[S[1]],b=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[0],4*(S[0]+1)):[0,0,0,0],E=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*S[1],4*(S[1]+1)):[0,0,0,0],M=_.copy().sub(j).normalize(),P=0<M.magSq();P&&this._addSegment(j,_,b,E,M),0<u&&g[1]===S[0]?(f&&P&&M.dot(f)<1-1e-8&&this._addJoin(j,f,M,b),!P||p||h||(this._addCap(j,M.copy().mult(-1),b),p=!0)):(p=!1,P&&(!h||0<u)&&(this._addCap(j,M.copy().mult(-1),b),p=!0),f&&(!h||u<this.edges.length-1)&&(this._addCap(this.vertices[g[1]],f,b),f=void 0)),u===this.edges.length-1&&(h?this._addJoin(_,M,this.vertices[this.edges[0][1]].copy().sub(_).normalize(),E):this._addCap(_,M,E)),P&&(f=M)}return this}},{key:"_addSegment",value:function(f,h,p,u,g){f=f.array(),h=h.array();var S=g.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var j=0,_=[this.lineTangentsIn,this.lineTangentsOut];j<_.length;j++)_[j].push(S,S,S,S,S,S);return this.lineVertices.push(f,f,h,h,f,h),this.lineVertexColors.push(p,p,u,u,p,u),this}},{key:"_addCap",value:function(f,h,p){for(var u=f.array(),g=h.array(),S=[0,0,0],j=0;j<6;j++)this.lineVertices.push(u),this.lineTangentsIn.push(g),this.lineTangentsOut.push(S),this.lineVertexColors.push(p);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(f,h,p,u){for(var g=f.array(),S=h.array(),j=p.array(),_=0;_<12;_++)this.lineVertices.push(g),this.lineTangentsIn.push(S),this.lineTangentsOut.push(j),this.lineVertexColors.push(u);for(var b=0,E=[-1,1];b<E.length;b++){var M=E[b];this.lineSides.push(M,2*M,3*M,M,3*M,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var f=this.vertices[0].copy(),h=this.vertices[0].copy(),p=0;p<this.vertices.length;p++)f.x=Math.max(f.x,this.vertices[p].x),h.x=Math.min(h.x,this.vertices[p].x),f.y=Math.max(f.y,this.vertices[p].y),h.y=Math.min(h.y,this.vertices[p].y),f.z=Math.max(f.z,this.vertices[p].z),h.z=Math.min(h.z,this.vertices[p].z);for(var u=m.default.Vector.lerp(f,h,.5),g=m.default.Vector.sub(f,h),S=200/Math.max(Math.max(g.x,g.y),g.z),j=0;j<this.vertices.length;j++)this.vertices[j].sub(u),this.vertices[j].mult(S)}return this}}])&&d(T.prototype,A),c}(),n=m.default.Geometry,x.default=n},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(n,C,x){n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(A,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(A,p.key,p)}}var c=Array,T=function(A){return Array.isArray(A)};typeof Float32Array<"u"&&(c=Float32Array,T=function(A){return Array.isArray(A)||A instanceof Float32Array}),m.default.Matrix=function(){function A(){var u=this,g=A;if(u instanceof g)return arguments.length&&((u=arguments.length-1)<0||arguments.length<=u?void 0:arguments[u])instanceof m.default&&(this.p5=(g=arguments.length-1)<0||arguments.length<=g?void 0:arguments[g]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var f,h,p;return f=A,p=[{key:"identity",value:function(u){return new m.default.Matrix(u)}}],(h=[{key:"set",value:function(u){return u instanceof m.default.Matrix?this.mat4=u.mat4:T(u)?this.mat4=u:arguments.length===16&&(this.mat4[0]=u,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new m.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var u;return this.mat3!==void 0?((u=new m.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],u.mat3[1]=this.mat3[1],u.mat3[2]=this.mat3[2],u.mat3[3]=this.mat3[3],u.mat3[4]=this.mat3[4],u.mat3[5]=this.mat3[5],u.mat3[6]=this.mat3[6],u.mat3[7]=this.mat3[7],u.mat3[8]=this.mat3[8]):((u=new m.default.Matrix(this.p5)).mat4[0]=this.mat4[0],u.mat4[1]=this.mat4[1],u.mat4[2]=this.mat4[2],u.mat4[3]=this.mat4[3],u.mat4[4]=this.mat4[4],u.mat4[5]=this.mat4[5],u.mat4[6]=this.mat4[6],u.mat4[7]=this.mat4[7],u.mat4[8]=this.mat4[8],u.mat4[9]=this.mat4[9],u.mat4[10]=this.mat4[10],u.mat4[11]=this.mat4[11],u.mat4[12]=this.mat4[12],u.mat4[13]=this.mat4[13],u.mat4[14]=this.mat4[14],u.mat4[15]=this.mat4[15]),u}},{key:"transpose",value:function(u){var g,S,j,_,b,E;return u instanceof m.default.Matrix?(g=u.mat4[1],S=u.mat4[2],j=u.mat4[3],_=u.mat4[6],b=u.mat4[7],E=u.mat4[11],this.mat4[0]=u.mat4[0],this.mat4[1]=u.mat4[4],this.mat4[2]=u.mat4[8],this.mat4[3]=u.mat4[12],this.mat4[4]=g,this.mat4[5]=u.mat4[5],this.mat4[6]=u.mat4[9],this.mat4[7]=u.mat4[13],this.mat4[8]=S,this.mat4[9]=_,this.mat4[10]=u.mat4[10],this.mat4[11]=u.mat4[14],this.mat4[12]=j,this.mat4[13]=b,this.mat4[14]=E,this.mat4[15]=u.mat4[15]):T(u)&&(g=u[1],S=u[2],j=u[3],_=u[6],b=u[7],E=u[11],this.mat4[0]=u[0],this.mat4[1]=u[4],this.mat4[2]=u[8],this.mat4[3]=u[12],this.mat4[4]=g,this.mat4[5]=u[5],this.mat4[6]=u[9],this.mat4[7]=u[13],this.mat4[8]=S,this.mat4[9]=_,this.mat4[10]=u[10],this.mat4[11]=u[14],this.mat4[12]=j,this.mat4[13]=b,this.mat4[14]=E,this.mat4[15]=u[15]),this}},{key:"invert",value:function(u){u instanceof m.default.Matrix?(g=u.mat4[0],S=u.mat4[1],j=u.mat4[2],_=u.mat4[3],b=u.mat4[4],E=u.mat4[5],M=u.mat4[6],P=u.mat4[7],D=u.mat4[8],O=u.mat4[9],U=u.mat4[10],F=u.mat4[11],H=u.mat4[12],G=u.mat4[13],Y=u.mat4[14],q=u.mat4[15]):T(u)&&(g=u[0],S=u[1],j=u[2],_=u[3],b=u[4],E=u[5],M=u[6],P=u[7],D=u[8],O=u[9],U=u[10],F=u[11],H=u[12],G=u[13],Y=u[14],q=u[15]);var g,S,j,_,b,E,M,P,D,O,U,F,H,G,Y,q,V=g*M-j*b,$=g*P-_*b,Q=S*M-j*E,te=S*P-_*E,ne=j*P-_*M,ae=D*G-O*H,ce=D*Y-U*H,de=D*q-F*H,X=O*Y-U*G,Z=O*q-F*G,ie=U*q-F*Y,he=(u=g*E-S*b)*ie-V*Z+$*X+Q*de-te*ce+ne*ae;return he?(this.mat4[0]=(E*ie-M*Z+P*X)*(he=1/he),this.mat4[1]=(j*Z-S*ie-_*X)*he,this.mat4[2]=(G*ne-Y*te+q*Q)*he,this.mat4[3]=(U*te-O*ne-F*Q)*he,this.mat4[4]=(M*de-b*ie-P*ce)*he,this.mat4[5]=(g*ie-j*de+_*ce)*he,this.mat4[6]=(Y*$-H*ne-q*V)*he,this.mat4[7]=(D*ne-U*$+F*V)*he,this.mat4[8]=(b*Z-E*de+P*ae)*he,this.mat4[9]=(S*de-g*Z-_*ae)*he,this.mat4[10]=(H*te-G*$+q*u)*he,this.mat4[11]=(O*$-D*te-F*u)*he,this.mat4[12]=(E*ce-b*X-M*ae)*he,this.mat4[13]=(g*X-S*ce+j*ae)*he,this.mat4[14]=(G*V-H*Q-Y*u)*he,this.mat4[15]=(D*Q-O*V+U*u)*he,this):null}},{key:"invert3x3",value:function(){var u=this.mat3[0],g=this.mat3[1],S=this.mat3[2],j=this.mat3[3],_=this.mat3[4],b=this.mat3[5],E=this.mat3[6],M=this.mat3[7],P=this.mat3[8],D=P*_-b*M,O=-P*j+b*E,U=M*j-_*E,F=u*D+g*O+S*U;return F?(this.mat3[0]=D*(F=1/F),this.mat3[1]=(-P*g+S*M)*F,this.mat3[2]=(b*g-S*_)*F,this.mat3[3]=O*F,this.mat3[4]=(P*u-S*E)*F,this.mat3[5]=(-b*u+S*j)*F,this.mat3[6]=U*F,this.mat3[7]=(-M*u+g*E)*F,this.mat3[8]=(_*u-g*j)*F,this):null}},{key:"transpose3x3",value:function(u){var g=(u=u===void 0?this.mat3:u)[1],S=u[2],j=u[5];return this.mat3[0]=u[0],this.mat3[1]=u[3],this.mat3[2]=u[6],this.mat3[3]=g,this.mat3[4]=u[4],this.mat3[5]=u[7],this.mat3[6]=S,this.mat3[7]=j,this.mat3[8]=u[8],this}},{key:"inverseTranspose",value:function(u){if(u=u.mat4,this.mat3===void 0?m.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=u[0],this.mat3[1]=u[1],this.mat3[2]=u[2],this.mat3[3]=u[4],this.mat3[4]=u[5],this.mat3[5]=u[6],this.mat3[6]=u[8],this.mat3[7]=u[9],this.mat3[8]=u[10]),u=this.invert3x3())u.transpose3x3(this.mat3);else for(var g=0;g<9;g++)this.mat3[g]=0;return this}},{key:"determinant",value:function(){var u=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],g=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],S=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],j=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],_=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],b=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],E=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],M=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],P=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],D=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],O=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return u*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-g*O+S*D+j*P-_*M+b*E}},{key:"mult",value:function(u){var g;if(u===this||u===this.mat4)g=this.copy().mat4;else if(u instanceof m.default.Matrix)g=u.mat4;else if(T(u))g=u;else{if(arguments.length!==16)return;g=arguments}u=this.mat4[0];var S=this.mat4[1],j=this.mat4[2],_=this.mat4[3];return this.mat4[0]=u*g[0]+S*g[4]+j*g[8]+_*g[12],this.mat4[1]=u*g[1]+S*g[5]+j*g[9]+_*g[13],this.mat4[2]=u*g[2]+S*g[6]+j*g[10]+_*g[14],this.mat4[3]=u*g[3]+S*g[7]+j*g[11]+_*g[15],u=this.mat4[4],S=this.mat4[5],j=this.mat4[6],_=this.mat4[7],this.mat4[4]=u*g[0]+S*g[4]+j*g[8]+_*g[12],this.mat4[5]=u*g[1]+S*g[5]+j*g[9]+_*g[13],this.mat4[6]=u*g[2]+S*g[6]+j*g[10]+_*g[14],this.mat4[7]=u*g[3]+S*g[7]+j*g[11]+_*g[15],u=this.mat4[8],S=this.mat4[9],j=this.mat4[10],_=this.mat4[11],this.mat4[8]=u*g[0]+S*g[4]+j*g[8]+_*g[12],this.mat4[9]=u*g[1]+S*g[5]+j*g[9]+_*g[13],this.mat4[10]=u*g[2]+S*g[6]+j*g[10]+_*g[14],this.mat4[11]=u*g[3]+S*g[7]+j*g[11]+_*g[15],u=this.mat4[12],S=this.mat4[13],j=this.mat4[14],_=this.mat4[15],this.mat4[12]=u*g[0]+S*g[4]+j*g[8]+_*g[12],this.mat4[13]=u*g[1]+S*g[5]+j*g[9]+_*g[13],this.mat4[14]=u*g[2]+S*g[6]+j*g[10]+_*g[14],this.mat4[15]=u*g[3]+S*g[7]+j*g[11]+_*g[15],this}},{key:"apply",value:function(u){var g;if(u===this||u===this.mat4)g=this.copy().mat4;else if(u instanceof m.default.Matrix)g=u.mat4;else if(T(u))g=u;else{if(arguments.length!==16)return;g=arguments}var S=(u=this.mat4)[0],j=u[4],_=u[8],b=u[12];return u[0]=g[0]*S+g[1]*j+g[2]*_+g[3]*b,u[4]=g[4]*S+g[5]*j+g[6]*_+g[7]*b,u[8]=g[8]*S+g[9]*j+g[10]*_+g[11]*b,u[12]=g[12]*S+g[13]*j+g[14]*_+g[15]*b,S=u[1],j=u[5],_=u[9],b=u[13],u[1]=g[0]*S+g[1]*j+g[2]*_+g[3]*b,u[5]=g[4]*S+g[5]*j+g[6]*_+g[7]*b,u[9]=g[8]*S+g[9]*j+g[10]*_+g[11]*b,u[13]=g[12]*S+g[13]*j+g[14]*_+g[15]*b,S=u[2],j=u[6],_=u[10],b=u[14],u[2]=g[0]*S+g[1]*j+g[2]*_+g[3]*b,u[6]=g[4]*S+g[5]*j+g[6]*_+g[7]*b,u[10]=g[8]*S+g[9]*j+g[10]*_+g[11]*b,u[14]=g[12]*S+g[13]*j+g[14]*_+g[15]*b,S=u[3],j=u[7],_=u[11],b=u[15],u[3]=g[0]*S+g[1]*j+g[2]*_+g[3]*b,u[7]=g[4]*S+g[5]*j+g[6]*_+g[7]*b,u[11]=g[8]*S+g[9]*j+g[10]*_+g[11]*b,u[15]=g[12]*S+g[13]*j+g[14]*_+g[15]*b,this}},{key:"scale",value:function(u,g,S){return u instanceof m.default.Vector?(g=u.y,S=u.z,u=u.x):u instanceof Array&&(g=u[1],S=u[2],u=u[0]),this.mat4[0]*=u,this.mat4[1]*=u,this.mat4[2]*=u,this.mat4[3]*=u,this.mat4[4]*=g,this.mat4[5]*=g,this.mat4[6]*=g,this.mat4[7]*=g,this.mat4[8]*=S,this.mat4[9]*=S,this.mat4[10]*=S,this.mat4[11]*=S,this}},{key:"rotate",value:function(u,g,S,j){g instanceof m.default.Vector?(S=g.y,j=g.z,g=g.x):g instanceof Array&&(S=g[1],j=g[2],g=g[0]);var _=(g*=1/(_=Math.sqrt(g*g+S*S+j*j)),S*=1/_,j*=1/_,this.mat4[0]),b=this.mat4[1],E=this.mat4[2],M=this.mat4[3],P=this.mat4[4],D=this.mat4[5],O=this.mat4[6],U=this.mat4[7],F=this.mat4[8],H=this.mat4[9],G=this.mat4[10],Y=this.mat4[11],q=Math.sin(u),V=1-(u=Math.cos(u)),$=g*g*V+u,Q=S*g*V+j*q,te=j*g*V-S*q,ne=g*S*V-j*q,ae=S*S*V+u,ce=j*S*V+g*q,de=g*j*V+S*q;return S=S*j*V-g*q,g=j*j*V+u,this.mat4[0]=_*$+P*Q+F*te,this.mat4[1]=b*$+D*Q+H*te,this.mat4[2]=E*$+O*Q+G*te,this.mat4[3]=M*$+U*Q+Y*te,this.mat4[4]=_*ne+P*ae+F*ce,this.mat4[5]=b*ne+D*ae+H*ce,this.mat4[6]=E*ne+O*ae+G*ce,this.mat4[7]=M*ne+U*ae+Y*ce,this.mat4[8]=_*de+P*S+F*g,this.mat4[9]=b*de+D*S+H*g,this.mat4[10]=E*de+O*S+G*g,this.mat4[11]=M*de+U*S+Y*g,this}},{key:"translate",value:function(u){var g=u[0],S=u[1];u=u[2]||0,this.mat4[12]+=this.mat4[0]*g+this.mat4[4]*S+this.mat4[8]*u,this.mat4[13]+=this.mat4[1]*g+this.mat4[5]*S+this.mat4[9]*u,this.mat4[14]+=this.mat4[2]*g+this.mat4[6]*S+this.mat4[10]*u,this.mat4[15]+=this.mat4[3]*g+this.mat4[7]*S+this.mat4[11]*u}},{key:"rotateX",value:function(u){this.rotate(u,1,0,0)}},{key:"rotateY",value:function(u){this.rotate(u,0,1,0)}},{key:"rotateZ",value:function(u){this.rotate(u,0,0,1)}},{key:"perspective",value:function(u,g,S,j){u=1/Math.tan(u/2);var _=1/(S-j);return this.mat4[0]=u/g,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=u,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(j+S)*_,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*j*S*_,this.mat4[15]=0,this}},{key:"ortho",value:function(u,g,S,j,_,b){var E=1/(u-g),M=1/(S-j),P=1/(_-b);return this.mat4[0]=-2*E,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*M,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*P,this.mat4[11]=0,this.mat4[12]=(u+g)*E,this.mat4[13]=(j+S)*M,this.mat4[14]=(b+_)*P,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(u,g,S,j){var _=new Array(4),b=this.mat4;return _[0]=b[0]*u+b[4]*g+b[8]*S+b[12]*j,_[1]=b[1]*u+b[5]*g+b[9]*S+b[13]*j,_[2]=b[2]*u+b[6]*g+b[10]*S+b[14]*j,_[3]=b[3]*u+b[7]*g+b[11]*S+b[15]*j,_}},{key:"multiplyPoint",value:function(u){var g=u.x,S=u.y;return u=u.z,g=this.multiplyVec4(g,S,u,1),new m.default.Vector(g[0],g[1],g[2])}},{key:"multiplyAndNormalizePoint",value:function(u){var g=u.x,S=u.y;return u=u.z,(g=this.multiplyVec4(g,S,u,1))[0]/=g[3],g[1]/=g[3],g[2]/=g[3],new m.default.Vector(g[0],g[1],g[2])}},{key:"multiplyDirection",value:function(u){var g=u.x,S=u.y;return u=u.z,g=this.multiplyVec4(g,S,u,0),new m.default.Vector(g[0],g[1],g[2])}},{key:"mult3x3",value:function(u){var g;if(u===this||u===this.mat3)g=this.copy().mat3;else if(u instanceof m.default.Matrix)g=u.mat3;else if(T(u))g=u;else{if(arguments.length!==9)return;g=arguments}u=this.mat3[0];var S=this.mat3[1],j=this.mat3[2];return this.mat3[0]=u*g[0]+S*g[3]+j*g[6],this.mat3[1]=u*g[1]+S*g[4]+j*g[7],this.mat3[2]=u*g[2]+S*g[5]+j*g[8],u=this.mat3[3],S=this.mat3[4],j=this.mat3[5],this.mat3[3]=u*g[0]+S*g[3]+j*g[6],this.mat3[4]=u*g[1]+S*g[4]+j*g[7],this.mat3[5]=u*g[2]+S*g[5]+j*g[8],u=this.mat3[6],S=this.mat3[7],j=this.mat3[8],this.mat3[6]=u*g[0]+S*g[3]+j*g[6],this.mat3[7]=u*g[1]+S*g[4]+j*g[7],this.mat3[8]=u*g[2]+S*g[5]+j*g[8],this}},{key:"column",value:function(u){return new m.default.Vector(this.mat3[u],this.mat3[u+3],this.mat3[u+6])}},{key:"row",value:function(u){return new m.default.Vector(this.mat3[3*u],this.mat3[3*u+1],this.mat3[3*u+2])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(u,g){return(g=g===void 0?u.copy():g).x=this.row(0).dot(u),g.y=this.row(1).dot(u),g.z=this.row(2).dot(u),g}},{key:"createSubMatrix3x3",value:function(){var u=new m.default.Matrix("mat3");return u.mat3[0]=this.mat4[0],u.mat3[1]=this.mat4[1],u.mat3[2]=this.mat4[2],u.mat3[3]=this.mat4[4],u.mat3[4]=this.mat4[5],u.mat3[5]=this.mat4[6],u.mat3[6]=this.mat4[8],u.mat3[7]=this.mat4[9],u.mat3[8]=this.mat4[10],u}}])&&d(f.prototype,h),p&&d(f,p),A}(),n=m.default.Matrix,x.default=n},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(n,C,x){function m(d,c){for(var T=0;T<c.length;T++){var A=c[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}n("core-js/modules/es.array.map"),n("core-js/modules/es.array.map"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,(n=(n=n("../core/main"))&&n.__esModule?n:{default:n}).default.RenderBuffer=function(){function d(A,f,h,p,u,g){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.size=A,this.src=f,this.dst=h,this.attr=p,this._renderer=u,this.map=g}var c,T;return c=d,(T=[{key:"_prepareBuffer",value:function(A,f){var h,p,u,g=f.attributes,S=this._renderer.GL,j=A.model||A;(g=g[this.attr])&&(h=A[this.dst],0<(p=j[this.src]).length?((u=!h)&&(A[this.dst]=h=S.createBuffer()),S.bindBuffer(S.ARRAY_BUFFER,h),!u&&j.dirtyFlags[this.src]===!1||(u=(A=this.map)?A(p):p,this._renderer._bindBuffer(h,S.ARRAY_BUFFER,u),j.dirtyFlags[this.src]=!1),f.enableAttrib(g,this.size)):(A=g.location)!==-1&&this._renderer.registerEnabled[A]&&(S.disableVertexAttribArray(A),this._renderer.registerEnabled[A]=!1))}}])&&m(c.prototype,T),d}(),n=n.default.RenderBuffer,x.default=n},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(n,C,x){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(p)}function d(p){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(u){return m(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":m(u)})(p)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.map"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(h=n("../core/main"))&&h.__esModule?h:{default:h},T=function(p){if(p&&p.__esModule)return p;if(p===null||d(p)!=="object"&&typeof p!="function")return{default:p};var u=function(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,b)}();if(u&&u.has(p))return u.get(p);var g,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in p){var _;Object.prototype.hasOwnProperty.call(p,g)&&((_=j?Object.getOwnPropertyDescriptor(p,g):null)&&(_.get||_.set)?Object.defineProperty(S,g,_):S[g]=p[g])}return S.default=p,u&&u.set(p,S),S}(n("../core/constants"));function A(p){return function(u){if(Array.isArray(u)){for(var g=0,S=new Array(u.length);g<u.length;g++)S[g]=u[g];return S}}(p)||function(u){if(Symbol.iterator in Object(u)||Object.prototype.toString.call(u)==="[object Arguments]")return Array.from(u)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(p){return this.immediateMode.shapeMode=p!==void 0?p:T.TESS,this.immediateMode.geometry.reset(),this};var f={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},h=(c.default.RendererGL.prototype.vertex=function(p,u){if(this.immediateMode.shapeMode===T.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var g in f){var S=f[g];(g=this.immediateMode.geometry[g]).push.apply(g,A(g.slice(g.length-3*S,g.length-2*S)).concat(A(g.slice(g.length-S,g.length))))}var j,_,b=j=_=0,E=(arguments.length===3?b=arguments[2]:arguments.length===4?(j=arguments[2],_=arguments[3]):arguments.length===5&&(b=arguments[2],j=arguments[3],_=arguments[4]),new c.default.Vector(p,u,b));return this.immediateMode.geometry.vertices.push(E),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),E=this.curFillColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexColors.push(E[0],E[1],E[2],E[3]),E=this.curStrokeColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexStrokeColors.push(E[0],E[1],E[2],E[3]),this.textureMode===T.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(j/=this._tex.width,_/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(j,_),this.immediateMode._bezierVertex[0]=p,this.immediateMode._bezierVertex[1]=u,this.immediateMode._bezierVertex[2]=b,this.immediateMode._quadraticVertex[0]=p,this.immediateMode._quadraticVertex[1]=u,this.immediateMode._quadraticVertex[2]=b,this},c.default.RendererGL.prototype.normal=function(p,u,g){return p instanceof c.default.Vector?this._currentNormal=p:this._currentNormal=new c.default.Vector(p,u,g),this},c.default.RendererGL.prototype.endShape=function(p,u,g,S,j,_){return this.immediateMode.shapeMode===T.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(p){var u;this.immediateMode.geometry.vertices.length!==0&&(u=this._doStroke,p=p===T.CLOSE,u&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,p),this.immediateMode.geometry._edgesToVertices()),u=this.immediateMode.shapeMode===T.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||u)&&this.immediateMode.shapeMode!==T.LINES&&this._tesselateShape())},c.default.RendererGL.prototype._calculateEdges=function(p,u,g){var S=[],j=0;switch(p){case T.TRIANGLE_STRIP:for(j=0;j<u.length-2;j++)S.push([j,j+1]),S.push([j,j+2]);S.push([j,j+1]);break;case T.TRIANGLE_FAN:for(j=1;j<u.length-1;j++)S.push([0,j]),S.push([j,j+1]);S.push([0,u.length-1]);break;case T.TRIANGLES:for(j=0;j<u.length-2;j+=3)S.push([j,j+1]),S.push([j+1,j+2]),S.push([j+2,j]);break;case T.LINES:for(j=0;j<u.length-1;j+=2)S.push([j,j+1]);break;case T.QUADS:for(j=0;j<u.length-5;j+=6)S.push([j,j+1]),S.push([j+1,j+2]),S.push([j+3,j+5]),S.push([j+4,j+5]);break;case T.QUAD_STRIP:for(j=0;j<u.length-2;j+=2)S.push([j,j+1]),S.push([j,j+2]),S.push([j+1,j+3]);S.push([j,j+1]);break;default:for(j=0;j<u.length-1;j++)S.push([j,j+1])}return g&&S.push([u.length-1,0]),S},c.default.RendererGL.prototype._tesselateShape=function(){for(var p=this,u=(this.immediateMode.shapeMode=T.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(b,E){return[b.x,b.y,b.z,p.immediateMode.geometry.uvs[2*E],p.immediateMode.geometry.uvs[2*E+1],p.immediateMode.geometry.vertexColors[4*E],p.immediateMode.geometry.vertexColors[4*E+1],p.immediateMode.geometry.vertexColors[4*E+2],p.immediateMode.geometry.vertexColors[4*E+3],p.immediateMode.geometry.vertexNormals[E].x,p.immediateMode.geometry.vertexNormals[E].y,p.immediateMode.geometry.vertexNormals[E].z]}))]),g=this._triangulate(u),S=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),j=0,_=g.length;j<_;j+=c.default.RendererGL.prototype.tessyVertexSize)S.push.apply(S,A(g.slice(j+5,j+9))),this.normal.apply(this,A(g.slice(j+9,j+12))),this.vertex.apply(this,A(g.slice(j,j+5)));this.immediateMode.geometry.vertexColors=S},c.default.RendererGL.prototype._drawImmediateFill=function(){var p=this.GL,u=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),g=(this._setFillUniforms(u),!0),S=!1,j=void 0;try{for(var _,b=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(_=b.next()).done);g=!0)_.value._prepareBuffer(this.immediateMode.geometry,u)}catch(E){S=!0,j=E}finally{try{g||b.return==null||b.return()}finally{if(S)throw j}}this.immediateMode.shapeMode!==T.LINE_STRIP&&this.immediateMode.shapeMode!==T.LINES||(this.immediateMode.shapeMode=T.TRIANGLE_FAN),this.immediateMode.shapeMode===T.QUADS?this.immediateMode.shapeMode=T.TRIANGLES:this.immediateMode.shapeMode===T.QUAD_STRIP&&(this.immediateMode.shapeMode=T.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),p.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),u.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var p=this.GL,u=p.isEnabled(p.CULL_FACE),g=(p.disable(p.CULL_FACE),this._getImmediateStrokeShader()),S=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(g),!0),j=!1,_=void 0;try{for(var b,E=this.immediateMode.buffers.stroke[Symbol.iterator]();!(S=(b=E.next()).done);S=!0)b.value._prepareBuffer(this.immediateMode.geometry,g)}catch(M){j=!0,_=M}finally{try{S||E.return==null||E.return()}finally{if(j)throw _}}this._applyColorBlend(this.curStrokeColor),p.drawArrays(p.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),u&&p.enable(p.CULL_FACE),g.unbindShader()},c.default.RendererGL);x.default=h},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(n,C,x){function m(h){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function d(h){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(p){return m(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":m(p)})(h)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.some"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.uint16-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.some"),n("core-js/modules/es.object.keys"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.uint16-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var c=(f=n("../core/main"))&&f.__esModule?f:{default:f},T=(n("./p5.RendererGL"),n("./p5.RenderBuffer"),function(h){if(h&&h.__esModule)return h;if(h===null||d(h)!=="object"&&typeof h!="function")return{default:h};var p=function(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,_)}();if(p&&p.has(h))return p.get(h);var u,g={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in h){var j;Object.prototype.hasOwnProperty.call(h,u)&&((j=S?Object.getOwnPropertyDescriptor(h,u):null)&&(j.get||j.set)?Object.defineProperty(g,u,j):g[u]=h[u])}return g.default=h,p&&p.set(h,g),g}(n("../core/constants"))),A=0,f=(c.default.RendererGL.prototype._initBufferDefaults=function(h){var p;return this._freeBuffers(h),1e3<++A&&(p=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[p],A--),this.retainedMode.geometry[h]={}},c.default.RendererGL.prototype._freeBuffers=function(h){var p,u=this.retainedMode.geometry[h];function g(S){var j=!0,_=!1,b=void 0;try{for(var E,M=S[Symbol.iterator]();!(j=(E=M.next()).done);j=!0){var P=E.value;u[P.dst]&&(p.deleteBuffer(u[P.dst]),u[P.dst]=null)}}catch(D){_=!0,b=D}finally{try{j||M.return==null||M.return()}finally{if(_)throw b}}}u&&(delete this.retainedMode.geometry[h],A--,p=this.GL,u.indexBuffer&&p.deleteBuffer(u.indexBuffer),g(this.retainedMode.buffers.stroke),g(this.retainedMode.buffers.fill))},c.default.RendererGL.prototype.createBuffers=function(h,p){var u,g,S,j=this.GL,_=((h=this._initBufferDefaults(h)).model=p,h.indexBuffer);return p.faces.length?(_=_||(h.indexBuffer=j.createBuffer()),S=(g=(u=c.default.RendererGL.prototype._flatten(p.faces)).some(function(b){return 65535<b}))?Uint32Array:Uint16Array,this._bindBuffer(_,j.ELEMENT_ARRAY_BUFFER,u,S),h.indexBufferType=g?j.UNSIGNED_INT:j.UNSIGNED_SHORT,h.vertexCount=3*p.faces.length):(_&&(j.deleteBuffer(_),h.indexBuffer=null),h.vertexCount=p.vertices?p.vertices.length:0),h.lineVertexCount=p.lineVertices?p.lineVertices.length:0,h},c.default.RendererGL.prototype.drawBuffers=function(h){var p=this.GL,u=this.retainedMode.geometry[h];if(this._doFill){this._useVertexColor=0<u.model.vertexColors.length;var g=this._getRetainedFillShader(),S=(this._setFillUniforms(g),!0),j=!1,_=void 0;try{for(var b,E=this.retainedMode.buffers.fill[Symbol.iterator]();!(S=(b=E.next()).done);S=!0)b.value._prepareBuffer(u,g)}catch(F){j=!0,_=F}finally{try{S||E.return==null||E.return()}finally{if(j)throw _}}u.indexBuffer&&this._bindBuffer(u.indexBuffer,p.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(p.TRIANGLES,h),g.unbindShader()}if(this._doStroke&&0<u.lineVertexCount){j=p.isEnabled(p.CULL_FACE);var M=(p.disable(p.CULL_FACE),this._getRetainedStrokeShader()),P=(this._useLineColor=0<u.model.vertexStrokeColors.length,this._setStrokeUniforms(M),!0),D=(_=!1,void 0);try{for(var O,U=this.retainedMode.buffers.stroke[Symbol.iterator]();!(P=(O=U.next()).done);P=!0)O.value._prepareBuffer(u,M)}catch(F){_=!0,D=F}finally{try{P||U.return==null||U.return()}finally{if(_)throw D}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(p.TRIANGLES,h),j&&p.enable(p.CULL_FACE),M.unbindShader()}return this},c.default.RendererGL.prototype.drawBuffersScaled=function(h,p,u,g){var S=this.uMVMatrix.copy();try{this.uMVMatrix.scale(p,u,g),this.drawBuffers(h)}finally{this.uMVMatrix=S}},c.default.RendererGL.prototype._drawArrays=function(h,p){return this.GL.drawArrays(h,0,this.retainedMode.geometry[p].lineVertexCount),this},c.default.RendererGL.prototype._drawElements=function(h,p){p=this.retainedMode.geometry[p];var u=this.GL;if(p.indexBuffer){if(this._pInst.webglVersion!==T.WEBGL2&&p.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,p.vertexCount,p.indexBufferType,0)}else u.drawArrays(h||u.TRIANGLES,0,p.vertexCount)},c.default.RendererGL.prototype._drawPoints=function(h,p){var u=this.GL,g=this._getImmediatePointShader();this._setPointUniforms(g),this._bindBuffer(p,u.ARRAY_BUFFER,this._vToNArray(h),Float32Array,u.STATIC_DRAW),g.enableAttrib(g.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),u.drawArrays(u.Points,0,h.length),g.unbindShader()},c.default.RendererGL);x.default=f},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(n,C,x){function m(H){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(H)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.copy-within"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.map"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.float64-array"),n("core-js/modules/es.typed-array.int16-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint16-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.concat"),n("core-js/modules/es.array.copy-within"),n("core-js/modules/es.array.every"),n("core-js/modules/es.array.fill"),n("core-js/modules/es.array.from"),n("core-js/modules/es.array.includes"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.array.some"),n("core-js/modules/es.map"),n("core-js/modules/es.object.assign"),n("core-js/modules/es.object.get-prototype-of"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.reflect.construct"),n("core-js/modules/es.regexp.to-string"),n("core-js/modules/es.set"),n("core-js/modules/es.string.includes"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.float32-array"),n("core-js/modules/es.typed-array.float64-array"),n("core-js/modules/es.typed-array.int16-array"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.uint16-array"),n("core-js/modules/es.typed-array.uint32-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.readPixelsWebGL=U,x.readPixelWebGL=F,x.default=void 0;var d=A(n("../core/main")),c=function(H){if(H&&H.__esModule)return H;if(H===null||f(H)!=="object"&&typeof H!="function")return{default:H};var G=function(){var Q;return typeof WeakMap!="function"?null:(Q=new WeakMap,Q)}();if(G&&G.has(H))return G.get(H);var Y,q={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Y in H){var $;Object.prototype.hasOwnProperty.call(H,Y)&&(($=V?Object.getOwnPropertyDescriptor(H,Y):null)&&($.get||$.set)?Object.defineProperty(q,Y,$):q[Y]=H[Y])}return q.default=H,G&&G.set(H,q),q}(n("../core/constants")),T=A(n("libtess"));function A(H){return H&&H.__esModule?H:{default:H}}function f(H){return(f=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(G){return m(G)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":m(G)})(H)}function h(H){return function(G){if(Array.isArray(G)){for(var Y=0,q=new Array(G.length);Y<G.length;Y++)q[Y]=G[Y];return q}}(H)||function(G){if(Symbol.iterator in Object(G)||Object.prototype.toString.call(G)==="[object Arguments]")return Array.from(G)}(H)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(H,G){for(var Y=0;Y<G.length;Y++){var q=G[Y];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(H,q.key,q)}}function u(H,G){return(u=Object.setPrototypeOf||function(Y,q){return Y.__proto__=q,Y})(H,G)}function g(H){return function(){var G,Y,q=j(H);return G=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(G=j(this).constructor,Reflect.construct(q,arguments,G)):q.apply(this,arguments),q=this,!(Y=G)||f(Y)!=="object"&&typeof Y!="function"?S(q):Y}}function S(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}function j(H){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(H)}function _(H,G){P+="#define STROKE_CAP_".concat(H," ").concat(G,`
`),E[c[H]]=G}function b(H,G){P+="#define STROKE_JOIN_".concat(H," ").concat(G,`
`),M[c[H]]=G}n("./p5.Shader"),n("./p5.Camera"),n("../core/p5.Renderer"),n("./p5.Matrix"),n("path");var E={},M={},P="",D=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`,O={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:(n=(_("ROUND",0),_("PROJECT",1),_("SQUARE",2),b("ROUND",0),b("MITER",1),b("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`))+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:n+`// include lighting.glsl
precision highp float;
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:D+`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:D+`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:P+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:P+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`};function U(H,G,Y,q,V,$,Q,te,ne,ae){var ce=G.getParameter(G.FRAMEBUFFER_BINDING),de=$*Q*(Y=(G.bindFramebuffer(G.FRAMEBUFFER,Y),te===G.RGBA?4:3)),X=ne===G.UNSIGNED_BYTE?Uint8Array:Float32Array;if(H instanceof X&&H.length===de||(H=new X(de)),G.readPixels(q,ae?ae-V-Q:V,$,Q,te,ne,H),G.bindFramebuffer(G.FRAMEBUFFER,ce),ae)for(var Z=Math.floor(Q/2),ie=new X($*Y),he=0;he<Z;he++){var ye=he*$*4,ve=(Q-he-1)*$*4;ie.set(H.subarray(ye,ye+4*$)),H.copyWithin(ye,ve,ve+4*$),H.set(ie,ve)}return H}function F(H,G,Y,q,V,$,Q){var te=H.getParameter(H.FRAMEBUFFER_BINDING);return H.bindFramebuffer(H.FRAMEBUFFER,G),G=V===H.RGBA?4:3,G=new($===H.UNSIGNED_BYTE?Uint8Array:Float32Array)(G),H.readPixels(Y,Q?Q-q-1:q,1,1,V,$,G),H.bindFramebuffer(H.FRAMEBUFFER,te),Array.from(G)}d.default.prototype.setAttributes=function(H,G){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var Y=!0;if(G!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[H]!==G&&(this._glAttributes[H]=G,Y=!1)):H instanceof Object&&this._glAttributes!==H&&(this._glAttributes=H,Y=!1),this._renderer.isP3D&&!Y){if(!this._setupDone){for(var q in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(q))return void d.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},d.default.RendererGL=function(H){var G=q;if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(H&&H.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),H&&u(G,H);var Y=g(q);function q(V,$,Q,te){if(this instanceof q)return(V=Y.call(this,V,$,Q))._setAttributeDefaults($),V._initContext(),V.isP3D=!0,V.GL=V.drawingContext,V._pInst._setProperty("drawingContext",V.drawingContext),V._isErasing=!1,V._enableLighting=!1,V.ambientLightColors=[],V.specularColors=[1,1,1],V.directionalLightDirections=[],V.directionalLightDiffuseColors=[],V.directionalLightSpecularColors=[],V.pointLightPositions=[],V.pointLightDiffuseColors=[],V.pointLightSpecularColors=[],V.spotLightPositions=[],V.spotLightDirections=[],V.spotLightDiffuseColors=[],V.spotLightSpecularColors=[],V.spotLightAngle=[],V.spotLightConc=[],V.drawMode=c.FILL,V.curFillColor=V._cachedFillStyle=[1,1,1,1],V.curAmbientColor=V._cachedFillStyle=[1,1,1,1],V.curSpecularColor=V._cachedFillStyle=[0,0,0,0],V.curEmissiveColor=V._cachedFillStyle=[0,0,0,0],V.curStrokeColor=V._cachedStrokeStyle=[0,0,0,1],V.curBlendMode=c.BLEND,V._cachedBlendMode=void 0,V.webglVersion===c.WEBGL2?V.blendExt=V.GL:V.blendExt=V.GL.getExtension("EXT_blend_minmax"),V._isBlending=!1,V._hasSetAmbient=!1,V._useSpecularMaterial=!1,V._useEmissiveMaterial=!1,V._useNormalMaterial=!1,V._useShininess=1,V._useLineColor=!1,V._useVertexColor=!1,V.registerEnabled=[],V._tint=[255,255,255,255],V.constantAttenuation=1,V.linearAttenuation=0,V.quadraticAttenuation=0,V.uMVMatrix=new d.default.Matrix,V.uPMatrix=new d.default.Matrix,V.uNMatrix=new d.default.Matrix("mat3"),V._currentNormal=new d.default.Vector(0,0,1),V._curCamera=new d.default.Camera(S(V)),V._curCamera._computeCameraDefaultSettings(),V._curCamera._setDefaultCamera(),V.prevTouches=[],V.zoomVelocity=0,V.rotateVelocity=new d.default.Vector(0,0),V.moveVelocity=new d.default.Vector(0,0),V.executeZoom=!1,V.executeRotateAndMove=!1,V._defaultLightShader=void 0,V._defaultImmediateModeShader=void 0,V._defaultNormalShader=void 0,V._defaultColorShader=void 0,V._defaultPointShader=void 0,V.userFillShader=void 0,V.userStrokeShader=void 0,V.userPointShader=void 0,V.retainedMode={geometry:{},buffers:{stroke:[new d.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",S(V),V._flatten),new d.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",S(V),V._flatten),new d.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",S(V),V._flatten),new d.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",S(V),V._flatten),new d.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",S(V))],fill:[new d.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(V),V._vToNArray),new d.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",S(V),V._vToNArray),new d.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",S(V)),new d.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",S(V)),new d.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(V),V._flatten)],text:[new d.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(V),V._vToNArray),new d.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(V),V._flatten)]}},V.immediateMode={geometry:new d.default.Geometry,shapeMode:c.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new d.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(V),V._vToNArray),new d.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",S(V),V._vToNArray),new d.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",S(V)),new d.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",S(V)),new d.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(V),V._flatten)],stroke:[new d.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",S(V),V._flatten),new d.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",S(V),V._flatten),new d.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",S(V),V._flatten),new d.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",S(V),V._flatten),new d.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",S(V))],point:V.GL.createBuffer()}},V.pointSize=5,V.curStrokeWeight=1,V.curStrokeCap=c.ROUND,V.curStrokeJoin=c.ROUND,V.textures=new Map,V.framebuffers=new Set,V.textureMode=c.IMAGE,V.textureWrapX=c.CLAMP,V.textureWrapY=c.CLAMP,V._tex=null,V._curveTightness=6,V._lookUpTableBezier=[],V._lookUpTableQuadratic=[],V._lutBezierDetail=0,V._lutQuadraticDetail=0,V.isProcessingVertices=!1,V._tessy=V._initTessy(),V.fontInfos={},V._curShader=void 0,V;throw new TypeError("Cannot call a class as a function")}return G=q,(H=[{key:"_setAttributeDefaults",value:function(V){var $={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};V._glAttributes===null?V._glAttributes=$:V._glAttributes=Object.assign($,V._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?c.WEBGL2:c.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var V=this.drawingContext;V.enable(V.DEPTH_TEST),V.depthFunc(V.LEQUAL),V.viewport(0,0,V.drawingBufferWidth,V.drawingBufferHeight),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(V,$){var Q,te=this.width,ne=this.height,ae=this.canvas.id,ce=this._pInst instanceof d.default.Graphics;ce?((Q=this._pInst).canvas.parentNode.removeChild(Q.canvas),Q.canvas=document.createElement("canvas"),(Q._pInst._userNode||document.body).appendChild(Q.canvas),d.default.Element.call(Q,Q.canvas,Q._pInst),Q.width=te,Q.height=ne):((Q=this.canvas)&&Q.parentNode.removeChild(Q),(Q=document.createElement("canvas")).id=ae,(this._pInst._userNode||document.body).appendChild(Q),this._pInst.canvas=Q,this.canvas=Q),ae=new d.default.RendererGL(this._pInst.canvas,this._pInst,!ce),this._pInst._setProperty("_renderer",ae),ae.resize(te,ne),ae._applyDefaults(),ce||this._pInst._elements.push(ae),typeof $=="function"&&setTimeout(function(){$.apply(window._renderer,V)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var V=(te=(te=this._pInst).color.apply(te,arguments)).levels[0]/255,$=te.levels[1]/255,Q=te.levels[2]/255,te=te.levels[3]/255;this.clear(V,$,Q,te)}},{key:"fill",value:function(V,$,Q,te){var ne=d.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ne._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(V,$,Q,te){var ne=d.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ne._array}},{key:"strokeCap",value:function(V){this.curStrokeCap=V}},{key:"strokeJoin",value:function(V){this.curStrokeJoin=V}},{key:"filter",value:function(V){d.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(V){V===c.DARKEST||V===c.LIGHTEST||V===c.ADD||V===c.BLEND||V===c.SUBTRACT||V===c.SCREEN||V===c.EXCLUSION||V===c.REPLACE||V===c.MULTIPLY||V===c.REMOVE?this.curBlendMode=V:V!==c.BURN&&V!==c.OVERLAY&&V!==c.HARD_LIGHT&&V!==c.SOFT_LIGHT&&V!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(V,$){this._isErasing||(this._applyBlendMode(c.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,V/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,$/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(V){this.curStrokeWeight!==V&&(this.pointSize=V,this.curStrokeWeight=V)}},{key:"_getPixel",value:function(V,$){var Q=this.GL;return F(Q,null,V,$,Q.RGBA,Q.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var V,$,Q=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(V=this._pInst._pixelDensity,$=this.GL,Q._setProperty("pixels",U(Q.pixels,$,null,0,0,this.width*V,this.height*V,$.RGBA,$.UNSIGNED_BYTE,this.height*V)))}},{key:"updatePixels",value:function(){var V=this._getTempFramebuffer();V.pixels=this._pixelsState.pixels,V.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(c.CENTER),this._pInst.image(V,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:c.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:c.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(V){return this.retainedMode.geometry[V]!==void 0}},{key:"resize",value:function(V,$){d.default.Renderer.prototype.resize.call(this,V,$),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var Q=((V=this._pixelsState).pixels!==void 0&&V._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);$=!1,V=void 0;try{for(var te,ne=this.framebuffers[Symbol.iterator]();!(Q=(te=ne.next()).done);Q=!0)te.value._canvasSizeChanged()}catch(ae){$=!0,V=ae}finally{try{Q||ne.return==null||ne.return()}finally{if($)throw V}}}},{key:"clear",value:function(){var V=(arguments.length<=0?void 0:arguments[0])||0,$=(arguments.length<=1?void 0:arguments[1])||0,Q=(arguments.length<=2?void 0:arguments[2])||0,te=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(V*te,$*te,Q*te,te),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(V,$,Q,te,ne,ae){arguments.length===16?d.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([V,$,0,0,Q,te,0,0,0,0,1,0,ne,ae,0,1])}},{key:"translate",value:function(V,$,Q){return V instanceof d.default.Vector&&(Q=V.z,$=V.y,V=V.x),this.uMVMatrix.translate([V,$,Q]),this}},{key:"scale",value:function(V,$,Q){return this.uMVMatrix.scale(V,$,Q),this}},{key:"rotate",value:function(V,$){return $===void 0?this.rotateZ(V):(d.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(V){return this.rotate(V,1,0,0),this}},{key:"rotateY",value:function(V){return this.rotate(V,0,1,0),this}},{key:"rotateZ",value:function(V){return this.rotate(V,0,0,1),this}},{key:"push",value:function(){var V=d.default.Renderer.prototype.push.apply(this),$=V.properties;return $.uMVMatrix=this.uMVMatrix.copy(),$.uPMatrix=this.uPMatrix.copy(),$._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),$.ambientLightColors=this.ambientLightColors.slice(),$.specularColors=this.specularColors.slice(),$.directionalLightDirections=this.directionalLightDirections.slice(),$.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),$.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),$.pointLightPositions=this.pointLightPositions.slice(),$.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),$.pointLightSpecularColors=this.pointLightSpecularColors.slice(),$.spotLightPositions=this.spotLightPositions.slice(),$.spotLightDirections=this.spotLightDirections.slice(),$.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),$.spotLightSpecularColors=this.spotLightSpecularColors.slice(),$.spotLightAngle=this.spotLightAngle.slice(),$.spotLightConc=this.spotLightConc.slice(),$.userFillShader=this.userFillShader,$.userStrokeShader=this.userStrokeShader,$.userPointShader=this.userPointShader,$.pointSize=this.pointSize,$.curStrokeWeight=this.curStrokeWeight,$.curStrokeColor=this.curStrokeColor,$.curFillColor=this.curFillColor,$.curAmbientColor=this.curAmbientColor,$.curSpecularColor=this.curSpecularColor,$.curEmissiveColor=this.curEmissiveColor,$._hasSetAmbient=this._hasSetAmbient,$._useSpecularMaterial=this._useSpecularMaterial,$._useEmissiveMaterial=this._useEmissiveMaterial,$._useShininess=this._useShininess,$.constantAttenuation=this.constantAttenuation,$.linearAttenuation=this.linearAttenuation,$.quadraticAttenuation=this.quadraticAttenuation,$._enableLighting=this._enableLighting,$._useNormalMaterial=this._useNormalMaterial,$._tex=this._tex,$.drawMode=this.drawMode,$._currentNormal=this._currentNormal,$.curBlendMode=this.curBlendMode,V}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var V=this.userStrokeShader;return V&&V.isStrokeShader()?V:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var V=this.userFillShader;if(this._useNormalMaterial&&(!V||!V.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!V||!V.isLightShader())return this._getLightShader()}else if(this._tex){if(!V||!V.isTextureShader())return this._getLightShader()}else if(!V)return this._getImmediateModeShader();return V}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var V=this.userFillShader;if(this._enableLighting){if(!V||!V.isLightShader())return this._getLightShader()}else if(this._tex){if(!V||!V.isTextureShader())return this._getLightShader()}else if(!V)return this._getColorShader();return V}},{key:"_getImmediatePointShader",value:function(){var V=this.userPointShader;return V&&V.isPointShader()?V:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new d.default.Shader(this,O.phongVert,O.phongFrag):this._defaultLightShader=new d.default.Shader(this,O.lightVert,O.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new d.default.Shader(this,O.immediateVert,O.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new d.default.Shader(this,O.normalVert,O.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new d.default.Shader(this,O.normalVert,O.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new d.default.Shader(this,O.pointVert,O.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new d.default.Shader(this,O.lineVert,O.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===c.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new d.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+O.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+O.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(V,$){var Q="";return this.webglVersion===c.WEBGL2&&(Q+=`#version 300 es
#define WEBGL2
`),V==="vert"?Q+=`#define VERTEX_SHADER
`:V==="frag"&&(Q+=`#define FRAGMENT_SHADER
`),$&&(Q+="precision ".concat($,` float;
`)),Q}},{key:"_getEmptyTexture",value:function(){var V;return this._emptyTexture||((V=new d.default.Image(1,1)).set(0,0,255),this._emptyTexture=new d.default.Texture(this,V)),this._emptyTexture}},{key:"getTexture",value:function(V){V instanceof d.default.Framebuffer&&(V=V.color);var $=this.textures.get(V);return $||($=new d.default.Texture(this,V),this.textures.set(V,$),$)}},{key:"createFramebuffer",value:function(V){return new d.default.Framebuffer(this,V)}},{key:"_setStrokeUniforms",value:function(V){V.bindShader(),V.setUniform("uUseLineColor",this._useLineColor),V.setUniform("uMaterialColor",this.curStrokeColor),V.setUniform("uStrokeWeight",this.curStrokeWeight),V.setUniform("uStrokeCap",E[this.curStrokeCap]),V.setUniform("uStrokeJoin",M[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(V){V.bindShader(),V.setUniform("uUseVertexColor",this._useVertexColor),V.setUniform("uMaterialColor",this.curFillColor),V.setUniform("isTexture",!!this._tex),this._tex&&V.setUniform("uSampler",this._tex),V.setUniform("uTint",this._tint),V.setUniform("uHasSetAmbient",this._hasSetAmbient),V.setUniform("uAmbientMatColor",this.curAmbientColor),V.setUniform("uSpecularMatColor",this.curSpecularColor),V.setUniform("uEmissiveMatColor",this.curEmissiveColor),V.setUniform("uSpecular",this._useSpecularMaterial),V.setUniform("uEmissive",this._useEmissiveMaterial),V.setUniform("uShininess",this._useShininess),V.setUniform("uUseLighting",this._enableLighting);var $=this.pointLightDiffuseColors.length/3;V.setUniform("uPointLightCount",$),V.setUniform("uPointLightLocation",this.pointLightPositions),V.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),V.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),$=this.directionalLightDiffuseColors.length/3,V.setUniform("uDirectionalLightCount",$),V.setUniform("uLightingDirection",this.directionalLightDirections),V.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),V.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),$=this.ambientLightColors.length/3,V.setUniform("uAmbientLightCount",$),V.setUniform("uAmbientColor",this.ambientLightColors),$=this.spotLightDiffuseColors.length/3,V.setUniform("uSpotLightCount",$),V.setUniform("uSpotLightAngle",this.spotLightAngle),V.setUniform("uSpotLightConc",this.spotLightConc),V.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),V.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),V.setUniform("uSpotLightLocation",this.spotLightPositions),V.setUniform("uSpotLightDirection",this.spotLightDirections),V.setUniform("uConstantAttenuation",this.constantAttenuation),V.setUniform("uLinearAttenuation",this.linearAttenuation),V.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),V.bindTextures()}},{key:"_setPointUniforms",value:function(V){V.bindShader(),V.setUniform("uMaterialColor",this.curStrokeColor),V.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(V,$,Q,te,ne){$=$||this.GL.ARRAY_BUFFER,this.GL.bindBuffer($,V),Q!==void 0&&(V=new(te||Float32Array)(Q),this.GL.bufferData($,V,ne||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(V,$){return V.length===$.length&&V.every(function(Q,te){return Q===$[te]})}},{key:"_isTypedArray",value:function(V){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function($){return V instanceof $})}},{key:"_flatten",value:function(V){if(V.length===0)return[];var $;if(2e4<V.length){for(var Q=[],te=V.slice(),ne=te.pop();Array.isArray(ne)?te.push.apply(te,h(ne)):Q.push(ne),te.length&&(ne=te.pop())!==void 0;);return Q.reverse(),Q}return($=[]).concat.apply($,h(V))}},{key:"_vToNArray",value:function(V){var $=[],Q=!0,te=!1,ne=void 0;try{for(var ae,ce=V[Symbol.iterator]();!(Q=(ae=ce.next()).done);Q=!0){var de=ae.value;$.push(de.x,de.y,de.z)}}catch(X){te=!0,ne=X}finally{try{Q||ce.return==null||ce.return()}finally{if(te)throw ne}}return $}},{key:"_bezierCoefficients",value:function(V){var $=V*V,Q=1-V,te=Q*Q;return[te*Q,3*te*V,3*Q*$,$*V]}},{key:"_quadraticCoefficients",value:function(V){var $=1-V;return[$*$,2*$*V,V*V]}},{key:"_bezierToCatmull",value:function(V){return[V[1],V[1]+(V[2]-V[0])/this._curveTightness,V[2]-(V[3]-V[1])/this._curveTightness,V[2]]}},{key:"_initTessy",value:function(){var V=new T.default.GluTesselator;return V.gluTessCallback(T.default.gluEnum.GLU_TESS_VERTEX_DATA,function($,Q){for(var te=0;te<$.length;te++)Q.push($[te])}),V.gluTessCallback(T.default.gluEnum.GLU_TESS_BEGIN,function($){$!==T.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat($))}),V.gluTessCallback(T.default.gluEnum.GLU_TESS_ERROR,function($){console.log("error callback"),console.log("error number: ".concat($))}),V.gluTessCallback(T.default.gluEnum.GLU_TESS_COMBINE,function($,Q,te){for(var ne=new Array(d.default.RendererGL.prototype.tessyVertexSize).fill(0),ae=0;ae<te.length;ae++)for(var ce=0;ce<ne.length;ce++)te[ae]!==0&&Q[ae]&&(ne[ce]+=Q[ae][ce]*te[ae]);return ne}),V.gluTessCallback(T.default.gluEnum.GLU_TESS_EDGE_FLAG,function($){}),V}},{key:"_triangulate",value:function(V){var $=V[0]?V[0][2]:void 0,Q=!0,te=!0,ne=!1,ae=void 0;try{for(var ce,de=V[Symbol.iterator]();!(te=(ce=de.next()).done);te=!0)for(var X=ce.value,Z=0;Z<X.length;Z+=d.default.RendererGL.prototype.tessyVertexSize)if(X[Z+2]!==$){Q=!1;break}}catch(Re){ne=!0,ae=Re}finally{try{te||de.return==null||de.return()}finally{if(ne)throw ae}}Q?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),ne=[];var ie=(this._tessy.gluTessBeginPolygon(ne),!0),he=(ae=!1,void 0);try{for(var ye,ve=V[Symbol.iterator]();!(ie=(ye=ve.next()).done);ie=!0){var le=ye.value;this._tessy.gluTessBeginContour();for(var me=0;me<le.length;me+=d.default.RendererGL.prototype.tessyVertexSize){var Se=le.slice(me,me+d.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Se,Se)}this._tessy.gluTessEndContour()}}catch(Re){ae=!0,he=Re}finally{try{ie||ve.return==null||ve.return()}finally{if(ae)throw he}}return this._tessy.gluTessEndPolygon(),ne}}])&&p(G.prototype,H),q}(d.default.Renderer),d.default.prototype._assert3d=function(H){if(!this._renderer.isP3D)throw new Error("".concat(H,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},d.default.RendererGL.prototype.tessyVertexSize=12,n=d.default.RendererGL,x.default=n},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(n,C,x){n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.index-of"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.array.slice"),n("core-js/modules/es.function.name"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0;var m=(n=n("../core/main"))&&n.__esModule?n:{default:n};function d(c,T){for(var A=0;A<T.length;A++){var f=T[A];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}m.default.Shader=function(){function c(f,h,p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._renderer=f,this._vertSrc=h,this._fragSrc=p,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var T,A;return T=c,(A=[{key:"init",value:function(){if(this._glProgram===0){var f=this._renderer.GL;if(this._vertShader=f.createShader(f.VERTEX_SHADER),f.shaderSource(this._vertShader,this._vertSrc),f.compileShader(this._vertShader),!f.getShaderParameter(this._vertShader,f.COMPILE_STATUS))return m.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(f.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=f.createShader(f.FRAGMENT_SHADER),f.shaderSource(this._fragShader,this._fragSrc),f.compileShader(this._fragShader),!f.getShaderParameter(this._fragShader,f.COMPILE_STATUS))return m.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(f.getShaderInfoLog(this._fragShader))),null;this._glProgram=f.createProgram(),f.attachShader(this._glProgram,this._vertShader),f.attachShader(this._glProgram,this._fragShader),f.linkProgram(this._glProgram),f.getProgramParameter(this._glProgram,f.LINK_STATUS)||m.default._friendlyError("Snap! Error linking shader program: ".concat(f.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var f=this._renderer.GL,h=f.getProgramParameter(this._glProgram,f.ACTIVE_ATTRIBUTES),p=0;p<h;++p){var u=f.getActiveAttrib(this._glProgram,p),g=u.name,S=f.getAttribLocation(this._glProgram,g),j={};j.name=g,j.location=S,j.index=p,j.type=u.type,j.size=u.size,this.attributes[g]=j}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var f=this._renderer.GL,h=f.getProgramParameter(this._glProgram,f.ACTIVE_UNIFORMS),p=0,u=0;u<h;++u){var g=f.getActiveUniform(this._glProgram,u),S={},j=(S.location=f.getUniformLocation(this._glProgram,g.name),S.size=g.size,g.name);1<g.size&&(j=j.substring(0,j.indexOf("[0]"))),S.name=j,S.type=g.type,S._cachedData=void 0,S.type===f.SAMPLER_2D&&(S.samplerIndex=p,p++,this.samplers.push(S)),S.isArray=1<g.size||S.type===f.FLOAT_MAT3||S.type===f.FLOAT_MAT4||S.type===f.FLOAT_VEC2||S.type===f.FLOAT_VEC3||S.type===f.FLOAT_VEC4||S.type===f.INT_VEC2||S.type===f.INT_VEC4||S.type===f.INT_VEC3,this.uniforms[j]=S}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var f=this._renderer.GL,h=!0,p=!1,u=void 0;try{for(var g,S=this.samplers[Symbol.iterator]();!(h=(g=S.next()).done);h=!0){var j=g.value,_=j.texture;_===void 0&&(_=this._renderer._getEmptyTexture()),f.activeTexture(f.TEXTURE0+j.samplerIndex),_.bindTexture(),_.update(),f.uniform1i(j.location,j.samplerIndex)}}catch(b){p=!0,u=b}finally{try{h||S.return==null||S.return()}finally{if(p)throw u}}}},{key:"updateTextures",value:function(){var f=!0,h=!1,p=void 0;try{for(var u,g=this.samplers[Symbol.iterator]();!(f=(u=g.next()).done);f=!0){var S=u.value.texture;S&&S.update()}}catch(j){h=!0,p=j}finally{try{f||g.return==null||g.return()}finally{if(h)throw p}}}},{key:"unbindTextures",value:function(){var f=!0,h=!1,p=void 0;try{for(var u,g=this.samplers[Symbol.iterator]();!(f=(u=g.next()).done);f=!0){var S=u.value;this.setUniform(S.name,this._renderer._getEmptyTexture())}}catch(j){h=!0,p=j}finally{try{f||g.return==null||g.return()}finally{if(h)throw p}}}},{key:"_setMatrixUniforms",value:function(){var f=this._renderer._curCamera.cameraMatrix,h=this._renderer.uPMatrix,p=this._renderer.uMVMatrix,u=p.copy();u.mult(h),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",f.mat4),this.setUniform("uProjectionMatrix",h.mat4),this.setUniform("uModelViewMatrix",p.mat4),this.setUniform("uModelViewProjectionMatrix",u.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var f=this._renderer.GL;return this._renderer._curShader!==this&&(f.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(f,h){var p=this.uniforms[f];if(p){var u=this._renderer.GL;if(p.isArray){if(p._cachedData&&this._renderer._arraysEqual(p._cachedData,h))return;p._cachedData=h.slice(0)}else{if(p._cachedData&&p._cachedData===h)return;Array.isArray(h)?p._cachedData=h.slice(0):p._cachedData=h}var g=p.location;switch(this.useProgram(),p.type){case u.BOOL:h===!0?u.uniform1i(g,1):u.uniform1i(g,0);break;case u.INT:1<p.size?h.length&&u.uniform1iv(g,h):u.uniform1i(g,h);break;case u.FLOAT:1<p.size?h.length&&u.uniform1fv(g,h):u.uniform1f(g,h);break;case u.FLOAT_MAT3:u.uniformMatrix3fv(g,!1,h);break;case u.FLOAT_MAT4:u.uniformMatrix4fv(g,!1,h);break;case u.FLOAT_VEC2:1<p.size?h.length&&u.uniform2fv(g,h):u.uniform2f(g,h[0],h[1]);break;case u.FLOAT_VEC3:1<p.size?h.length&&u.uniform3fv(g,h):u.uniform3f(g,h[0],h[1],h[2]);break;case u.FLOAT_VEC4:1<p.size?h.length&&u.uniform4fv(g,h):u.uniform4f(g,h[0],h[1],h[2],h[3]);break;case u.INT_VEC2:1<p.size?h.length&&u.uniform2iv(g,h):u.uniform2i(g,h[0],h[1]);break;case u.INT_VEC3:1<p.size?h.length&&u.uniform3iv(g,h):u.uniform3i(g,h[0],h[1],h[2]);break;case u.INT_VEC4:1<p.size?h.length&&u.uniform4iv(g,h):u.uniform4i(g,h[0],h[1],h[2],h[3]);break;case u.SAMPLER_2D:u.activeTexture(u.TEXTURE0+p.samplerIndex),p.texture=h instanceof m.default.Texture?h:this._renderer.getTexture(h),u.uniform1i(g,p.samplerIndex),p.texture.src.gifProperties&&p.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(f,h,p,u,g,S){var j;return f&&(f=f.location)!==-1&&(j=this._renderer.GL,this._renderer.registerEnabled[f]||(j.enableVertexAttribArray(f),this._renderer.registerEnabled[f]=!0),this._renderer.GL.vertexAttribPointer(f,h,p||j.FLOAT,u||!1,g||0,S||0)),this}}])&&d(T.prototype,A),c}(),n=m.default.Shader,x.default=n},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(n,C,x){function m(p){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(p)}function d(p){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(u){return m(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":m(u)})(p)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.typed-array.uint8-array"),n("core-js/modules/es.typed-array.copy-within"),n("core-js/modules/es.typed-array.every"),n("core-js/modules/es.typed-array.fill"),n("core-js/modules/es.typed-array.filter"),n("core-js/modules/es.typed-array.find"),n("core-js/modules/es.typed-array.find-index"),n("core-js/modules/es.typed-array.for-each"),n("core-js/modules/es.typed-array.includes"),n("core-js/modules/es.typed-array.index-of"),n("core-js/modules/es.typed-array.iterator"),n("core-js/modules/es.typed-array.join"),n("core-js/modules/es.typed-array.last-index-of"),n("core-js/modules/es.typed-array.map"),n("core-js/modules/es.typed-array.reduce"),n("core-js/modules/es.typed-array.reduce-right"),n("core-js/modules/es.typed-array.reverse"),n("core-js/modules/es.typed-array.set"),n("core-js/modules/es.typed-array.slice"),n("core-js/modules/es.typed-array.some"),n("core-js/modules/es.typed-array.sort"),n("core-js/modules/es.typed-array.subarray"),n("core-js/modules/es.typed-array.to-locale-string"),n("core-js/modules/es.typed-array.to-string"),Object.defineProperty(x,"__esModule",{value:!0}),x.checkWebGLCapabilities=f,x.default=void 0;var c=(h=n("../core/main"))&&h.__esModule?h:{default:h},T=function(p){if(p&&p.__esModule)return p;if(p===null||d(p)!=="object"&&typeof p!="function")return{default:p};var u=function(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,b)}();if(u&&u.has(p))return u.get(p);var g,S={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in p){var _;Object.prototype.hasOwnProperty.call(p,g)&&((_=j?Object.getOwnPropertyDescriptor(p,g):null)&&(_.get||_.set)?Object.defineProperty(S,g,_):S[g]=p[g])}return S.default=p,u&&u.set(p,S),S}(n("../core/constants"));function A(p,u){for(var g=0;g<u.length;g++){var S=u[g];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}function f(p){var u=p.GL,g=(p=p.webglVersion)===T.WEBGL2?u.getExtension("EXT_color_buffer_float")&&u.getExtension("EXT_float_blend"):u.getExtension("OES_texture_float");return{float:g,floatLinear:g&&u.getExtension("OES_texture_float_linear"),halfFloat:p=p===T.WEBGL2?u.getExtension("EXT_color_buffer_float"):u.getExtension("OES_texture_half_float"),halfFloatLinear:p&&u.getExtension("OES_texture_half_float_linear")}}c.default.Texture=function(){function p(S,j,_){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._renderer=S;var b=this._renderer.GL;return _=_||{},this.src=j,this.glTex=void 0,this.glTarget=b.TEXTURE_2D,this.glFormat=_.format||b.RGBA,this.mipmaps=!1,this.glMinFilter=_.minFilter||b.LINEAR,this.glMagFilter=_.magFilter||b.LINEAR,this.glWrapS=_.wrapS||b.CLAMP_TO_EDGE,this.glWrapT=_.wrapT||b.CLAMP_TO_EDGE,this.glDataType=_.dataType||b.UNSIGNED_BYTE,_=f(S),this.glFormat!==b.HALF_FLOAT||_.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=b.FLOAT),this.glFormat!==b.HALF_FLOAT||this.glMinFilter!==b.LINEAR&&this.glMagFilter!==b.LINEAR||_.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===b.LINEAR&&(this.glMinFilter=b.NEAREST),this.glMagFilter===b.LINEAR&&(this.glMagFilter=b.NEAREST)),this.glFormat!==b.FLOAT||_.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=b.UNSIGNED_BYTE),this.glFormat!==b.FLOAT||this.glMinFilter!==b.LINEAR&&this.glMagFilter!==b.LINEAR||_.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===b.LINEAR&&(this.glMinFilter=b.NEAREST),this.glMagFilter===b.LINEAR&&(this.glMagFilter=b.NEAREST)),this.isSrcMediaElement=c.default.MediaElement!==void 0&&j instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&j instanceof c.default.Element&&!(j instanceof c.default.Graphics)&&!(j instanceof c.default.Renderer),this.isSrcP5Image=j instanceof c.default.Image,this.isSrcP5Graphics=j instanceof c.default.Graphics,this.isSrcP5Renderer=j instanceof c.default.Renderer,this.isImageData=typeof ImageData<"u"&&j instanceof ImageData,this.isFramebufferTexture=j instanceof c.default.FramebufferTexture,S=this._getTextureDataFromSource(),this.width=S.width,this.height=S.height,this.init(S),this}var u,g;return u=p,(g=[{key:"_getTextureDataFromSource",value:function(){var S;return this.isFramebufferTexture?S=this.src.rawTexture():this.isSrcP5Image?S=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?S=this.src.elt:this.isImageData&&(S=this.src),S}},{key:"init",value:function(S){var j,_=this._renderer.GL;this.isFramebufferTexture||(this.glTex=_.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,this.glMagFilter),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(j=new Uint8Array([1,1,1,1]),_.texImage2D(this.glTarget,0,_.RGBA,1,1,0,this.glFormat,this.glDataType,j)):_.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,S))}},{key:"update",value:function(){var S,j,_,b=this.src;return b.width!==0&&b.height!==0&&!this.isFramebufferTexture&&(S=this._getTextureDataFromSource(),j=!1,_=this._renderer.GL,S.width!==this.width||S.height!==this.height?(j=!0,this.width=S.width||b.width,this.height=S.height||b.height,this.isSrcP5Image?b.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&b.setModified(!0)):this.isSrcP5Image?b.isModified()&&b.setModified(!(j=!0)):this.isSrcMediaElement?b.isModified()?b.setModified(!(j=!0)):b.loadedmetadata&&this._videoPrevUpdateTime!==b.time()&&(this._videoPrevUpdateTime=b.time(),j=!0):this.isImageData?b._dirty&&(j=!(b._dirty=!1)):j=!0,j&&(this.bindTexture(),_.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,S)),j)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(S,j){var _=this._renderer.GL;S===T.NEAREST?this.glMinFilter=_.NEAREST:this.glMinFilter=_.LINEAR,j===T.NEAREST?this.glMagFilter=_.NEAREST:this.glMagFilter=_.LINEAR,this.bindTexture(),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,this.glMinFilter),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(S,j){function _(P){return(P&P-1)==0}var b=this._renderer.GL,E=(E=this._getTextureDataFromSource()).naturalWidth&&E.naturalHeight?(M=E.naturalWidth,E.naturalHeight):(M=this.width,this.height),M=_(M);E=_(E),S===T.REPEAT?this._renderer.webglVersion===T.WEBGL2||M&&E?this.glWrapS=b.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=b.CLAMP_TO_EDGE):S===T.MIRROR?this._renderer.webglVersion===T.WEBGL2||M&&E?this.glWrapS=b.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=b.CLAMP_TO_EDGE):this.glWrapS=b.CLAMP_TO_EDGE,j===T.REPEAT?this._renderer.webglVersion===T.WEBGL2||M&&E?this.glWrapT=b.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=b.CLAMP_TO_EDGE):j===T.MIRROR?this._renderer.webglVersion===T.WEBGL2||M&&E?this.glWrapT=b.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=b.CLAMP_TO_EDGE):this.glWrapT=b.CLAMP_TO_EDGE,this.bindTexture(),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,this.glWrapS),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&A(u.prototype,g),p}();var h=c.default.Texture;x.default=h},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(n,C,x){function m(_){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(_)}function d(_){return(d=typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?function(b){return m(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":m(b)})(_)}n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.get-own-property-descriptor"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.sub"),n("core-js/modules/es.weak-map"),n("core-js/modules/web.dom-collections.iterator"),n("core-js/modules/es.symbol"),n("core-js/modules/es.symbol.description"),n("core-js/modules/es.symbol.iterator"),n("core-js/modules/es.array.iterator"),n("core-js/modules/es.object.to-string"),n("core-js/modules/es.regexp.exec"),n("core-js/modules/es.string.iterator"),n("core-js/modules/es.string.split"),n("core-js/modules/es.string.sub"),n("core-js/modules/web.dom-collections.iterator");var c,T=(c=n("../core/main"))&&c.__esModule?c:{default:c},A=function(_){if(_&&_.__esModule)return _;if(_===null||d(_)!=="object"&&typeof _!="function")return{default:_};var b=function(){var O;return typeof WeakMap!="function"?null:(O=new WeakMap,O)}();if(b&&b.has(_))return b.get(_);var E,M={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(E in _){var D;Object.prototype.hasOwnProperty.call(_,E)&&((D=P?Object.getOwnPropertyDescriptor(_,E):null)&&(D.get||D.set)?Object.defineProperty(M,E,D):M[E]=_[E])}return M.default=_,b&&b.set(_,M),M}(n("../core/constants"));function f(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){for(var E=0;E<b.length;E++){var M=b[E];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(_,M.key,M)}}function p(_,b,E){b&&h(_.prototype,b)}n("./p5.Shader"),n("./p5.RendererGL.Retained"),T.default.RendererGL.prototype._applyTextProperties=function(){},T.default.RendererGL.prototype.textWidth=function(_){return this._isOpenType()?this._textFont._textWidth(_,this._textSize):0};var u=function(){function _(b,E){f(this,_),this.width=b,this.height=E,this.infos=[]}return p(_,[{key:"findImage",value:function(b){var E,M,P=this.width*this.height;if(P<b)throw new Error("font is too complex to render in 3D");for(var D=this.infos.length-1;0<=D;--D){var O=this.infos[D];if(O.index+b<P){M=(E=O).imageData;break}}if(!E){try{M=new ImageData(this.width,this.height)}catch{var U=document.getElementsByTagName("canvas")[0],F=!U,H=(U||((U=document.createElement("canvas")).style.display="none",document.body.appendChild(U)),U.getContext("2d"));H&&(M=H.createImageData(this.width,this.height)),F&&document.body.removeChild(U)}this.infos.push(E={index:0,imageData:M})}return H=E.index,E.index+=b,M._dirty=!0,{imageData:M,index:H}}}]),_}();function g(_,b,E,M,P){var D=_.imageData.data;_=4*_.index++,D[_++]=b,D[_++]=E,D[_++]=M,D[+_]=P}var S=Math.sqrt(3),j=function(){function _(b){f(this,_),this.font=b,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={}}return p(_,[{key:"getGlyphInfo",value:function(b){var E=this.glyphInfos[b.index];if(!E){var M=b.getBoundingBox(),P=M.x1,D=M.y1,O=M.x2-P,U=M.y2-D,F=b.path.commands;if(O==0||U==0||!F.length)return this.glyphInfos[b.index]={};for(var H=[],G=[],Y=[],q=8;0<=q;--q)Y.push([]);for(q=8;0<=q;--q)G.push([]);var V,$,Q,te,ne=function(){function je(We,Ye,ft,Ct){f(this,je),this.p0=We,this.c0=Ye,this.c1=ft,this.p1=Ct}return p(je,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return T.default.Vector.sub(T.default.Vector.sub(this.p1,this.p0),T.default.Vector.mult(T.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(We){var Ye=T.default.Vector.lerp(this.p0,this.c0,We),ft=T.default.Vector.lerp(this.c0,this.c1,We),Ct=T.default.Vector.lerp(Ye,ft,We);return this.c1=T.default.Vector.lerp(this.c1,this.p1,We),this.c0=T.default.Vector.lerp(ft,this.c1,We),ft=T.default.Vector.lerp(Ct,this.c0,We),We=new je(this.p0,Ye,Ct,ft),this.p0=ft,We}},{key:"splitInflections",value:function(){var We=T.default.Vector.sub(this.c0,this.p0),Ye=T.default.Vector.sub(T.default.Vector.sub(this.c1,this.c0),We),ft=T.default.Vector.sub(T.default.Vector.sub(T.default.Vector.sub(this.p1,this.c1),We),T.default.Vector.mult(Ye,2)),Ct=[],Vt=Ye.x*ft.y-Ye.y*ft.x;return Vt!==0&&0<=(We=(ft=We.x*ft.y-We.y*ft.x)*ft-4*Vt*(We.x*Ye.y-We.y*Ye.x))&&(Vt<0&&(Vt=-Vt,ft=-ft),We=(-ft+(Ye=Math.sqrt(We)))/(2*Vt),0<(ft=(-ft-Ye)/(2*Vt))&&ft<1&&(Ct.push(this.split(ft)),We=1-(1-We)/(1-ft)),0<We&&We<1&&Ct.push(this.split(We))),Ct.push(this),Ct}}]),je}(),ae=!0,ce=!1,de=void 0;try{for(var X,Z=F[Symbol.iterator]();!(ae=(X=Z.next()).done);ae=!0){var ie=X.value,he=(ie.x-P)/O,ye=(ie.y-D)/U;if(!Yt(V,$,he,ye)){switch(ie.type){case"M":Q=he,te=ye;break;case"L":_t(V,$,he,ye);break;case"Q":var ve=(ie.x1-P)/O,le=(ie.y1-D)/U;at([V,he,ve],[$,ye,le],{x:V,y:$,cx:ve,cy:le});break;case"Z":Yt(V,$,Q,te)?H.push({x:V,y:$}):(_t(V,$,Q,te),H.push({x:Q,y:te}));break;case"C":for(var me=function(je,We,Ye,ft,Ct,Vt,Ot,At){je=new ne(new T.default.Vector(je,We),new T.default.Vector(Ye,ft),new T.default.Vector(Ct,Vt),new T.default.Vector(Ot,At)).splitInflections();var fe=[],ue=30/S,pe=!0;We=!1,Ye=void 0;try{for(var xe,De=je[Symbol.iterator]();!(pe=(xe=De.next()).done);pe=!0){for(var Ke=xe.value,mt=[],ht=void 0;!(.125<=(ht=ue/Ke.quadError()));){var Le=Math.pow(ht,.3333333333333333),gt=Ke.split(Le),Mt=Ke.split(1-Le/(1-Le));fe.push(gt),mt.push(Ke),Ke=Mt}ht<1&&fe.push(Ke.split(.5)),fe.push(Ke),Array.prototype.push.apply(fe,mt.reverse())}}catch(sr){We=!0,Ye=sr}finally{try{pe||De.return==null||De.return()}finally{if(We)throw Ye}}return fe}(V,$,(ie.x1-P)/O,(ie.y1-D)/U,(ie.x2-P)/O,(ie.y2-D)/U,he,ye),Se=0;Se<me.length;Se++){var Re=me[Se].toQuadratic();at([Re.x,Re.x1,Re.cx],[Re.y,Re.y1,Re.cy],Re)}break;default:throw new Error("unknown command type: ".concat(ie.type))}V=he,$=ye}}}catch(je){ce=!0,de=je}finally{try{ae||Z.return==null||Z.return()}finally{if(ce)throw de}}for(var Ee=H.length,Ae=this.strokeImageInfos.findImage(Ee),Be=Ae.index,et=0;et<Ee;++et){var $e=H[et];g(Ae,jt($e.x),jt($e.y),jt($e.cx),jt($e.cy))}(E=this.glyphInfos[b.index]={glyph:b,uGlyphRect:[M.x1,-M.y1,M.x2,-M.y2],strokeImageInfo:Ae,strokes:H,colInfo:Tt(Y,this.colDimImageInfos,this.colCellImageInfos),rowInfo:Tt(G,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[E.colInfo.dimOffset,E.rowInfo.dimOffset]}return E;function at(je,We,Ye){var ft=H.length;function Ct(ue,pe,xe){for(var De=ue.length;0<De--;){var Ke=ue[De];Ke<pe&&(pe=Ke),xe<Ke&&(xe=Ke)}return{min:pe,max:xe}}H.push(Ye),Ye=Ct(je,1,0),je=Math.max(Math.floor(9*Ye.min-.5),0);for(var Vt=Math.min(Math.ceil(9*Ye.max+.5),9),Ot=je;Ot<Vt;++Ot)Y[Ot].push(ft);Ye=Ct(We,1,0),je=Math.max(Math.floor(9*Ye.min-.5),0);for(var At=Math.min(Math.ceil(9*Ye.max+.5),9),fe=je;fe<At;++fe)G[fe].push(ft)}function jt(je){return(je=255*je)<0?0:255<je?255:je}function _t(je,We,Ye,ft){at([je,Ye],[We,ft],{x:je,y:We,cx:(je+Ye)/2,cy:(We+ft)/2})}function Yt(je,We,Ye,ft){return Math.abs(Ye-je)<1e-5&&Math.abs(ft-We)<1e-5}function Tt(je,We,Ye){for(var ft=je.length,Ct=We.findImage(ft),Vt=(We=Ct.index,0),Ot=0;Ot<ft;++Ot)Vt+=je[Ot].length;for(var At=Ye.findImage(Vt),fe=0;fe<ft;++fe){var ue=je[fe],pe=ue.length,xe=At.index;g(Ct,xe>>7,127&xe,pe>>7,127&pe);for(var De=0;De<pe;++De){var Ke=ue[De]+Be;g(At,Ke>>7,127&Ke,0,0)}}return{cellImageInfo:At,dimOffset:We,dimImageInfo:Ct}}}}]),_}();T.default.RendererGL.prototype._renderText=function(_,b,E,M,P){if(this._textFont&&typeof this._textFont!="string"){if(!(P<=M)&&this._doFill){if(this._isOpenType()){_.push(),P=this._doStroke;var D=this.drawMode,O=(this._doStroke=!1,this.drawMode=A.TEXTURE,this._textFont.font),U=(U=this._textFont._fontInfo)||(this._textFont._fontInfo=new j(O)),F=(E=this._textFont._handleAlignment(this,b,E,M),M=this._textSize/O.unitsPerEm,this.translate(E.x,E.y,0),this.scale(M,M,1),this.GL),H=(E=!this._defaultFontShader,this._getFontShader()),G=(H.init(),H.bindShader(),E&&(H.setUniform("uGridImageSize",[64,64]),H.setUniform("uCellsImageSize",[64,64]),H.setUniform("uStrokeImageSize",[64,64]),H.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),Y=(G||((M=this._textGeom=new T.default.Geometry(1,1,function(){for(var ve=0;ve<=1;ve++)for(var le=0;le<=1;le++)this.vertices.push(new T.default.Vector(le,ve,0)),this.uvs.push(le,ve)})).computeFaces().computeNormals(),G=this.createBuffers("glyph",M)),!0);E=!1,M=void 0;try{for(var q,V=this.retainedMode.buffers.text[Symbol.iterator]();!(Y=(q=V.next()).done);Y=!0)q.value._prepareBuffer(G,H)}catch(ve){E=!0,M=ve}finally{try{Y||V.return==null||V.return()}finally{if(E)throw M}}this._bindBuffer(G.indexBuffer,F.ELEMENT_ARRAY_BUFFER),H.setUniform("uMaterialColor",this.curFillColor),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var $=0,Q=null,te=O.stringToGlyphs(b),ne=!0,ae=!1,ce=void 0;try{for(var de,X=te[Symbol.iterator]();!(ne=(de=X.next()).done);ne=!0){var Z,ie,he=de.value,ye=(Q&&($+=O.getKerningValue(Q,he)),U.getGlyphInfo(he));ye.uGlyphRect&&(Z=ye.rowInfo,ie=ye.colInfo,H.setUniform("uSamplerStrokes",ye.strokeImageInfo.imageData),H.setUniform("uSamplerRowStrokes",Z.cellImageInfo.imageData),H.setUniform("uSamplerRows",Z.dimImageInfo.imageData),H.setUniform("uSamplerColStrokes",ie.cellImageInfo.imageData),H.setUniform("uSamplerCols",ie.dimImageInfo.imageData),H.setUniform("uGridOffset",ye.uGridOffset),H.setUniform("uGlyphRect",ye.uGlyphRect),H.setUniform("uGlyphOffset",$),H.bindTextures(),F.drawElements(F.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),$+=he.advanceWidth,Q=he}}catch(ve){ae=!0,ce=ve}finally{try{ne||X.return==null||X.return()}finally{if(ae)throw ce}}}finally{H.unbindShader(),this._doStroke=P,this.drawMode=D,F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),_.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return _}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)})}).call(this,y(3))},function(i,l,y){y.r(l),y.d(l,"p5Events",function(){return h}),y.d(l,"default",function(){return p});var R=y(0),n=y.n(R),C=y(1),x=y.n(C);function m(u){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}function d(u,g){for(var S=0;S<g.length;S++){var j=g[S];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(u,(_=j.key,b=void 0,b=function(E,M){if(m(E)!=="object"||E===null)return E;var P=E[Symbol.toPrimitive];if(P!==void 0){var D=P.call(E,M);if(m(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(E)}(_,"string"),m(b)==="symbol"?b:String(b)),j)}var _,b}function c(u,g){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,j){return S.__proto__=j,S})(u,g)}function T(u){var g=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var S,j=f(u);if(g){var _=f(this).constructor;S=Reflect.construct(j,arguments,_)}else S=j.apply(this,arguments);return A(this,S)}}function A(u,g){if(g&&(m(g)==="object"||typeof g=="function"))return g;if(g!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(u)}function f(u){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)})(u)}typeof window<"u"&&(window.p5=x.a);var h=["draw","windowResized","preload","mouseClicked","doubleClicked","mouseMoved","mousePressed","mouseWheel","mouseDragged","mouseReleased","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"],p=function(u){(function(b,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(E&&E.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),E&&c(b,E)})(_,u);var g,S,j=T(_);function _(b){var E;return function(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}(this,_),(E=j.call(this,b)).canvasParentRef=n.a.createRef(),E}return g=_,(S=[{key:"componentDidMount",value:function(){var b=this;this.sketch=new x.a(function(E){E.setup=function(){b.props.setup(E,b.canvasParentRef.current)},h.forEach(function(M){b.props[M]&&(E[M]=function(){for(var P,D=arguments.length,O=new Array(D),U=0;U<D;U++)O[U]=arguments[U];(P=b.props)[M].apply(P,[E].concat(O))})})})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.sketch.remove()}},{key:"render",value:function(){return n.a.createElement("div",{ref:this.canvasParentRef,className:this.props.className||"react-p5","data-testid":"react-p5",style:this.props.style||{}})}}])&&d(g.prototype,S),Object.defineProperty(g,"prototype",{writable:!1}),_}(n.a.Component)},function(i,l){var y;y=function(){return this}();try{y=y||new Function("return this")()}catch{typeof window=="object"&&(y=window)}i.exports=y}]).default})}(fp)),fp.exports}var l4=a4();const DT=zj(l4),Kv="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAsQAAALEBxi1JjQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABdSURBVEiJ7dWxDUAAEIXhLxoJhrCJJTQMYEwSa1EoNCokco3cX1/ef8XLHclHSrSRggkb+ihBjQU7xpS8kczRkuo3kgars8Ld3WARtcEXro0aMjzDHwk/1+EPJ3EAafEfOH/w9c0AAAAASUVORK5CYII=",u4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAG5lWElmTU0AKgAAAAgAAwESAAMAAAABAAEAAAExAAIAAAARAAAAModpAAQAAAABAAAARAAAAAB3d3cuaW5rc2NhcGUub3JnAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAAD39ocuAAABy2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD53d3cuaW5rc2NhcGUub3JnPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgrnoOwoAAAAcklEQVRIDWNgGAU0DgEFoPnstLIjBGjwbyBOo4UFkUBD/wDxfiDmprYFo4ZjDdGhGyz2QP+AkuIhIObB6jcCgkwE5OkiHQW0BZTm9wExF61spLslVM+9sJCB+YQmRcTws4SmxTUsuBSADJpVODBLhjkNAPxlHzjv4rFlAAAAAElFTkSuQmCC",il=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],c4=({inputs:r,setInputs:t,step:s,setStep:i,handleNext:l})=>{const[y,R]=Pe.useState(0),[n,C]=Pe.useState(!0),x=c=>{c.preventDefault(),s===2&&(C(!1),setTimeout(()=>i(3),200))};Pe.useEffect(()=>{const c=il.findIndex(T=>T===r.starsign);c!==-1?R(c):t(T=>({...T,starsign:il[0]}))},[]);const m=()=>{const c=(y-1+il.length)%il.length;R(c),t(T=>({...T,starsign:il[c]}))},d=()=>{const c=(y+1)%il.length;R(c),t(T=>({...T,starsign:il[c]}))};return s!==2?null:ge.jsxs("div",{style:{opacity:n?1:0,transition:"opacity 0.2s ease-in-out"},children:[ge.jsxs("div",{children:[ge.jsx("button",{type:"button",onClick:m,"aria-label":"Previous Star Sign",style:{paddingLeft:"0"},children:ge.jsx("img",{src:u4})}),ge.jsx("button",{type:"button",onClick:d,"aria-label":"Next Star Sign",children:ge.jsx("img",{src:Kv})})]}),ge.jsx("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:ge.jsx("div",{style:{fontFamily:"Helvetica",fontSize:"4vh",width:"20vw",textAlign:"left",borderBottom:"1px solid #000",fontWeight:"1000"},children:il[y]})}),ge.jsx("label",{htmlFor:"starsign",style:{textTransform:"uppercase",display:"block",marginTop:"1rem"},children:"what is your star sign?"}),ge.jsx("button",{onClick:x,disabled:!r.starsign,style:{marginTop:"1rem"},children:"Next"})]})},PT=""+new URL("aries-BxB9WLUL.svg",import.meta.url).href,LT=""+new URL("taurus-Cqrbyhgo.svg",import.meta.url).href,NT=""+new URL("gemini-DSnuEyCM.svg",import.meta.url).href,UT=""+new URL("cancer-jfGbM11X.svg",import.meta.url).href,BT=""+new URL("leo-neNfHETx.svg",import.meta.url).href,FT=""+new URL("virgo-BMgqAkPK.svg",import.meta.url).href,VT=""+new URL("libra-D9RMa2k4.svg",import.meta.url).href,zT=""+new URL("scorpio-D_sVQzdQ.svg",import.meta.url).href,GT=""+new URL("sagitarrius--X3rykeF.svg",import.meta.url).href,HT=""+new URL("capricorn-3XXvBezw.svg",import.meta.url).href,qT=""+new URL("aquarius-DR5utWgh.svg",import.meta.url).href,$T=""+new URL("pisces-D0tu0Qar.svg",import.meta.url).href,d4=r=>({setHttpHandler(t){r.httpHandler=t},httpHandler(){return r.httpHandler},updateHttpClientConfig(t,s){var i;(i=r.httpHandler)==null||i.updateHttpClientConfig(t,s)},httpHandlerConfigs(){return r.httpHandler.httpHandlerConfigs()}}),h4=r=>({httpHandler:r.httpHandler()});var Qx;(function(r){r.HEADER="header",r.QUERY="query"})(Qx||(Qx={}));var Zx;(function(r){r.HEADER="header",r.QUERY="query"})(Zx||(Zx={}));var Th;(function(r){r.HTTP="http",r.HTTPS="https"})(Th||(Th={}));var Op;(function(r){r.MD5="md5",r.CRC32="crc32",r.CRC32C="crc32c",r.SHA1="sha1",r.SHA256="sha256"})(Op||(Op={}));var Jx;(function(r){r[r.HEADER=0]="HEADER",r[r.TRAILER=1]="TRAILER"})(Jx||(Jx={}));const Qv="__smithy_context";var eS;(function(r){r.PROFILE="profile",r.SSO_SESSION="sso-session",r.SERVICES="services"})(eS||(eS={}));var tS;(function(r){r.HTTP_0_9="http/0.9",r.HTTP_1_0="http/1.0",r.TDS_8_0="tds/8.0"})(tS||(tS={}));class us{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){const s=new us({...t,headers:{...t.headers}});return s.query&&(s.query=f4(s.query)),s}static isInstance(t){if(!t)return!1;const s=t;return"method"in s&&"protocol"in s&&"hostname"in s&&"path"in s&&typeof s.query=="object"&&typeof s.headers=="object"}clone(){return us.clone(this)}}function f4(r){return Object.keys(r).reduce((t,s)=>{const i=r[s];return{...t,[s]:Array.isArray(i)?[...i]:i}},{})}class Nc{constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;const s=t;return typeof s.statusCode=="number"&&typeof s.headers=="object"}}function p4(r){return t=>async s=>{var l,y;const{request:i}=s;return us.isInstance(i)&&i.body&&r.runtime==="node"&&((y=(l=r.requestHandler)==null?void 0:l.constructor)==null?void 0:y.name)!=="FetchHttpHandler"&&(i.headers={...i.headers,Expect:"100-continue"}),t({...s,request:i})}}const m4={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},y4=r=>({applyToStack:t=>{t.add(p4(r),m4)}}),Uc={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},g4=Uc.WHEN_SUPPORTED,Vg={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},v4=Uc.WHEN_SUPPORTED;var bn;(function(r){r.MD5="MD5",r.CRC32="CRC32",r.CRC32C="CRC32C",r.CRC64NVME="CRC64NVME",r.SHA1="SHA1",r.SHA256="SHA256"})(bn||(bn={}));var rS;(function(r){r.HEADER="header",r.TRAILER="trailer"})(rS||(rS={}));const Zv=bn.CRC32;var nS;(function(r){r.ENV="env",r.CONFIG="shared config entry"})(nS||(nS={}));function b4(r,t,s){return r.$source||(r.$source={}),r.$source[t]=s,r}function is(r,t,s){r.__aws_sdk_context?r.__aws_sdk_context.features||(r.__aws_sdk_context.features={}):r.__aws_sdk_context={features:{}},r.__aws_sdk_context.features[t]=s}const sS=r=>{var t,s;return Nc.isInstance(r)?((t=r.headers)==null?void 0:t.date)??((s=r.headers)==null?void 0:s.Date):void 0},tb=r=>new Date(Date.now()+r),_4=(r,t)=>Math.abs(tb(t).getTime()-r)>=3e5,iS=(r,t)=>{const s=Date.parse(r);return _4(s,t)?s-Date.now():t},dh=(r,t)=>{if(!t)throw new Error(`Property \`${r}\` is not resolved for AWS SDK SigV4Auth`);return t},WT=async r=>{var x,m,d;const t=dh("context",r.context),s=dh("config",r.config),i=(d=(m=(x=t.endpointV2)==null?void 0:x.properties)==null?void 0:m.authSchemes)==null?void 0:d[0],y=await dh("signer",s.signer)(i),R=r==null?void 0:r.signingRegion,n=r==null?void 0:r.signingRegionSet,C=r==null?void 0:r.signingName;return{config:s,signer:y,signingRegion:R,signingRegionSet:n,signingName:C}};class YT{async sign(t,s,i){var d;if(!us.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const l=await WT(i),{config:y,signer:R}=l;let{signingRegion:n,signingName:C}=l;const x=i.context;if(((d=x==null?void 0:x.authSchemes)==null?void 0:d.length)??!1){const[c,T]=x.authSchemes;(c==null?void 0:c.name)==="sigv4a"&&(T==null?void 0:T.name)==="sigv4"&&(n=(T==null?void 0:T.signingRegion)??n,C=(T==null?void 0:T.signingName)??C)}return await R.sign(t,{signingDate:tb(y.systemClockOffset),signingRegion:n,signingService:C})}errorHandler(t){return s=>{const i=s.ServerTime??sS(s.$response);if(i){const l=dh("config",t.config),y=l.systemClockOffset;l.systemClockOffset=iS(i,l.systemClockOffset),l.systemClockOffset!==y&&s.$metadata&&(s.$metadata.clockSkewCorrected=!0)}throw s}}successHandler(t,s){const i=sS(t);if(i){const l=dh("config",s.config);l.systemClockOffset=iS(i,l.systemClockOffset)}}}class w4 extends YT{async sign(t,s,i){var c;if(!us.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:l,signer:y,signingRegion:R,signingRegionSet:n,signingName:C}=await WT(i),m=(await((c=l.sigv4aSigningRegionSet)==null?void 0:c.call(l))??n??[R]).join(",");return await y.sign(t,{signingDate:tb(l.systemClockOffset),signingRegion:m,signingService:C})}}const id=r=>r[Qv]||(r[Qv]={}),mo=r=>{if(typeof r=="function")return r;const t=Promise.resolve(r);return()=>t},x4=(r,t)=>{if(!t||t.length===0)return r;const s=[];for(const i of t)for(const l of r)l.schemeId.split("#")[1]===i&&s.push(l);for(const i of r)s.find(({schemeId:l})=>l===i.schemeId)||s.push(i);return s};function S4(r){const t=new Map;for(const s of r)t.set(s.schemeId,s);return t}const E4=(r,t)=>(s,i)=>async l=>{var d;const y=r.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(r,i,l.input)),R=r.authSchemePreference?await r.authSchemePreference():[],n=x4(y,R),C=S4(r.httpAuthSchemes),x=id(i),m=[];for(const c of n){const T=C.get(c.schemeId);if(!T){m.push(`HttpAuthScheme \`${c.schemeId}\` was not enabled for this service.`);continue}const A=T.identityProvider(await t.identityProviderConfigProvider(r));if(!A){m.push(`HttpAuthScheme \`${c.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:f={},signingProperties:h={}}=((d=c.propertiesExtractor)==null?void 0:d.call(c,r,i))||{};c.identityProperties=Object.assign(c.identityProperties||{},f),c.signingProperties=Object.assign(c.signingProperties||{},h),x.selectedHttpAuthScheme={httpAuthOption:c,identity:await A(c.identityProperties),signer:T.signer};break}if(!x.selectedHttpAuthScheme)throw new Error(m.join(`
`));return s(l)},j4={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},T4=(r,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:s})=>({applyToStack:i=>{i.addRelativeTo(E4(r,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:s}),j4)}}),A4=(r,t)=>(s,i)=>async l=>{var R,n,C,x;const{response:y}=await s(l);try{const m=await t(y,r);return{response:y,output:m}}catch(m){if(Object.defineProperty(m,"$response",{value:y}),!("$metadata"in m)){const d="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{m.message+=`
  `+d}catch{!i.logger||((n=(R=i.logger)==null?void 0:R.constructor)==null?void 0:n.name)==="NoOpLogger"?console.warn(d):(x=(C=i.logger)==null?void 0:C.warn)==null||x.call(C,d)}typeof m.$responseBodyText<"u"&&m.$response&&(m.$response.body=m.$responseBodyText);try{if(Nc.isInstance(y)){const{headers:c={}}=y,T=Object.entries(c);m.$metadata={httpStatusCode:y.statusCode,requestId:zg(/^x-[\w-]+-request-?id$/,T),extendedRequestId:zg(/^x-[\w-]+-id-2$/,T),cfId:zg(/^x-[\w-]+-cf-id$/,T)}}}catch{}}throw m}},zg=(r,t)=>(t.find(([s])=>s.match(r))||[void 0,void 0])[1],C4=(r,t)=>(s,i)=>async l=>{var C;const y=r,R=(C=i.endpointV2)!=null&&C.url&&y.urlParser?async()=>y.urlParser(i.endpointV2.url):y.endpoint;if(!R)throw new Error("No valid endpoint provider available.");const n=await t(l.input,{...r,endpoint:R});return s({...l,request:n})},R4={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},XT={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function KT(r,t,s){return{applyToStack:i=>{i.add(A4(r,s),R4),i.add(C4(r,t),XT)}}}const M4=r=>t=>{throw t},k4=(r,t)=>{},I4=r=>(t,s)=>async i=>{if(!us.isInstance(i.request))return t(i);const y=id(s).selectedHttpAuthScheme;if(!y)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:R={}},identity:n,signer:C}=y,x=await t({...i,request:await C.sign(i.request,n,R)}).catch((C.errorHandler||M4)(R));return(C.successHandler||k4)(x.response,R),x},QT={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},O4=r=>({applyToStack:t=>{t.addRelativeTo(I4(),QT)}}),Sc=r=>{if(typeof r=="function")return r;const t=Promise.resolve(r);return()=>t},Tl={},od=new Array(64);for(let r=0,t=65,s=90;r+t<=s;r++){const i=String.fromCharCode(r+t);Tl[i]=r,od[r]=i}for(let r=0,t=97,s=122;r+t<=s;r++){const i=String.fromCharCode(r+t),l=r+26;Tl[i]=l,od[l]=i}for(let r=0;r<10;r++){Tl[r.toString(10)]=r+52;const t=r.toString(10),s=r+52;Tl[t]=s,od[s]=t}Tl["+"]=62;od[62]="+";Tl["/"]=63;od[63]="/";const Ec=6,hh=8,D4=63,rb=r=>{let t=r.length/4*3;r.slice(-2)==="=="?t-=2:r.slice(-1)==="="&&t--;const s=new ArrayBuffer(t),i=new DataView(s);for(let l=0;l<r.length;l+=4){let y=0,R=0;for(let x=l,m=l+3;x<=m;x++)if(r[x]!=="="){if(!(r[x]in Tl))throw new TypeError(`Invalid character ${r[x]} in base64 string.`);y|=Tl[r[x]]<<(m-x)*Ec,R+=Ec}else y>>=Ec;const n=l/4*3;y>>=R%hh;const C=Math.floor(R/hh);for(let x=0;x<C;x++){const m=(C-x-1)*hh;i.setUint8(n+x,(y&255<<m)>>m)}}return new Uint8Array(s)},Cu=r=>new TextEncoder().encode(r),Bc=r=>typeof r=="string"?Cu(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r),nb=r=>{if(typeof r=="string")return r;if(typeof r!="object"||typeof r.byteOffset!="number"||typeof r.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(r)};function vm(r){let t;typeof r=="string"?t=Cu(r):t=r;const s=typeof t=="object"&&typeof t.length=="number",i=typeof t=="object"&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number";if(!s&&!i)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let l="";for(let y=0;y<t.length;y+=3){let R=0,n=0;for(let x=y,m=Math.min(y+3,t.length);x<m;x++)R|=t[x]<<(m-x-1)*hh,n+=hh;const C=Math.ceil(n/Ec);R<<=C*Ec-n;for(let x=1;x<=C;x++){const m=(C-x)*Ec;l+=od[(R&D4<<m)>>m]}l+="==".slice(0,4-C)}return l}function P4(r,t="utf-8"){return t==="base64"?vm(r):nb(r)}function L4(r,t){return t==="base64"?Su.mutate(rb(r)):Su.mutate(Cu(r))}class Su extends Uint8Array{static fromString(t,s="utf-8"){switch(typeof t){case"string":return L4(t,s);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,Su.prototype),t}transformToString(t="utf-8"){return P4(this,t)}}const N4=typeof ReadableStream=="function"?ReadableStream:function(){};class U4 extends N4{}const Jv=r=>{var t;return typeof ReadableStream=="function"&&(((t=r==null?void 0:r.constructor)==null?void 0:t.name)===ReadableStream.name||r instanceof ReadableStream)},B4=({expectedChecksum:r,checksum:t,source:s,checksumSourceLocation:i,base64Encoder:l})=>{var C;if(!Jv(s))throw new Error(`@smithy/util-stream: unsupported source type ${((C=s==null?void 0:s.constructor)==null?void 0:C.name)??s} in ChecksumStream.`);const y=l??vm;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const R=new TransformStream({start(){},async transform(x,m){t.update(x),m.enqueue(x)},async flush(x){const m=await t.digest(),d=y(m);if(r!==d){const c=new Error(`Checksum mismatch: expected "${r}" but received "${d}" in response header "${i}".`);x.error(c)}else x.terminate()}});s.pipeThrough(R);const n=R.readable;return Object.setPrototypeOf(n,U4.prototype),n};class F4{constructor(t){this.allocByteArray=t,this.byteLength=0,this.byteArrays=[]}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){const i=this.byteArrays[0];return this.reset(),i}const t=this.allocByteArray(this.byteLength);let s=0;for(let i=0;i<this.byteArrays.length;++i){const l=this.byteArrays[i];t.set(l,s),s+=l.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}}function V4(r,t,s){const i=r.getReader();let l=!1,y=0;const R=["",new F4(x=>new Uint8Array(x))];let n=-1;const C=async x=>{const{value:m,done:d}=await i.read(),c=m;if(d){if(n!==-1){const T=Gg(R,n);fh(T)>0&&x.enqueue(T)}x.close()}else{const T=H4(c,!1);if(n!==T&&(n>=0&&x.enqueue(Gg(R,n)),n=T),n===-1){x.enqueue(c);return}const A=fh(c);y+=A;const f=fh(R[n]);if(A>=t&&f===0)x.enqueue(c);else{const h=G4(R,n,c);!l&&y>t*2&&(l=!0,s==null||s.warn(`@smithy/util-stream - stream chunk size ${A} is below threshold of ${t}, automatically buffering.`)),h>=t?x.enqueue(Gg(R,n)):await C(x)}}};return new ReadableStream({pull:C})}const z4=V4;function G4(r,t,s){switch(t){case 0:return r[0]+=s,fh(r[0]);case 1:case 2:return r[t].push(s),fh(r[t])}}function Gg(r,t){switch(t){case 0:const s=r[0];return r[0]="",s;case 1:case 2:return r[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function fh(r){return(r==null?void 0:r.byteLength)??(r==null?void 0:r.length)??0}function H4(r,t=!0){return t&&typeof Buffer<"u"&&r instanceof Buffer?2:r instanceof Uint8Array?1:typeof r=="string"?0:-1}const q4=(r,t)=>{const{base64Encoder:s,bodyLengthChecker:i,checksumAlgorithmFn:l,checksumLocationName:y,streamHasher:R}=t,n=s!==void 0&&i!==void 0&&l!==void 0&&y!==void 0&&R!==void 0,C=n?R(l,r):void 0,x=r.getReader();return new ReadableStream({async pull(m){const{value:d,done:c}=await x.read();if(c){if(m.enqueue(`0\r
`),n){const T=s(await C);m.enqueue(`${y}:${T}\r
`),m.enqueue(`\r
`)}m.close()}else m.enqueue(`${(i(d)||0).toString(16)}\r
${d}\r
`)}})};async function $4(r,t){let s=0;const i=[],l=r.getReader();let y=!1;for(;!y;){const{done:C,value:x}=await l.read();if(x&&(i.push(x),s+=(x==null?void 0:x.byteLength)??0),s>=t)break;y=C}l.releaseLock();const R=new Uint8Array(Math.min(t,s));let n=0;for(const C of i){if(C.byteLength>R.byteLength-n){R.set(C.subarray(0,R.byteLength-n),n);break}else R.set(C,n);n+=C.length}return R}const Eu=r=>encodeURIComponent(r).replace(/[!'()*]/g,W4),W4=r=>`%${r.charCodeAt(0).toString(16).toUpperCase()}`;function Y4(r){const t=[];for(let s of Object.keys(r).sort()){const i=r[s];if(s=Eu(s),Array.isArray(i))for(let l=0,y=i.length;l<y;l++)t.push(`${s}=${Eu(i[l])}`);else{let l=s;(i||typeof i=="string")&&(l+=`=${Eu(i)}`),t.push(l)}}return t.join("&")}function oS(r,t){return new Request(r,t)}function X4(r=0){return new Promise((t,s)=>{r&&setTimeout(()=>{const i=new Error(`Request did not complete within ${r} ms`);i.name="TimeoutError",s(i)},r)})}const Hg={supported:void 0};class sb{static create(t){return typeof(t==null?void 0:t.handle)=="function"?t:new sb(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(s=>s||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),Hg.supported===void 0&&(Hg.supported=typeof Request<"u"&&"keepalive"in oS("https://[::1]"))}destroy(){}async handle(t,{abortSignal:s,requestTimeout:i}={}){var u;this.config||(this.config=await this.configProvider);const l=i??this.config.requestTimeout,y=this.config.keepAlive===!0,R=this.config.credentials;if(s!=null&&s.aborted){const g=new Error("Request aborted");return g.name="AbortError",Promise.reject(g)}let n=t.path;const C=Y4(t.query||{});C&&(n+=`?${C}`),t.fragment&&(n+=`#${t.fragment}`);let x="";if(t.username!=null||t.password!=null){const g=t.username??"",S=t.password??"";x=`${g}:${S}@`}const{port:m,method:d}=t,c=`${t.protocol}//${x}${t.hostname}${m?`:${m}`:""}${n}`,T=d==="GET"||d==="HEAD"?void 0:t.body,A={body:T,headers:new Headers(t.headers),method:d,credentials:R};(u=this.config)!=null&&u.cache&&(A.cache=this.config.cache),T&&(A.duplex="half"),typeof AbortController<"u"&&(A.signal=s),Hg.supported&&(A.keepalive=y),typeof this.config.requestInit=="function"&&Object.assign(A,this.config.requestInit(t));let f=()=>{};const h=oS(c,A),p=[fetch(h).then(g=>{const S=g.headers,j={};for(const b of S.entries())j[b[0]]=b[1];return g.body!=null?{response:new Nc({headers:j,reason:g.statusText,statusCode:g.status,body:g.body})}:g.blob().then(b=>({response:new Nc({headers:j,reason:g.statusText,statusCode:g.status,body:b})}))}),X4(l)];return s&&p.push(new Promise((g,S)=>{const j=()=>{const _=new Error("Request aborted");_.name="AbortError",S(_)};if(typeof s.addEventListener=="function"){const _=s;_.addEventListener("abort",j,{once:!0}),f=()=>_.removeEventListener("abort",j)}else s.onabort=j})),Promise.race(p).finally(f)}updateHttpClientConfig(t,s){this.config=void 0,this.configProvider=this.configProvider.then(i=>(i[t]=s,i))}httpHandlerConfigs(){return this.config??{}}}const ZT=async r=>{var t;return typeof Blob=="function"&&r instanceof Blob||((t=r.constructor)==null?void 0:t.name)==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await r.arrayBuffer()):K4(r):Q4(r)};async function K4(r){const t=await Z4(r),s=rb(t);return new Uint8Array(s)}async function Q4(r){const t=[],s=r.getReader();let i=!1,l=0;for(;!i;){const{done:n,value:C}=await s.read();C&&(t.push(C),l+=C.length),i=n}const y=new Uint8Array(l);let R=0;for(const n of t)y.set(n,R),R+=n.length;return y}function Z4(r){return new Promise((t,s)=>{const i=new FileReader;i.onloadend=()=>{if(i.readyState!==2)return s(new Error("Reader aborted too early"));const l=i.result??"",y=l.indexOf(","),R=y>-1?y+1:l.length;t(l.substring(R))},i.onabort=()=>s(new Error("Read aborted")),i.onerror=()=>s(i.error),i.readAsDataURL(r)})}const JT={},e0={};for(let r=0;r<256;r++){let t=r.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),JT[r]=t,e0[t]=r}function eA(r){if(r.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(r.length/2);for(let s=0;s<r.length;s+=2){const i=r.slice(s,s+2).toLowerCase();if(i in e0)t[s/2]=e0[i];else throw new Error(`Cannot decode unrecognized sequence ${i} as hexadecimal`)}return t}function yi(r){let t="";for(let s=0;s<r.byteLength;s++)t+=JT[r[s]];return t}const aS="The stream has already been transformed.",J4=r=>{var l,y;if(!lS(r)&&!Jv(r)){const R=((y=(l=r==null?void 0:r.__proto__)==null?void 0:l.constructor)==null?void 0:y.name)||r;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${R}`)}let t=!1;const s=async()=>{if(t)throw new Error(aS);return t=!0,await ZT(r)},i=R=>{if(typeof R.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return R.stream()};return Object.assign(r,{transformToByteArray:s,transformToString:async R=>{const n=await s();if(R==="base64")return vm(n);if(R==="hex")return yi(n);if(R===void 0||R==="utf8"||R==="utf-8")return nb(n);if(typeof TextDecoder=="function")return new TextDecoder(R).decode(n);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(aS);if(t=!0,lS(r))return i(r);if(Jv(r))return r;throw new Error(`Cannot transform payload to web stream, got ${r}`)}})},lS=r=>typeof Blob=="function"&&r instanceof Blob;async function e5(r){return typeof r.stream=="function"&&(r=r.stream()),r.tee()}const tA=async(r=new Uint8Array,t)=>{if(r instanceof Uint8Array)return Su.mutate(r);if(!r)return Su.mutate(new Uint8Array);const s=t.streamCollector(r);return Su.mutate(await s)};function uS(r){return encodeURIComponent(r).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}const rA=r=>{switch(r){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${r}"`)}},t5=r=>{if(r!=null){if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return String(t)!==String(r)&&oA.warn(iA(`Expected number but observed string: ${r}`)),t}if(typeof r=="number")return r;throw new TypeError(`Expected number, got ${typeof r}: ${r}`)}},r5=Math.ceil(2**127*(2-2**-23)),cS=r=>{const t=t5(r);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>r5)throw new TypeError(`Expected 32-bit float, got ${r}`);return t},t0=r=>{if(r!=null){if(Number.isInteger(r)&&!Number.isNaN(r))return r;throw new TypeError(`Expected integer, got ${typeof r}: ${r}`)}},dS=r=>nA(r,16),hS=r=>nA(r,8),nA=(r,t)=>{const s=t0(r);if(s!==void 0&&n5(s,t)!==s)throw new TypeError(`Expected ${t}-bit integer, got ${r}`);return s},n5=(r,t)=>{switch(t){case 32:return Int32Array.of(r)[0];case 16:return Int16Array.of(r)[0];case 8:return Int8Array.of(r)[0]}},sA=(r,t)=>{if(r==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return r},s5=r=>{if(r==null)return;if(typeof r=="object"&&!Array.isArray(r))return r;const t=Array.isArray(r)?"array":typeof r;throw new TypeError(`Expected object, got ${t}: ${r}`)},ph=r=>{if(r!=null){if(typeof r=="string")return r;if(["boolean","number","bigint"].includes(typeof r))return oA.warn(iA(`Expected string, got ${typeof r}: ${r}`)),String(r);throw new TypeError(`Expected string, got ${typeof r}: ${r}`)}},i5=r=>cS(typeof r=="string"?bm(r):r),o5=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,bm=r=>{const t=r.match(o5);if(t===null||t[0].length!==r.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(r)},a5=r=>t0(typeof r=="string"?bm(r):r),l5=r=>dS(typeof r=="string"?bm(r):r),u5=r=>hS(typeof r=="string"?bm(r):r),iA=r=>String(new TypeError(r).stack||r).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),oA={warn:console.warn},c5=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],aA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function d5(r){const t=r.getUTCFullYear(),s=r.getUTCMonth(),i=r.getUTCDay(),l=r.getUTCDate(),y=r.getUTCHours(),R=r.getUTCMinutes(),n=r.getUTCSeconds(),C=l<10?`0${l}`:`${l}`,x=y<10?`0${y}`:`${y}`,m=R<10?`0${R}`:`${R}`,d=n<10?`0${n}`:`${n}`;return`${c5[i]}, ${C} ${aA[s]} ${t} ${x}:${m}:${d} GMT`}const h5=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),f5=r=>{if(r==null)return;if(typeof r!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=h5.exec(r);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[s,i,l,y,R,n,C,x,m]=t,d=l5(lA(i)),c=mh(l,"month",1,12),T=mh(y,"day",1,31),A=p5(d,c,T,{hours:R,minutes:n,seconds:C,fractionalMilliseconds:x});return m.toUpperCase()!="Z"&&A.setTime(A.getTime()-b5(m)),A},p5=(r,t,s,i)=>{const l=t-1;return y5(r,l,s),new Date(Date.UTC(r,l,s,mh(i.hours,"hour",0,23),mh(i.minutes,"minute",0,59),mh(i.seconds,"seconds",0,60),v5(i.fractionalMilliseconds)))},m5=[31,28,31,30,31,30,31,31,30,31,30,31],y5=(r,t,s)=>{let i=m5[t];if(t===1&&g5(r)&&(i=29),s>i)throw new TypeError(`Invalid day for ${aA[t]} in ${r}: ${s}`)},g5=r=>r%4===0&&(r%100!==0||r%400===0),mh=(r,t,s,i)=>{const l=u5(lA(r));if(l<s||l>i)throw new TypeError(`${t} must be between ${s} and ${i}, inclusive`);return l},v5=r=>r==null?0:i5("0."+r)*1e3,b5=r=>{const t=r[0];let s=1;if(t=="+")s=1;else if(t=="-")s=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);const i=Number(r.substring(1,3)),l=Number(r.substring(4,6));return s*(i*60+l)*60*1e3},lA=r=>{let t=0;for(;t<r.length-1&&r.charAt(t)==="0";)t++;return t===0?r:r.slice(t)},_5=(r,t,s,i,l,y)=>{if(t!=null&&t[s]!==void 0){const R=i();if(R.length<=0)throw new Error("Empty value provided for input HTTP label: "+s+".");r=r.replace(l,y?R.split("/").map(n=>uS(n)).join("/"):uS(R))}else throw new Error("No value provided for input HTTP label: "+s+".");return r};function uA(r,t){return new w5(r,t)}class w5{constructor(t,s){this.input=t,this.context=s,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:t,protocol:s="https",port:i,path:l}=await this.context.endpoint();this.path=l;for(const y of this.resolvePathStack)y(this.path);return new us({protocol:s,hostname:this.hostname||t,port:i,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(s=>{this.path=`${s!=null&&s.endsWith("/")?s.slice(0,-1):s||""}`+t}),this}p(t,s,i,l){return this.resolvePathStack.push(y=>{this.path=_5(y,this.input,t,s,i,l)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}function x5(r,t,s){r.__smithy_context?r.__smithy_context.features||(r.__smithy_context.features={}):r.__smithy_context={features:{}},r.__smithy_context.features[t]=s}class S5{constructor(t){this.authSchemes=new Map;for(const[s,i]of Object.entries(t))i!==void 0&&this.authSchemes.set(s,i)}getIdentityProvider(t){return this.authSchemes.get(t)}}const E5=r=>t=>cA(t)&&t.expiration.getTime()-Date.now()<r,j5=3e5,T5=E5(j5),cA=r=>r.expiration!==void 0,A5=(r,t,s)=>{if(r===void 0)return;const i=typeof r!="function"?async()=>Promise.resolve(r):r;let l,y,R,n=!1;const C=async x=>{y||(y=i(x));try{l=await y,R=!0,n=!1}finally{y=void 0}return l};return t===void 0?async x=>((!R||x!=null&&x.forceRefresh)&&(l=await C(x)),l):async x=>((!R||x!=null&&x.forceRefresh)&&(l=await C(x)),n?l:s(l)?(t(l)&&await C(x),l):(n=!0,l))},C5=(r,t,s)=>{let i,l,y,R=!1;const n=async()=>{l||(l=r());try{i=await l,y=!0,R=!1}finally{l=void 0}return i};return async C=>((!y||C!=null&&C.forceRefresh)&&(i=await n()),i)},R5=r=>(r.sigv4aSigningRegionSet=Sc(r.sigv4aSigningRegionSet),r),M5="X-Amz-Algorithm",k5="X-Amz-Credential",dA="X-Amz-Date",I5="X-Amz-SignedHeaders",O5="X-Amz-Expires",hA="X-Amz-Signature",fA="X-Amz-Security-Token",pA="authorization",mA=dA.toLowerCase(),D5="date",P5=[pA,mA,D5],L5=hA.toLowerCase(),r0="x-amz-content-sha256",N5=fA.toLowerCase(),U5={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},B5=/^proxy-/,F5=/^sec-/,qg="AWS4-HMAC-SHA256",V5="AWS4-HMAC-SHA256-PAYLOAD",z5="UNSIGNED-PAYLOAD",G5=50,yA="aws4_request",H5=60*60*24*7,Yf={},$g=[],Wg=(r,t,s)=>`${r}/${t}/${s}/${yA}`,q5=async(r,t,s,i,l)=>{const y=await fS(r,t.secretAccessKey,t.accessKeyId),R=`${s}:${i}:${l}:${yi(y)}:${t.sessionToken}`;if(R in Yf)return Yf[R];for($g.push(R);$g.length>G5;)delete Yf[$g.shift()];let n=`AWS4${t.secretAccessKey}`;for(const C of[s,i,l,yA])n=await fS(r,n,C);return Yf[R]=n},fS=(r,t,s)=>{const i=new r(t);return i.update(Bc(s)),i.digest()},pS=({headers:r},t,s)=>{const i={};for(const l of Object.keys(r).sort()){if(r[l]==null)continue;const y=l.toLowerCase();(y in U5||t!=null&&t.has(y)||B5.test(y)||F5.test(y))&&(!s||s&&!s.has(y))||(i[y]=r[l].trim().replace(/\s+/g," "))}return i},gA=r=>typeof ArrayBuffer=="function"&&r instanceof ArrayBuffer||Object.prototype.toString.call(r)==="[object ArrayBuffer]",Yg=async({headers:r,body:t},s)=>{for(const i of Object.keys(r))if(i.toLowerCase()===r0)return r[i];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||gA(t)){const i=new s;return i.update(Bc(t)),yi(await i.digest())}return z5};class $5{format(t){const s=[];for(const y of Object.keys(t)){const R=Cu(y);s.push(Uint8Array.from([R.byteLength]),R,this.formatHeaderValue(t[y]))}const i=new Uint8Array(s.reduce((y,R)=>y+R.byteLength,0));let l=0;for(const y of s)i.set(y,l),l+=y.byteLength;return i}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const s=new DataView(new ArrayBuffer(3));return s.setUint8(0,3),s.setInt16(1,t.value,!1),new Uint8Array(s.buffer);case"integer":const i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,t.value,!1),new Uint8Array(i.buffer);case"long":const l=new Uint8Array(9);return l[0]=5,l.set(t.value.bytes,1),l;case"binary":const y=new DataView(new ArrayBuffer(3+t.value.byteLength));y.setUint8(0,6),y.setUint16(1,t.value.byteLength,!1);const R=new Uint8Array(y.buffer);return R.set(t.value,3),R;case"string":const n=Cu(t.value),C=new DataView(new ArrayBuffer(3+n.byteLength));C.setUint8(0,7),C.setUint16(1,n.byteLength,!1);const x=new Uint8Array(C.buffer);return x.set(n,3),x;case"timestamp":const m=new Uint8Array(9);return m[0]=8,m.set(Y5.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!W5.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(eA(t.value.replace(/\-/g,"")),1),d}}}var mS;(function(r){r[r.boolTrue=0]="boolTrue",r[r.boolFalse=1]="boolFalse",r[r.byte=2]="byte",r[r.short=3]="short",r[r.integer=4]="integer",r[r.long=5]="long",r[r.byteArray=6]="byteArray",r[r.string=7]="string",r[r.timestamp=8]="timestamp",r[r.uuid=9]="uuid"})(mS||(mS={}));const W5=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;let Y5=class vA{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const s=new Uint8Array(8);for(let i=7,l=Math.abs(Math.round(t));i>-1&&l>0;i--,l/=256)s[i]=l;return t<0&&yS(s),new vA(s)}valueOf(){const t=this.bytes.slice(0),s=t[0]&128;return s&&yS(t),parseInt(yi(t),16)*(s?-1:1)}toString(){return String(this.valueOf())}};function yS(r){for(let t=0;t<8;t++)r[t]^=255;for(let t=7;t>-1&&(r[t]++,r[t]===0);t--);}const X5=(r,t)=>{r=r.toLowerCase();for(const s of Object.keys(t))if(r===s.toLowerCase())return!0;return!1},K5=(r,t={})=>{var l,y;const{headers:s,query:i={}}=us.clone(r);for(const R of Object.keys(s)){const n=R.toLowerCase();(n.slice(0,6)==="x-amz-"&&!((l=t.unhoistableHeaders)!=null&&l.has(n))||(y=t.hoistableHeaders)!=null&&y.has(n))&&(i[R]=s[R],delete s[R])}return{...r,headers:s,query:i}},gS=r=>{r=us.clone(r);for(const t of Object.keys(r.headers))P5.indexOf(t.toLowerCase())>-1&&delete r.headers[t];return r},Q5=({query:r={}})=>{const t=[],s={};for(const i of Object.keys(r)){if(i.toLowerCase()===L5)continue;const l=Eu(i);t.push(l);const y=r[i];typeof y=="string"?s[l]=`${l}=${Eu(y)}`:Array.isArray(y)&&(s[l]=y.slice(0).reduce((R,n)=>R.concat([`${l}=${Eu(n)}`]),[]).sort().join("&"))}return t.sort().map(i=>s[i]).filter(i=>i).join("&")},Z5=r=>J5(r).toISOString().replace(/\.\d{3}Z$/,"Z"),J5=r=>typeof r=="number"?new Date(r*1e3):typeof r=="string"?Number(r)?new Date(Number(r)*1e3):new Date(r):r;class eD{constructor({applyChecksum:t,credentials:s,region:i,service:l,sha256:y,uriEscapePath:R=!0}){this.service=l,this.sha256=y,this.uriEscapePath=R,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=mo(i),this.credentialProvider=mo(s)}createCanonicalRequest(t,s,i){const l=Object.keys(s).sort();return`${t.method}
${this.getCanonicalPath(t)}
${Q5(t)}
${l.map(y=>`${y}:${s[y]}`).join(`
`)}

${l.join(";")}
${i}`}async createStringToSign(t,s,i,l){const y=new this.sha256;y.update(Bc(i));const R=await y.digest();return`${l}
${t}
${s}
${yi(R)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){const s=[];for(const y of t.split("/"))(y==null?void 0:y.length)!==0&&y!=="."&&(y===".."?s.pop():s.push(y));const i=`${t!=null&&t.startsWith("/")?"/":""}${s.join("/")}${s.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return Eu(i).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){const s=Z5(t).replace(/[\-:]/g,"");return{longDate:s,shortDate:s.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}}class n0 extends eD{constructor({applyChecksum:t,credentials:s,region:i,service:l,sha256:y,uriEscapePath:R=!0}){super({applyChecksum:t,credentials:s,region:i,service:l,sha256:y,uriEscapePath:R}),this.headerFormatter=new $5}async presign(t,s={}){const{signingDate:i=new Date,expiresIn:l=3600,unsignableHeaders:y,unhoistableHeaders:R,signableHeaders:n,hoistableHeaders:C,signingRegion:x,signingService:m}=s,d=await this.credentialProvider();this.validateResolvedCredentials(d);const c=x??await this.regionProvider(),{longDate:T,shortDate:A}=this.formatDate(i);if(l>H5)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const f=Wg(A,c,m??this.service),h=K5(gS(t),{unhoistableHeaders:R,hoistableHeaders:C});d.sessionToken&&(h.query[fA]=d.sessionToken),h.query[M5]=qg,h.query[k5]=`${d.accessKeyId}/${f}`,h.query[dA]=T,h.query[O5]=l.toString(10);const p=pS(h,y,n);return h.query[I5]=this.getCanonicalHeaderList(p),h.query[hA]=await this.getSignature(T,f,this.getSigningKey(d,c,A,m),this.createCanonicalRequest(h,p,await Yg(t,this.sha256))),h}async sign(t,s){return typeof t=="string"?this.signString(t,s):t.headers&&t.payload?this.signEvent(t,s):t.message?this.signMessage(t,s):this.signRequest(t,s)}async signEvent({headers:t,payload:s},{signingDate:i=new Date,priorSignature:l,signingRegion:y,signingService:R}){const n=y??await this.regionProvider(),{shortDate:C,longDate:x}=this.formatDate(i),m=Wg(C,n,R??this.service),d=await Yg({headers:{},body:s},this.sha256),c=new this.sha256;c.update(t);const T=yi(await c.digest()),A=[V5,x,m,l,T,d].join(`
`);return this.signString(A,{signingDate:i,signingRegion:n,signingService:R})}async signMessage(t,{signingDate:s=new Date,signingRegion:i,signingService:l}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:s,signingRegion:i,signingService:l,priorSignature:t.priorSignature}).then(R=>({message:t.message,signature:R}))}async signString(t,{signingDate:s=new Date,signingRegion:i,signingService:l}={}){const y=await this.credentialProvider();this.validateResolvedCredentials(y);const R=i??await this.regionProvider(),{shortDate:n}=this.formatDate(s),C=new this.sha256(await this.getSigningKey(y,R,n,l));return C.update(Bc(t)),yi(await C.digest())}async signRequest(t,{signingDate:s=new Date,signableHeaders:i,unsignableHeaders:l,signingRegion:y,signingService:R}={}){const n=await this.credentialProvider();this.validateResolvedCredentials(n);const C=y??await this.regionProvider(),x=gS(t),{longDate:m,shortDate:d}=this.formatDate(s),c=Wg(d,C,R??this.service);x.headers[mA]=m,n.sessionToken&&(x.headers[N5]=n.sessionToken);const T=await Yg(x,this.sha256);!X5(r0,x.headers)&&this.applyChecksum&&(x.headers[r0]=T);const A=pS(x,l,i),f=await this.getSignature(m,c,this.getSigningKey(n,C,d,R),this.createCanonicalRequest(x,A,T));return x.headers[pA]=`${qg} Credential=${n.accessKeyId}/${c}, SignedHeaders=${this.getCanonicalHeaderList(A)}, Signature=${f}`,x}async getSignature(t,s,i,l){const y=await this.createStringToSign(t,s,l,qg),R=new this.sha256(await i);return R.update(Bc(y)),yi(await R.digest())}getSigningKey(t,s,i,l){return q5(this.sha256,t,i,s,l||this.service)}}const tD=r=>{let t=r.credentials,s=!!r.credentials,i;Object.defineProperty(r,"credentials",{set(x){x&&x!==t&&x!==i&&(s=!0),t=x;const m=rD(r,{credentials:t,credentialDefaultProvider:r.credentialDefaultProvider}),d=nD(r,m);s&&!d.attributed?(i=async c=>d(c).then(T=>b4(T,"CREDENTIALS_CODE","e")),i.memoized=d.memoized,i.configBound=d.configBound,i.attributed=!0):i=d},get(){return i},enumerable:!0,configurable:!0}),r.credentials=t;const{signingEscapePath:l=!0,systemClockOffset:y=r.systemClockOffset||0,sha256:R}=r;let n;return r.signer?n=Sc(r.signer):r.regionInfoProvider?n=()=>Sc(r.region)().then(async x=>[await r.regionInfoProvider(x,{useFipsEndpoint:await r.useFipsEndpoint(),useDualstackEndpoint:await r.useDualstackEndpoint()})||{},x]).then(([x,m])=>{const{signingRegion:d,signingService:c}=x;r.signingRegion=r.signingRegion||d||m,r.signingName=r.signingName||c||r.serviceId;const T={...r,credentials:r.credentials,region:r.signingRegion,service:r.signingName,sha256:R,uriEscapePath:l},A=r.signerConstructor||n0;return new A(T)}):n=async x=>{x=Object.assign({},{name:"sigv4",signingName:r.signingName||r.defaultSigningName,signingRegion:await Sc(r.region)(),properties:{}},x);const m=x.signingRegion,d=x.signingName;r.signingRegion=r.signingRegion||m,r.signingName=r.signingName||d||r.serviceId;const c={...r,credentials:r.credentials,region:r.signingRegion,service:r.signingName,sha256:R,uriEscapePath:l},T=r.signerConstructor||n0;return new T(c)},Object.assign(r,{systemClockOffset:y,signingEscapePath:l,signer:n})};function rD(r,{credentials:t,credentialDefaultProvider:s}){let i;return t?t!=null&&t.memoized?i=t:i=A5(t,T5,cA):s?i=Sc(s(Object.assign({},r,{parentClientConfig:r}))):i=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},i.memoized=!0,i}function nD(r,t){if(t.configBound)return t;const s=async i=>t({...i,callerClientConfig:r});return s.memoized=t.memoized,s.configBound=!0,s}const vS=typeof TextEncoder=="function"?new TextEncoder:null,sD=r=>{if(typeof r=="string"){if(vS)return vS.encode(r).byteLength;let t=r.length;for(let s=t-1;s>=0;s--){const i=r.charCodeAt(s);i>127&&i<=2047?t++:i>2047&&i<=65535&&(t+=2),i>=56320&&i<=57343&&s--}return t}else{if(typeof r.byteLength=="number")return r.byteLength;if(typeof r.size=="number")return r.size}throw new Error(`Body Length computation failed for ${r}`)},du=(r,t)=>{const s=[];if(r&&s.push(r),t)for(const i of t)s.push(i);return s},ol=(r,t)=>`${r||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,Dp=()=>{let r=[],t=[],s=!1;const i=new Set,l=d=>d.sort((c,T)=>bS[T.step]-bS[c.step]||_S[T.priority||"normal"]-_S[c.priority||"normal"]),y=d=>{let c=!1;const T=A=>{const f=du(A.name,A.aliases);if(f.includes(d)){c=!0;for(const h of f)i.delete(h);return!1}return!0};return r=r.filter(T),t=t.filter(T),c},R=d=>{let c=!1;const T=A=>{if(A.middleware===d){c=!0;for(const f of du(A.name,A.aliases))i.delete(f);return!1}return!0};return r=r.filter(T),t=t.filter(T),c},n=d=>{var c;return r.forEach(T=>{d.add(T.middleware,{...T})}),t.forEach(T=>{d.addRelativeTo(T.middleware,{...T})}),(c=d.identifyOnResolve)==null||c.call(d,m.identifyOnResolve()),d},C=d=>{const c=[];return d.before.forEach(T=>{T.before.length===0&&T.after.length===0?c.push(T):c.push(...C(T))}),c.push(d),d.after.reverse().forEach(T=>{T.before.length===0&&T.after.length===0?c.push(T):c.push(...C(T))}),c},x=(d=!1)=>{const c=[],T=[],A={};return r.forEach(h=>{const p={...h,before:[],after:[]};for(const u of du(p.name,p.aliases))A[u]=p;c.push(p)}),t.forEach(h=>{const p={...h,before:[],after:[]};for(const u of du(p.name,p.aliases))A[u]=p;T.push(p)}),T.forEach(h=>{if(h.toMiddleware){const p=A[h.toMiddleware];if(p===void 0){if(d)return;throw new Error(`${h.toMiddleware} is not found when adding ${ol(h.name,h.aliases)} middleware ${h.relation} ${h.toMiddleware}`)}h.relation==="after"&&p.after.push(h),h.relation==="before"&&p.before.push(h)}}),l(c).map(C).reduce((h,p)=>(h.push(...p),h),[])},m={add:(d,c={})=>{const{name:T,override:A,aliases:f}=c,h={step:"initialize",priority:"normal",middleware:d,...c},p=du(T,f);if(p.length>0){if(p.some(u=>i.has(u))){if(!A)throw new Error(`Duplicate middleware name '${ol(T,f)}'`);for(const u of p){const g=r.findIndex(j=>{var _;return j.name===u||((_=j.aliases)==null?void 0:_.some(b=>b===u))});if(g===-1)continue;const S=r[g];if(S.step!==h.step||h.priority!==S.priority)throw new Error(`"${ol(S.name,S.aliases)}" middleware with ${S.priority} priority in ${S.step} step cannot be overridden by "${ol(T,f)}" middleware with ${h.priority} priority in ${h.step} step.`);r.splice(g,1)}}for(const u of p)i.add(u)}r.push(h)},addRelativeTo:(d,c)=>{const{name:T,override:A,aliases:f}=c,h={middleware:d,...c},p=du(T,f);if(p.length>0){if(p.some(u=>i.has(u))){if(!A)throw new Error(`Duplicate middleware name '${ol(T,f)}'`);for(const u of p){const g=t.findIndex(j=>{var _;return j.name===u||((_=j.aliases)==null?void 0:_.some(b=>b===u))});if(g===-1)continue;const S=t[g];if(S.toMiddleware!==h.toMiddleware||S.relation!==h.relation)throw new Error(`"${ol(S.name,S.aliases)}" middleware ${S.relation} "${S.toMiddleware}" middleware cannot be overridden by "${ol(T,f)}" middleware ${h.relation} "${h.toMiddleware}" middleware.`);t.splice(g,1)}}for(const u of p)i.add(u)}t.push(h)},clone:()=>n(Dp()),use:d=>{d.applyToStack(m)},remove:d=>typeof d=="string"?y(d):R(d),removeByTag:d=>{let c=!1;const T=A=>{const{tags:f,name:h,aliases:p}=A;if(f&&f.includes(d)){const u=du(h,p);for(const g of u)i.delete(g);return c=!0,!1}return!0};return r=r.filter(T),t=t.filter(T),c},concat:d=>{var T;const c=n(Dp());return c.use(d),c.identifyOnResolve(s||c.identifyOnResolve()||(((T=d.identifyOnResolve)==null?void 0:T.call(d))??!1)),c},applyToStack:n,identify:()=>x(!0).map(d=>{const c=d.step??d.relation+" "+d.toMiddleware;return ol(d.name,d.aliases)+" - "+c}),identifyOnResolve(d){return typeof d=="boolean"&&(s=d),s},resolve:(d,c)=>{for(const T of x().map(A=>A.middleware).reverse())d=T(d,c);return s&&console.log(m.identify()),d}};return m},bS={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},_S={high:3,normal:2,low:1};class iD{constructor(t){this.config=t,this.middlewareStack=Dp()}send(t,s,i){const l=typeof s!="function"?s:void 0,y=typeof s=="function"?s:i,R=l===void 0&&this.config.cacheMiddleware===!0;let n;if(R){this.handlers||(this.handlers=new WeakMap);const C=this.handlers;C.has(t.constructor)?n=C.get(t.constructor):(n=t.resolveMiddleware(this.middlewareStack,this.config,l),C.set(t.constructor,n))}else delete this.handlers,n=t.resolveMiddleware(this.middlewareStack,this.config,l);if(y)n(t).then(C=>y(null,C.output),C=>y(C)).catch(()=>{});else return n(t).then(C=>C.output)}destroy(){var t,s,i;(i=(s=(t=this.config)==null?void 0:t.requestHandler)==null?void 0:s.destroy)==null||i.call(s),delete this.handlers}}class ib{constructor(){this.middlewareStack=Dp()}static classBuilder(){return new oD}resolveMiddlewareWithContext(t,s,i,{middlewareFn:l,clientName:y,commandName:R,inputFilterSensitiveLog:n,outputFilterSensitiveLog:C,smithyContext:x,additionalContext:m,CommandCtor:d}){for(const h of l.bind(this)(d,t,s,i))this.middlewareStack.use(h);const c=t.concat(this.middlewareStack),{logger:T}=s,A={logger:T,clientName:y,commandName:R,inputFilterSensitiveLog:n,outputFilterSensitiveLog:C,[Qv]:{commandInstance:this,...x},...m},{requestHandler:f}=s;return c.resolve(h=>f.handle(h.request,i||{}),A)}}class oD{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,s,i={}){return this._smithyContext={service:t,operation:s,...i},this}c(t={}){return this._additionalContext=t,this}n(t,s){return this._clientName=t,this._commandName=s,this}f(t=i=>i,s=i=>i){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=s,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){const t=this;let s;return s=class extends ib{static getEndpointParameterInstructions(){return t._ep}constructor(...[i]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=i??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(i,l,y){return this.resolveMiddlewareWithContext(i,l,y,{CommandCtor:s,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}const yo="***SensitiveInformation***";class wc extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;const s=t;return wc.prototype.isPrototypeOf(s)||!!s.$fault&&!!s.$metadata&&(s.$fault==="client"||s.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;const s=t;return this===wc?wc.isInstance(t):wc.isInstance(t)?s.name&&this.name?this.prototype.isPrototypeOf(t)||s.name===this.name:this.prototype.isPrototypeOf(t):!1}}const di=(r,t={})=>{Object.entries(t).filter(([,i])=>i!==void 0).forEach(([i,l])=>{(r[i]==null||r[i]==="")&&(r[i]=l)});const s=r.message||r.Message||"UnknownError";return r.message=s,delete r.Message,r},aD=({output:r,parsedBody:t,exceptionCtor:s,errorCode:i})=>{const l=uD(r),y=l.httpStatusCode?l.httpStatusCode+"":void 0,R=new s({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||i||y||"UnknownError",$fault:"client",$metadata:l});throw di(R,t)},lD=r=>({output:t,parsedBody:s,errorCode:i})=>{aD({output:t,parsedBody:s,exceptionCtor:r,errorCode:i})},uD=r=>({httpStatusCode:r.statusCode,requestId:r.headers["x-amzn-requestid"]??r.headers["x-amzn-request-id"]??r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}),cD=r=>{switch(r){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},dD=r=>{const t=[];for(const s in Op){const i=Op[s];r[i]!==void 0&&t.push({algorithmId:()=>i,checksumConstructor:()=>r[i]})}return{addChecksumAlgorithm(s){t.push(s)},checksumAlgorithms(){return t}}},hD=r=>{const t={};return r.checksumAlgorithms().forEach(s=>{t[s.algorithmId()]=s.checksumConstructor()}),t},fD=r=>({setRetryStrategy(t){r.retryStrategy=t},retryStrategy(){return r.retryStrategy}}),pD=r=>{const t={};return t.retryStrategy=r.retryStrategy(),t},mD=r=>Object.assign(dD(r),fD(r)),yD=r=>Object.assign(hD(r),pD(r)),bA=r=>{const t="#text";for(const s in r)r.hasOwnProperty(s)&&r[s][t]!==void 0?r[s]=r[s][t]:typeof r[s]=="object"&&r[s]!==null&&(r[s]=bA(r[s]));return r},fl=r=>r!=null;class ob{trace(){}debug(){}info(){}warn(){}error(){}}function Kn(r,t,s){let i,l,y;if(typeof t>"u"&&typeof s>"u")i={},y=r;else{if(i=r,typeof t=="function")return l=t,y=s,gD(i,l,y);y=t}for(const R of Object.keys(y)){if(!Array.isArray(y[R])){i[R]=y[R];continue}vD(i,null,y,R)}return i}const gD=(r,t,s)=>Kn(r,Object.entries(s).reduce((i,[l,y])=>(Array.isArray(y)?i[l]=y:typeof y=="function"?i[l]=[t,y()]:i[l]=[t,y],i),{})),vD=(r,t,s,i)=>{let[l,y]=s[i];if(typeof y=="function"){let R;const n=l===void 0&&(R=y())!=null,C=typeof l=="function"&&!!l(void 0)||typeof l!="function"&&!!l;n?r[i]=R:C&&(r[i]=y())}else{const R=l===void 0&&y!=null,n=typeof l=="function"&&!!l(y)||typeof l!="function"&&!!l;(R||n)&&(r[i]=y)}},bD=r=>r.toISOString().replace(".000Z","Z"),_D=(r,t)=>tA(r,t).then(s=>t.utf8Encoder(s)),_A=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",wD=_A+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",xD="["+_A+"]["+wD+"]*",SD=new RegExp("^"+xD+"$");function wA(r,t){const s=[];let i=t.exec(r);for(;i;){const l=[];l.startIndex=t.lastIndex-i[0].length;const y=i.length;for(let R=0;R<y;R++)l.push(i[R]);s.push(l),i=t.exec(r)}return s}const ab=function(r){const t=SD.exec(r);return!(t===null||typeof t>"u")};function ED(r){return typeof r<"u"}const jD={allowBooleanAttributes:!1,unpairedTags:[]};function TD(r,t){t=Object.assign({},jD,t);const s=[];let i=!1,l=!1;r[0]==="\uFEFF"&&(r=r.substr(1));for(let y=0;y<r.length;y++)if(r[y]==="<"&&r[y+1]==="?"){if(y+=2,y=xS(r,y),y.err)return y}else if(r[y]==="<"){let R=y;if(y++,r[y]==="!"){y=SS(r,y);continue}else{let n=!1;r[y]==="/"&&(n=!0,y++);let C="";for(;y<r.length&&r[y]!==">"&&r[y]!==" "&&r[y]!=="	"&&r[y]!==`
`&&r[y]!=="\r";y++)C+=r[y];if(C=C.trim(),C[C.length-1]==="/"&&(C=C.substring(0,C.length-1),y--),!DD(C)){let d;return C.trim().length===0?d="Invalid space after '<'.":d="Tag '"+C+"' is an invalid name.",$n("InvalidTag",d,ai(r,y))}const x=RD(r,y);if(x===!1)return $n("InvalidAttr","Attributes for '"+C+"' have open quote.",ai(r,y));let m=x.value;if(y=x.index,m[m.length-1]==="/"){const d=y-m.length;m=m.substring(0,m.length-1);const c=ES(m,t);if(c===!0)i=!0;else return $n(c.err.code,c.err.msg,ai(r,d+c.err.line))}else if(n)if(x.tagClosed){if(m.trim().length>0)return $n("InvalidTag","Closing tag '"+C+"' can't have attributes or invalid starting.",ai(r,R));if(s.length===0)return $n("InvalidTag","Closing tag '"+C+"' has not been opened.",ai(r,R));{const d=s.pop();if(C!==d.tagName){let c=ai(r,d.tagStartPos);return $n("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+c.line+", col "+c.col+") instead of closing tag '"+C+"'.",ai(r,R))}s.length==0&&(l=!0)}}else return $n("InvalidTag","Closing tag '"+C+"' doesn't have proper closing.",ai(r,y));else{const d=ES(m,t);if(d!==!0)return $n(d.err.code,d.err.msg,ai(r,y-m.length+d.err.line));if(l===!0)return $n("InvalidXml","Multiple possible root nodes found.",ai(r,y));t.unpairedTags.indexOf(C)!==-1||s.push({tagName:C,tagStartPos:R}),i=!0}for(y++;y<r.length;y++)if(r[y]==="<")if(r[y+1]==="!"){y++,y=SS(r,y);continue}else if(r[y+1]==="?"){if(y=xS(r,++y),y.err)return y}else break;else if(r[y]==="&"){const d=ID(r,y);if(d==-1)return $n("InvalidChar","char '&' is not expected.",ai(r,y));y=d}else if(l===!0&&!wS(r[y]))return $n("InvalidXml","Extra text at the end",ai(r,y));r[y]==="<"&&y--}}else{if(wS(r[y]))continue;return $n("InvalidChar","char '"+r[y]+"' is not expected.",ai(r,y))}if(i){if(s.length==1)return $n("InvalidTag","Unclosed tag '"+s[0].tagName+"'.",ai(r,s[0].tagStartPos));if(s.length>0)return $n("InvalidXml","Invalid '"+JSON.stringify(s.map(y=>y.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return $n("InvalidXml","Start tag expected.",1);return!0}function wS(r){return r===" "||r==="	"||r===`
`||r==="\r"}function xS(r,t){const s=t;for(;t<r.length;t++)if(r[t]=="?"||r[t]==" "){const i=r.substr(s,t-s);if(t>5&&i==="xml")return $n("InvalidXml","XML declaration allowed only at the start of the document.",ai(r,t));if(r[t]=="?"&&r[t+1]==">"){t++;break}else continue}return t}function SS(r,t){if(r.length>t+5&&r[t+1]==="-"&&r[t+2]==="-"){for(t+=3;t<r.length;t++)if(r[t]==="-"&&r[t+1]==="-"&&r[t+2]===">"){t+=2;break}}else if(r.length>t+8&&r[t+1]==="D"&&r[t+2]==="O"&&r[t+3]==="C"&&r[t+4]==="T"&&r[t+5]==="Y"&&r[t+6]==="P"&&r[t+7]==="E"){let s=1;for(t+=8;t<r.length;t++)if(r[t]==="<")s++;else if(r[t]===">"&&(s--,s===0))break}else if(r.length>t+9&&r[t+1]==="["&&r[t+2]==="C"&&r[t+3]==="D"&&r[t+4]==="A"&&r[t+5]==="T"&&r[t+6]==="A"&&r[t+7]==="["){for(t+=8;t<r.length;t++)if(r[t]==="]"&&r[t+1]==="]"&&r[t+2]===">"){t+=2;break}}return t}const AD='"',CD="'";function RD(r,t){let s="",i="",l=!1;for(;t<r.length;t++){if(r[t]===AD||r[t]===CD)i===""?i=r[t]:i!==r[t]||(i="");else if(r[t]===">"&&i===""){l=!0;break}s+=r[t]}return i!==""?!1:{value:s,index:t,tagClosed:l}}const MD=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function ES(r,t){const s=wA(r,MD),i={};for(let l=0;l<s.length;l++){if(s[l][1].length===0)return $n("InvalidAttr","Attribute '"+s[l][2]+"' has no space in starting.",rh(s[l]));if(s[l][3]!==void 0&&s[l][4]===void 0)return $n("InvalidAttr","Attribute '"+s[l][2]+"' is without value.",rh(s[l]));if(s[l][3]===void 0&&!t.allowBooleanAttributes)return $n("InvalidAttr","boolean attribute '"+s[l][2]+"' is not allowed.",rh(s[l]));const y=s[l][2];if(!OD(y))return $n("InvalidAttr","Attribute '"+y+"' is an invalid name.",rh(s[l]));if(!i.hasOwnProperty(y))i[y]=1;else return $n("InvalidAttr","Attribute '"+y+"' is repeated.",rh(s[l]))}return!0}function kD(r,t){let s=/\d/;for(r[t]==="x"&&(t++,s=/[\da-fA-F]/);t<r.length;t++){if(r[t]===";")return t;if(!r[t].match(s))break}return-1}function ID(r,t){if(t++,r[t]===";")return-1;if(r[t]==="#")return t++,kD(r,t);let s=0;for(;t<r.length;t++,s++)if(!(r[t].match(/\w/)&&s<20)){if(r[t]===";")break;return-1}return t}function $n(r,t,s){return{err:{code:r,msg:t,line:s.line||s,col:s.col}}}function OD(r){return ab(r)}function DD(r){return ab(r)}function ai(r,t){const s=r.substring(0,t).split(/\r?\n/);return{line:s.length,col:s[s.length-1].length+1}}function rh(r){return r.startIndex+r[1].length}const PD={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,t){return t},attributeValueProcessor:function(r,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,t,s){return r},captureMetaData:!1},LD=function(r){return Object.assign({},PD,r)};let Pp;typeof Symbol!="function"?Pp="@@xmlMetadata":Pp=Symbol("XML Node Metadata");class pu{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,s){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:s})}addChild(t,s){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child}),s!==void 0&&(this.child[this.child.length-1][Pp]={startIndex:s})}static getMetaDataSymbol(){return Pp}}function ND(r,t){const s={};if(r[t+3]==="O"&&r[t+4]==="C"&&r[t+5]==="T"&&r[t+6]==="Y"&&r[t+7]==="P"&&r[t+8]==="E"){t=t+9;let i=1,l=!1,y=!1,R="";for(;t<r.length;t++)if(r[t]==="<"&&!y){if(l&&mu(r,"!ENTITY",t)){t+=7;let n,C;[n,C,t]=UD(r,t+1),C.indexOf("&")===-1&&(s[n]={regx:RegExp(`&${n};`,"g"),val:C})}else if(l&&mu(r,"!ELEMENT",t)){t+=8;const{index:n}=FD(r,t+1);t=n}else if(l&&mu(r,"!ATTLIST",t))t+=8;else if(l&&mu(r,"!NOTATION",t)){t+=9;const{index:n}=BD(r,t+1);t=n}else if(mu(r,"!--",t))y=!0;else throw new Error("Invalid DOCTYPE");i++,R=""}else if(r[t]===">"){if(y?r[t-1]==="-"&&r[t-2]==="-"&&(y=!1,i--):i--,i===0)break}else r[t]==="["?l=!0:R+=r[t];if(i!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:s,i:t}}const vl=(r,t)=>{for(;t<r.length&&/\s/.test(r[t]);)t++;return t};function UD(r,t){t=vl(r,t);let s="";for(;t<r.length&&!/\s/.test(r[t])&&r[t]!=='"'&&r[t]!=="'";)s+=r[t],t++;if(lb(s),t=vl(r,t),r.substring(t,t+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(r[t]==="%")throw new Error("Parameter entities are not supported");let i="";return[t,i]=pp(r,t,"entity"),t--,[s,i,t]}function BD(r,t){t=vl(r,t);let s="";for(;t<r.length&&!/\s/.test(r[t]);)s+=r[t],t++;lb(s),t=vl(r,t);const i=r.substring(t,t+6).toUpperCase();if(i!=="SYSTEM"&&i!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${i}"`);t+=i.length,t=vl(r,t);let l=null,y=null;if(i==="PUBLIC")[t,l]=pp(r,t,"publicIdentifier"),t=vl(r,t),(r[t]==='"'||r[t]==="'")&&([t,y]=pp(r,t,"systemIdentifier"));else if(i==="SYSTEM"&&([t,y]=pp(r,t,"systemIdentifier"),!y))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:s,publicIdentifier:l,systemIdentifier:y,index:--t}}function pp(r,t,s){let i="";const l=r[t];if(l!=='"'&&l!=="'")throw new Error(`Expected quoted string, found "${l}"`);for(t++;t<r.length&&r[t]!==l;)i+=r[t],t++;if(r[t]!==l)throw new Error(`Unterminated ${s} value`);return t++,[t,i]}function FD(r,t){t=vl(r,t);let s="";for(;t<r.length&&!/\s/.test(r[t]);)s+=r[t],t++;if(!lb(s))throw new Error(`Invalid element name: "${s}"`);t=vl(r,t);let i="";if(r[t]==="E"&&mu(r,"MPTY",t))t+=4;else if(r[t]==="A"&&mu(r,"NY",t))t+=2;else if(r[t]==="("){for(t++;t<r.length&&r[t]!==")";)i+=r[t],t++;if(r[t]!==")")throw new Error("Unterminated content model")}else throw new Error(`Invalid Element Expression, found "${r[t]}"`);return{elementName:s,contentModel:i.trim(),index:t}}function mu(r,t,s){for(let i=0;i<t.length;i++)if(t[i]!==r[s+i+1])return!1;return!0}function lb(r){if(ab(r))return r;throw new Error(`Invalid entity name ${r}`)}const VD=/^[-+]?0x[a-fA-F0-9]+$/,zD=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,GD={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function HD(r,t={}){if(t=Object.assign({},GD,t),!r||typeof r!="string")return r;let s=r.trim();if(t.skipLike!==void 0&&t.skipLike.test(s))return r;if(r==="0")return 0;if(t.hex&&VD.test(s))return YD(s,16);if(s.search(/.+[eE].+/)!==-1)return $D(r,s,t);{const i=zD.exec(s);if(i){const l=i[1]||"",y=i[2];let R=WD(i[3]);const n=l?r[y.length+1]===".":r[y.length]===".";if(!t.leadingZeros&&(y.length>1||y.length===1&&!n))return r;{const C=Number(s),x=String(C);if(C===0)return C;if(x.search(/[eE]/)!==-1)return t.eNotation?C:r;if(s.indexOf(".")!==-1)return x==="0"||x===R||x===`${l}${R}`?C:r;let m=y?R:s;return y?m===x||l+m===x?C:r:m===x||m===l+x?C:r}}else return r}}const qD=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function $D(r,t,s){if(!s.eNotation)return r;const i=t.match(qD);if(i){let l=i[1]||"";const y=i[3].indexOf("e")===-1?"E":"e",R=i[2],n=l?r[R.length+1]===y:r[R.length]===y;return R.length>1&&n?r:R.length===1&&(i[3].startsWith(`.${y}`)||i[3][0]===y)?Number(t):s.leadingZeros&&!n?(t=(i[1]||"")+i[3],Number(t)):r}else return r}function WD(r){return r&&r.indexOf(".")!==-1&&(r=r.replace(/0+$/,""),r==="."?r="0":r[0]==="."?r="0"+r:r[r.length-1]==="."&&(r=r.substring(0,r.length-1))),r}function YD(r,t){if(parseInt)return parseInt(r,t);if(Number.parseInt)return Number.parseInt(r,t);if(window&&window.parseInt)return window.parseInt(r,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function XD(r){return typeof r=="function"?r:Array.isArray(r)?t=>{for(const s of r)if(typeof s=="string"&&t===s||s instanceof RegExp&&s.test(t))return!0}:()=>!1}class KD{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(s,i)=>String.fromCodePoint(Number.parseInt(i,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(s,i)=>String.fromCodePoint(Number.parseInt(i,16))}},this.addExternalEntities=QD,this.parseXml=rP,this.parseTextData=ZD,this.resolveNameSpace=JD,this.buildAttributesMap=tP,this.isItStopNode=oP,this.replaceEntitiesValue=sP,this.readStopNodeData=lP,this.saveTextToParentTag=iP,this.addChild=nP,this.ignoreAttributesFn=XD(this.options.ignoreAttributes)}}function QD(r){const t=Object.keys(r);for(let s=0;s<t.length;s++){const i=t[s];this.lastEntities[i]={regex:new RegExp("&"+i+";","g"),val:r[i]}}}function ZD(r,t,s,i,l,y,R){if(r!==void 0&&(this.options.trimValues&&!i&&(r=r.trim()),r.length>0)){R||(r=this.replaceEntitiesValue(r));const n=this.options.tagValueProcessor(t,r,s,l,y);return n==null?r:typeof n!=typeof r||n!==r?n:this.options.trimValues?i0(r,this.options.parseTagValue,this.options.numberParseOptions):r.trim()===r?i0(r,this.options.parseTagValue,this.options.numberParseOptions):r}}function JD(r){if(this.options.removeNSPrefix){const t=r.split(":"),s=r.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(r=s+t[1])}return r}const eP=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function tP(r,t,s){if(this.options.ignoreAttributes!==!0&&typeof r=="string"){const i=wA(r,eP),l=i.length,y={};for(let R=0;R<l;R++){const n=this.resolveNameSpace(i[R][1]);if(this.ignoreAttributesFn(n,t))continue;let C=i[R][4],x=this.options.attributeNamePrefix+n;if(n.length)if(this.options.transformAttributeName&&(x=this.options.transformAttributeName(x)),x==="__proto__"&&(x="#__proto__"),C!==void 0){this.options.trimValues&&(C=C.trim()),C=this.replaceEntitiesValue(C);const m=this.options.attributeValueProcessor(n,C,t);m==null?y[x]=C:typeof m!=typeof C||m!==C?y[x]=m:y[x]=i0(C,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(y[x]=!0)}if(!Object.keys(y).length)return;if(this.options.attributesGroupName){const R={};return R[this.options.attributesGroupName]=y,R}return y}}const rP=function(r){r=r.replace(/\r\n?/g,`
`);const t=new pu("!xml");let s=t,i="",l="";for(let y=0;y<r.length;y++)if(r[y]==="<")if(r[y+1]==="/"){const n=vu(r,">",y,"Closing Tag is not closed.");let C=r.substring(y+2,n).trim();if(this.options.removeNSPrefix){const d=C.indexOf(":");d!==-1&&(C=C.substr(d+1))}this.options.transformTagName&&(C=this.options.transformTagName(C)),s&&(i=this.saveTextToParentTag(i,s,l));const x=l.substring(l.lastIndexOf(".")+1);if(C&&this.options.unpairedTags.indexOf(C)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${C}>`);let m=0;x&&this.options.unpairedTags.indexOf(x)!==-1?(m=l.lastIndexOf(".",l.lastIndexOf(".")-1),this.tagsNodeStack.pop()):m=l.lastIndexOf("."),l=l.substring(0,m),s=this.tagsNodeStack.pop(),i="",y=n}else if(r[y+1]==="?"){let n=s0(r,y,!1,"?>");if(!n)throw new Error("Pi Tag is not closed.");if(i=this.saveTextToParentTag(i,s,l),!(this.options.ignoreDeclaration&&n.tagName==="?xml"||this.options.ignorePiTags)){const C=new pu(n.tagName);C.add(this.options.textNodeName,""),n.tagName!==n.tagExp&&n.attrExpPresent&&(C[":@"]=this.buildAttributesMap(n.tagExp,l,n.tagName)),this.addChild(s,C,l,y)}y=n.closeIndex+1}else if(r.substr(y+1,3)==="!--"){const n=vu(r,"-->",y+4,"Comment is not closed.");if(this.options.commentPropName){const C=r.substring(y+4,n-2);i=this.saveTextToParentTag(i,s,l),s.add(this.options.commentPropName,[{[this.options.textNodeName]:C}])}y=n}else if(r.substr(y+1,2)==="!D"){const n=ND(r,y);this.docTypeEntities=n.entities,y=n.i}else if(r.substr(y+1,2)==="!["){const n=vu(r,"]]>",y,"CDATA is not closed.")-2,C=r.substring(y+9,n);i=this.saveTextToParentTag(i,s,l);let x=this.parseTextData(C,s.tagname,l,!0,!1,!0,!0);x==null&&(x=""),this.options.cdataPropName?s.add(this.options.cdataPropName,[{[this.options.textNodeName]:C}]):s.add(this.options.textNodeName,x),y=n+2}else{let n=s0(r,y,this.options.removeNSPrefix),C=n.tagName;const x=n.rawTagName;let m=n.tagExp,d=n.attrExpPresent,c=n.closeIndex;this.options.transformTagName&&(C=this.options.transformTagName(C)),s&&i&&s.tagname!=="!xml"&&(i=this.saveTextToParentTag(i,s,l,!1));const T=s;T&&this.options.unpairedTags.indexOf(T.tagname)!==-1&&(s=this.tagsNodeStack.pop(),l=l.substring(0,l.lastIndexOf("."))),C!==t.tagname&&(l+=l?"."+C:C);const A=y;if(this.isItStopNode(this.options.stopNodes,l,C)){let f="";if(m.length>0&&m.lastIndexOf("/")===m.length-1)C[C.length-1]==="/"?(C=C.substr(0,C.length-1),l=l.substr(0,l.length-1),m=C):m=m.substr(0,m.length-1),y=n.closeIndex;else if(this.options.unpairedTags.indexOf(C)!==-1)y=n.closeIndex;else{const p=this.readStopNodeData(r,x,c+1);if(!p)throw new Error(`Unexpected end of ${x}`);y=p.i,f=p.tagContent}const h=new pu(C);C!==m&&d&&(h[":@"]=this.buildAttributesMap(m,l,C)),f&&(f=this.parseTextData(f,C,l,!0,d,!0,!0)),l=l.substr(0,l.lastIndexOf(".")),h.add(this.options.textNodeName,f),this.addChild(s,h,l,A)}else{if(m.length>0&&m.lastIndexOf("/")===m.length-1){C[C.length-1]==="/"?(C=C.substr(0,C.length-1),l=l.substr(0,l.length-1),m=C):m=m.substr(0,m.length-1),this.options.transformTagName&&(C=this.options.transformTagName(C));const f=new pu(C);C!==m&&d&&(f[":@"]=this.buildAttributesMap(m,l,C)),this.addChild(s,f,l,A),l=l.substr(0,l.lastIndexOf("."))}else{const f=new pu(C);this.tagsNodeStack.push(s),C!==m&&d&&(f[":@"]=this.buildAttributesMap(m,l,C)),this.addChild(s,f,l,A),s=f}i="",y=c}}else i+=r[y];return t.child};function nP(r,t,s,i){this.options.captureMetaData||(i=void 0);const l=this.options.updateTag(t.tagname,s,t[":@"]);l===!1||(typeof l=="string"&&(t.tagname=l),r.addChild(t,i))}const sP=function(r){if(this.options.processEntities){for(let t in this.docTypeEntities){const s=this.docTypeEntities[t];r=r.replace(s.regx,s.val)}for(let t in this.lastEntities){const s=this.lastEntities[t];r=r.replace(s.regex,s.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const s=this.htmlEntities[t];r=r.replace(s.regex,s.val)}r=r.replace(this.ampEntity.regex,this.ampEntity.val)}return r};function iP(r,t,s,i){return r&&(i===void 0&&(i=t.child.length===0),r=this.parseTextData(r,t.tagname,s,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,i),r!==void 0&&r!==""&&t.add(this.options.textNodeName,r),r=""),r}function oP(r,t,s){const i="*."+s;for(const l in r){const y=r[l];if(i===y||t===y)return!0}return!1}function aP(r,t,s=">"){let i,l="";for(let y=t;y<r.length;y++){let R=r[y];if(i)R===i&&(i="");else if(R==='"'||R==="'")i=R;else if(R===s[0])if(s[1]){if(r[y+1]===s[1])return{data:l,index:y}}else return{data:l,index:y};else R==="	"&&(R=" ");l+=R}}function vu(r,t,s,i){const l=r.indexOf(t,s);if(l===-1)throw new Error(i);return l+t.length-1}function s0(r,t,s,i=">"){const l=aP(r,t+1,i);if(!l)return;let y=l.data;const R=l.index,n=y.search(/\s/);let C=y,x=!0;n!==-1&&(C=y.substring(0,n),y=y.substring(n+1).trimStart());const m=C;if(s){const d=C.indexOf(":");d!==-1&&(C=C.substr(d+1),x=C!==l.data.substr(d+1))}return{tagName:C,tagExp:y,closeIndex:R,attrExpPresent:x,rawTagName:m}}function lP(r,t,s){const i=s;let l=1;for(;s<r.length;s++)if(r[s]==="<")if(r[s+1]==="/"){const y=vu(r,">",s,`${t} is not closed`);if(r.substring(s+2,y).trim()===t&&(l--,l===0))return{tagContent:r.substring(i,s),i:y};s=y}else if(r[s+1]==="?")s=vu(r,"?>",s+1,"StopNode is not closed.");else if(r.substr(s+1,3)==="!--")s=vu(r,"-->",s+3,"StopNode is not closed.");else if(r.substr(s+1,2)==="![")s=vu(r,"]]>",s,"StopNode is not closed.")-2;else{const y=s0(r,s,">");y&&((y&&y.tagName)===t&&y.tagExp[y.tagExp.length-1]!=="/"&&l++,s=y.closeIndex)}}function i0(r,t,s){if(t&&typeof r=="string"){const i=r.trim();return i==="true"?!0:i==="false"?!1:HD(r,s)}else return ED(r)?r:""}const Xg=pu.getMetaDataSymbol();function uP(r,t){return xA(r,t)}function xA(r,t,s){let i;const l={};for(let y=0;y<r.length;y++){const R=r[y],n=cP(R);let C="";if(s===void 0?C=n:C=s+"."+n,n===t.textNodeName)i===void 0?i=R[n]:i+=""+R[n];else{if(n===void 0)continue;if(R[n]){let x=xA(R[n],t,C);const m=hP(x,t);R[Xg]!==void 0&&(x[Xg]=R[Xg]),R[":@"]?dP(x,R[":@"],C,t):Object.keys(x).length===1&&x[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?x=x[t.textNodeName]:Object.keys(x).length===0&&(t.alwaysCreateTextNode?x[t.textNodeName]="":x=""),l[n]!==void 0&&l.hasOwnProperty(n)?(Array.isArray(l[n])||(l[n]=[l[n]]),l[n].push(x)):t.isArray(n,C,m)?l[n]=[x]:l[n]=x}}}return typeof i=="string"?i.length>0&&(l[t.textNodeName]=i):i!==void 0&&(l[t.textNodeName]=i),l}function cP(r){const t=Object.keys(r);for(let s=0;s<t.length;s++){const i=t[s];if(i!==":@")return i}}function dP(r,t,s,i){if(t){const l=Object.keys(t),y=l.length;for(let R=0;R<y;R++){const n=l[R];i.isArray(n,s+"."+n,!0,!0)?r[n]=[t[n]]:r[n]=t[n]}}}function hP(r,t){const{textNodeName:s}=t,i=Object.keys(r).length;return!!(i===0||i===1&&(r[s]||typeof r[s]=="boolean"||r[s]===0))}class fP{constructor(t){this.externalEntities={},this.options=LD(t)}parse(t,s){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(s){s===!0&&(s={});const y=TD(t,s);if(y!==!0)throw Error(`${y.err.msg}:${y.err.line}:${y.err.col}`)}const i=new KD(this.options);i.addExternalEntities(this.externalEntities);const l=i.parseXml(t);return this.options.preserveOrder||l===void 0?l:uP(l,this.options)}addEntity(t,s){if(s.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(s==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=s}static getMetaDataSymbol(){return pu.getMetaDataSymbol()}}const SA=(r,t)=>_D(r,t).then(s=>{if(s.length){const i=new fP({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(C,x)=>x.trim()===""&&x.includes(`
`)?"":void 0});i.addEntity("#xD","\r"),i.addEntity("#10",`
`);let l;try{l=i.parse(s,!0)}catch(C){throw C&&typeof C=="object"&&Object.defineProperty(C,"$responseBodyText",{value:s}),C}const y="#text",R=Object.keys(l)[0],n=l[R];return n[y]&&(n[R]=n[y],delete n[y]),bA(n)}return{}}),pP=async(r,t)=>{const s=await SA(r,t);return s.Error&&(s.Error.message=s.Error.message??s.Error.Message),s},mP=(r,t)=>{var s;if(((s=t==null?void 0:t.Error)==null?void 0:s.Code)!==void 0)return t.Error.Code;if((t==null?void 0:t.Code)!==void 0)return t.Code;if(r.statusCode==404)return"NotFound"},o0=[bn.CRC32,bn.CRC32C,bn.CRC64NVME,bn.SHA1,bn.SHA256],yP=[bn.SHA256,bn.SHA1,bn.CRC32,bn.CRC32C,bn.CRC64NVME],gP=(r,{requestChecksumRequired:t,requestAlgorithmMember:s,requestChecksumCalculation:i})=>{if(!s)return i===Uc.WHEN_SUPPORTED||t?Zv:void 0;if(!r[s])return;const l=r[s];if(!o0.includes(l))throw new Error(`The checksum algorithm "${l}" is not supported by the client. Select one of ${o0}.`);return l},ub=r=>r===bn.MD5?"content-md5":`x-amz-checksum-${r.toLowerCase()}`,vP=(r,t)=>{const s=r.toLowerCase();for(const i of Object.keys(t))if(s===i.toLowerCase())return!0;return!1},bP=(r,t)=>{const s=r.toLowerCase();for(const i of Object.keys(t))if(i.toLowerCase().startsWith(s))return!0;return!1},EA=r=>r!==void 0&&typeof r!="string"&&!ArrayBuffer.isView(r)&&!gA(r);function cb(r,t){var s={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(s[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(r);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(r,i[l])&&(s[i[l]]=r[i[l]]);return s}function db(r,t,s,i){function l(y){return y instanceof s?y:new s(function(R){R(y)})}return new(s||(s=Promise))(function(y,R){function n(m){try{x(i.next(m))}catch(d){R(d)}}function C(m){try{x(i.throw(m))}catch(d){R(d)}}function x(m){m.done?y(m.value):l(m.value).then(n,C)}x((i=i.apply(r,t||[])).next())})}function hb(r,t){var s={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},i,l,y,R=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return R.next=n(0),R.throw=n(1),R.return=n(2),typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function n(x){return function(m){return C([x,m])}}function C(x){if(i)throw new TypeError("Generator is already executing.");for(;R&&(R=0,x[0]&&(s=0)),s;)try{if(i=1,l&&(y=x[0]&2?l.return:x[0]?l.throw||((y=l.return)&&y.call(l),0):l.next)&&!(y=y.call(l,x[1])).done)return y;switch(l=0,y&&(x=[x[0]&2,y.value]),x[0]){case 0:case 1:y=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,l=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(y=s.trys,!(y=y.length>0&&y[y.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!y||x[1]>y[0]&&x[1]<y[3])){s.label=x[1];break}if(x[0]===6&&s.label<y[1]){s.label=y[1],y=x;break}if(y&&s.label<y[2]){s.label=y[2],s.ops.push(x);break}y[2]&&s.ops.pop(),s.trys.pop();continue}x=t.call(r,s)}catch(m){x=[6,m],l=0}finally{i=y=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}}function jA(r){var t=typeof Symbol=="function"&&Symbol.iterator,s=t&&r[t],i=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}const _P=r=>new TextEncoder().encode(r);var wP=typeof Buffer<"u"&&Buffer.from?function(r){return Buffer.from(r,"utf8")}:_P;function Al(r){return r instanceof Uint8Array?r:typeof r=="string"?wP(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}function Ah(r){return typeof r=="string"?r.length===0:r.byteLength===0}function TA(r){return new Uint8Array([(r&4278190080)>>24,(r&16711680)>>16,(r&65280)>>8,r&255])}function AA(r){if(!Uint32Array.from){for(var t=new Uint32Array(r.length),s=0;s<r.length;)t[s]=r[s],s+=1;return t}return Uint32Array.from(r)}var xP=function(){function r(){this.crc32c=new jS}return r.prototype.update=function(t){Ah(t)||this.crc32c.update(Al(t))},r.prototype.digest=function(){return db(this,void 0,void 0,function(){return hb(this,function(t){return[2,TA(this.crc32c.digest())]})})},r.prototype.reset=function(){this.crc32c=new jS},r}(),jS=function(){function r(){this.checksum=4294967295}return r.prototype.update=function(t){var s,i;try{for(var l=jA(t),y=l.next();!y.done;y=l.next()){var R=y.value;this.checksum=this.checksum>>>8^EP[(this.checksum^R)&255]}}catch(n){s={error:n}}finally{try{y&&!y.done&&(i=l.return)&&i.call(l)}finally{if(s)throw s.error}}return this},r.prototype.digest=function(){return(this.checksum^4294967295)>>>0},r}(),SP=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],EP=AA(SP),jP=function(){function r(){this.crc32=new Lp}return r.prototype.update=function(t){Ah(t)||this.crc32.update(Al(t))},r.prototype.digest=function(){return db(this,void 0,void 0,function(){return hb(this,function(t){return[2,TA(this.crc32.digest())]})})},r.prototype.reset=function(){this.crc32=new Lp},r}(),Lp=function(){function r(){this.checksum=4294967295}return r.prototype.update=function(t){var s,i;try{for(var l=jA(t),y=l.next();!y.done;y=l.next()){var R=y.value;this.checksum=this.checksum>>>8^AP[(this.checksum^R)&255]}}catch(n){s={error:n}}finally{try{y&&!y.done&&(i=l.return)&&i.call(l)}finally{if(s)throw s.error}}return this},r.prototype.digest=function(){return(this.checksum^4294967295)>>>0},r}(),TP=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],AP=AA(TP);const CP=()=>jP,CA=(r,t)=>{switch(r){case bn.MD5:return t.md5;case bn.CRC32:return CP();case bn.CRC32C:return xP;case bn.CRC64NVME:throw new Error(`Please check whether you have installed the "@aws-sdk/crc64-nvme-crt" package explicitly. 
You must also register the package by calling [require("@aws-sdk/crc64-nvme-crt");] or an ESM equivalent such as [import "@aws-sdk/crc64-nvme-crt";]. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);case bn.SHA1:return t.sha1;case bn.SHA256:return t.sha256;default:throw new Error(`Unsupported checksum algorithm: ${r}`)}},RA=(r,t)=>{const s=new r;return s.update(Bc(t||"")),s.digest()},RP={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},MP=(r,t)=>(s,i)=>async l=>{if(!us.isInstance(l.request)||bP("x-amz-checksum-",l.request.headers))return s(l);const{request:y,input:R}=l,{body:n,headers:C}=y,{base64Encoder:x,streamHasher:m}=r,{requestChecksumRequired:d,requestAlgorithmMember:c}=t,T=await r.requestChecksumCalculation(),A=c==null?void 0:c.name,f=c==null?void 0:c.httpHeader;A&&!R[A]&&(T===Uc.WHEN_SUPPORTED||d)&&(R[A]=Zv,f&&(C[f]=Zv));const h=gP(R,{requestChecksumRequired:d,requestAlgorithmMember:c==null?void 0:c.name,requestChecksumCalculation:T});let p=n,u=C;if(h){switch(h){case bn.CRC32:is(i,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case bn.CRC32C:is(i,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case bn.CRC64NVME:is(i,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case bn.SHA1:is(i,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case bn.SHA256:is(i,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y");break}const S=ub(h),j=CA(h,r);if(EA(n)){const{getAwsChunkedEncodingStream:_,bodyLengthChecker:b}=r;p=_(typeof r.requestStreamBufferSize=="number"&&r.requestStreamBufferSize>=8*1024?z4(n,r.requestStreamBufferSize,i.logger):n,{base64Encoder:x,bodyLengthChecker:b,checksumLocationName:S,checksumAlgorithmFn:j,streamHasher:m}),u={...C,"content-encoding":C["content-encoding"]?`${C["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":C["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":S},delete u["content-length"]}else if(!vP(S,C)){const _=await RA(j,n);u={...C,[S]:x(_)}}}return await s({...l,request:{...y,headers:u,body:p}})},kP={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},IP=(r,t)=>(s,i)=>async l=>{const y=l.input,{requestValidationModeMember:R}=t,n=await r.requestChecksumCalculation(),C=await r.responseChecksumValidation();switch(n){case Uc.WHEN_REQUIRED:is(i,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case Uc.WHEN_SUPPORTED:is(i,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z");break}switch(C){case Vg.WHEN_REQUIRED:is(i,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case Vg.WHEN_SUPPORTED:is(i,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b");break}return R&&!y[R]&&C===Vg.WHEN_SUPPORTED&&(y[R]="ENABLED"),s(l)},MA=(r=[])=>{const t=[];for(const s of yP)!r.includes(s)||!o0.includes(s)||t.push(s);return t},OP=r=>{const t=r.lastIndexOf("-");if(t!==-1){const s=r.slice(t+1);if(!s.startsWith("0")){const i=parseInt(s,10);if(!isNaN(i)&&i>=1&&i<=1e4)return!0}}return!1},DP=async(r,{checksumAlgorithmFn:t,base64Encoder:s})=>s(await RA(t,r)),PP=async(r,{config:t,responseAlgorithms:s,logger:i})=>{const l=MA(s),{body:y,headers:R}=r;for(const n of l){const C=ub(n),x=R[C];if(x){let m;try{m=CA(n,t)}catch(T){if(n===bn.CRC64NVME){i==null||i.warn(`Skipping ${bn.CRC64NVME} checksum validation: ${T.message}`);continue}throw T}const{base64Encoder:d}=t;if(EA(y)){r.body=B4({expectedChecksum:x,checksumSourceLocation:C,checksum:new m,source:y,base64Encoder:d});return}const c=await DP(y,{checksumAlgorithmFn:m,base64Encoder:d});if(c===x)break;throw new Error(`Checksum mismatch: expected "${c}" but received "${x}" in response header "${C}".`)}}},LP={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},NP=(r,t)=>(s,i)=>async l=>{if(!us.isInstance(l.request))return s(l);const y=l.input,R=await s(l),n=R.response,{requestValidationModeMember:C,responseAlgorithms:x}=t;if(C&&y[C]==="ENABLED"){const{clientName:m,commandName:d}=i;if(m==="S3Client"&&d==="GetObjectCommand"&&MA(x).every(T=>{const A=ub(T),f=n.headers[A];return!f||OP(f)}))return R;await PP(n,{config:r,responseAlgorithms:x,logger:i.logger})}return R},UP=(r,t)=>({applyToStack:s=>{s.add(MP(r,t),RP),s.addRelativeTo(IP(r,t),kP),s.addRelativeTo(NP(r,t),LP)}}),BP=r=>{const{requestChecksumCalculation:t,responseChecksumValidation:s,requestStreamBufferSize:i}=r;return Object.assign(r,{requestChecksumCalculation:mo(t??g4),responseChecksumValidation:mo(s??v4),requestStreamBufferSize:Number(i??0)})};const FP=r=>t=>async s=>{if(!us.isInstance(s.request))return t(s);const{request:i}=s,{handlerProtocol:l=""}=r.requestHandler.metadata||{};if(l.indexOf("h2")>=0&&!i.headers[":authority"])delete i.headers.host,i.headers[":authority"]=i.hostname+(i.port?":"+i.port:"");else if(!i.headers.host){let y=i.hostname;i.port!=null&&(y+=`:${i.port}`),i.headers.host=y}return t(s)},VP={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},zP=r=>({applyToStack:t=>{t.add(FP(r),VP)}}),GP=()=>(r,t)=>async s=>{var i,l;try{const y=await r(s),{clientName:R,commandName:n,logger:C,dynamoDbDocumentClientOptions:x={}}=t,{overrideInputFilterSensitiveLog:m,overrideOutputFilterSensitiveLog:d}=x,c=m??t.inputFilterSensitiveLog,T=d??t.outputFilterSensitiveLog,{$metadata:A,...f}=y.output;return(i=C==null?void 0:C.info)==null||i.call(C,{clientName:R,commandName:n,input:c(s.input),output:T(f),metadata:A}),y}catch(y){const{clientName:R,commandName:n,logger:C,dynamoDbDocumentClientOptions:x={}}=t,{overrideInputFilterSensitiveLog:m}=x,d=m??t.inputFilterSensitiveLog;throw(l=C==null?void 0:C.error)==null||l.call(C,{clientName:R,commandName:n,input:d(s.input),error:y,metadata:y.$metadata}),y}},HP={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},qP=r=>({applyToStack:t=>{t.add(GP(),HP)}});var TS={};const Kg="X-Amzn-Trace-Id",$P="AWS_LAMBDA_FUNCTION_NAME",WP="_X_AMZN_TRACE_ID",YP=r=>t=>async s=>{const{request:i}=s;if(!us.isInstance(i)||r.runtime!=="node")return t(s);const l=Object.keys(i.headers??{}).find(C=>C.toLowerCase()===Kg.toLowerCase())??Kg;if(i.headers.hasOwnProperty(l))return t(s);const y=TS[$P],R=TS[WP],n=C=>typeof C=="string"&&C.length>0;return n(y)&&n(R)&&(i.headers[Kg]=R),t({...s,request:i})},XP={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},KP=r=>({applyToStack:t=>{t.add(YP(r),XP)}}),QP="content-length",ZP="x-amz-decoded-content-length";function JP(){return(r,t)=>async s=>{var l;const{request:i}=s;if(us.isInstance(i)&&!(QP in i.headers)&&!(ZP in i.headers)){const y="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((l=t==null?void 0:t.logger)==null?void 0:l.warn)=="function"&&!(t.logger instanceof ob)?t.logger.warn(y):console.warn(y)}return r({...s})}}const eL={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},tL=r=>({applyToStack:t=>{t.add(JP(),eL)}}),rL=r=>(t,s)=>async i=>{const l=await r.region(),y=r.region;let R=()=>{};s.__s3RegionRedirect&&(Object.defineProperty(r,"region",{writable:!1,value:async()=>s.__s3RegionRedirect}),R=()=>Object.defineProperty(r,"region",{writable:!0,value:y}));try{const n=await t(i);if(s.__s3RegionRedirect){R();const C=await r.region();if(l!==C)throw new Error("Region was not restored following S3 region redirect.")}return n}catch(n){throw R(),n}},nL={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"};function sL(r){return(t,s)=>async i=>{var l,y,R;try{return await t(i)}catch(n){if(r.followRegionRedirects&&(((l=n==null?void 0:n.$metadata)==null?void 0:l.httpStatusCode)===301||((y=n==null?void 0:n.$metadata)==null?void 0:y.httpStatusCode)===400&&(n==null?void 0:n.name)==="IllegalLocationConstraintException")){try{const C=n.$response.headers["x-amz-bucket-region"];(R=s.logger)==null||R.debug(`Redirecting from ${await r.region()} to ${C}`),s.__s3RegionRedirect=C}catch(C){throw new Error("Region redirect failed: "+C)}return t(i)}throw n}}}const iL={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},oL=r=>({applyToStack:t=>{t.add(sL(r),iL),t.addRelativeTo(rL(r),nL)}}),am=class am{constructor(t={}){cr(this,"data");cr(this,"lastPurgeTime",Date.now());this.data=t}get(t){const s=this.data[t];if(s)return s}set(t,s){return this.data[t]=s,s}delete(t){delete this.data[t]}async purgeExpired(){const t=Date.now();if(!(this.lastPurgeTime+am.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>t))for(const s in this.data){const i=this.data[s];if(!i.isRefreshing){const l=await i.identity;l.expiration&&l.expiration.getTime()<t&&delete this.data[s]}}}};cr(am,"EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS",3e4);let a0=am;class Qg{constructor(t,s=!1,i=Date.now()){cr(this,"_identity");cr(this,"isRefreshing");cr(this,"accessed");this._identity=t,this.isRefreshing=s,this.accessed=i}get identity(){return this.accessed=Date.now(),this._identity}}const lm=class lm{constructor(t,s=new a0){cr(this,"createSessionFn");cr(this,"cache");this.createSessionFn=t,this.cache=s}async getS3ExpressIdentity(t,s){const i=s.Bucket,{cache:l}=this,y=l.get(i);return y?y.identity.then(R=>{var x,m;return(((x=R.expiration)==null?void 0:x.getTime())??0)<Date.now()?l.set(i,new Qg(this.getIdentity(i))).identity:((((m=R.expiration)==null?void 0:m.getTime())??0)<Date.now()+lm.REFRESH_WINDOW_MS&&!y.isRefreshing&&(y.isRefreshing=!0,this.getIdentity(i).then(d=>{l.set(i,new Qg(Promise.resolve(d)))})),R)}):l.set(i,new Qg(this.getIdentity(i))).identity}async getIdentity(t){var l,y;await this.cache.purgeExpired().catch(R=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+R)});const s=await this.createSessionFn(t);if(!((l=s.Credentials)!=null&&l.AccessKeyId)||!((y=s.Credentials)!=null&&y.SecretAccessKey))throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:s.Credentials.AccessKeyId,secretAccessKey:s.Credentials.SecretAccessKey,sessionToken:s.Credentials.SessionToken,expiration:s.Credentials.Expiration?new Date(s.Credentials.Expiration):void 0}}};cr(lm,"REFRESH_WINDOW_MS",6e4);let l0=lm;var AS;(function(r){r.ENV="env",r.CONFIG="shared config entry"})(AS||(AS={}));const aL="Directory",lL="S3Express",uL="sigv4-s3express",u0="X-Amz-S3session-Token",c0=u0.toLowerCase();class cL extends n0{async signWithCredentials(t,s,i){const l=CS(s);t.headers[c0]=s.sessionToken;const y=this;return RS(y,l),y.signRequest(t,i??{})}async presignWithCredentials(t,s,i){const l=CS(s);return delete t.headers[c0],t.headers[u0]=s.sessionToken,t.query=t.query??{},t.query[u0]=s.sessionToken,RS(this,l),this.presign(t,i)}}function CS(r){return{accessKeyId:r.accessKeyId,secretAccessKey:r.secretAccessKey,expiration:r.expiration}}function RS(r,t){const s=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),i=r.credentialProvider,l=()=>(clearTimeout(s),r.credentialProvider=i,Promise.resolve(t));r.credentialProvider=l}const dL=r=>(t,s)=>async i=>{var l,y,R,n,C;if(s.endpointV2){const x=s.endpointV2,m=((R=(y=(l=x.properties)==null?void 0:l.authSchemes)==null?void 0:y[0])==null?void 0:R.name)===uL;if((((n=x.properties)==null?void 0:n.backend)===lL||((C=x.properties)==null?void 0:C.bucketType)===aL)&&(is(s,"S3_EXPRESS_BUCKET","J"),s.isS3ExpressBucket=!0),m){const c=i.input.Bucket;if(c){const T=await r.s3ExpressIdentityProvider.getS3ExpressIdentity(await r.credentials(),{Bucket:c});s.s3ExpressIdentity=T,us.isInstance(i.request)&&T.sessionToken&&(i.request.headers[c0]=T.sessionToken)}}}return t(i)},hL={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},fL=r=>({applyToStack:t=>{t.add(dL(r),hL)}}),pL=async(r,t,s,i)=>{const l=await i.signWithCredentials(s,r,{});if(l.headers["X-Amz-Security-Token"]||l.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return l},mL=r=>t=>{throw t},yL=(r,t)=>{},gL=r=>(t,s)=>async i=>{if(!us.isInstance(i.request))return t(i);const y=id(s).selectedHttpAuthScheme;if(!y)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:R={}},identity:n,signer:C}=y;let x;s.s3ExpressIdentity?x=await pL(s.s3ExpressIdentity,R,i.request,await r.signer()):x=await C.sign(i.request,n,R);const m=await t({...i,request:x}).catch((C.errorHandler||mL)(R));return(C.successHandler||yL)(m.response,R),m},vL=r=>({applyToStack:t=>{t.addRelativeTo(gL(r),QT)}}),bL=(r,{session:t})=>{const[s,i]=t,{forcePathStyle:l,useAccelerateEndpoint:y,disableMultiregionAccessPoints:R,followRegionRedirects:n,s3ExpressIdentityProvider:C,bucketEndpoint:x}=r;return Object.assign(r,{forcePathStyle:l??!1,useAccelerateEndpoint:y??!1,disableMultiregionAccessPoints:R??!1,followRegionRedirects:n??!1,s3ExpressIdentityProvider:C??new l0(async m=>s().send(new i({Bucket:m}))),bucketEndpoint:x??!1})},_L={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},wL=3e3,xL=r=>(t,s)=>async i=>{const l=await t(i),{response:y}=l;if(!Nc.isInstance(y))return l;const{statusCode:R,body:n}=y;if(R<200||R>=300||!(typeof(n==null?void 0:n.stream)=="function"||typeof(n==null?void 0:n.pipe)=="function"||typeof(n==null?void 0:n.tee)=="function"))return l;let x=n,m=n;n&&typeof n=="object"&&!(n instanceof Uint8Array)&&([x,m]=await e5(n)),y.body=m;const d=await SL(x,{streamCollector:async T=>$4(T,wL)});typeof(x==null?void 0:x.destroy)=="function"&&x.destroy();const c=r.utf8Encoder(d.subarray(d.length-16));if(d.length===0&&_L[s.commandName]){const T=new Error("S3 aborted request");throw T.name="InternalError",T}return c&&c.endsWith("</Error>")&&(y.statusCode=400),l},SL=(r=new Uint8Array,t)=>r instanceof Uint8Array?Promise.resolve(r):t.streamCollector(r)||Promise.resolve(new Uint8Array),EL={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},kA=r=>({applyToStack:t=>{t.addRelativeTo(xL(r),EL)}}),jL=r=>typeof r=="string"&&r.indexOf("arn:")===0&&r.split(":").length>=6;function TL(r){return(t,s)=>async i=>{var l,y,R,n;if(r.bucketEndpoint){const C=s.endpointV2;if(C){const x=i.input.Bucket;if(typeof x=="string")try{const m=new URL(x);s.endpointV2={...C,url:m}}catch(m){const d=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${x} could not be parsed as URL.`;throw((y=(l=s.logger)==null?void 0:l.constructor)==null?void 0:y.name)==="NoOpLogger"?console.warn(d):(n=(R=s.logger)==null?void 0:R.warn)==null||n.call(R,d),m}}}return t(i)}}const AL={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"};function CL({bucketEndpoint:r}){return t=>async s=>{const{input:{Bucket:i}}=s;if(!r&&typeof i=="string"&&!jL(i)&&i.indexOf("/")>=0){const l=new Error(`Bucket name shouldn't contain '/', received '${i}'`);throw l.name="InvalidBucketName",l}return t({...s})}}const RL={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},ML=r=>({applyToStack:t=>{t.add(CL(r),RL),t.addRelativeTo(TL(r),AL)}}),kL=void 0;function IL(r){return r===void 0?!0:typeof r=="string"&&r.length<=50}function OL(r){const t=Sc(r.userAgentAppId??kL),{customUserAgent:s}=r;return Object.assign(r,{customUserAgent:typeof s=="string"?[[s]]:s,userAgentAppId:async()=>{var l,y;const i=await t();if(!IL(i)){const R=((y=(l=r.logger)==null?void 0:l.constructor)==null?void 0:y.name)==="NoOpLogger"||!r.logger?console:r.logger;typeof i!="string"?R==null||R.warn("userAgentAppId must be a string or undefined."):i.length>50&&(R==null||R.warn("The provided userAgentAppId exceeds the maximum length of 50 characters."))}return i}})}class DL{constructor({size:t,params:s}){this.data=new Map,this.parameters=[],this.capacity=t??50,s&&(this.parameters=s)}get(t,s){const i=this.hash(t);if(i===!1)return s();if(!this.data.has(i)){if(this.data.size>this.capacity+10){const l=this.data.keys();let y=0;for(;;){const{value:R,done:n}=l.next();if(this.data.delete(R),n||++y>10)break}}this.data.set(i,s())}return this.data.get(i)}size(){return this.data.size}hash(t){let s="";const{parameters:i}=this;if(i.length===0)return!1;for(const l of i){const y=String(t[l]??"");if(y.includes("|;"))return!1;s+=y+"|;"}return s}}const PL=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),IA=r=>PL.test(r)||r.startsWith("[")&&r.endsWith("]"),LL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),fb=(r,t=!1)=>{if(!t)return LL.test(r);const s=r.split(".");for(const i of s)if(!fb(i))return!1;return!0},Np={},Ch="endpoints";function Cl(r){return typeof r!="object"||r==null?r:"ref"in r?`$${Cl(r.ref)}`:"fn"in r?`${r.fn}(${(r.argv||[]).map(Cl).join(", ")})`:JSON.stringify(r,null,2)}class Ii extends Error{constructor(t){super(t),this.name="EndpointError"}}const NL=(r,t)=>r===t,UL=r=>{const t=r.split("."),s=[];for(const i of t){const l=i.indexOf("[");if(l!==-1){if(i.indexOf("]")!==i.length-1)throw new Ii(`Path: '${r}' does not end with ']'`);const y=i.slice(l+1,-1);if(Number.isNaN(parseInt(y)))throw new Ii(`Invalid array index: '${y}' in path: '${r}'`);l!==0&&s.push(i.slice(0,l)),s.push(y)}else s.push(i)}return s},OA=(r,t)=>UL(t).reduce((s,i)=>{if(typeof s!="object")throw new Ii(`Index '${i}' in '${t}' not found in '${JSON.stringify(r)}'`);return Array.isArray(s)?s[parseInt(i)]:s[i]},r),BL=r=>r!=null,FL=r=>!r,Zg={[Th.HTTP]:80,[Th.HTTPS]:443},VL=r=>{const t=(()=>{try{if(r instanceof URL)return r;if(typeof r=="object"&&"hostname"in r){const{hostname:c,port:T,protocol:A="",path:f="",query:h={}}=r,p=new URL(`${A}//${c}${T?`:${T}`:""}${f}`);return p.search=Object.entries(h).map(([u,g])=>`${u}=${g}`).join("&"),p}return new URL(r)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(r)} as a whatwg URL.`),null;const s=t.href,{host:i,hostname:l,pathname:y,protocol:R,search:n}=t;if(n)return null;const C=R.slice(0,-1);if(!Object.values(Th).includes(C))return null;const x=IA(l),m=s.includes(`${i}:${Zg[C]}`)||typeof r=="string"&&r.includes(`${i}:${Zg[C]}`),d=`${i}${m?`:${Zg[C]}`:""}`;return{scheme:C,authority:d,path:y,normalizedPath:y.endsWith("/")?y:`${y}/`,isIp:x}},zL=(r,t)=>r===t,GL=(r,t,s,i)=>t>=s||r.length<s?null:i?r.substring(r.length-s,r.length-t):r.substring(t,s),HL=r=>encodeURIComponent(r).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),qL={booleanEquals:NL,getAttr:OA,isSet:BL,isValidHostLabel:fb,not:FL,parseURL:VL,stringEquals:zL,substring:GL,uriEncode:HL},DA=(r,t)=>{const s=[],i={...t.endpointParams,...t.referenceRecord};let l=0;for(;l<r.length;){const y=r.indexOf("{",l);if(y===-1){s.push(r.slice(l));break}s.push(r.slice(l,y));const R=r.indexOf("}",y);if(R===-1){s.push(r.slice(y));break}r[y+1]==="{"&&r[R+1]==="}"&&(s.push(r.slice(y+1,R)),l=R+2);const n=r.substring(y+1,R);if(n.includes("#")){const[C,x]=n.split("#");s.push(OA(i[C],x))}else s.push(i[n]);l=R+1}return s.join("")},$L=({ref:r},t)=>({...t.endpointParams,...t.referenceRecord})[r],_m=(r,t,s)=>{if(typeof r=="string")return DA(r,s);if(r.fn)return PA(r,s);if(r.ref)return $L(r,s);throw new Ii(`'${t}': ${String(r)} is not a string, function or reference.`)},PA=({fn:r,argv:t},s)=>{const i=t.map(y=>["boolean","number"].includes(typeof y)?y:_m(y,"arg",s)),l=r.split(".");return l[0]in Np&&l[1]!=null?Np[l[0]][l[1]](...i):qL[r](...i)},WL=({assign:r,...t},s)=>{var l,y;if(r&&r in s.referenceRecord)throw new Ii(`'${r}' is already defined in Reference Record.`);const i=PA(t,s);return(y=(l=s.logger)==null?void 0:l.debug)==null||y.call(l,`${Ch} evaluateCondition: ${Cl(t)} = ${Cl(i)}`),{result:i===""?!0:!!i,...r!=null&&{toAssign:{name:r,value:i}}}},pb=(r=[],t)=>{var i,l;const s={};for(const y of r){const{result:R,toAssign:n}=WL(y,{...t,referenceRecord:{...t.referenceRecord,...s}});if(!R)return{result:R};n&&(s[n.name]=n.value,(l=(i=t.logger)==null?void 0:i.debug)==null||l.call(i,`${Ch} assign: ${n.name} := ${Cl(n.value)}`))}return{result:!0,referenceRecord:s}},YL=(r,t)=>Object.entries(r).reduce((s,[i,l])=>({...s,[i]:l.map(y=>{const R=_m(y,"Header value entry",t);if(typeof R!="string")throw new Ii(`Header '${i}' value '${R}' is not a string`);return R})}),{}),LA=(r,t)=>{if(Array.isArray(r))return r.map(s=>LA(s,t));switch(typeof r){case"string":return DA(r,t);case"object":if(r===null)throw new Ii(`Unexpected endpoint property: ${r}`);return NA(r,t);case"boolean":return r;default:throw new Ii(`Unexpected endpoint property type: ${typeof r}`)}},NA=(r,t)=>Object.entries(r).reduce((s,[i,l])=>({...s,[i]:LA(l,t)}),{}),XL=(r,t)=>{const s=_m(r,"Endpoint URL",t);if(typeof s=="string")try{return new URL(s)}catch(i){throw console.error(`Failed to construct URL with ${s}`,i),i}throw new Ii(`Endpoint URL must be a string, got ${typeof s}`)},KL=(r,t)=>{var m,d;const{conditions:s,endpoint:i}=r,{result:l,referenceRecord:y}=pb(s,t);if(!l)return;const R={...t,referenceRecord:{...t.referenceRecord,...y}},{url:n,properties:C,headers:x}=i;return(d=(m=t.logger)==null?void 0:m.debug)==null||d.call(m,`${Ch} Resolving endpoint from template: ${Cl(i)}`),{...x!=null&&{headers:YL(x,R)},...C!=null&&{properties:NA(C,R)},url:XL(n,R)}},QL=(r,t)=>{const{conditions:s,error:i}=r,{result:l,referenceRecord:y}=pb(s,t);if(l)throw new Ii(_m(i,"Error",{...t,referenceRecord:{...t.referenceRecord,...y}}))},ZL=(r,t)=>{const{conditions:s,rules:i}=r,{result:l,referenceRecord:y}=pb(s,t);if(l)return UA(i,{...t,referenceRecord:{...t.referenceRecord,...y}})},UA=(r,t)=>{for(const s of r)if(s.type==="endpoint"){const i=KL(s,t);if(i)return i}else if(s.type==="error")QL(s,t);else if(s.type==="tree"){const i=ZL(s,t);if(i)return i}else throw new Ii(`Unknown endpoint rule: ${s}`);throw new Ii("Rules evaluation failed")},JL=(r,t)=>{var x,m,d,c;const{endpointParams:s,logger:i}=t,{parameters:l,rules:y}=r;(m=(x=t.logger)==null?void 0:x.debug)==null||m.call(x,`${Ch} Initial EndpointParams: ${Cl(s)}`);const R=Object.entries(l).filter(([,T])=>T.default!=null).map(([T,A])=>[T,A.default]);if(R.length>0)for(const[T,A]of R)s[T]=s[T]??A;const n=Object.entries(l).filter(([,T])=>T.required).map(([T])=>T);for(const T of n)if(s[T]==null)throw new Ii(`Missing required parameter: '${T}'`);const C=UA(y,{endpointParams:s,logger:i,referenceRecord:{}});return(c=(d=t.logger)==null?void 0:d.debug)==null||c.call(d,`${Ch} Resolved endpoint: ${Cl(C)}`),C},BA=(r,t=!1)=>{if(t){for(const s of r.split("."))if(!BA(s))return!1;return!0}return!(!fb(r)||r.length<3||r.length>63||r!==r.toLowerCase()||IA(r))},MS=":",e6="/",t6=r=>{const t=r.split(MS);if(t.length<6)return null;const[s,i,l,y,R,...n]=t;if(s!=="arn"||i===""||l===""||n.join(MS)==="")return null;const C=n.map(x=>x.split(e6)).flat();return{partition:i,service:l,region:y,accountId:R,resourceId:C}},r6=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],n6={partitions:r6};let s6=n6;const i6=r=>{const{partitions:t}=s6;for(const i of t){const{regions:l,outputs:y}=i;for(const[R,n]of Object.entries(l))if(R===r)return{...y,...n}}for(const i of t){const{regionRegex:l,outputs:y}=i;if(new RegExp(l).test(r))return{...y}}const s=t.find(i=>i.id==="aws");if(!s)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...s.outputs}},FA={isVirtualHostableS3Bucket:BA,parseArn:t6,partition:i6};Np.aws=FA;function o6(r){const t={};if(r=r.replace(/^\?/,""),r)for(const s of r.split("&")){let[i,l=null]=s.split("=");i=decodeURIComponent(i),l&&(l=decodeURIComponent(l)),i in t?Array.isArray(t[i])?t[i].push(l):t[i]=[t[i],l]:t[i]=l}return t}const Up=r=>{if(typeof r=="string")return Up(new URL(r));const{hostname:t,pathname:s,port:i,protocol:l,search:y}=r;let R;return y&&(R=o6(y)),{hostname:t,port:i?parseInt(i):void 0,protocol:l,path:s,query:R}},a6=/\d{12}\.ddb/;async function l6(r,t,s){var y,R,n,C,x,m,d;const i=s.request;if(((y=i==null?void 0:i.headers)==null?void 0:y["smithy-protocol"])==="rpc-v2-cbor"&&is(r,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){const c=await t.retryStrategy();typeof c.acquireInitialRetryToken=="function"?(n=(R=c.constructor)==null?void 0:R.name)!=null&&n.includes("Adaptive")?is(r,"RETRY_MODE_ADAPTIVE","F"):is(r,"RETRY_MODE_STANDARD","E"):is(r,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){const c=r.endpointV2;switch(String((C=c==null?void 0:c.url)==null?void 0:C.hostname).match(a6)&&is(r,"ACCOUNT_ID_ENDPOINT","O"),await((x=t.accountIdEndpointMode)==null?void 0:x.call(t))){case"disabled":is(r,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":is(r,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":is(r,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const l=(d=(m=r.__smithy_context)==null?void 0:m.selectedHttpAuthScheme)==null?void 0:d.identity;if(l!=null&&l.$source){const c=l;c.accountId&&is(r,"RESOLVED_ACCOUNT_ID","T");for(const[T,A]of Object.entries(c.$source??{}))is(r,T,A)}}const kS="user-agent",Jg="x-amz-user-agent",IS=" ",ev="/",u6=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,c6=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,OS="-",d6=1024;function h6(r){let t="";for(const s in r){const i=r[s];if(t.length+i.length+1<=d6){t.length?t+=","+i:t+=i;continue}break}return t}const f6=r=>(t,s)=>async i=>{var T,A,f,h;const{request:l}=i;if(!us.isInstance(l))return t(i);const{headers:y}=l,R=((T=s==null?void 0:s.userAgent)==null?void 0:T.map(Xf))||[],n=(await r.defaultUserAgentProvider()).map(Xf);await l6(s,r,i);const C=s;n.push(`m/${h6(Object.assign({},(A=s.__smithy_context)==null?void 0:A.features,(f=C.__aws_sdk_context)==null?void 0:f.features))}`);const x=((h=r==null?void 0:r.customUserAgent)==null?void 0:h.map(Xf))||[],m=await r.userAgentAppId();m&&n.push(Xf([`app/${m}`]));const d=[].concat([...n,...R,...x]).join(IS),c=[...n.filter(p=>p.startsWith("aws-sdk-")),...x].join(IS);return r.runtime!=="browser"?(c&&(y[Jg]=y[Jg]?`${y[kS]} ${c}`:c),y[kS]=d):y[Jg]=d,t({...i,request:l})},Xf=r=>{var R;const t=r[0].split(ev).map(n=>n.replace(u6,OS)).join(ev),s=(R=r[1])==null?void 0:R.replace(c6,OS),i=t.indexOf(ev),l=t.substring(0,i);let y=t.substring(i+1);return l==="api"&&(y=y.toLowerCase()),[l,y,s].filter(n=>n&&n.length>0).reduce((n,C,x)=>{switch(x){case 0:return C;case 1:return`${n}/${C}`;default:return`${n}#${C}`}},"")},p6={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},m6=r=>({applyToStack:t=>{t.add(f6(r),p6)}}),y6=!1,g6=!1,VA=r=>typeof r=="string"&&(r.startsWith("fips-")||r.endsWith("-fips")),DS=r=>VA(r)?["fips-aws-global","aws-fips"].includes(r)?"us-east-1":r.replace(/fips-(dkr-|prod-)?|-fips/,""):r,v6=r=>{const{region:t,useFipsEndpoint:s}=r;if(!t)throw new Error("Region is missing");return Object.assign(r,{region:async()=>{if(typeof t=="string")return DS(t);const i=await t();return DS(i)},useFipsEndpoint:async()=>{const i=typeof t=="string"?t:await t();return VA(i)?!0:typeof s!="function"?Promise.resolve(!!s):s()}})},b6=r=>Object.assign(r,{eventStreamMarshaller:r.eventStreamSerdeProvider(r)}),PS="content-length";function _6(r){return t=>async s=>{const i=s.request;if(us.isInstance(i)){const{body:l,headers:y}=i;if(l&&Object.keys(y).map(R=>R.toLowerCase()).indexOf(PS)===-1)try{const R=r(l);i.headers={...i.headers,[PS]:String(R)}}catch{}}return t({...s,request:i})}}const w6={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},x6=r=>({applyToStack:t=>{t.add(_6(r.bodyLengthChecker),w6)}}),S6=async r=>{const t=(r==null?void 0:r.Bucket)||"";if(typeof r.Bucket=="string"&&(r.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),C6(t)){if(r.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!A6(t)||t.indexOf(".")!==-1&&!String(r.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(r.ForcePathStyle=!0);return r.DisableMultiRegionAccessPoints&&(r.disableMultiRegionAccessPoints=!0,r.DisableMRAP=!0),r},E6=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,j6=/(\d+\.){3}\d+/,T6=/\.\./,A6=r=>E6.test(r)&&!j6.test(r)&&!T6.test(r),C6=r=>{const[t,s,i,,,l]=r.split(":"),y=t==="arn"&&r.split(":").length>=6,R=!!(y&&s&&i&&l);if(y&&!R)throw new Error(`Invalid ARN: ${r} was an invalid ARN.`);return R},R6=(r,t,s)=>{const i=async()=>{const l=s[r]??s[t];return typeof l=="function"?l():l};return r==="credentialScope"||t==="CredentialScope"?async()=>{const l=typeof s.credentials=="function"?await s.credentials():s.credentials;return(l==null?void 0:l.credentialScope)??(l==null?void 0:l.CredentialScope)}:r==="accountId"||t==="AccountId"?async()=>{const l=typeof s.credentials=="function"?await s.credentials():s.credentials;return(l==null?void 0:l.accountId)??(l==null?void 0:l.AccountId)}:r==="endpoint"||t==="endpoint"?async()=>{if(s.isCustomEndpoint===!1)return;const l=await i();if(l&&typeof l=="object"){if("url"in l)return l.url.href;if("hostname"in l){const{protocol:y,hostname:R,port:n,path:C}=l;return`${y}//${R}${n?":"+n:""}${C}`}}return l}:i},zA=async r=>{},GA=r=>typeof r=="object"?"url"in r?Up(r.url):r:Up(r),M6=async(r,t,s,i)=>{if(!s.isCustomEndpoint){let R;s.serviceConfiguredEndpoint?R=await s.serviceConfiguredEndpoint():R=await zA(s.serviceId),R&&(s.endpoint=()=>Promise.resolve(GA(R)),s.isCustomEndpoint=!0)}const l=await HA(r,t,s);if(typeof s.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return s.endpointProvider(l,i)},HA=async(r,t,s)=>{var y;const i={},l=((y=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:y.call(t))||{};for(const[R,n]of Object.entries(l))switch(n.type){case"staticContextParams":i[R]=n.value;break;case"contextParams":i[R]=r[n.name];break;case"clientContextParams":case"builtInParams":i[R]=await R6(n.name,R,s)();break;case"operationContextParams":i[R]=n.get(r);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(n))}return Object.keys(l).length===0&&Object.assign(i,s),String(s.serviceId).toLowerCase()==="s3"&&await S6(i),i},k6=({config:r,instructions:t})=>(s,i)=>async l=>{var n,C,x;r.isCustomEndpoint&&x5(i,"ENDPOINT_OVERRIDE","N");const y=await M6(l.input,{getEndpointParameterInstructions(){return t}},{...r},i);i.endpointV2=y,i.authSchemes=(n=y.properties)==null?void 0:n.authSchemes;const R=(C=i.authSchemes)==null?void 0:C[0];if(R){i.signing_region=R.signingRegion,i.signing_service=R.signingName;const m=id(i),d=(x=m==null?void 0:m.selectedHttpAuthScheme)==null?void 0:x.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:R.signingRegion,signingRegion:R.signingRegion,signing_service:R.signingName,signingName:R.signingName,signingRegionSet:R.signingRegionSet},R.properties))}return s({...l})},I6={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:XT.name},qA=(r,t)=>({applyToStack:s=>{s.addRelativeTo(k6({config:r,instructions:t}),I6)}}),O6=r=>{const t=r.tls??!0,{endpoint:s,useDualstackEndpoint:i,useFipsEndpoint:l}=r,y=s!=null?async()=>GA(await mo(s)()):void 0,n=Object.assign(r,{endpoint:y,tls:t,isCustomEndpoint:!!s,useDualstackEndpoint:mo(i??!1),useFipsEndpoint:mo(l??!1)});let C;return n.serviceConfiguredEndpoint=async()=>(r.serviceId&&!C&&(C=zA(r.serviceId)),C),n};var Fc;(function(r){r.STANDARD="standard",r.ADAPTIVE="adaptive"})(Fc||(Fc={}));const Bp=3,D6=Fc.STANDARD,P6=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],L6=["TimeoutError","RequestTimeout","RequestTimeoutException"],N6=[500,502,503,504],U6=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],B6=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],F6=r=>{var t;return(t=r.$metadata)==null?void 0:t.clockSkewCorrected},V6=r=>{const t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return r&&r instanceof TypeError?t.has(r.message):!1},$A=r=>{var t,s;return((t=r.$metadata)==null?void 0:t.httpStatusCode)===429||P6.includes(r.name)||((s=r.$retryable)==null?void 0:s.throttling)==!0},mb=(r,t=0)=>{var s;return F6(r)||L6.includes(r.name)||U6.includes((r==null?void 0:r.code)||"")||B6.includes((r==null?void 0:r.code)||"")||N6.includes(((s=r.$metadata)==null?void 0:s.httpStatusCode)||0)||V6(r)||r.cause!==void 0&&t<=10&&mb(r.cause,t+1)},z6=r=>{var t;if(((t=r.$metadata)==null?void 0:t.httpStatusCode)!==void 0){const s=r.$metadata.httpStatusCode;return 500<=s&&s<=599&&!mb(r)}return!1};class wm{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;const s=this.getCurrentTimeInSeconds();this.lastThrottleTime=s,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){const s=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(i=>wm.setTimeoutFn(i,s))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){const t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}const s=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+s),this.lastTimestamp=t}updateClientSendingRate(t){let s;if(this.updateMeasuredRate(),$A(t)){const l=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=l,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),s=this.cubicThrottle(l),this.enableTokenBucket()}else this.calculateTimeWindow(),s=this.cubicSuccess(this.getCurrentTimeInSeconds());const i=Math.min(s,2*this.measuredTxRate);this.updateTokenBucketRate(i)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const t=this.getCurrentTimeInSeconds(),s=Math.floor(t*2)/2;if(this.requestCount++,s>this.lastTxRateBucket){const i=this.requestCount/(s-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(i*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=s}}getPrecise(t){return parseFloat(t.toFixed(8))}}wm.setTimeoutFn=setTimeout;const d0=100,WA=20*1e3,G6=500,LS=500,H6=5,q6=10,$6=1,W6="amz-sdk-invocation-id",Y6="amz-sdk-request",X6=()=>{let r=d0;return{computeNextBackoffDelay:i=>Math.floor(Math.min(WA,Math.random()*2**i*r)),setDelayBase:i=>{r=i}}},NS=({retryDelay:r,retryCount:t,retryCost:s})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(WA,r),getRetryCost:()=>s});class YA{constructor(t){this.maxAttempts=t,this.mode=Fc.STANDARD,this.capacity=LS,this.retryBackoffStrategy=X6(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return NS({retryDelay:d0,retryCount:0})}async refreshRetryTokenForRetry(t,s){const i=await this.getMaxAttempts();if(this.shouldRetry(t,s,i)){const l=s.errorType;this.retryBackoffStrategy.setDelayBase(l==="THROTTLING"?G6:d0);const y=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),R=s.retryAfterHint?Math.max(s.retryAfterHint.getTime()-Date.now()||0,y):y,n=this.getCapacityCost(l);return this.capacity-=n,NS({retryDelay:R,retryCount:t.getRetryCount()+1,retryCost:n})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(LS,this.capacity+(t.getRetryCost()??$6))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Bp}`),Bp}}shouldRetry(t,s,i){return t.getRetryCount()+1<i&&this.capacity>=this.getCapacityCost(s.errorType)&&this.isRetryableError(s.errorType)}getCapacityCost(t){return t==="TRANSIENT"?q6:H6}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}}class K6{constructor(t,s){this.maxAttemptsProvider=t,this.mode=Fc.ADAPTIVE;const{rateLimiter:i}=s??{};this.rateLimiter=i??new wm,this.standardRetryStrategy=new YA(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,s){return this.rateLimiter.updateClientSendingRate(s),this.standardRetryStrategy.refreshRetryTokenForRetry(t,s)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}}let Kf;const Q6=new Uint8Array(16);function Z6(){if(!Kf&&(Kf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Kf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Kf(Q6)}const Ds=[];for(let r=0;r<256;++r)Ds.push((r+256).toString(16).slice(1));function J6(r,t=0){return Ds[r[t+0]]+Ds[r[t+1]]+Ds[r[t+2]]+Ds[r[t+3]]+"-"+Ds[r[t+4]]+Ds[r[t+5]]+"-"+Ds[r[t+6]]+Ds[r[t+7]]+"-"+Ds[r[t+8]]+Ds[r[t+9]]+"-"+Ds[r[t+10]]+Ds[r[t+11]]+Ds[r[t+12]]+Ds[r[t+13]]+Ds[r[t+14]]+Ds[r[t+15]]}const eN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),US={randomUUID:eN};function tN(r,t,s){if(US.randomUUID&&!r)return US.randomUUID();r=r||{};const i=r.random||(r.rng||Z6)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,J6(i)}const rN=r=>r instanceof Error?r:r instanceof Object?Object.assign(new Error,r):typeof r=="string"?new Error(r):new Error(`AWS SDK error wrapper for ${r}`),nN=r=>{const{retryStrategy:t,retryMode:s,maxAttempts:i}=r,l=mo(i??Bp);return Object.assign(r,{maxAttempts:l,retryStrategy:async()=>t||(await mo(s)()===Fc.ADAPTIVE?new K6(l):new YA(l))})},sN=r=>(r==null?void 0:r.body)instanceof ReadableStream,iN=r=>(t,s)=>async i=>{var R;let l=await r.retryStrategy();const y=await r.maxAttempts();if(oN(l)){l=l;let n=await l.acquireInitialRetryToken(s.partition_id),C=new Error,x=0,m=0;const{request:d}=i,c=us.isInstance(d);for(c&&(d.headers[W6]=tN());;)try{c&&(d.headers[Y6]=`attempt=${x+1}; max=${y}`);const{response:T,output:A}=await t(i);return l.recordSuccess(n),A.$metadata.attempts=x+1,A.$metadata.totalRetryDelay=m,{response:T,output:A}}catch(T){const A=aN(T);if(C=rN(T),c&&sN(d))throw(R=s.logger instanceof ob?console:s.logger)==null||R.warn("An error was encountered in a non-retryable streaming request."),C;try{n=await l.refreshRetryTokenForRetry(n,A)}catch{throw C.$metadata||(C.$metadata={}),C.$metadata.attempts=x+1,C.$metadata.totalRetryDelay=m,C}x=n.getRetryCount();const f=n.getRetryDelay();m+=f,await new Promise(h=>setTimeout(h,f))}}else return l=l,l!=null&&l.mode&&(s.userAgent=[...s.userAgent||[],["cfg/retry-mode",l.mode]]),l.retry(t,i)},oN=r=>typeof r.acquireInitialRetryToken<"u"&&typeof r.refreshRetryTokenForRetry<"u"&&typeof r.recordSuccess<"u",aN=r=>{const t={error:r,errorType:lN(r)},s=dN(r.$response);return s&&(t.retryAfterHint=s),t},lN=r=>$A(r)?"THROTTLING":mb(r)?"TRANSIENT":z6(r)?"SERVER_ERROR":"CLIENT_ERROR",uN={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},cN=r=>({applyToStack:t=>{t.add(iN(r),uN)}}),dN=r=>{if(!Nc.isInstance(r))return;const t=Object.keys(r.headers).find(y=>y.toLowerCase()==="retry-after");if(!t)return;const s=r.headers[t],i=Number(s);return Number.isNaN(i)?new Date(s):new Date(i*1e3)};class XA{constructor(t){cr(this,"sigv4aSigner");cr(this,"sigv4Signer");cr(this,"signerOptions");this.sigv4Signer=new cL(t),this.signerOptions=t}static sigv4aDependency(){return"none"}async sign(t,s={}){return s.signingRegion==="*"?this.getSigv4aSigner().sign(t,s):this.sigv4Signer.sign(t,s)}async signWithCredentials(t,s,i={}){if(i.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.signWithCredentials(t,s,i)}async presign(t,s={}){if(s.signingRegion==="*")throw this.getSigv4aSigner(),new Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`);return this.sigv4Signer.presign(t,s)}async presignWithCredentials(t,s,i={}){if(i.signingRegion==="*")throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(t,s,i)}getSigv4aSigner(){if(!this.sigv4aSigner)throw this.signerOptions.runtime==="node"?new Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt"):new Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");return this.sigv4aSigner}}const yb="required",Me="type",ut="rules",Ue="conditions",Ze="fn",Je="argv",Xt="ref",gr="assign",zt="url",Gt="properties",bu="backend",Ks="authSchemes",js="disableDoubleEncoding",Ts="signingName",ci="signingRegion",Ht="headers",gb="signingRegionSet",hN=6,fN=!1,Oo=!0,ki="isSet",Xn="booleanEquals",Ft="error",Fp="aws.partition",qr="stringEquals",In="getAttr",Yn="name",vn="substring",BS="bucketSuffix",vb="parseURL",Et="endpoint",dt="tree",Vp="aws.isVirtualHostableS3Bucket",zp="{url#scheme}://{Bucket}.{url#authority}{url#path}",Vo="not",FS="accessPointSuffix",mp="{url#scheme}://{url#authority}{url#path}",KA="hardwareType",QA="regionPrefix",VS="bucketAliasSuffix",h0="outpostId",Du="isValidHostLabel",bb="sigv4a",Rh="s3-outposts",Vc="s3",ZA="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",JA="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",zS="https://{Bucket}.s3.{partitionResult#dnsSuffix}",eC="aws.parseArn",tC="bucketArn",rC="arnType",Gp="",_b="s3-object-lambda",nC="accesspoint",wb="accessPointName",GS="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",HS="mrapPartition",qS="outpostType",$S="arnPrefix",sC="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",WS="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",YS="https://s3.{partitionResult#dnsSuffix}",hc={[yb]:!1,[Me]:"String"},fc={[yb]:!0,default:!1,[Me]:"Boolean"},nh={[yb]:!1,[Me]:"Boolean"},Zi={[Ze]:Xn,[Je]:[{[Xt]:"Accelerate"},!0]},En={[Ze]:Xn,[Je]:[{[Xt]:"UseFIPS"},!0]},gn={[Ze]:Xn,[Je]:[{[Xt]:"UseDualStack"},!0]},qn={[Ze]:ki,[Je]:[{[Xt]:"Endpoint"}]},iC={[Ze]:Fp,[Je]:[{[Xt]:"Region"}],[gr]:"partitionResult"},XS={[Ze]:qr,[Je]:[{[Ze]:In,[Je]:[{[Xt]:"partitionResult"},Yn]},"aws-cn"]},yh={[Ze]:ki,[Je]:[{[Xt]:"Bucket"}]},Br={[Xt]:"Bucket"},KS={[Ue]:[gn],[Ft]:"S3Express does not support Dual-stack.",[Me]:Ft},QS={[Ue]:[Zi],[Ft]:"S3Express does not support S3 Accelerate.",[Me]:Ft},ZS={[Ue]:[qn,{[Ze]:vb,[Je]:[{[Xt]:"Endpoint"}],[gr]:"url"}],[ut]:[{[Ue]:[{[Ze]:ki,[Je]:[{[Xt]:"DisableS3ExpressSessionAuth"}]},{[Ze]:Xn,[Je]:[{[Xt]:"DisableS3ExpressSessionAuth"},!0]}],[ut]:[{[Ue]:[{[Ze]:Xn,[Je]:[{[Ze]:In,[Je]:[{[Xt]:"url"},"isIp"]},!0]}],[ut]:[{[Ue]:[{[Ze]:"uriEncode",[Je]:[Br],[gr]:"uri_encoded_bucket"}],[ut]:[{[Et]:{[zt]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Gt]:{[bu]:"S3Express",[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:"s3express",[ci]:"{Region}"}]},[Ht]:{}},[Me]:Et}],[Me]:dt}],[Me]:dt},{[Ue]:[{[Ze]:Vp,[Je]:[Br,!1]}],[ut]:[{[Et]:{[zt]:zp,[Gt]:{[bu]:"S3Express",[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:"s3express",[ci]:"{Region}"}]},[Ht]:{}},[Me]:Et}],[Me]:dt},{[Ft]:"S3Express bucket name is not a valid virtual hostable name.",[Me]:Ft}],[Me]:dt},{[Ue]:[{[Ze]:Xn,[Je]:[{[Ze]:In,[Je]:[{[Xt]:"url"},"isIp"]},!0]}],[ut]:[{[Ue]:[{[Ze]:"uriEncode",[Je]:[Br],[gr]:"uri_encoded_bucket"}],[ut]:[{[Et]:{[zt]:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Gt]:{[bu]:"S3Express",[Ks]:[{[js]:!0,[Yn]:"sigv4-s3express",[Ts]:"s3express",[ci]:"{Region}"}]},[Ht]:{}},[Me]:Et}],[Me]:dt}],[Me]:dt},{[Ue]:[{[Ze]:Vp,[Je]:[Br,!1]}],[ut]:[{[Et]:{[zt]:zp,[Gt]:{[bu]:"S3Express",[Ks]:[{[js]:!0,[Yn]:"sigv4-s3express",[Ts]:"s3express",[ci]:"{Region}"}]},[Ht]:{}},[Me]:Et}],[Me]:dt},{[Ft]:"S3Express bucket name is not a valid virtual hostable name.",[Me]:Ft}],[Me]:dt},li={[Ze]:vb,[Je]:[{[Xt]:"Endpoint"}],[gr]:"url"},tv={[Ze]:Xn,[Je]:[{[Ze]:In,[Je]:[{[Xt]:"url"},"isIp"]},!0]},oC={[Xt]:"url"},aC={[Ze]:"uriEncode",[Je]:[Br],[gr]:"uri_encoded_bucket"},yu={[bu]:"S3Express",[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:"s3express",[ci]:"{Region}"}]},dr={},lC={[Ze]:Vp,[Je]:[Br,!1]},JS={[Ft]:"S3Express bucket name is not a valid virtual hostable name.",[Me]:Ft},eE={[Ze]:ki,[Je]:[{[Xt]:"UseS3ExpressControlEndpoint"}]},tE={[Ze]:Xn,[Je]:[{[Xt]:"UseS3ExpressControlEndpoint"},!0]},hr={[Ze]:Vo,[Je]:[qn]},Qf={[Ft]:"Unrecognized S3Express bucket name format.",[Me]:Ft},rE={[Ze]:Vo,[Je]:[yh]},nE={[Xt]:KA},sE={[Ue]:[hr],[Ft]:"Expected a endpoint to be specified but no endpoint was found",[Me]:Ft},Zf={[Ks]:[{[js]:!0,[Yn]:bb,[Ts]:Rh,[gb]:["*"]},{[js]:!0,[Yn]:"sigv4",[Ts]:Rh,[ci]:"{Region}"}]},rv={[Ze]:Xn,[Je]:[{[Xt]:"ForcePathStyle"},!1]},pN={[Xt]:"ForcePathStyle"},ns={[Ze]:Xn,[Je]:[{[Xt]:"Accelerate"},!1]},fs={[Ze]:qr,[Je]:[{[Xt]:"Region"},"aws-global"]},_s={[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:Vc,[ci]:"us-east-1"}]},Pr={[Ze]:Vo,[Je]:[fs]},ws={[Ze]:Xn,[Je]:[{[Xt]:"UseGlobalEndpoint"},!0]},iE={[zt]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Gt]:{[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:Vc,[ci]:"{Region}"}]},[Ht]:{}},ls={[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:Vc,[ci]:"{Region}"}]},xs={[Ze]:Xn,[Je]:[{[Xt]:"UseGlobalEndpoint"},!1]},Mr={[Ze]:Xn,[Je]:[{[Xt]:"UseDualStack"},!1]},oE={[zt]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Gt]:ls,[Ht]:{}},_r={[Ze]:Xn,[Je]:[{[Xt]:"UseFIPS"},!1]},aE={[zt]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Gt]:ls,[Ht]:{}},lE={[zt]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Gt]:ls,[Ht]:{}},nv={[Ze]:Xn,[Je]:[{[Ze]:In,[Je]:[oC,"isIp"]},!1]},sv={[zt]:ZA,[Gt]:ls,[Ht]:{}},f0={[zt]:zp,[Gt]:ls,[Ht]:{}},uE={[Et]:f0,[Me]:Et},iv={[zt]:JA,[Gt]:ls,[Ht]:{}},cE={[zt]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Gt]:ls,[Ht]:{}},Jf={[Ft]:"Invalid region: region was not a valid DNS name.",[Me]:Ft},vi={[Xt]:tC},uC={[Xt]:rC},ov={[Ze]:In,[Je]:[vi,"service"]},xb={[Xt]:wb},dE={[Ue]:[gn],[Ft]:"S3 Object Lambda does not support Dual-stack",[Me]:Ft},hE={[Ue]:[Zi],[Ft]:"S3 Object Lambda does not support S3 Accelerate",[Me]:Ft},fE={[Ue]:[{[Ze]:ki,[Je]:[{[Xt]:"DisableAccessPoints"}]},{[Ze]:Xn,[Je]:[{[Xt]:"DisableAccessPoints"},!0]}],[Ft]:"Access points are not supported for this operation",[Me]:Ft},av={[Ue]:[{[Ze]:ki,[Je]:[{[Xt]:"UseArnRegion"}]},{[Ze]:Xn,[Je]:[{[Xt]:"UseArnRegion"},!1]},{[Ze]:Vo,[Je]:[{[Ze]:qr,[Je]:[{[Ze]:In,[Je]:[vi,"region"]},"{Region}"]}]}],[Ft]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[Me]:Ft},cC={[Ze]:In,[Je]:[{[Xt]:"bucketPartition"},Yn]},dC={[Ze]:In,[Je]:[vi,"accountId"]},lv={[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:_b,[ci]:"{bucketArn#region}"}]},pE={[Ft]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[Me]:Ft},uv={[Ft]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[Me]:Ft},cv={[Ft]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[Me]:Ft},dv={[Ft]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[Me]:Ft},mE={[Ft]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[Me]:Ft},yE={[Ft]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[Me]:Ft},sh={[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:Vc,[ci]:"{bucketArn#region}"}]},gE={[Ks]:[{[js]:!0,[Yn]:bb,[Ts]:Rh,[gb]:["*"]},{[js]:!0,[Yn]:"sigv4",[Ts]:Rh,[ci]:"{bucketArn#region}"}]},vE={[Ze]:eC,[Je]:[Br]},bE={[zt]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:ls,[Ht]:{}},_E={[zt]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:ls,[Ht]:{}},wE={[zt]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:ls,[Ht]:{}},hv={[zt]:sC,[Gt]:ls,[Ht]:{}},xE={[zt]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:ls,[Ht]:{}},SE={[Xt]:"UseObjectLambdaEndpoint"},fv={[Ks]:[{[js]:!0,[Yn]:"sigv4",[Ts]:_b,[ci]:"{Region}"}]},EE={[zt]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Gt]:ls,[Ht]:{}},jE={[zt]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Gt]:ls,[Ht]:{}},TE={[zt]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Gt]:ls,[Ht]:{}},pv={[zt]:mp,[Gt]:ls,[Ht]:{}},AE={[zt]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Gt]:ls,[Ht]:{}},mv=[{[Xt]:"Region"}],mN=[{[Xt]:"Endpoint"}],yN=[Br],CE=[gn],yv=[Zi],pc=[qn,li],RE=[{[Ze]:ki,[Je]:[{[Xt]:"DisableS3ExpressSessionAuth"}]},{[Ze]:Xn,[Je]:[{[Xt]:"DisableS3ExpressSessionAuth"},!0]}],gN=[aC],ME=[lC],Qi=[iC],mc=[En],kE=[{[Ze]:vn,[Je]:[Br,6,14,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,14,16,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],Do=[{[Ue]:[En],[Et]:{[zt]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Gt]:yu,[Ht]:{}},[Me]:Et},{[Et]:{[zt]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Gt]:yu,[Ht]:{}},[Me]:Et}],IE=[{[Ze]:vn,[Je]:[Br,6,15,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,15,17,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],OE=[{[Ze]:vn,[Je]:[Br,6,19,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,19,21,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],DE=[{[Ze]:vn,[Je]:[Br,6,20,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,20,22,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],PE=[{[Ze]:vn,[Je]:[Br,6,26,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,26,28,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],Po=[{[Ue]:[En],[Et]:{[zt]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Gt]:{[bu]:"S3Express",[Ks]:[{[js]:!0,[Yn]:"sigv4-s3express",[Ts]:"s3express",[ci]:"{Region}"}]},[Ht]:{}},[Me]:Et},{[Et]:{[zt]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Gt]:{[bu]:"S3Express",[Ks]:[{[js]:!0,[Yn]:"sigv4-s3express",[Ts]:"s3express",[ci]:"{Region}"}]},[Ht]:{}},[Me]:Et}],LE=[Br,0,7,!0],NE=[{[Ze]:vn,[Je]:[Br,7,15,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,15,17,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],UE=[{[Ze]:vn,[Je]:[Br,7,16,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,16,18,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],BE=[{[Ze]:vn,[Je]:[Br,7,20,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,20,22,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],FE=[{[Ze]:vn,[Je]:[Br,7,21,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,21,23,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],VE=[{[Ze]:vn,[Je]:[Br,7,27,!0],[gr]:"s3expressAvailabilityZoneId"},{[Ze]:vn,[Je]:[Br,27,29,!0],[gr]:"s3expressAvailabilityZoneDelim"},{[Ze]:qr,[Je]:[{[Xt]:"s3expressAvailabilityZoneDelim"},"--"]}],vN=[yh],zE=[{[Ze]:Du,[Je]:[{[Xt]:h0},!1]}],GE=[{[Ze]:qr,[Je]:[{[Xt]:QA},"beta"]}],bN=["*"],HE=[{[Ze]:Du,[Je]:[{[Xt]:"Region"},!1]}],al=[{[Ze]:qr,[Je]:[{[Xt]:"Region"},"us-east-1"]}],gv=[{[Ze]:qr,[Je]:[uC,nC]}],qE=[{[Ze]:In,[Je]:[vi,"resourceId[1]"],[gr]:wb},{[Ze]:Vo,[Je]:[{[Ze]:qr,[Je]:[xb,Gp]}]}],_N=[vi,"resourceId[1]"],vv=[{[Ze]:Vo,[Je]:[{[Ze]:qr,[Je]:[{[Ze]:In,[Je]:[vi,"region"]},Gp]}]}],$E=[{[Ze]:Vo,[Je]:[{[Ze]:ki,[Je]:[{[Ze]:In,[Je]:[vi,"resourceId[2]"]}]}]}],wN=[vi,"resourceId[2]"],bv=[{[Ze]:Fp,[Je]:[{[Ze]:In,[Je]:[vi,"region"]}],[gr]:"bucketPartition"}],WE=[{[Ze]:qr,[Je]:[cC,{[Ze]:In,[Je]:[{[Xt]:"partitionResult"},Yn]}]}],_v=[{[Ze]:Du,[Je]:[{[Ze]:In,[Je]:[vi,"region"]},!0]}],wv=[{[Ze]:Du,[Je]:[dC,!1]}],YE=[{[Ze]:Du,[Je]:[xb,!1]}],XE=[{[Ze]:Du,[Je]:[{[Xt]:"Region"},!0]}],xN={parameters:{Bucket:hc,Region:hc,UseFIPS:fc,UseDualStack:fc,Endpoint:hc,ForcePathStyle:fc,Accelerate:fc,UseGlobalEndpoint:fc,UseObjectLambdaEndpoint:nh,Key:hc,Prefix:hc,CopySource:hc,DisableAccessPoints:nh,DisableMultiRegionAccessPoints:fc,UseArnRegion:nh,UseS3ExpressControlEndpoint:nh,DisableS3ExpressSessionAuth:nh},[ut]:[{[Ue]:[{[Ze]:ki,[Je]:mv}],[ut]:[{[Ue]:[Zi,En],error:"Accelerate cannot be used with FIPS",[Me]:Ft},{[Ue]:[gn,qn],error:"Cannot set dual-stack in combination with a custom endpoint.",[Me]:Ft},{[Ue]:[qn,En],error:"A custom endpoint cannot be combined with FIPS",[Me]:Ft},{[Ue]:[qn,Zi],error:"A custom endpoint cannot be combined with S3 Accelerate",[Me]:Ft},{[Ue]:[En,iC,XS],error:"Partition does not support FIPS",[Me]:Ft},{[Ue]:[yh,{[Ze]:vn,[Je]:[Br,0,hN,Oo],[gr]:BS},{[Ze]:qr,[Je]:[{[Xt]:BS},"--x-s3"]}],[ut]:[KS,QS,ZS,{[Ue]:[eE,tE],[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:[aC,hr],[ut]:[{[Ue]:mc,endpoint:{[zt]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:yu,[Ht]:dr},[Me]:Et},{endpoint:{[zt]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:yu,[Ht]:dr},[Me]:Et}],[Me]:dt}],[Me]:dt}],[Me]:dt},{[Ue]:ME,[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:RE,[ut]:[{[Ue]:kE,[ut]:Do,[Me]:dt},{[Ue]:IE,[ut]:Do,[Me]:dt},{[Ue]:OE,[ut]:Do,[Me]:dt},{[Ue]:DE,[ut]:Do,[Me]:dt},{[Ue]:PE,[ut]:Do,[Me]:dt},Qf],[Me]:dt},{[Ue]:kE,[ut]:Po,[Me]:dt},{[Ue]:IE,[ut]:Po,[Me]:dt},{[Ue]:OE,[ut]:Po,[Me]:dt},{[Ue]:DE,[ut]:Po,[Me]:dt},{[Ue]:PE,[ut]:Po,[Me]:dt},Qf],[Me]:dt}],[Me]:dt},JS],[Me]:dt},{[Ue]:[yh,{[Ze]:vn,[Je]:LE,[gr]:FS},{[Ze]:qr,[Je]:[{[Xt]:FS},"--xa-s3"]}],[ut]:[KS,QS,ZS,{[Ue]:ME,[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:RE,[ut]:[{[Ue]:NE,[ut]:Do,[Me]:dt},{[Ue]:UE,[ut]:Do,[Me]:dt},{[Ue]:BE,[ut]:Do,[Me]:dt},{[Ue]:FE,[ut]:Do,[Me]:dt},{[Ue]:VE,[ut]:Do,[Me]:dt},Qf],[Me]:dt},{[Ue]:NE,[ut]:Po,[Me]:dt},{[Ue]:UE,[ut]:Po,[Me]:dt},{[Ue]:BE,[ut]:Po,[Me]:dt},{[Ue]:FE,[ut]:Po,[Me]:dt},{[Ue]:VE,[ut]:Po,[Me]:dt},Qf],[Me]:dt}],[Me]:dt},JS],[Me]:dt},{[Ue]:[rE,eE,tE],[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:pc,endpoint:{[zt]:mp,[Gt]:yu,[Ht]:dr},[Me]:Et},{[Ue]:mc,endpoint:{[zt]:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[Gt]:yu,[Ht]:dr},[Me]:Et},{endpoint:{[zt]:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[Gt]:yu,[Ht]:dr},[Me]:Et}],[Me]:dt}],[Me]:dt},{[Ue]:[yh,{[Ze]:vn,[Je]:[Br,49,50,Oo],[gr]:KA},{[Ze]:vn,[Je]:[Br,8,12,Oo],[gr]:QA},{[Ze]:vn,[Je]:LE,[gr]:VS},{[Ze]:vn,[Je]:[Br,32,49,Oo],[gr]:h0},{[Ze]:Fp,[Je]:mv,[gr]:"regionPartition"},{[Ze]:qr,[Je]:[{[Xt]:VS},"--op-s3"]}],[ut]:[{[Ue]:zE,[ut]:[{[Ue]:[{[Ze]:qr,[Je]:[nE,"e"]}],[ut]:[{[Ue]:GE,[ut]:[sE,{[Ue]:pc,endpoint:{[zt]:"https://{Bucket}.ec2.{url#authority}",[Gt]:Zf,[Ht]:dr},[Me]:Et}],[Me]:dt},{endpoint:{[zt]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Gt]:Zf,[Ht]:dr},[Me]:Et}],[Me]:dt},{[Ue]:[{[Ze]:qr,[Je]:[nE,"o"]}],[ut]:[{[Ue]:GE,[ut]:[sE,{[Ue]:pc,endpoint:{[zt]:"https://{Bucket}.op-{outpostId}.{url#authority}",[Gt]:Zf,[Ht]:dr},[Me]:Et}],[Me]:dt},{endpoint:{[zt]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Gt]:Zf,[Ht]:dr},[Me]:Et}],[Me]:dt},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[Me]:Ft}],[Me]:dt},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[Me]:Ft}],[Me]:dt},{[Ue]:vN,[ut]:[{[Ue]:[qn,{[Ze]:Vo,[Je]:[{[Ze]:ki,[Je]:[{[Ze]:vb,[Je]:mN}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[Me]:Ft},{[Ue]:[rv,lC],[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:HE,[ut]:[{[Ue]:[Zi,XS],error:"S3 Accelerate cannot be used in this region",[Me]:Ft},{[Ue]:[gn,En,ns,hr,fs],endpoint:{[zt]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[gn,En,ns,hr,Pr,ws],[ut]:[{endpoint:iE,[Me]:Et}],[Me]:dt},{[Ue]:[gn,En,ns,hr,Pr,xs],endpoint:iE,[Me]:Et},{[Ue]:[Mr,En,ns,hr,fs],endpoint:{[zt]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[Mr,En,ns,hr,Pr,ws],[ut]:[{endpoint:oE,[Me]:Et}],[Me]:dt},{[Ue]:[Mr,En,ns,hr,Pr,xs],endpoint:oE,[Me]:Et},{[Ue]:[gn,_r,Zi,hr,fs],endpoint:{[zt]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[gn,_r,Zi,hr,Pr,ws],[ut]:[{endpoint:aE,[Me]:Et}],[Me]:dt},{[Ue]:[gn,_r,Zi,hr,Pr,xs],endpoint:aE,[Me]:Et},{[Ue]:[gn,_r,ns,hr,fs],endpoint:{[zt]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[gn,_r,ns,hr,Pr,ws],[ut]:[{endpoint:lE,[Me]:Et}],[Me]:dt},{[Ue]:[gn,_r,ns,hr,Pr,xs],endpoint:lE,[Me]:Et},{[Ue]:[Mr,_r,ns,qn,li,tv,fs],endpoint:{[zt]:ZA,[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[Mr,_r,ns,qn,li,nv,fs],endpoint:{[zt]:zp,[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[Mr,_r,ns,qn,li,tv,Pr,ws],[ut]:[{[Ue]:al,endpoint:sv,[Me]:Et},{endpoint:sv,[Me]:Et}],[Me]:dt},{[Ue]:[Mr,_r,ns,qn,li,nv,Pr,ws],[ut]:[{[Ue]:al,endpoint:f0,[Me]:Et},uE],[Me]:dt},{[Ue]:[Mr,_r,ns,qn,li,tv,Pr,xs],endpoint:sv,[Me]:Et},{[Ue]:[Mr,_r,ns,qn,li,nv,Pr,xs],endpoint:f0,[Me]:Et},{[Ue]:[Mr,_r,Zi,hr,fs],endpoint:{[zt]:JA,[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[Mr,_r,Zi,hr,Pr,ws],[ut]:[{[Ue]:al,endpoint:iv,[Me]:Et},{endpoint:iv,[Me]:Et}],[Me]:dt},{[Ue]:[Mr,_r,Zi,hr,Pr,xs],endpoint:iv,[Me]:Et},{[Ue]:[Mr,_r,ns,hr,fs],endpoint:{[zt]:zS,[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[Mr,_r,ns,hr,Pr,ws],[ut]:[{[Ue]:al,endpoint:{[zt]:zS,[Gt]:ls,[Ht]:dr},[Me]:Et},{endpoint:cE,[Me]:Et}],[Me]:dt},{[Ue]:[Mr,_r,ns,hr,Pr,xs],endpoint:cE,[Me]:Et}],[Me]:dt},Jf],[Me]:dt}],[Me]:dt},{[Ue]:[qn,li,{[Ze]:qr,[Je]:[{[Ze]:In,[Je]:[oC,"scheme"]},"http"]},{[Ze]:Vp,[Je]:[Br,Oo]},rv,_r,Mr,ns],[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:HE,[ut]:[uE],[Me]:dt},Jf],[Me]:dt}],[Me]:dt},{[Ue]:[rv,{[Ze]:eC,[Je]:yN,[gr]:tC}],[ut]:[{[Ue]:[{[Ze]:In,[Je]:[vi,"resourceId[0]"],[gr]:rC},{[Ze]:Vo,[Je]:[{[Ze]:qr,[Je]:[uC,Gp]}]}],[ut]:[{[Ue]:[{[Ze]:qr,[Je]:[ov,_b]}],[ut]:[{[Ue]:gv,[ut]:[{[Ue]:qE,[ut]:[dE,hE,{[Ue]:vv,[ut]:[fE,{[Ue]:$E,[ut]:[av,{[Ue]:bv,[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:WE,[ut]:[{[Ue]:_v,[ut]:[{[Ue]:[{[Ze]:qr,[Je]:[dC,Gp]}],error:"Invalid ARN: Missing account id",[Me]:Ft},{[Ue]:wv,[ut]:[{[Ue]:YE,[ut]:[{[Ue]:pc,endpoint:{[zt]:GS,[Gt]:lv,[Ht]:dr},[Me]:Et},{[Ue]:mc,endpoint:{[zt]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Gt]:lv,[Ht]:dr},[Me]:Et},{endpoint:{[zt]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Gt]:lv,[Ht]:dr},[Me]:Et}],[Me]:dt},pE],[Me]:dt},uv],[Me]:dt},cv],[Me]:dt},dv],[Me]:dt}],[Me]:dt}],[Me]:dt},mE],[Me]:dt},{error:"Invalid ARN: bucket ARN is missing a region",[Me]:Ft}],[Me]:dt},yE],[Me]:dt},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[Me]:Ft}],[Me]:dt},{[Ue]:gv,[ut]:[{[Ue]:qE,[ut]:[{[Ue]:vv,[ut]:[{[Ue]:gv,[ut]:[{[Ue]:vv,[ut]:[fE,{[Ue]:$E,[ut]:[av,{[Ue]:bv,[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:[{[Ze]:qr,[Je]:[cC,"{partitionResult#name}"]}],[ut]:[{[Ue]:_v,[ut]:[{[Ue]:[{[Ze]:qr,[Je]:[ov,Vc]}],[ut]:[{[Ue]:wv,[ut]:[{[Ue]:YE,[ut]:[{[Ue]:yv,error:"Access Points do not support S3 Accelerate",[Me]:Ft},{[Ue]:[En,gn],endpoint:{[zt]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Gt]:sh,[Ht]:dr},[Me]:Et},{[Ue]:[En,Mr],endpoint:{[zt]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Gt]:sh,[Ht]:dr},[Me]:Et},{[Ue]:[_r,gn],endpoint:{[zt]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Gt]:sh,[Ht]:dr},[Me]:Et},{[Ue]:[_r,Mr,qn,li],endpoint:{[zt]:GS,[Gt]:sh,[Ht]:dr},[Me]:Et},{[Ue]:[_r,Mr],endpoint:{[zt]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Gt]:sh,[Ht]:dr},[Me]:Et}],[Me]:dt},pE],[Me]:dt},uv],[Me]:dt},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[Me]:Ft}],[Me]:dt},cv],[Me]:dt},dv],[Me]:dt}],[Me]:dt}],[Me]:dt},mE],[Me]:dt}],[Me]:dt}],[Me]:dt},{[Ue]:[{[Ze]:Du,[Je]:[xb,Oo]}],[ut]:[{[Ue]:CE,error:"S3 MRAP does not support dual-stack",[Me]:Ft},{[Ue]:mc,error:"S3 MRAP does not support FIPS",[Me]:Ft},{[Ue]:yv,error:"S3 MRAP does not support S3 Accelerate",[Me]:Ft},{[Ue]:[{[Ze]:Xn,[Je]:[{[Xt]:"DisableMultiRegionAccessPoints"},Oo]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[Me]:Ft},{[Ue]:[{[Ze]:Fp,[Je]:mv,[gr]:HS}],[ut]:[{[Ue]:[{[Ze]:qr,[Je]:[{[Ze]:In,[Je]:[{[Xt]:HS},Yn]},{[Ze]:In,[Je]:[vi,"partition"]}]}],[ut]:[{endpoint:{[zt]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Gt]:{[Ks]:[{[js]:Oo,name:bb,[Ts]:Vc,[gb]:bN}]},[Ht]:dr},[Me]:Et}],[Me]:dt},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[Me]:Ft}],[Me]:dt}],[Me]:dt},{error:"Invalid Access Point Name",[Me]:Ft}],[Me]:dt},yE],[Me]:dt},{[Ue]:[{[Ze]:qr,[Je]:[ov,Rh]}],[ut]:[{[Ue]:CE,error:"S3 Outposts does not support Dual-stack",[Me]:Ft},{[Ue]:mc,error:"S3 Outposts does not support FIPS",[Me]:Ft},{[Ue]:yv,error:"S3 Outposts does not support S3 Accelerate",[Me]:Ft},{[Ue]:[{[Ze]:ki,[Je]:[{[Ze]:In,[Je]:[vi,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[Me]:Ft},{[Ue]:[{[Ze]:In,[Je]:_N,[gr]:h0}],[ut]:[{[Ue]:zE,[ut]:[av,{[Ue]:bv,[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:WE,[ut]:[{[Ue]:_v,[ut]:[{[Ue]:wv,[ut]:[{[Ue]:[{[Ze]:In,[Je]:wN,[gr]:qS}],[ut]:[{[Ue]:[{[Ze]:In,[Je]:[vi,"resourceId[3]"],[gr]:wb}],[ut]:[{[Ue]:[{[Ze]:qr,[Je]:[{[Xt]:qS},nC]}],[ut]:[{[Ue]:pc,endpoint:{[zt]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Gt]:gE,[Ht]:dr},[Me]:Et},{endpoint:{[zt]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Gt]:gE,[Ht]:dr},[Me]:Et}],[Me]:dt},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[Me]:Ft}],[Me]:dt},{error:"Invalid ARN: expected an access point name",[Me]:Ft}],[Me]:dt},{error:"Invalid ARN: Expected a 4-component resource",[Me]:Ft}],[Me]:dt},uv],[Me]:dt},cv],[Me]:dt},dv],[Me]:dt}],[Me]:dt}],[Me]:dt},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[Me]:Ft}],[Me]:dt},{error:"Invalid ARN: The Outpost Id was not set",[Me]:Ft}],[Me]:dt},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[Me]:Ft}],[Me]:dt},{error:"Invalid ARN: No ARN type specified",[Me]:Ft}],[Me]:dt},{[Ue]:[{[Ze]:vn,[Je]:[Br,0,4,fN],[gr]:$S},{[Ze]:qr,[Je]:[{[Xt]:$S},"arn:"]},{[Ze]:Vo,[Je]:[{[Ze]:ki,[Je]:[vE]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[Me]:Ft},{[Ue]:[{[Ze]:Xn,[Je]:[pN,Oo]},vE],error:"Path-style addressing cannot be used with ARN buckets",[Me]:Ft},{[Ue]:gN,[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:[ns],[ut]:[{[Ue]:[gn,hr,En,fs],endpoint:{[zt]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[gn,hr,En,Pr,ws],[ut]:[{endpoint:bE,[Me]:Et}],[Me]:dt},{[Ue]:[gn,hr,En,Pr,xs],endpoint:bE,[Me]:Et},{[Ue]:[Mr,hr,En,fs],endpoint:{[zt]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[Mr,hr,En,Pr,ws],[ut]:[{endpoint:_E,[Me]:Et}],[Me]:dt},{[Ue]:[Mr,hr,En,Pr,xs],endpoint:_E,[Me]:Et},{[Ue]:[gn,hr,_r,fs],endpoint:{[zt]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[gn,hr,_r,Pr,ws],[ut]:[{endpoint:wE,[Me]:Et}],[Me]:dt},{[Ue]:[gn,hr,_r,Pr,xs],endpoint:wE,[Me]:Et},{[Ue]:[Mr,qn,li,_r,fs],endpoint:{[zt]:sC,[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[Mr,qn,li,_r,Pr,ws],[ut]:[{[Ue]:al,endpoint:hv,[Me]:Et},{endpoint:hv,[Me]:Et}],[Me]:dt},{[Ue]:[Mr,qn,li,_r,Pr,xs],endpoint:hv,[Me]:Et},{[Ue]:[Mr,hr,_r,fs],endpoint:{[zt]:WS,[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[Mr,hr,_r,Pr,ws],[ut]:[{[Ue]:al,endpoint:{[zt]:WS,[Gt]:ls,[Ht]:dr},[Me]:Et},{endpoint:xE,[Me]:Et}],[Me]:dt},{[Ue]:[Mr,hr,_r,Pr,xs],endpoint:xE,[Me]:Et}],[Me]:dt},{error:"Path-style addressing cannot be used with S3 Accelerate",[Me]:Ft}],[Me]:dt}],[Me]:dt}],[Me]:dt},{[Ue]:[{[Ze]:ki,[Je]:[SE]},{[Ze]:Xn,[Je]:[SE,Oo]}],[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:XE,[ut]:[dE,hE,{[Ue]:pc,endpoint:{[zt]:mp,[Gt]:fv,[Ht]:dr},[Me]:Et},{[Ue]:mc,endpoint:{[zt]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Gt]:fv,[Ht]:dr},[Me]:Et},{endpoint:{[zt]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Gt]:fv,[Ht]:dr},[Me]:Et}],[Me]:dt},Jf],[Me]:dt}],[Me]:dt},{[Ue]:[rE],[ut]:[{[Ue]:Qi,[ut]:[{[Ue]:XE,[ut]:[{[Ue]:[En,gn,hr,fs],endpoint:{[zt]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[En,gn,hr,Pr,ws],[ut]:[{endpoint:EE,[Me]:Et}],[Me]:dt},{[Ue]:[En,gn,hr,Pr,xs],endpoint:EE,[Me]:Et},{[Ue]:[En,Mr,hr,fs],endpoint:{[zt]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[En,Mr,hr,Pr,ws],[ut]:[{endpoint:jE,[Me]:Et}],[Me]:dt},{[Ue]:[En,Mr,hr,Pr,xs],endpoint:jE,[Me]:Et},{[Ue]:[_r,gn,hr,fs],endpoint:{[zt]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[_r,gn,hr,Pr,ws],[ut]:[{endpoint:TE,[Me]:Et}],[Me]:dt},{[Ue]:[_r,gn,hr,Pr,xs],endpoint:TE,[Me]:Et},{[Ue]:[_r,Mr,qn,li,fs],endpoint:{[zt]:mp,[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[_r,Mr,qn,li,Pr,ws],[ut]:[{[Ue]:al,endpoint:pv,[Me]:Et},{endpoint:pv,[Me]:Et}],[Me]:dt},{[Ue]:[_r,Mr,qn,li,Pr,xs],endpoint:pv,[Me]:Et},{[Ue]:[_r,Mr,hr,fs],endpoint:{[zt]:YS,[Gt]:_s,[Ht]:dr},[Me]:Et},{[Ue]:[_r,Mr,hr,Pr,ws],[ut]:[{[Ue]:al,endpoint:{[zt]:YS,[Gt]:ls,[Ht]:dr},[Me]:Et},{endpoint:AE,[Me]:Et}],[Me]:dt},{[Ue]:[_r,Mr,hr,Pr,xs],endpoint:AE,[Me]:Et}],[Me]:dt},Jf],[Me]:dt}],[Me]:dt}],[Me]:dt},{error:"A region must be set when sending requests to S3.",[Me]:Ft}]},SN=xN,EN=new DL({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),hC=(r,t={})=>EN.get(r,()=>JL(SN,{endpointParams:r,logger:t.logger}));Np.aws=FA;const jN=r=>async(t,s,i)=>{var n,C,x;if(!i)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const l=await r(t,s,i),y=(x=(C=(n=id(s))==null?void 0:n.commandInstance)==null?void 0:C.constructor)==null?void 0:x.getEndpointParameterInstructions;if(!y)throw new Error(`getEndpointParameterInstructions() is not defined on \`${s.commandName}\``);const R=await HA(i,{getEndpointParameterInstructions:y},t);return Object.assign(l,R)},TN=async(r,t,s)=>({operation:id(t).operation,region:await mo(r.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),AN=jN(TN);function fC(r){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:r.region},propertiesExtractor:(t,s)=>({signingProperties:{config:t,context:s}})}}function pC(r){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:r.region},propertiesExtractor:(t,s)=>({signingProperties:{config:t,context:s}})}}const CN=(r,t,s)=>l=>{var C;const R=(C=r(l).properties)==null?void 0:C.authSchemes;if(!R)return t(l);const n=[];for(const x of R){const{name:m,properties:d={},...c}=x,T=m.toLowerCase();m!==T&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${m}\` to \`${T}\``);let A;if(T==="sigv4a"){A="aws.auth#sigv4a";const p=R.find(u=>{const g=u.name.toLowerCase();return g!=="sigv4a"&&g.startsWith("sigv4")});if(XA.sigv4aDependency()==="none"&&p)continue}else if(T.startsWith("sigv4"))A="aws.auth#sigv4";else throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${T}\``);const f=s[A];if(!f)throw new Error(`Could not find HttpAuthOption create function for \`${A}\``);const h=f(l);h.schemeId=A,h.signingProperties={...h.signingProperties||{},...c,...d},n.push(h)}return n},RN=r=>{const t=[];switch(r.operation){default:t.push(fC(r)),t.push(pC(r))}return t},MN=CN(hC,RN,{"aws.auth#sigv4":fC,"aws.auth#sigv4a":pC}),kN=r=>{const t=tD(r),s=R5(t);return Object.assign(s,{authSchemePreference:mo(r.authSchemePreference??[])})},IN=r=>Object.assign(r,{useFipsEndpoint:r.useFipsEndpoint??!1,useDualstackEndpoint:r.useDualstackEndpoint??!1,forcePathStyle:r.forcePathStyle??!1,useAccelerateEndpoint:r.useAccelerateEndpoint??!1,useGlobalEndpoint:r.useGlobalEndpoint??!1,disableMultiregionAccessPoints:r.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),mC={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class Ns extends wc{constructor(t){super(t),Object.setPrototypeOf(this,Ns.prototype)}}class Sb extends Ns{constructor(s){super({name:"NoSuchUpload",$fault:"client",...s});cr(this,"name","NoSuchUpload");cr(this,"$fault","client");Object.setPrototypeOf(this,Sb.prototype)}}class Eb extends Ns{constructor(s){super({name:"ObjectNotInActiveTierError",$fault:"client",...s});cr(this,"name","ObjectNotInActiveTierError");cr(this,"$fault","client");Object.setPrototypeOf(this,Eb.prototype)}}class jb extends Ns{constructor(s){super({name:"BucketAlreadyExists",$fault:"client",...s});cr(this,"name","BucketAlreadyExists");cr(this,"$fault","client");Object.setPrototypeOf(this,jb.prototype)}}class Tb extends Ns{constructor(s){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...s});cr(this,"name","BucketAlreadyOwnedByYou");cr(this,"$fault","client");Object.setPrototypeOf(this,Tb.prototype)}}class Ab extends Ns{constructor(s){super({name:"NoSuchBucket",$fault:"client",...s});cr(this,"name","NoSuchBucket");cr(this,"$fault","client");Object.setPrototypeOf(this,Ab.prototype)}}var KE;(function(r){r.visit=(t,s)=>t.Prefix!==void 0?s.Prefix(t.Prefix):t.Tag!==void 0?s.Tag(t.Tag):t.And!==void 0?s.And(t.And):s._(t.$unknown[0],t.$unknown[1])})(KE||(KE={}));var QE;(function(r){r.visit=(t,s)=>t.Prefix!==void 0?s.Prefix(t.Prefix):t.Tag!==void 0?s.Tag(t.Tag):t.AccessPointArn!==void 0?s.AccessPointArn(t.AccessPointArn):t.And!==void 0?s.And(t.And):s._(t.$unknown[0],t.$unknown[1])})(QE||(QE={}));class Cb extends Ns{constructor(s){super({name:"InvalidObjectState",$fault:"client",...s});cr(this,"name","InvalidObjectState");cr(this,"$fault","client");cr(this,"StorageClass");cr(this,"AccessTier");Object.setPrototypeOf(this,Cb.prototype),this.StorageClass=s.StorageClass,this.AccessTier=s.AccessTier}}class Rb extends Ns{constructor(s){super({name:"NoSuchKey",$fault:"client",...s});cr(this,"name","NoSuchKey");cr(this,"$fault","client");Object.setPrototypeOf(this,Rb.prototype)}}class Mb extends Ns{constructor(s){super({name:"NotFound",$fault:"client",...s});cr(this,"name","NotFound");cr(this,"$fault","client");Object.setPrototypeOf(this,Mb.prototype)}}const ON=r=>({...r,...r.SecretAccessKey&&{SecretAccessKey:yo},...r.SessionToken&&{SessionToken:yo}}),DN=r=>({...r,...r.SSEKMSKeyId&&{SSEKMSKeyId:yo},...r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:yo},...r.Credentials&&{Credentials:ON(r.Credentials)}}),PN=r=>({...r,...r.SSEKMSKeyId&&{SSEKMSKeyId:yo},...r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:yo}});class kb extends Ns{constructor(s){super({name:"EncryptionTypeMismatch",$fault:"client",...s});cr(this,"name","EncryptionTypeMismatch");cr(this,"$fault","client");Object.setPrototypeOf(this,kb.prototype)}}class Ib extends Ns{constructor(s){super({name:"InvalidRequest",$fault:"client",...s});cr(this,"name","InvalidRequest");cr(this,"$fault","client");Object.setPrototypeOf(this,Ib.prototype)}}class Ob extends Ns{constructor(s){super({name:"InvalidWriteOffset",$fault:"client",...s});cr(this,"name","InvalidWriteOffset");cr(this,"$fault","client");Object.setPrototypeOf(this,Ob.prototype)}}class Db extends Ns{constructor(s){super({name:"TooManyParts",$fault:"client",...s});cr(this,"name","TooManyParts");cr(this,"$fault","client");Object.setPrototypeOf(this,Db.prototype)}}class Pb extends Ns{constructor(s){super({name:"IdempotencyParameterMismatch",$fault:"client",...s});cr(this,"name","IdempotencyParameterMismatch");cr(this,"$fault","client");Object.setPrototypeOf(this,Pb.prototype)}}class Lb extends Ns{constructor(s){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...s});cr(this,"name","ObjectAlreadyInActiveTierError");cr(this,"$fault","client");Object.setPrototypeOf(this,Lb.prototype)}}var ZE;(function(r){r.visit=(t,s)=>t.Records!==void 0?s.Records(t.Records):t.Stats!==void 0?s.Stats(t.Stats):t.Progress!==void 0?s.Progress(t.Progress):t.Cont!==void 0?s.Cont(t.Cont):t.End!==void 0?s.End(t.End):s._(t.$unknown[0],t.$unknown[1])})(ZE||(ZE={}));const LN=r=>({...r,...r.SSEKMSKeyId&&{SSEKMSKeyId:yo},...r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:yo}}),NN=r=>({...r,...r.SSECustomerKey&&{SSECustomerKey:yo},...r.SSEKMSKeyId&&{SSEKMSKeyId:yo},...r.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:yo}}),UN=async(r,t)=>{const s=uA(r,t),i=Kn({},fl,{[HU]:r[jU],[jm]:r[xm],[Tm]:r[Em],[Am]:r[Sm],[Gc]:[()=>fl(r[zc]),()=>r[zc].toString()]});s.bp("/"),s.p("Bucket",()=>r.Bucket,"{Bucket}",!1);const l=Kn({[zU]:[,""]});return s.m("GET").h(i).q(l).b(void 0),s.build()},BN=async(r,t)=>{const s=uA(r,t),i=Kn({},fl,{...r.Metadata!==void 0&&Object.keys(r.Metadata).reduce((n,C)=>(n[`x-amz-meta-${C.toLowerCase()}`]=r.Metadata[C],n),{}),[NU]:r[hU]||"application/octet-stream",[GU]:r[sU],[kU]:r[oU],[IU]:r[aU],[OU]:r[lU],[DU]:r[uU],[PU]:[()=>fl(r[JE]),()=>r[JE].toString()],[LU]:r[cU],[sB]:r[iU],[EC]:r[gC],[jC]:r[vC],[TC]:r[bC],[AC]:r[_C],[CC]:r[wC],[UU]:[()=>fl(r[e2]),()=>d5(r[e2]).toString()],[FU]:r[bU],[VU]:r[_U],[YU]:r[mU],[XU]:r[yU],[KU]:r[gU],[QU]:r[vU],[lB]:[()=>fl(r[r2]),()=>r[r2].toString()],[jm]:r[xm],[nB]:r[gp],[uB]:r[MU],[RC]:r[xC],[iB]:r[TU],[MC]:r[SC],[Tm]:r[Em],[Am]:r[Sm],[Gc]:[()=>fl(r[zc]),()=>r[zc].toString()],[rB]:r[EU],[oB]:r[CU],[JU]:r[xU],[eB]:[()=>fl(r[t2]),()=>bD(r[t2]).toString()],[ZU]:r[wU],[WU]:r[fU]});s.bp("/{Key+}"),s.p("Bucket",()=>r.Bucket,"{Bucket}",!1),s.p("Key",()=>r.Key,"{Key+}",!0);const l=Kn({[cB]:[,"PutObject"]});let y,R;return r.Body!==void 0&&(R=r.Body,y=R),s.m("PUT").h(i).q(l).b(y),s.build()},FN=async(r,t)=>{if(r.statusCode!==200&&r.statusCode>=300)return yC(r,t);const s=Kn({$metadata:Zs(r),[xm]:[,r.headers[jm]],[Em]:[,r.headers[Tm]],[Sm]:[,r.headers[Am]],[zc]:[()=>r.headers[Gc]!==void 0,()=>rA(r.headers[Gc])]}),i=sA(s5(await SA(r.body,t)),"body");return i[Ev]!=null&&(s[Ev]=nU(i[Ev])),s},VN=async(r,t)=>{if(r.statusCode!==200&&r.statusCode>=300)return yC(r,t);const s=Kn({$metadata:Zs(r),[yp]:[,r.headers[$U]],[pU]:[,r.headers[BU]],[gC]:[,r.headers[EC]],[vC]:[,r.headers[jC]],[bC]:[,r.headers[TC]],[_C]:[,r.headers[AC]],[wC]:[,r.headers[CC]],[dU]:[,r.headers[qU]],[xm]:[,r.headers[jm]],[RU]:[,r.headers[aB]],[xC]:[,r.headers[RC]],[SC]:[,r.headers[MC]],[Em]:[,r.headers[Tm]],[Sm]:[,r.headers[Am]],[zc]:[()=>r.headers[Gc]!==void 0,()=>rA(r.headers[Gc])],[AU]:[()=>r.headers[n2]!==void 0,()=>a5(r.headers[n2])],[SU]:[,r.headers[tB]]});return await tA(r.body,t),s},yC=async(r,t)=>{const s={...r,body:await pP(r.body,t)},i=mP(r,s.body);switch(i){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw await ZN(s);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw await tU(s);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw await GN(s);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw await HN(s);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw await KN(s);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw await WN(s);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await QN(s);case"NotFound":case"com.amazonaws.s3#NotFound":throw await JN(s);case"EncryptionTypeMismatch":case"com.amazonaws.s3#EncryptionTypeMismatch":throw await qN(s);case"InvalidRequest":case"com.amazonaws.s3#InvalidRequest":throw await YN(s);case"InvalidWriteOffset":case"com.amazonaws.s3#InvalidWriteOffset":throw await XN(s);case"TooManyParts":case"com.amazonaws.s3#TooManyParts":throw await rU(s);case"IdempotencyParameterMismatch":case"com.amazonaws.s3#IdempotencyParameterMismatch":throw await $N(s);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw await eU(s);default:const l=s.body;return zN({output:r,parsedBody:l,errorCode:i})}},zN=lD(Ns),GN=async(r,t)=>{const s=Kn({});r.body;const i=new jb({$metadata:Zs(r),...s});return di(i,r.body)},HN=async(r,t)=>{const s=Kn({});r.body;const i=new Tb({$metadata:Zs(r),...s});return di(i,r.body)},qN=async(r,t)=>{const s=Kn({});r.body;const i=new kb({$metadata:Zs(r),...s});return di(i,r.body)},$N=async(r,t)=>{const s=Kn({});r.body;const i=new Pb({$metadata:Zs(r),...s});return di(i,r.body)},WN=async(r,t)=>{const s=Kn({}),i=r.body;i[Sv]!=null&&(s[Sv]=ph(i[Sv])),i[gp]!=null&&(s[gp]=ph(i[gp]));const l=new Cb({$metadata:Zs(r),...s});return di(l,r.body)},YN=async(r,t)=>{const s=Kn({});r.body;const i=new Ib({$metadata:Zs(r),...s});return di(i,r.body)},XN=async(r,t)=>{const s=Kn({});r.body;const i=new Ob({$metadata:Zs(r),...s});return di(i,r.body)},KN=async(r,t)=>{const s=Kn({});r.body;const i=new Ab({$metadata:Zs(r),...s});return di(i,r.body)},QN=async(r,t)=>{const s=Kn({});r.body;const i=new Rb({$metadata:Zs(r),...s});return di(i,r.body)},ZN=async(r,t)=>{const s=Kn({});r.body;const i=new Sb({$metadata:Zs(r),...s});return di(i,r.body)},JN=async(r,t)=>{const s=Kn({});r.body;const i=new Mb({$metadata:Zs(r),...s});return di(i,r.body)},eU=async(r,t)=>{const s=Kn({});r.body;const i=new Lb({$metadata:Zs(r),...s});return di(i,r.body)},tU=async(r,t)=>{const s=Kn({});r.body;const i=new Eb({$metadata:Zs(r),...s});return di(i,r.body)},rU=async(r,t)=>{const s=Kn({});r.body;const i=new Db({$metadata:Zs(r),...s});return di(i,r.body)},nU=(r,t)=>{const s={};return r[xv]!=null&&(s[xv]=ph(r[xv])),r[jv]!=null&&(s[jv]=ph(r[jv])),r[Tv]!=null&&(s[Tv]=ph(r[Tv])),r[yp]!=null&&(s[yp]=sA(f5(r[yp]))),s},Zs=r=>({httpStatusCode:r.statusCode,requestId:r.headers["x-amzn-requestid"]??r.headers["x-amzn-request-id"]??r.headers["x-amz-request-id"],extendedRequestId:r.headers["x-amz-id-2"],cfId:r.headers["x-amz-cf-id"]}),sU="ACL",xv="AccessKeyId",Sv="AccessTier",zc="BucketKeyEnabled",Ev="Credentials",iU="ChecksumAlgorithm",oU="CacheControl",gC="ChecksumCRC32",vC="ChecksumCRC32C",bC="ChecksumCRC64NVME",aU="ContentDisposition",lU="ContentEncoding",uU="ContentLanguage",JE="ContentLength",cU="ContentMD5",_C="ChecksumSHA1",wC="ChecksumSHA256",dU="ChecksumType",hU="ContentType",e2="Expires",fU="ExpectedBucketOwner",pU="ETag",yp="Expiration",mU="GrantFullControl",yU="GrantRead",gU="GrantReadACP",vU="GrantWriteACP",bU="IfMatch",_U="IfNoneMatch",wU="ObjectLockLegalHoldStatus",xU="ObjectLockMode",t2="ObjectLockRetainUntilDate",SU="RequestCharged",EU="RequestPayer",jv="SecretAccessKey",gp="StorageClass",jU="SessionMode",xm="ServerSideEncryption",xC="SSECustomerAlgorithm",TU="SSECustomerKey",SC="SSECustomerKeyMD5",Sm="SSEKMSEncryptionContext",Em="SSEKMSKeyId",Tv="SessionToken",AU="Size",CU="Tagging",RU="VersionId",r2="WriteOffsetBytes",MU="WebsiteRedirectLocation",kU="cache-control",IU="content-disposition",OU="content-encoding",DU="content-language",PU="content-length",LU="content-md5",NU="content-type",UU="expires",BU="etag",FU="if-match",VU="if-none-match",zU="session",GU="x-amz-acl",EC="x-amz-checksum-crc32",jC="x-amz-checksum-crc32c",TC="x-amz-checksum-crc64nvme",AC="x-amz-checksum-sha1",CC="x-amz-checksum-sha256",HU="x-amz-create-session-mode",qU="x-amz-checksum-type",$U="x-amz-expiration",WU="x-amz-expected-bucket-owner",YU="x-amz-grant-full-control",XU="x-amz-grant-read",KU="x-amz-grant-read-acp",QU="x-amz-grant-write-acp",ZU="x-amz-object-lock-legal-hold",JU="x-amz-object-lock-mode",eB="x-amz-object-lock-retain-until-date",n2="x-amz-object-size",tB="x-amz-request-charged",rB="x-amz-request-payer",nB="x-amz-storage-class",sB="x-amz-sdk-checksum-algorithm",jm="x-amz-server-side-encryption",Tm="x-amz-server-side-encryption-aws-kms-key-id",Gc="x-amz-server-side-encryption-bucket-key-enabled",Am="x-amz-server-side-encryption-context",RC="x-amz-server-side-encryption-customer-algorithm",iB="x-amz-server-side-encryption-customer-key",MC="x-amz-server-side-encryption-customer-key-md5",oB="x-amz-tagging",aB="x-amz-version-id",lB="x-amz-write-offset-bytes",uB="x-amz-website-redirect-location",cB="x-id";class dB extends ib.classBuilder().ep({...mC,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(t,s,i,l){return[KT(i,this.serialize,this.deserialize),qA(i,t.getEndpointParameterInstructions()),kA(i)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(PN,DN).ser(UN).de(FN).build(){}const hB="3.848.0",fB={version:hB},pB=r=>new TextEncoder().encode(r);function s2(r){return typeof r=="string"?r.length===0:r.byteLength===0}var kC={name:"SHA-1"},i2={name:"HMAC",hash:kC},mB=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const yB={};function wl(){return typeof window<"u"?window:typeof self<"u"?self:yB}var gB=function(){function r(t){this.toHash=new Uint8Array(0),t!==void 0&&(this.key=new Promise(function(s,i){wl().crypto.subtle.importKey("raw",o2(t),i2,!1,["sign"]).then(s,i)}),this.key.catch(function(){}))}return r.prototype.update=function(t){if(!s2(t)){var s=o2(t),i=new Uint8Array(this.toHash.byteLength+s.byteLength);i.set(this.toHash,0),i.set(s,this.toHash.byteLength),this.toHash=i}},r.prototype.digest=function(){var t=this;return this.key?this.key.then(function(s){return wl().crypto.subtle.sign(i2,s,t.toHash).then(function(i){return new Uint8Array(i)})}):s2(this.toHash)?Promise.resolve(mB):Promise.resolve().then(function(){return wl().crypto.subtle.digest(kC,t.toHash)}).then(function(s){return Promise.resolve(new Uint8Array(s))})},r.prototype.reset=function(){this.toHash=new Uint8Array(0)},r}();function o2(r){return typeof r=="string"?pB(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}var vB=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function IC(r){if(bB(r)&&typeof r.crypto.subtle=="object"){var t=r.crypto.subtle;return _B(t)}return!1}function bB(r){if(typeof r=="object"&&typeof r.crypto=="object"){var t=r.crypto.getRandomValues;return typeof t=="function"}return!1}function _B(r){return r&&vB.every(function(t){return typeof r[t]=="function"})}var wB=function(){function r(t){if(IC(wl()))this.hash=new gB(t);else throw new Error("SHA1 not supported")}return r.prototype.update=function(t,s){this.hash.update(Al(t))},r.prototype.digest=function(){return this.hash.digest()},r.prototype.reset=function(){this.hash.reset()},r}(),OC={name:"SHA-256"},a2={name:"HMAC",hash:OC},xB=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),SB=function(){function r(t){this.toHash=new Uint8Array(0),this.secret=t,this.reset()}return r.prototype.update=function(t){if(!Ah(t)){var s=Al(t),i=new Uint8Array(this.toHash.byteLength+s.byteLength);i.set(this.toHash,0),i.set(s,this.toHash.byteLength),this.toHash=i}},r.prototype.digest=function(){var t=this;return this.key?this.key.then(function(s){return wl().crypto.subtle.sign(a2,s,t.toHash).then(function(i){return new Uint8Array(i)})}):Ah(this.toHash)?Promise.resolve(xB):Promise.resolve().then(function(){return wl().crypto.subtle.digest(OC,t.toHash)}).then(function(s){return Promise.resolve(new Uint8Array(s))})},r.prototype.reset=function(){var t=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(s,i){wl().crypto.subtle.importKey("raw",Al(t.secret),a2,!1,["sign"]).then(s,i)}),this.key.catch(function(){}))},r}(),Ji=64,EB=32,jB=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),TB=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],AB=Math.pow(2,53)-1,vp=function(){function r(){this.state=Int32Array.from(TB),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var s=0,i=t.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>AB)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=t[s++],i--,this.bufferLength===Ji&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,s=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(s.setUint8(this.bufferLength++,128),i%Ji>=Ji-8){for(var l=this.bufferLength;l<Ji;l++)s.setUint8(l,0);this.hashBuffer(),this.bufferLength=0}for(var l=this.bufferLength;l<Ji-8;l++)s.setUint8(l,0);s.setUint32(Ji-8,Math.floor(t/4294967296),!0),s.setUint32(Ji-4,t),this.hashBuffer(),this.finished=!0}for(var y=new Uint8Array(EB),l=0;l<8;l++)y[l*4]=this.state[l]>>>24&255,y[l*4+1]=this.state[l]>>>16&255,y[l*4+2]=this.state[l]>>>8&255,y[l*4+3]=this.state[l]>>>0&255;return y},r.prototype.hashBuffer=function(){for(var t=this,s=t.buffer,i=t.state,l=i[0],y=i[1],R=i[2],n=i[3],C=i[4],x=i[5],m=i[6],d=i[7],c=0;c<Ji;c++){if(c<16)this.temp[c]=(s[c*4]&255)<<24|(s[c*4+1]&255)<<16|(s[c*4+2]&255)<<8|s[c*4+3]&255;else{var T=this.temp[c-2],A=(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10;T=this.temp[c-15];var f=(T>>>7|T<<25)^(T>>>18|T<<14)^T>>>3;this.temp[c]=(A+this.temp[c-7]|0)+(f+this.temp[c-16]|0)}var h=(((C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7))+(C&x^~C&m)|0)+(d+(jB[c]+this.temp[c]|0)|0)|0,p=((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+(l&y^l&R^y&R)|0;d=m,m=x,x=C,C=n+h|0,n=R,R=y,y=l,l=h+p|0}i[0]+=l,i[1]+=y,i[2]+=R,i[3]+=n,i[4]+=C,i[5]+=x,i[6]+=m,i[7]+=d},r}(),CB=function(){function r(t){this.secret=t,this.hash=new vp,this.reset()}return r.prototype.update=function(t){if(!(Ah(t)||this.error))try{this.hash.update(Al(t))}catch(s){this.error=s}},r.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},r.prototype.digest=function(){return db(this,void 0,void 0,function(){return hb(this,function(t){return[2,this.digestSync()]})})},r.prototype.reset=function(){if(this.hash=new vp,this.secret){this.outer=new vp;var t=RB(this.secret),s=new Uint8Array(Ji);s.set(t);for(var i=0;i<Ji;i++)t[i]^=54,s[i]^=92;this.hash.update(t),this.outer.update(s);for(var i=0;i<t.byteLength;i++)t[i]=0}},r}();function RB(r){var t=Al(r);if(t.byteLength>Ji){var s=new vp;s.update(t),t=s.digest()}var i=new Uint8Array(Ji);return i.set(t),i}var MB=function(){function r(t){IC(wl())?this.hash=new SB(t):this.hash=new CB(t)}return r.prototype.update=function(t,s){this.hash.update(Al(t))},r.prototype.digest=function(){return this.hash.digest()},r.prototype.reset=function(){this.hash.reset()},r}();const kB={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},DC={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Hn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ui={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},dl={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class wt{static getFirstMatch(t,s){const i=s.match(t);return i&&i.length>0&&i[1]||""}static getSecondMatch(t,s){const i=s.match(t);return i&&i.length>1&&i[2]||""}static matchAndReturnConst(t,s,i){if(t.test(s))return i}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const s=t.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(s.push(0),s[0]===10)switch(s[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const s=t.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(s.push(0),!(s[0]===1&&s[1]<5)){if(s[0]===1&&s[1]<6)return"Cupcake";if(s[0]===1&&s[1]>=6)return"Donut";if(s[0]===2&&s[1]<2)return"Eclair";if(s[0]===2&&s[1]===2)return"Froyo";if(s[0]===2&&s[1]>2)return"Gingerbread";if(s[0]===3)return"Honeycomb";if(s[0]===4&&s[1]<1)return"Ice Cream Sandwich";if(s[0]===4&&s[1]<4)return"Jelly Bean";if(s[0]===4&&s[1]>=4)return"KitKat";if(s[0]===5)return"Lollipop";if(s[0]===6)return"Marshmallow";if(s[0]===7)return"Nougat";if(s[0]===8)return"Oreo";if(s[0]===9)return"Pie"}}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,s,i=!1){const l=wt.getVersionPrecision(t),y=wt.getVersionPrecision(s);let R=Math.max(l,y),n=0;const C=wt.map([t,s],x=>{const m=R-wt.getVersionPrecision(x),d=x+new Array(m+1).join(".0");return wt.map(d.split("."),c=>new Array(20-c.length).join("0")+c).reverse()});for(i&&(n=R-Math.min(l,y)),R-=1;R>=n;){if(C[0][R]>C[1][R])return 1;if(C[0][R]===C[1][R]){if(R===n)return 0;R-=1}else if(C[0][R]<C[1][R])return-1}}static map(t,s){const i=[];let l;if(Array.prototype.map)return Array.prototype.map.call(t,s);for(l=0;l<t.length;l+=1)i.push(s(t[l]));return i}static find(t,s){let i,l;if(Array.prototype.find)return Array.prototype.find.call(t,s);for(i=0,l=t.length;i<l;i+=1){const y=t[i];if(s(y,i))return y}}static assign(t,...s){const i=t;let l,y;if(Object.assign)return Object.assign(t,...s);for(l=0,y=s.length;l<y;l+=1){const R=s[l];typeof R=="object"&&R!==null&&Object.keys(R).forEach(C=>{i[C]=R[C]})}return t}static getBrowserAlias(t){return kB[t]}static getBrowserTypeByAlias(t){return DC[t]||""}}const yn=/version\/(\d+(\.?_?\d+)+)/i,IB=[{test:[/googlebot/i],describe(r){const t={name:"Googlebot"},s=wt.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/opera/i],describe(r){const t={name:"Opera"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/opr\/|opios/i],describe(r){const t={name:"Opera"},s=wt.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/SamsungBrowser/i],describe(r){const t={name:"Samsung Internet for Android"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/Whale/i],describe(r){const t={name:"NAVER Whale Browser"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/MZBrowser/i],describe(r){const t={name:"MZ Browser"},s=wt.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/focus/i],describe(r){const t={name:"Focus"},s=wt.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/swing/i],describe(r){const t={name:"Swing"},s=wt.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/coast/i],describe(r){const t={name:"Opera Coast"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(r){const t={name:"Opera Touch"},s=wt.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/yabrowser/i],describe(r){const t={name:"Yandex Browser"},s=wt.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/ucbrowser/i],describe(r){const t={name:"UC Browser"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/Maxthon|mxios/i],describe(r){const t={name:"Maxthon"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/epiphany/i],describe(r){const t={name:"Epiphany"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/puffin/i],describe(r){const t={name:"Puffin"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/sleipnir/i],describe(r){const t={name:"Sleipnir"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/k-meleon/i],describe(r){const t={name:"K-Meleon"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/micromessenger/i],describe(r){const t={name:"WeChat"},s=wt.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/qqbrowser/i],describe(r){const t={name:/qqbrowserlite/i.test(r)?"QQ Browser Lite":"QQ Browser"},s=wt.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/msie|trident/i],describe(r){const t={name:"Internet Explorer"},s=wt.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/\sedg\//i],describe(r){const t={name:"Microsoft Edge"},s=wt.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/edg([ea]|ios)/i],describe(r){const t={name:"Microsoft Edge"},s=wt.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/vivaldi/i],describe(r){const t={name:"Vivaldi"},s=wt.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/seamonkey/i],describe(r){const t={name:"SeaMonkey"},s=wt.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/sailfish/i],describe(r){const t={name:"Sailfish"},s=wt.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,r);return s&&(t.version=s),t}},{test:[/silk/i],describe(r){const t={name:"Amazon Silk"},s=wt.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/phantom/i],describe(r){const t={name:"PhantomJS"},s=wt.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/slimerjs/i],describe(r){const t={name:"SlimerJS"},s=wt.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const t={name:"BlackBerry"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/(web|hpw)[o0]s/i],describe(r){const t={name:"WebOS Browser"},s=wt.getFirstMatch(yn,r)||wt.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/bada/i],describe(r){const t={name:"Bada"},s=wt.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/tizen/i],describe(r){const t={name:"Tizen"},s=wt.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/qupzilla/i],describe(r){const t={name:"QupZilla"},s=wt.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/firefox|iceweasel|fxios/i],describe(r){const t={name:"Firefox"},s=wt.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/electron/i],describe(r){const t={name:"Electron"},s=wt.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/MiuiBrowser/i],describe(r){const t={name:"Miui"},s=wt.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/chromium/i],describe(r){const t={name:"Chromium"},s=wt.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,r)||wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/chrome|crios|crmo/i],describe(r){const t={name:"Chrome"},s=wt.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/GSA/i],describe(r){const t={name:"Google Search"},s=wt.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test(r){const t=!r.test(/like android/i),s=r.test(/android/i);return t&&s},describe(r){const t={name:"Android Browser"},s=wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/playstation 4/i],describe(r){const t={name:"PlayStation 4"},s=wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/safari|applewebkit/i],describe(r){const t={name:"Safari"},s=wt.getFirstMatch(yn,r);return s&&(t.version=s),t}},{test:[/.*/i],describe(r){const t=/^(.*)\/(.*) /,s=/^(.*)\/(.*)[ \t]\((.*)/,l=r.search("\\(")!==-1?s:t;return{name:wt.getFirstMatch(l,r),version:wt.getSecondMatch(l,r)}}}],OB=[{test:[/Roku\/DVP/],describe(r){const t=wt.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,r);return{name:ui.Roku,version:t}}},{test:[/windows phone/i],describe(r){const t=wt.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,r);return{name:ui.WindowsPhone,version:t}}},{test:[/windows /i],describe(r){const t=wt.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,r),s=wt.getWindowsVersionName(t);return{name:ui.Windows,version:t,versionName:s}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(r){const t={name:ui.iOS},s=wt.getSecondMatch(/(Version\/)(\d[\d.]+)/,r);return s&&(t.version=s),t}},{test:[/macintosh/i],describe(r){const t=wt.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,r).replace(/[_\s]/g,"."),s=wt.getMacOSVersionName(t),i={name:ui.MacOS,version:t};return s&&(i.versionName=s),i}},{test:[/(ipod|iphone|ipad)/i],describe(r){const t=wt.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,r).replace(/[_\s]/g,".");return{name:ui.iOS,version:t}}},{test(r){const t=!r.test(/like android/i),s=r.test(/android/i);return t&&s},describe(r){const t=wt.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,r),s=wt.getAndroidVersionName(t),i={name:ui.Android,version:t};return s&&(i.versionName=s),i}},{test:[/(web|hpw)[o0]s/i],describe(r){const t=wt.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,r),s={name:ui.WebOS};return t&&t.length&&(s.version=t),s}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const t=wt.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,r)||wt.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,r)||wt.getFirstMatch(/\bbb(\d+)/i,r);return{name:ui.BlackBerry,version:t}}},{test:[/bada/i],describe(r){const t=wt.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,r);return{name:ui.Bada,version:t}}},{test:[/tizen/i],describe(r){const t=wt.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,r);return{name:ui.Tizen,version:t}}},{test:[/linux/i],describe(){return{name:ui.Linux}}},{test:[/CrOS/],describe(){return{name:ui.ChromeOS}}},{test:[/PlayStation 4/],describe(r){const t=wt.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,r);return{name:ui.PlayStation4,version:t}}}],DB=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(r){const t=wt.getFirstMatch(/(can-l01)/i,r)&&"Nova",s={type:Hn.mobile,vendor:"Huawei"};return t&&(s.model=t),s}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Hn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Hn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Hn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Hn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Hn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Hn.tablet}}},{test(r){const t=r.test(/ipod|iphone/i),s=r.test(/like (ipod|iphone)/i);return t&&!s},describe(r){const t=wt.getFirstMatch(/(ipod|iphone)/i,r);return{type:Hn.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Hn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Hn.mobile}}},{test(r){return r.getBrowserName(!0)==="blackberry"},describe(){return{type:Hn.mobile,vendor:"BlackBerry"}}},{test(r){return r.getBrowserName(!0)==="bada"},describe(){return{type:Hn.mobile}}},{test(r){return r.getBrowserName()==="windows phone"},describe(){return{type:Hn.mobile,vendor:"Microsoft"}}},{test(r){const t=Number(String(r.getOSVersion()).split(".")[0]);return r.getOSName(!0)==="android"&&t>=3},describe(){return{type:Hn.tablet}}},{test(r){return r.getOSName(!0)==="android"},describe(){return{type:Hn.mobile}}},{test(r){return r.getOSName(!0)==="macos"},describe(){return{type:Hn.desktop,vendor:"Apple"}}},{test(r){return r.getOSName(!0)==="windows"},describe(){return{type:Hn.desktop}}},{test(r){return r.getOSName(!0)==="linux"},describe(){return{type:Hn.desktop}}},{test(r){return r.getOSName(!0)==="playstation 4"},describe(){return{type:Hn.tv}}},{test(r){return r.getOSName(!0)==="roku"},describe(){return{type:Hn.tv}}}],PB=[{test(r){return r.getBrowserName(!0)==="microsoft edge"},describe(r){if(/\sedg\//i.test(r))return{name:dl.Blink};const s=wt.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,r);return{name:dl.EdgeHTML,version:s}}},{test:[/trident/i],describe(r){const t={name:dl.Trident},s=wt.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test(r){return r.test(/presto/i)},describe(r){const t={name:dl.Presto},s=wt.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test(r){const t=r.test(/gecko/i),s=r.test(/like gecko/i);return t&&!s},describe(r){const t={name:dl.Gecko},s=wt.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:dl.Blink}}},{test:[/(apple)?webkit/i],describe(r){const t={name:dl.WebKit},s=wt.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,r);return s&&(t.version=s),t}}];class l2{constructor(t,s=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},s!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=wt.find(IB,s=>{if(typeof s.test=="function")return s.test(this);if(s.test instanceof Array)return s.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=wt.find(OB,s=>{if(typeof s.test=="function")return s.test(this);if(s.test instanceof Array)return s.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:s}=this.getOS();return t?String(s).toLowerCase()||"":s||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:s}=this.getPlatform();return t?String(s).toLowerCase()||"":s||""}parsePlatform(){this.parsedResult.platform={};const t=wt.find(DB,s=>{if(typeof s.test=="function")return s.test(this);if(s.test instanceof Array)return s.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=wt.find(PB,s=>{if(typeof s.test=="function")return s.test(this);if(s.test instanceof Array)return s.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return wt.assign({},this.parsedResult)}satisfies(t){const s={};let i=0;const l={};let y=0;if(Object.keys(t).forEach(n=>{const C=t[n];typeof C=="string"?(l[n]=C,y+=1):typeof C=="object"&&(s[n]=C,i+=1)}),i>0){const n=Object.keys(s),C=wt.find(n,m=>this.isOS(m));if(C){const m=this.satisfies(s[C]);if(m!==void 0)return m}const x=wt.find(n,m=>this.isPlatform(m));if(x){const m=this.satisfies(s[x]);if(m!==void 0)return m}}if(y>0){const n=Object.keys(l),C=wt.find(n,x=>this.isBrowser(x,!0));if(C!==void 0)return this.compareVersion(l[C])}}isBrowser(t,s=!1){const i=this.getBrowserName().toLowerCase();let l=t.toLowerCase();const y=wt.getBrowserTypeByAlias(l);return s&&y&&(l=y.toLowerCase()),l===i}compareVersion(t){let s=[0],i=t,l=!1;const y=this.getBrowserVersion();if(typeof y=="string")return t[0]===">"||t[0]==="<"?(i=t.substr(1),t[1]==="="?(l=!0,i=t.substr(2)):s=[],t[0]===">"?s.push(1):s.push(-1)):t[0]==="="?i=t.substr(1):t[0]==="~"&&(l=!0,i=t.substr(1)),s.indexOf(wt.compareVersions(y,i,l))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,s=!1){return this.isBrowser(t,s)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(s=>this.is(s))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class PC{static getParser(t,s=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new l2(t,s)}static parse(t){return new l2(t).getResult()}static get BROWSER_MAP(){return DC}static get ENGINE_MAP(){return dl}static get OS_MAP(){return ui}static get PLATFORMS_MAP(){return Hn}}const LB=({serviceId:r,clientVersion:t})=>async s=>{var R,n,C,x,m,d;const i=typeof window<"u"&&((R=window==null?void 0:window.navigator)!=null&&R.userAgent)?PC.parse(window.navigator.userAgent):void 0,l=[["aws-sdk-js",t],["ua","2.1"],[`os/${((n=i==null?void 0:i.os)==null?void 0:n.name)||"other"}`,(C=i==null?void 0:i.os)==null?void 0:C.version],["lang/js"],["md/browser",`${((x=i==null?void 0:i.browser)==null?void 0:x.name)??"unknown"}_${((m=i==null?void 0:i.browser)==null?void 0:m.version)??"unknown"}`]];r&&l.push([`api/${r}`,t]);const y=await((d=s==null?void 0:s.userAgentAppId)==null?void 0:d.call(s));return y&&l.push([`app/${y}`]),l};class gh{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);const s=new Uint8Array(8);for(let i=7,l=Math.abs(Math.round(t));i>-1&&l>0;i--,l/=256)s[i]=l;return t<0&&u2(s),new gh(s)}valueOf(){const t=this.bytes.slice(0),s=t[0]&128;return s&&u2(t),parseInt(yi(t),16)*(s?-1:1)}toString(){return String(this.valueOf())}}function u2(r){for(let t=0;t<8;t++)r[t]^=255;for(let t=7;t>-1&&(r[t]++,r[t]===0);t--);}class NB{constructor(t,s){this.toUtf8=t,this.fromUtf8=s}format(t){const s=[];for(const y of Object.keys(t)){const R=this.fromUtf8(y);s.push(Uint8Array.from([R.byteLength]),R,this.formatHeaderValue(t[y]))}const i=new Uint8Array(s.reduce((y,R)=>y+R.byteLength,0));let l=0;for(const y of s)i.set(y,l),l+=y.byteLength;return i}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":const s=new DataView(new ArrayBuffer(3));return s.setUint8(0,3),s.setInt16(1,t.value,!1),new Uint8Array(s.buffer);case"integer":const i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,t.value,!1),new Uint8Array(i.buffer);case"long":const l=new Uint8Array(9);return l[0]=5,l.set(t.value.bytes,1),l;case"binary":const y=new DataView(new ArrayBuffer(3+t.value.byteLength));y.setUint8(0,6),y.setUint16(1,t.value.byteLength,!1);const R=new Uint8Array(y.buffer);return R.set(t.value,3),R;case"string":const n=this.fromUtf8(t.value),C=new DataView(new ArrayBuffer(3+n.byteLength));C.setUint8(0,7),C.setUint16(1,n.byteLength,!1);const x=new Uint8Array(C.buffer);return x.set(n,3),x;case"timestamp":const m=new Uint8Array(9);return m[0]=8,m.set(gh.fromNumber(t.value.valueOf()).bytes,1),m;case"uuid":if(!$B.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(eA(t.value.replace(/\-/g,"")),1),d}}parse(t){const s={};let i=0;for(;i<t.byteLength;){const l=t.getUint8(i++),y=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+i,l));switch(i+=l,t.getUint8(i++)){case 0:s[y]={type:d2,value:!0};break;case 1:s[y]={type:d2,value:!1};break;case 2:s[y]={type:UB,value:t.getInt8(i++)};break;case 3:s[y]={type:BB,value:t.getInt16(i,!1)},i+=2;break;case 4:s[y]={type:FB,value:t.getInt32(i,!1)},i+=4;break;case 5:s[y]={type:VB,value:new gh(new Uint8Array(t.buffer,t.byteOffset+i,8))},i+=8;break;case 6:const R=t.getUint16(i,!1);i+=2,s[y]={type:zB,value:new Uint8Array(t.buffer,t.byteOffset+i,R)},i+=R;break;case 7:const n=t.getUint16(i,!1);i+=2,s[y]={type:GB,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+i,n))},i+=n;break;case 8:s[y]={type:HB,value:new Date(new gh(new Uint8Array(t.buffer,t.byteOffset+i,8)).valueOf())},i+=8;break;case 9:const C=new Uint8Array(t.buffer,t.byteOffset+i,16);i+=16,s[y]={type:qB,value:`${yi(C.subarray(0,4))}-${yi(C.subarray(4,6))}-${yi(C.subarray(6,8))}-${yi(C.subarray(8,10))}-${yi(C.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return s}}var c2;(function(r){r[r.boolTrue=0]="boolTrue",r[r.boolFalse=1]="boolFalse",r[r.byte=2]="byte",r[r.short=3]="short",r[r.integer=4]="integer",r[r.long=5]="long",r[r.byteArray=6]="byteArray",r[r.string=7]="string",r[r.timestamp=8]="timestamp",r[r.uuid=9]="uuid"})(c2||(c2={}));const d2="boolean",UB="byte",BB="short",FB="integer",VB="long",zB="binary",GB="string",HB="timestamp",qB="uuid",$B=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,LC=4,hl=LC*2,hu=4,WB=hl+hu*2;function YB({byteLength:r,byteOffset:t,buffer:s}){if(r<WB)throw new Error("Provided message too short to accommodate event stream message overhead");const i=new DataView(s,t,r),l=i.getUint32(0,!1);if(r!==l)throw new Error("Reported message length does not match received message length");const y=i.getUint32(LC,!1),R=i.getUint32(hl,!1),n=i.getUint32(r-hu,!1),C=new Lp().update(new Uint8Array(s,t,hl));if(R!==C.digest())throw new Error(`The prelude checksum specified in the message (${R}) does not match the calculated CRC32 checksum (${C.digest()})`);if(C.update(new Uint8Array(s,t+hl,r-(hl+hu))),n!==C.digest())throw new Error(`The message checksum (${C.digest()}) did not match the expected value of ${n}`);return{headers:new DataView(s,t+hl+hu,y),body:new Uint8Array(s,t+hl+hu+y,l-y-(hl+hu+hu))}}class XB{constructor(t,s){this.headerMarshaller=new NB(t,s),this.messageBuffer=[],this.isEndOfStream=!1}feed(t){this.messageBuffer.push(this.decode(t))}endOfStream(){this.isEndOfStream=!0}getMessage(){const t=this.messageBuffer.pop(),s=this.isEndOfStream;return{getMessage(){return t},isEndOfStream(){return s}}}getAvailableMessages(){const t=this.messageBuffer;this.messageBuffer=[];const s=this.isEndOfStream;return{getMessages(){return t},isEndOfStream(){return s}}}encode({headers:t,body:s}){const i=this.headerMarshaller.format(t),l=i.byteLength+s.byteLength+16,y=new Uint8Array(l),R=new DataView(y.buffer,y.byteOffset,y.byteLength),n=new Lp;return R.setUint32(0,l,!1),R.setUint32(4,i.byteLength,!1),R.setUint32(8,n.update(y.subarray(0,8)).digest(),!1),y.set(i,12),y.set(s,i.byteLength+12),R.setUint32(l-4,n.update(y.subarray(8,l-4)).digest(),!1),y}decode(t){const{headers:s,body:i}=YB(t);return{headers:this.headerMarshaller.parse(s),body:i}}formatHeaders(t){return this.headerMarshaller.format(t)}}class KB{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.decoder.decode(t)}}class QB{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream)yield this.options.encoder.encode(t);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class ZB{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.messageStream){const s=await this.options.deserializer(t);s!==void 0&&(yield s)}}}class JB{constructor(t){this.options=t}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const t of this.options.inputStream)yield this.options.serializer(t)}}function e8(r){let t=0,s=0,i=null,l=null;const y=n=>{if(typeof n!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+n);t=n,s=4,i=new Uint8Array(n),new DataView(i.buffer).setUint32(0,n,!1)},R=async function*(){const n=r[Symbol.asyncIterator]();for(;;){const{value:C,done:x}=await n.next();if(x){if(t)if(t===s)yield i;else throw new Error("Truncated event message received.");else return;return}const m=C.length;let d=0;for(;d<m;){if(!i){const T=m-d;l||(l=new Uint8Array(4));const A=Math.min(4-s,T);if(l.set(C.slice(d,d+A),s),s+=A,d+=A,s<4)break;y(new DataView(l.buffer).getUint32(0,!1)),l=null}const c=Math.min(t-s,m-d);i.set(C.slice(d,d+c),s),s+=c,d+=c,t&&t===s&&(yield i,i=null,t=0,s=0)}}};return{[Symbol.asyncIterator]:R}}function t8(r,t){return async function(s){const{value:i}=s.headers[":message-type"];if(i==="error"){const l=new Error(s.headers[":error-message"].value||"UnknownError");throw l.name=s.headers[":error-code"].value,l}else if(i==="exception"){const l=s.headers[":exception-type"].value,y={[l]:s},R=await r(y);if(R.$unknown){const n=new Error(t(s.body));throw n.name=l,n}throw R[l]}else if(i==="event"){const l={[s.headers[":event-type"].value]:s},y=await r(l);return y.$unknown?void 0:y}else throw Error(`Unrecognizable event type: ${s.headers[":event-type"].value}`)}}let r8=class{constructor({utf8Encoder:t,utf8Decoder:s}){this.eventStreamCodec=new XB(t,s),this.utfEncoder=t}deserialize(t,s){const i=e8(t);return new ZB({messageStream:new KB({inputStream:i,decoder:this.eventStreamCodec}),deserializer:t8(s,this.utfEncoder)})}serialize(t,s){return new QB({messageStream:new JB({inputStream:t,serializer:s}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const n8=r=>({[Symbol.asyncIterator]:async function*(){const t=r.getReader();try{for(;;){const{done:s,value:i}=await t.read();if(s)return;yield i}}finally{t.releaseLock()}}}),s8=r=>{const t=r[Symbol.asyncIterator]();return new ReadableStream({async pull(s){const{done:i,value:l}=await t.next();if(i)return s.close();s.enqueue(l)}})};class i8{constructor({utf8Encoder:t,utf8Decoder:s}){this.universalMarshaller=new r8({utf8Decoder:s,utf8Encoder:t})}deserialize(t,s){const i=o8(t)?n8(t):t;return this.universalMarshaller.deserialize(i,s)}serialize(t,s){const i=this.universalMarshaller.serialize(t,s);return typeof ReadableStream=="function"?s8(i):i}}const o8=r=>typeof ReadableStream=="function"&&r instanceof ReadableStream,a8=r=>new i8(r);async function l8(r,t,s=1024*1024){const i=r.size;let l=0;for(;l<i;){const y=r.slice(l,Math.min(i,l+s));t(new Uint8Array(await y.arrayBuffer())),l+=y.size}}const u8=async function(t,s){const i=new t;return await l8(s,l=>{i.update(l)}),i.digest()},c8=r=>()=>Promise.reject(r),ll=64,d8=16,h8=[1732584193,4023233417,2562383102,271733878];let f8=class{constructor(){this.reset()}update(t){if(p8(t))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const s=m8(t);let i=0,{byteLength:l}=s;for(this.bytesHashed+=l;l>0;)this.buffer.setUint8(this.bufferLength++,s[i++]),l--,this.bufferLength===ll&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:s,bufferLength:i,bytesHashed:l}=this,y=l*8;if(s.setUint8(this.bufferLength++,128),i%ll>=ll-8){for(let R=this.bufferLength;R<ll;R++)s.setUint8(R,0);this.hashBuffer(),this.bufferLength=0}for(let R=this.bufferLength;R<ll-8;R++)s.setUint8(R,0);s.setUint32(ll-8,y>>>0,!0),s.setUint32(ll-4,Math.floor(y/4294967296),!0),this.hashBuffer(),this.finished=!0}const t=new DataView(new ArrayBuffer(d8));for(let s=0;s<4;s++)t.setUint32(s*4,this.state[s],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}hashBuffer(){const{buffer:t,state:s}=this;let i=s[0],l=s[1],y=s[2],R=s[3];i=zs(i,l,y,R,t.getUint32(0,!0),7,3614090360),R=zs(R,i,l,y,t.getUint32(4,!0),12,3905402710),y=zs(y,R,i,l,t.getUint32(8,!0),17,606105819),l=zs(l,y,R,i,t.getUint32(12,!0),22,3250441966),i=zs(i,l,y,R,t.getUint32(16,!0),7,4118548399),R=zs(R,i,l,y,t.getUint32(20,!0),12,1200080426),y=zs(y,R,i,l,t.getUint32(24,!0),17,2821735955),l=zs(l,y,R,i,t.getUint32(28,!0),22,4249261313),i=zs(i,l,y,R,t.getUint32(32,!0),7,1770035416),R=zs(R,i,l,y,t.getUint32(36,!0),12,2336552879),y=zs(y,R,i,l,t.getUint32(40,!0),17,4294925233),l=zs(l,y,R,i,t.getUint32(44,!0),22,2304563134),i=zs(i,l,y,R,t.getUint32(48,!0),7,1804603682),R=zs(R,i,l,y,t.getUint32(52,!0),12,4254626195),y=zs(y,R,i,l,t.getUint32(56,!0),17,2792965006),l=zs(l,y,R,i,t.getUint32(60,!0),22,1236535329),i=Gs(i,l,y,R,t.getUint32(4,!0),5,4129170786),R=Gs(R,i,l,y,t.getUint32(24,!0),9,3225465664),y=Gs(y,R,i,l,t.getUint32(44,!0),14,643717713),l=Gs(l,y,R,i,t.getUint32(0,!0),20,3921069994),i=Gs(i,l,y,R,t.getUint32(20,!0),5,3593408605),R=Gs(R,i,l,y,t.getUint32(40,!0),9,38016083),y=Gs(y,R,i,l,t.getUint32(60,!0),14,3634488961),l=Gs(l,y,R,i,t.getUint32(16,!0),20,3889429448),i=Gs(i,l,y,R,t.getUint32(36,!0),5,568446438),R=Gs(R,i,l,y,t.getUint32(56,!0),9,3275163606),y=Gs(y,R,i,l,t.getUint32(12,!0),14,4107603335),l=Gs(l,y,R,i,t.getUint32(32,!0),20,1163531501),i=Gs(i,l,y,R,t.getUint32(52,!0),5,2850285829),R=Gs(R,i,l,y,t.getUint32(8,!0),9,4243563512),y=Gs(y,R,i,l,t.getUint32(28,!0),14,1735328473),l=Gs(l,y,R,i,t.getUint32(48,!0),20,2368359562),i=Hs(i,l,y,R,t.getUint32(20,!0),4,4294588738),R=Hs(R,i,l,y,t.getUint32(32,!0),11,2272392833),y=Hs(y,R,i,l,t.getUint32(44,!0),16,1839030562),l=Hs(l,y,R,i,t.getUint32(56,!0),23,4259657740),i=Hs(i,l,y,R,t.getUint32(4,!0),4,2763975236),R=Hs(R,i,l,y,t.getUint32(16,!0),11,1272893353),y=Hs(y,R,i,l,t.getUint32(28,!0),16,4139469664),l=Hs(l,y,R,i,t.getUint32(40,!0),23,3200236656),i=Hs(i,l,y,R,t.getUint32(52,!0),4,681279174),R=Hs(R,i,l,y,t.getUint32(0,!0),11,3936430074),y=Hs(y,R,i,l,t.getUint32(12,!0),16,3572445317),l=Hs(l,y,R,i,t.getUint32(24,!0),23,76029189),i=Hs(i,l,y,R,t.getUint32(36,!0),4,3654602809),R=Hs(R,i,l,y,t.getUint32(48,!0),11,3873151461),y=Hs(y,R,i,l,t.getUint32(60,!0),16,530742520),l=Hs(l,y,R,i,t.getUint32(8,!0),23,3299628645),i=qs(i,l,y,R,t.getUint32(0,!0),6,4096336452),R=qs(R,i,l,y,t.getUint32(28,!0),10,1126891415),y=qs(y,R,i,l,t.getUint32(56,!0),15,2878612391),l=qs(l,y,R,i,t.getUint32(20,!0),21,4237533241),i=qs(i,l,y,R,t.getUint32(48,!0),6,1700485571),R=qs(R,i,l,y,t.getUint32(12,!0),10,2399980690),y=qs(y,R,i,l,t.getUint32(40,!0),15,4293915773),l=qs(l,y,R,i,t.getUint32(4,!0),21,2240044497),i=qs(i,l,y,R,t.getUint32(32,!0),6,1873313359),R=qs(R,i,l,y,t.getUint32(60,!0),10,4264355552),y=qs(y,R,i,l,t.getUint32(24,!0),15,2734768916),l=qs(l,y,R,i,t.getUint32(52,!0),21,1309151649),i=qs(i,l,y,R,t.getUint32(16,!0),6,4149444226),R=qs(R,i,l,y,t.getUint32(44,!0),10,3174756917),y=qs(y,R,i,l,t.getUint32(8,!0),15,718787259),l=qs(l,y,R,i,t.getUint32(36,!0),21,3951481745),s[0]=i+s[0]&4294967295,s[1]=l+s[1]&4294967295,s[2]=y+s[2]&4294967295,s[3]=R+s[3]&4294967295}reset(){this.state=Uint32Array.from(h8),this.buffer=new DataView(new ArrayBuffer(ll)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}};function Cm(r,t,s,i,l,y){return t=(t+r&4294967295)+(i+y&4294967295)&4294967295,(t<<l|t>>>32-l)+s&4294967295}function zs(r,t,s,i,l,y,R){return Cm(t&s|~t&i,r,t,l,y,R)}function Gs(r,t,s,i,l,y,R){return Cm(t&i|s&~i,r,t,l,y,R)}function Hs(r,t,s,i,l,y,R){return Cm(t^s^i,r,t,l,y,R)}function qs(r,t,s,i,l,y,R){return Cm(s^(t|~i),r,t,l,y,R)}function p8(r){return typeof r=="string"?r.length===0:r.byteLength===0}function m8(r){return typeof r=="string"?Cu(r):ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(r)}const y8=r=>({apiVersion:"2006-03-01",base64Decoder:(r==null?void 0:r.base64Decoder)??rb,base64Encoder:(r==null?void 0:r.base64Encoder)??vm,disableHostPrefix:(r==null?void 0:r.disableHostPrefix)??!1,endpointProvider:(r==null?void 0:r.endpointProvider)??hC,extensions:(r==null?void 0:r.extensions)??[],getAwsChunkedEncodingStream:(r==null?void 0:r.getAwsChunkedEncodingStream)??q4,httpAuthSchemeProvider:(r==null?void 0:r.httpAuthSchemeProvider)??MN,httpAuthSchemes:(r==null?void 0:r.httpAuthSchemes)??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new YT},{schemeId:"aws.auth#sigv4a",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4a"),signer:new w4}],logger:(r==null?void 0:r.logger)??new ob,sdkStreamMixin:(r==null?void 0:r.sdkStreamMixin)??J4,serviceId:(r==null?void 0:r.serviceId)??"S3",signerConstructor:(r==null?void 0:r.signerConstructor)??XA,signingEscapePath:(r==null?void 0:r.signingEscapePath)??!1,urlParser:(r==null?void 0:r.urlParser)??Up,useArnRegion:(r==null?void 0:r.useArnRegion)??void 0,utf8Decoder:(r==null?void 0:r.utf8Decoder)??Cu,utf8Encoder:(r==null?void 0:r.utf8Encoder)??nb}),g8=["in-region","cross-region","mobile","standard","legacy"],v8=({defaultsMode:r}={})=>C5(async()=>{const t=typeof r=="function"?await r():r;switch(t==null?void 0:t.toLowerCase()){case"auto":return Promise.resolve(b8()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(t==null?void 0:t.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${g8.join(", ")}, got ${t}`)}}),b8=()=>{var s,i;const r=typeof window<"u"&&((s=window==null?void 0:window.navigator)!=null&&s.userAgent)?PC.parse(window.navigator.userAgent):void 0,t=(i=r==null?void 0:r.platform)==null?void 0:i.type;return t==="tablet"||t==="mobile"},_8=r=>{const t=v8(r),s=()=>t().then(cD),i=y8(r);return{...i,...r,runtime:"browser",defaultsMode:t,bodyLengthChecker:(r==null?void 0:r.bodyLengthChecker)??sD,credentialDefaultProvider:(r==null?void 0:r.credentialDefaultProvider)??(l=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(r==null?void 0:r.defaultUserAgentProvider)??LB({serviceId:i.serviceId,clientVersion:fB.version}),eventStreamSerdeProvider:(r==null?void 0:r.eventStreamSerdeProvider)??a8,maxAttempts:(r==null?void 0:r.maxAttempts)??Bp,md5:(r==null?void 0:r.md5)??f8,region:(r==null?void 0:r.region)??c8("Region is missing"),requestHandler:sb.create((r==null?void 0:r.requestHandler)??s),retryMode:(r==null?void 0:r.retryMode)??(async()=>(await s()).retryMode||D6),sha1:(r==null?void 0:r.sha1)??wB,sha256:(r==null?void 0:r.sha256)??MB,streamCollector:(r==null?void 0:r.streamCollector)??ZT,streamHasher:(r==null?void 0:r.streamHasher)??u8,useDualstackEndpoint:(r==null?void 0:r.useDualstackEndpoint)??(()=>Promise.resolve(y6)),useFipsEndpoint:(r==null?void 0:r.useFipsEndpoint)??(()=>Promise.resolve(g6))}},w8=r=>({setRegion(t){r.region=t},region(){return r.region}}),x8=r=>({region:r.region()}),S8=r=>{const t=r.httpAuthSchemes;let s=r.httpAuthSchemeProvider,i=r.credentials;return{setHttpAuthScheme(l){const y=t.findIndex(R=>R.schemeId===l.schemeId);y===-1?t.push(l):t.splice(y,1,l)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(l){s=l},httpAuthSchemeProvider(){return s},setCredentials(l){i=l},credentials(){return i}}},E8=r=>({httpAuthSchemes:r.httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()}),j8=(r,t)=>{const s=Object.assign(w8(r),mD(r),d4(r),S8(r));return t.forEach(i=>i.configure(s)),Object.assign(r,x8(s),yD(s),h4(s),E8(s))};class T8 extends iD{constructor(...[s]){const i=_8(s||{});super(i);cr(this,"config");this.initConfig=i;const l=IN(i),y=OL(l),R=BP(y),n=nN(R),C=v6(n),x=C,m=O6(x),d=b6(m),c=kN(d),T=bL(c,{session:[()=>this,dB]}),A=j8(T,(s==null?void 0:s.extensions)||[]);this.config=A,this.middlewareStack.use(m6(this.config)),this.middlewareStack.use(cN(this.config)),this.middlewareStack.use(x6(this.config)),this.middlewareStack.use(zP(this.config)),this.middlewareStack.use(qP(this.config)),this.middlewareStack.use(KP(this.config)),this.middlewareStack.use(T4(this.config,{httpAuthSchemeParametersProvider:AN,identityProviderConfigProvider:async f=>new S5({"aws.auth#sigv4":f.credentials,"aws.auth#sigv4a":f.credentials})})),this.middlewareStack.use(O4(this.config)),this.middlewareStack.use(ML(this.config)),this.middlewareStack.use(y4(this.config)),this.middlewareStack.use(oL(this.config)),this.middlewareStack.use(fL(this.config)),this.middlewareStack.use(vL(this.config))}destroy(){super.destroy()}}function A8(r){return t=>async s=>{const i={...s.input},l=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const y of l){const R=i[y.target];if(R){let n;typeof R=="string"?M8(R,r)?n=r.base64Decoder(R):(n=r.utf8Decoder(R),i[y.target]=r.base64Encoder(n)):(n=ArrayBuffer.isView(R)?new Uint8Array(R.buffer,R.byteOffset,R.byteLength):new Uint8Array(R),i[y.target]=r.base64Encoder(n));const C=new r.md5;C.update(n),i[y.hash]=r.base64Encoder(await C.digest())}}return t({...s,input:i})}}const C8={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},R8=r=>({applyToStack:t=>{t.add(A8(r),C8)}});function M8(r,t){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r))return!1;try{return t.base64Decoder(r).length===32}catch{return!1}}class k8 extends ib.classBuilder().ep({...mC,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(t,s,i,l){return[KT(i,this.serialize,this.deserialize),qA(i,t.getEndpointParameterInstructions()),UP(i,{requestAlgorithmMember:{httpHeader:"x-amz-sdk-checksum-algorithm",name:"ChecksumAlgorithm"},requestChecksumRequired:!1}),tL(),kA(i),R8(i)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(NN,LN).ser(BN).de(VN).build(){}const I8=new T8({region:void 0,credentials:{accessKeyId:void 0,secretAccessKey:void 0}}),Av=async(r,t)=>{const s=await r.arrayBuffer(),i=new Uint8Array(s),l={Bucket:void 0,Key:t,Body:i,ContentType:r.type};try{const y=new k8(l);return await I8.send(y)}catch(y){throw console.error("S3 upload error:",y),y}},O8=[[15,7,13,5],[3,11,1,9],[12,4,14,6],[0,8,2,10]];function D8(r,t,s){t.loadPixels();const i=4;for(let l=0;l<t.height;l++)for(let y=0;y<t.width;y++){const R=(y+l*t.width)*4,n=t.pixels[R],C=t.pixels[R+1],x=t.pixels[R+2],m=.299*n+.587*C+.114*x,d=O8[l%i][y%i]*s,c=m<d?0:255;t.pixels[R]=c,t.pixels[R+1]=c,t.pixels[R+2]=c}t.updatePixels()}function h2({imageUrl:r,width:t=640,height:s=480}){const[i,l]=Pe.useState(null),y=Pe.useRef(15),R=Pe.useRef(Date.now()),n=(x,m)=>{x.createCanvas(t,s).parent(m),x.background(0),x.loadImage(r,d=>{d.resize(t,s),l(d)})},C=x=>{if(!i)return;x.background(0),Date.now()-R.current;const d=10,c=15,T=x.mouseX+x.canvas.getBoundingClientRect().left,A=Math.max(0,Math.min(T,window.innerWidth)),f=d+(c-d)*A/window.innerWidth;y.current+=(f-y.current)*.1;const h=i.get();D8(x,h,y.current),x.image(h,0,0,x.width,x.height)};return ge.jsx(DT,{setup:n,draw:C})}function P8(){const[r,t]=Pe.useState({width:640,height:480}),s={Aries:PT,Taurus:LT,Gemini:NT,Cancer:UT,Leo:BT,Virgo:FT,Libra:VT,Scorpio:zT,Sagittarius:GT,Capricorn:HT,Aquarius:qT,Pisces:$T},i=["How was your day today?","If you replace all the parts of a boat, is it still the same boat?","Do we have free will?","What book had the most significant impact on your life?","What is the lie you tell yourself most often?","If you could tell your younger self any one thing, what would it be?","What do you think the world will look like in 300 years?","What is the most life-changing decision you’ve ever made on a whim?","If you were a ghost, what location do you think you would haunt?"],l=rd(),[y,R]=Pe.useState(!1),n=Pe.useRef(null),C=Pe.useRef(null),x=Pe.useRef(null),[m,d]=Pe.useState(Math.floor(Math.random()*i.length)),[c,T]=Pe.useState(0),A=Pe.useRef(),[f,h]=Pe.useState(""),p=[[15,7,13,5],[3,11,1,9],[12,4,14,6],[0,8,2,10]],u=de=>1-Math.pow(1-de,3),g=(de,X,Z)=>{X.loadPixels();const ie=4;for(let he=0;he<X.height;he++)for(let ye=0;ye<X.width;ye++){const ve=(ye+he*X.width)*4,le=X.pixels[ve+0],me=X.pixels[ve+1],Se=X.pixels[ve+2],Re=.299*le+.587*me+.114*Se,Ee=p[he%ie][ye%ie]*Z,Ae=Re<Ee?0:255;X.pixels[ve+0]=Ae,X.pixels[ve+1]=Ae,X.pixels[ve+2]=Ae}X.updatePixels()},S=(de,X)=>{de.createCanvas(r.width,r.height).parent(X),de.background(0),n.current||(n.current=de.createCapture(de.VIDEO,()=>{n.current.hide()}),n.current.size(r.width,r.height))},j=de=>{de.background(0);const X=n.current;if(!X)return;let Z=13;if(y){const ye=Date.now()-C.current,ve=Math.min(ye/2e3,1),le=u(ve),me=8,Se=15,Re=Math.max(0,Math.min(G,window.innerWidth));if(Z=(me+(Se-me)*Re/window.innerWidth)*le,x.current){const Ae=x.current.get();g(de,Ae,Z),de.image(Ae,0,0,de.width,de.height)}}else{const ie=X.get();g(de,ie,Z),de.image(ie,0,0,de.width,de.height)}},_=()=>{n.current&&(x.current=n.current.get(),C.current=Date.now(),R(!0))},b=()=>{R(!1),D(!0),U(!0),T(0),M({}),x.current=null},[E,M]=Pe.useState({username:"",profession:"",starsign:"",question:"",answer:""}),[P,D]=Pe.useState(!0),[O,U]=Pe.useState(!0),[F,H]=Pe.useState(window.innerWidth/2),[G,Y]=Pe.useState(window.innerWidth/2);function q(de){return new Promise(X=>{de.toBlob(Z=>{X(Z)},"image/png")})}function V(de){const{name:X,value:Z}=de.target,ie=Z.replace(/[^a-z0-9 ]/gi,"");M(ye=>({...ye,[X]:ie}));const he=A.current;he&&(he.style.height="auto",he.style.height=`${he.scrollHeight}px`)}function $(de){const{name:X,value:Z}=de.target;M(he=>({...he,[X]:Z}));const ie=A.current;ie&&(ie.style.height="auto",ie.style.height=`${ie.scrollHeight}px`)}const Q=de=>{de.preventDefault(),c===0?(D(!1),setTimeout(()=>T(1),200)):c===1?(U(!1),setTimeout(()=>T(2),200)):T(X=>X+1)},te=()=>{const de=Math.floor(Math.random()*i.length),X=i[de];h(X),M(Z=>({...Z,question:X,timestamp:new Date().toISOString()}))};Pe.useEffect(()=>{y&&te()},[y]);const ne=async de=>{var Ae;de.preventDefault();const X=document.querySelector("canvas");if(!X){alert("Canvas element not found!");return}const Z=await q(X),ie=document.createElement("canvas");ie.width=x.current.width,ie.height=x.current.height;const he=ie.getContext("2d");if(console.log(Z),x.current.canvas){const Be=x.current.canvas.getContext("2d").getImageData(0,0,x.current.width,x.current.height);he.putImageData(Be,0,0)}else{alert("No valid image data found in snapshotRef");return}const ye=await q(ie),ve=new Date().toISOString(),le=((Ae=E.username)==null?void 0:Ae.replace(/\s+/g,"_").toLowerCase())||"anonymous",me=`images/${le}-${ve}-dithered.png`,Se=`images/${le}-${ve}-undithered.png`;console.log(ye);const Re=`data/${le}-${ve}.json`,Ee=new Blob([JSON.stringify(E)],{type:"application/json"});console.log(Ee);try{await Promise.all([Av(Z,me,"image/png"),Av(ye,Se,"image/png"),Av(Ee,Re,"application/json")]),l("/visitorcheck")}catch(Be){console.error("Upload failed",Be),alert("Upload failed. Check console.")}};Pe.useEffect(()=>{A.current&&(A.current.style.height=`${A.current.scrollHeight}px`)},[]),Pe.useEffect(()=>()=>{n.current&&(n.current.remove(),n.current=null)},[]),Pe.useEffect(()=>{const de=X=>H(X.clientX);return window.addEventListener("mousemove",de),()=>window.removeEventListener("mousemove",de)},[]),Pe.useEffect(()=>{const de=()=>{const X=window.innerWidth*.8,Z=X*(3/4);t({width:X,height:Z})};return de(),window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),Pe.useEffect(()=>{let de;const X=()=>{Y(Z=>Z+(F-Z)*.1),de=requestAnimationFrame(X)};return de=requestAnimationFrame(X),()=>cancelAnimationFrame(de)},[F]);const ae=E.starsign||"Aries",ce=s[ae];return ge.jsxs("div",{className:"rphead-container",children:[ge.jsx("div",{className:"visitor-log-form",children:ge.jsxs("div",{className:"camerafeed",style:{transform:y?"translateX(-20vw)":"translateX(0)",transitionDelay:y?"0.5s":"0s",transition:"all 1.3s ease-in-out"},children:[ge.jsx(DT,{setup:S,draw:j}),ge.jsxs("div",{className:"buttons",style:{marginTop:"10px"},children:[!y&&ge.jsx("button",{onClick:_,style:{fontSize:"3vh",fontWeight:"900",backgroundColor:"black",color:"white"},children:"Shoot!"}),y&&ge.jsx("button",{onClick:b,style:{fontSize:"3vh",fontWeight:"900",backgroundColor:"black",color:"white"},children:"Retake"})]})]})}),y&&ge.jsx("div",{className:"visitor-log-textform",children:ge.jsxs("form",{ons:!0,onSubmit:ne,autoComplete:"off",style:{display:"flex",flexDirection:"column"},children:[ge.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[ge.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[c>=0&&ge.jsxs("div",{style:{opacity:0,animation:"fadeIn 1s ease-in-out forwards",animationDelay:"0.7s",marginBottom:c>0?"0vh":"1rem",display:"flex",flexDirection:"row"},children:[ge.jsxs("div",{children:[ge.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:ge.jsx("input",{id:"username",type:"text",name:"username",pattern:"[A-Za-z0-9]*",value:E.username||"",onChange:V,readOnly:c>0,style:{borderBottom:"1px solid",borderColor:c>0?"transparent":"#000",marginBottom:c>0?"0vh":"",transition:" border-color .2s ease-in-out"}})}),c===0&&ge.jsx("label",{htmlFor:"username",style:{opacity:P?1:0,transition:"opacity .2s ease-in-out"},children:"NAME"})]}),c===0&&ge.jsx("button",{onClick:Q,disabled:!E.username,style:{opacity:P?1:0,transition:"opacity .2s ease-in-out"},children:ge.jsx("img",{src:Kv})})]}),c>=1&&ge.jsxs("div",{style:{marginBottom:"1rem",display:"flex",flexDirection:"row",opacity:0,animation:"fadeIn 1s ease-in-out forwards",animationDelay:"0.1s"},children:[ge.jsxs("div",{children:[ge.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:ge.jsx("input",{id:"profession",type:"text",name:"profession",value:E.profession||"",onChange:$,readOnly:c>1,style:{fontSize:c>1?"1.4vh":"4vh",borderBottom:"1px solid",borderColor:c>1?"transparent":"#000",transition:"font-size 0.3s ease-in-out, border-color 0.2s ease-in-out"}})}),ge.jsx("div",{style:{opacity:c>1?"0":"1"},children:c>=1&&ge.jsx("label",{htmlFor:"profession",style:{opacity:O?1:0,transition:"opacity .2s ease-in-out"},children:"WHAT'S YOUR PROFESSION?"})})]}),c==1&&ge.jsx("button",{onClick:Q,disabled:!E.username,style:{opacity:O?1:0,transition:"opacity .2s ease-in-out"},children:ge.jsx("img",{src:Kv})})]})]}),c>=2&&ge.jsx("img",{src:ce,width:"50vh",height:"50vh",style:{animation:"fadeIn 1s forwards"}})]}),c>=2&&ge.jsx(c4,{inputs:E,setInputs:M,step:c,handleNext:Q,setStep:T}),c>=3&&ge.jsxs("div",{style:{marginBottom:"1rem",display:"flex",flexDirection:"row",opacity:0,animation:"fadeIn 1s ease-in-out forwards",animationDelay:"0.1s"},children:[ge.jsxs("div",{children:[ge.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:ge.jsx("textarea",{id:"answer",name:"answer",value:E.answer||"",onChange:$,onKeyDown:de=>{de.key==="Enter"&&!de.shiftKey&&(de.preventDefault(),ne(de))},rows:1,style:{resize:"none",overflow:"hidden",fontFamily:"Helvetica",border:"none",backgroundColor:"transparent",fontSize:"4vh",width:"20vw",borderBottom:"1px solid #000000"},maxlength:150,ref:A})}),ge.jsx("label",{htmlFor:"username",style:{textTransform:"uppercase"},children:f})]}),c==3&&ge.jsx("button",{type:"submit",disabled:!E.answer,style:{marginLeft:"2vh",fontSize:"2vh"},children:"⏎"})]})]})})]})}const L8="https://visitor-backlog-new.onrender.com/api/images",N8="https://visitor-backlog-new.onrender.com/api/data";function U8(r){for(let t=r.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[r[t],r[s]]=[r[s],r[t]]}return r}async function B8(r){try{const t=await fetch(r);if(!t.ok)throw new Error(`Failed to fetch JSON from ${r}`);return await t.json()}catch(t){return console.error(t),null}}function F8({isPlaying:r,isMobile:t}){const[s,i]=Pe.useState([]),[l,y]=Pe.useState(!0),[R,n]=Pe.useState(null),[C,x]=Pe.useState(),[m,d]=Pe.useState(null),[c,T]=Pe.useState(null),A=rd();if(Pe.useEffect(()=>{async function h(){try{const[p,u]=await Promise.all([fetch(L8),fetch(N8)]),g=await p.json(),S=await u.json(),j={};g.forEach(({key:b,url:E})=>{const M=b.replace(/^images\//,"").replace(/-dithered\.png$/,"").replace(/-undithered\.png$/,"").replace(/\.png$/,"").toLowerCase();j[M]||(j[M]={baseName:M,images:[],formData:null}),j[M].images.push({key:b,url:E})}),(await Promise.all(S.map(async({key:b,url:E})=>{const M=await B8(E);return{key:b,json:M}}))).forEach(({key:b,json:E})=>{const M=b.replace(/^data\//,"").replace(/\.json$/,"").toLowerCase();j[M]?j[M].formData=E:j[M]={baseName:M,images:[],formData:E}}),i(U8(Object.values(j))),y(!1)}catch(p){console.error(p),n("Failed to load gallery data."),y(!1)}}h()},[]),l)return ge.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",fontFamily:"Helvetica"},children:[ge.jsx("p",{style:{animation:"glow 1.5s ease-in-out infinite",fontSize:"2rem",color:"#000"},children:"Loading..."}),ge.jsx("style",{children:`
          @keyframes glow {
            0% {
              opacity: 0.3;
              text-shadow: 0 0 5px rgba(0,0,0,0.2);
            }
            50% {
              opacity: 1;
              text-shadow: 0 0 20px rgba(0,0,0,0.4);
            }
            100% {
              opacity: 0.3;
              text-shadow: 0 0 5px rgba(0,0,0,0.2);
            }
          }
        `})]});const f={Aries:PT,Taurus:LT,Gemini:NT,Cancer:UT,Leo:BT,Virgo:FT,Libra:VT,Scorpio:zT,Sagittarius:GT,Capricorn:HT,Aquarius:qT,Pisces:$T};return ge.jsxs(ge.Fragment,{children:[C&&!t&&ge.jsx(OT,{hoveredForm:C,hovered:!!C}),ge.jsx("div",{style:{width:"100vw",height:"100vh",position:"fixed",pointerEvents:"none"},onClick:()=>{m&&(d(null),T(null),x(null))}}),ge.jsxs("div",{style:{display:"grid",gridTemplateColumns:t?"repeat(auto-fill,minmax(100vw,1fr))":"repeat(auto-fill,minmax(260px,1fr))",gap:".1vw",padding:"1vw",paddingTop:"11vh",filter:m?"blur(5px)":"none",transition:"filter 0.7s ease-out",width:r!=null?"95%":"",pointerEvents:m?"none":"auto"},children:[!t&&ge.jsx("div",{className:"new-visitor",style:{width:267,height:200,color:"white",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"10vh",border:"1px solid #ccc",pointerEvents:"auto",zIndex:"9999"},onClick:()=>{A("/visitorlog")},children:"+"}),s.map(({baseName:h,images:p,formData:u})=>ge.jsx("div",{style:{paddingBottom:r?" ":"1vh",paddingLeft:t?r?"11vw":"13vw":"",width:t?"70vw":""},children:p.filter(({key:g})=>g.endsWith("-dithered.png")).map(({key:g,url:S},j)=>{const _=g.replace("-dithered.png","-undithered.png"),b=p.find(E=>E.key===_);return ge.jsx("img",{src:S,alt:g,className:`${t?"":"hover-zoom"}`,style:{width:t?"70vw":267,height:"auto",objectFit:"contain",border:"1px solid #ccc",cursor:"pointer",alignItems:"center",justifyContent:"center",animation:"fadeIn 0.5s forwards",pointerEvents:m?"none":"all",transition:"transform 0.3s ease, width 0.3s ease, height 0.3s ease",animationDelay:`${j*1}s`},onClick:()=>{b?(d(b.url),T(u)):console.warn("No undithered image found for",g)},onMouseEnter:()=>{x(u)},onMouseLeave:()=>{x(null)}},g)})},h))]}),m&&!t&&ge.jsxs("div",{style:{display:"flex",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",gap:"2rem",padding:"1rem",alignItems:"flex-start",background:"white",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",zIndex:1e3,animation:"fadeIn 1s forwards",pointerEvents:"auto"},children:[ge.jsxs("div",{style:{flex:1},children:[ge.jsx("button",{style:{paddingBottom:"1vh"},onClick:()=>d(null),children:"X Close"}),ge.jsx(h2,{imageUrl:m,width:640,height:480})]}),ge.jsxs("div",{children:[ge.jsx("div",{style:{flex:1,background:"#f7f7f7",borderRadius:"8px",padding:"1rem",fontSize:"14px",maxHeight:480,overflow:"auto",width:300},children:c?ge.jsx(ge.Fragment,{children:ge.jsx("div",{style:{fontFamily:"Helvetica, Arial, sans-serif",display:"flex",flexDirection:"column",gap:"0.5rem"},children:ge.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"0.5rem",justifyContent:"space-between",alignItems:"flex-start"},children:[ge.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5vh"},children:[ge.jsx("div",{style:{fontSize:"4vh",fontWeight:"900",textTransform:"uppercase"},children:c.username}),ge.jsx("div",{style:{fontSize:"1.4vh",fontWeight:"900",textTransform:"uppercase"},children:c.profession})]}),ge.jsx("div",{children:ge.jsx("img",{src:f[c.starsign],width:"40vh",height:"40vh",style:{right:"0"}})})]})})}):ge.jsx("p",{children:"No form data found"})}),ge.jsx("div",{style:{paddingLeft:"1vw",paddingTop:"1vh",paddingBottom:"0",color:"black",fontSize:"1.3vh",fontFamily:"Helvetica"},children:c.timestamp?(()=>{const h=new Date(c.timestamp),p=h.getDate(),u=h.getMonth()+1,g=h.getFullYear().toString().slice(2),S=h.getHours().toString().padStart(2,"0"),j=h.getMinutes().toString().padStart(2,"0");return`${p}/${u}/${g} ${S}:${j}`})():"No timestamp available"}),ge.jsx("div",{style:{paddingLeft:".85vw",paddingTop:"1vh",paddingBottom:"0",color:"gray",fontSize:"1.5vh",fontFamily:"Helvetica",fontStyle:"italic"},children:c.question||"No question provided. This is a bug, please report it."}),ge.jsx("div",{style:{paddingLeft:".85vw",paddingTop:"1vh",fontFamily:"Helvetica"},children:c.answer})]})]}),m&&t&&ge.jsxs("div",{style:{display:"flex",position:"fixed",top:"50%",left:r?"47%":"50%",transform:r?"translate(-50%, -50%) scale(0.36)":"translate(-50%, -50%) scale(0.38)",gap:"2rem",padding:"1rem",alignItems:"flex-start",background:"white",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",zIndex:1e3,animation:"fadeIn 1s forwards"},children:[ge.jsx("div",{style:{flex:1},children:ge.jsx(h2,{imageUrl:m,width:640,height:480})}),ge.jsxs("div",{children:[ge.jsx("div",{style:{flex:1,background:"#f7f7f7",borderRadius:"8px",padding:"1rem",fontSize:"14px",maxHeight:480,overflow:"auto",width:300},children:c?ge.jsx(ge.Fragment,{children:ge.jsx("div",{style:{fontFamily:"Helvetica, Arial, sans-serif",display:"flex",flexDirection:"column",gap:"0.5rem"},children:ge.jsx("div",{style:{display:"flex",flexDirection:"row",gap:"0.5rem",justifyContent:"space-between",alignItems:"flex-start"},children:ge.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5vh"},children:[ge.jsx("div",{style:{fontSize:"8vh",fontWeight:"900",textTransform:"uppercase"},children:c.username}),ge.jsx("div",{style:{fontSize:"2vh",fontWeight:"900",textTransform:"uppercase"},children:c.profession})]})})})}):ge.jsx("p",{children:"No form data found"})}),ge.jsx("div",{style:{paddingLeft:".85vw",paddingTop:"1vh",paddingBottom:"0",color:"gray",fontSize:"3vh",fontFamily:"Helvetica",fontStyle:"italic"},children:c.question||"No question provided. This is a bug, please report it."}),ge.jsx("div",{style:{paddingLeft:".85vw",paddingTop:"1vh",fontFamily:"Helvetica",fontSize:"4vh"},children:c.answer})]})]})]})}const V8=({selectedIndex:r,isMobile:t,mobileIndex:s})=>{const i=Pe.useRef(null),[l,y]=Pe.useState(null),[R,n]=Pe.useState(),[C,x]=Pe.useState(!1),[m,d]=Pe.useState(!1),[c,T]=Pe.useState(!1),A=rd(),[f,h]=Pe.useState(!1),[p,u]=Pe.useState(!0),[g,S]=Pe.useState(!0),j=Pe.useRef([]),[_,b]=Pe.useState(null),[E,M]=Pe.useState(!1),[P,D]=Pe.useState(!1),[O,U]=Pe.useState(0),F=eb.filter(q=>!!(p&&q.type==="mix"||g&&q.type==="radiogram")).reverse();Pe.useEffect(()=>{i.current&&y(i.current.clientWidth/F.length);const q=()=>{y(i.current.clientWidth/F.length)};return window.addEventListener("resize",q),q(),()=>window.removeEventListener("resize",q)},[i]),Pe.useEffect(()=>{if(!t)return;console.log("itemRefs at the start:",j.current);const q=new IntersectionObserver(V=>{console.log("Entries:",V);let $=0,Q=null;if(V.forEach(te=>{console.log("Entry:",te),console.log("Intersection ratio:",te.intersectionRatio),te.intersectionRatio>$&&($=te.intersectionRatio,Q=Number(te.target.getAttribute("data-index")))}),Q!==null&&F[Q]){const te=F[Q];console.log("Most visible item:",te),n(te)}},{threshold:.9});return j.current.forEach((V,$)=>{V&&V instanceof HTMLElement?(console.log(`Ref at index ${$} is a valid DOM element:`,V),q.observe(V)):console.log("Ref at index",$,"is null or undefined.")}),()=>{j.current.forEach(V=>{V&&V instanceof HTMLElement&&(console.log("Unobserving element:",V),q.unobserve(V))})}},[t]);const H=Pe.useCallback(q=>{d(!0),setTimeout(()=>{A(`/rp/${q.url}`)},300),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:q==null?void 0:q.title,artist:"RADIO Project • "+(q==null?void 0:q.title2),album:"RADIO Project",artwork:[{src:q==null?void 0:q.ipSrc,sizes:"512x512",type:"image/png"}]}))},[A]),G=Pe.useCallback(q=>{d(!0),setTimeout(()=>{A(`/rg/${q.url}`)},300)},[A]),Y=q=>{const V=q.target,$=V.scrollLeft/(V.scrollWidth-V.clientWidth),te=V.clientWidth*.5-60;U($*te)};return ge.jsxs(ge.Fragment,{children:[R&&t===!1&&!m&&ge.jsx(OT,{hoveredGuest:R,isLeft:C,hovered:!!R}),ge.jsx("div",{className:"center-wrapper",children:ge.jsx("div",{className:`${P?"total-container-all":"total-container"} `,children:t?ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{children:ge.jsx("div",{ref:i,className:`flex-container-mob
                  } ${m?"fadeOutGrid":""} ${c?"fadeInGrid":""}`,children:[...F].map((q,V)=>{const $=V<F.length/2;return ge.jsx("div",{children:ge.jsx(Yx,{ref:Q=>j.current[V]=Q,"data-index":V,className:"gc",$total:F.length,$selectedIndex:r,$contents:V,$isLeft:$,style:{transition:"filter 0.3s ease-in-out"},children:ge.jsx(Xx,{$contents:V,$selectedIndex:r,$parentWidth:l,$total:F.length,$isLeft:$,$isMobile:t,$shimmer:q.id===1,style:{transition:"filter 0.3s ease-in-out",width:"78vw",paddingLeft:V===0?"10vw":"2.5vw",paddingRight:V===F.length-1?"10vw":"2.5vw"},children:ge.jsx("img",{src:q.src,alt:q.title,onClick:()=>{q.type==="mix"&&H(q,V),q.type==="radiogram"&&G(q,V)},style:{transition:"filter 0.3s ease-in-out"},className:"image "})},V)})},V)})})}),ge.jsxs("div",{className:`cursor-mobile ${m?"fadeOutGrid":""} ${c?"fadeInGrid":""}`,style:{left:0,zIndex:999},onClick:()=>{(R==null?void 0:R.type)==="mix"&&H(R),(R==null?void 0:R.type)==="radiogram"&&G(R)},children:[ge.jsx(Uo,{className:"cursor-title",$hovered:!0,$bgcolor:"rgb(247, 247, 247);",$delay:.1,fontSize:"2.4vh",isMobile:t,children:R==null?void 0:R.rpCount}),ge.jsx(Uo,{className:"cursor-title",$hovered:!0,$bgcolor:"black",color:"white",fontSize:"2.4vh",$delay:.15,isMobile:t,children:ge.jsx("b",{children:R==null?void 0:R.title})}),ge.jsx("br",{}),ge.jsx(Uo,{className:"cursor-title",$hovered:!0,$bgcolor:"black",color:"white",fontSize:"4.9vh",$delay:.15,isMobile:t,children:ge.jsx("b",{children:R==null?void 0:R.title2})}),ge.jsx("br",{}),ge.jsx(Uo,{className:"cursor-title",$hovered:!0,$bgcolor:"black",color:"white",fontSize:"2.3vh",$delay:.15,isMobile:t,children:ge.jsx("b",{children:R==null?void 0:R.title3})}),ge.jsx("br",{}),ge.jsx(Uo,{className:"cursor-title",$hovered:!0,$bgcolor:"black",color:"white",fontSize:"2vh",$delay:.15,isMobile:t,children:ge.jsx("b",{children:R==null?void 0:R.broadcastDate})})]})]}):ge.jsx(ge.Fragment,{children:P?ge.jsx("div",{ref:i,className:`flex-container-all ${m?"fadeOutGrid":""} ${c?"fadeInGrid":""}`,style:{left:E?"20vw":"0vw",width:E?"80vw":"",transition:"all 0.75s ease-in-out"},onScroll:Y,children:[...F].map((q,V)=>ge.jsx(i4,{className:"pc",$contents:V,$selectedIndex:r,$parentWidth:l,$total:F.length,$isLeft:!1,$isMobile:t,style:{transition:"filter 0.3s ease-in-out"},children:ge.jsx("img",{src:q.src,alt:q.title,className:"image ",onMouseEnter:()=>{n(q),x(!1)},onMouseLeave:()=>{n(null)},onClick:()=>{q.type==="mix"&&H(q,V),q.type==="radiogram"&&G(q,V)},style:{transition:"filter 0.3s ease-in-out"}})},V))}):ge.jsx("div",{style:{bottom:f?"100vh":"0vh",opacity:f?"0":"1",transition:"all 1s ease-in-out"},className:"scroll-wrapper",children:ge.jsx("div",{ref:i,className:`flex-container ${m?"fadeOutGrid":""} ${c?"fadeInGrid":""}`,style:{left:E?"20vw":"0vw",width:E?"80vw":"",transition:"all 0.75s ease-in-out",paddingLeft:"35vw",paddingRight:"35vw"},onScroll:Y,children:[...F].map((q,V)=>ge.jsx("div",{children:ge.jsx(Yx,{className:"gc",$total:F.length,$selectedIndex:r,$contents:V,$isLeft:!1,$selected:r===V,$hovered:_===V,onMouseEnter:()=>b(V),onMouseLeave:()=>b(null),children:ge.jsxs("div",{children:[ge.jsx("p",{className:"nav-text-type",style:{width:"50vh",textAlign:"left",textTransform:"uppercase",fontSize:"1.4vh",fontWeight:"550"},children:q.type}),ge.jsx(Xx,{className:"pc",$contents:V,$selectedIndex:r,$parentWidth:l,$total:F.length,$isLeft:!1,$isMobile:t,style:{transition:"filter 0.3s ease-in-out"},children:ge.jsx("img",{src:q.src,alt:q.title,className:"image ",onMouseEnter:()=>{n(q),x(!1)},onMouseLeave:()=>{n(null)},onClick:()=>{q.type==="mix"&&H(q,V),q.type==="radiogram"&&G(q,V)},style:{transition:"filter 0.3s ease-in-out"}})},V)]})},V)}))})})})})})]})},z8=()=>{};var f2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=function(r){const t=[];let s=0;for(let i=0;i<r.length;i++){let l=r.charCodeAt(i);l<128?t[s++]=l:l<2048?(t[s++]=l>>6|192,t[s++]=l&63|128):(l&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++i)&1023),t[s++]=l>>18|240,t[s++]=l>>12&63|128,t[s++]=l>>6&63|128,t[s++]=l&63|128):(t[s++]=l>>12|224,t[s++]=l>>6&63|128,t[s++]=l&63|128)}return t},G8=function(r){const t=[];let s=0,i=0;for(;s<r.length;){const l=r[s++];if(l<128)t[i++]=String.fromCharCode(l);else if(l>191&&l<224){const y=r[s++];t[i++]=String.fromCharCode((l&31)<<6|y&63)}else if(l>239&&l<365){const y=r[s++],R=r[s++],n=r[s++],C=((l&7)<<18|(y&63)<<12|(R&63)<<6|n&63)-65536;t[i++]=String.fromCharCode(55296+(C>>10)),t[i++]=String.fromCharCode(56320+(C&1023))}else{const y=r[s++],R=r[s++];t[i++]=String.fromCharCode((l&15)<<12|(y&63)<<6|R&63)}}return t.join("")},UC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<r.length;l+=3){const y=r[l],R=l+1<r.length,n=R?r[l+1]:0,C=l+2<r.length,x=C?r[l+2]:0,m=y>>2,d=(y&3)<<4|n>>4;let c=(n&15)<<2|x>>6,T=x&63;C||(T=64,R||(c=64)),i.push(s[m],s[d],s[c],s[T])}return i.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(NC(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):G8(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<r.length;){const y=s[r.charAt(l++)],n=l<r.length?s[r.charAt(l)]:0;++l;const x=l<r.length?s[r.charAt(l)]:64;++l;const d=l<r.length?s[r.charAt(l)]:64;if(++l,y==null||n==null||x==null||d==null)throw new H8;const c=y<<2|n>>4;if(i.push(c),x!==64){const T=n<<4&240|x>>2;if(i.push(T),d!==64){const A=x<<6&192|d;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q8=function(r){const t=NC(r);return UC.encodeByteArray(t,!0)},Hp=function(r){return q8(r).replace(/\./g,"")},BC=function(r){try{return UC.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=()=>$8().__FIREBASE_DEFAULTS__,Y8=()=>{if(typeof process>"u"||typeof f2>"u")return;const r=f2.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},X8=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&BC(r[1]);return t&&JSON.parse(t)},Rm=()=>{try{return z8()||W8()||Y8()||X8()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},FC=r=>{var t,s;return(s=(t=Rm())===null||t===void 0?void 0:t.emulatorHosts)===null||s===void 0?void 0:s[r]},K8=r=>{const t=FC(r);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),i]:[t.substring(0,s),i]},VC=()=>{var r;return(r=Rm())===null||r===void 0?void 0:r.config},zC=r=>{var t;return(t=Rm())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,i)=>{s?this.reject(s):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},i=t||"demo-project",l=r.iat||0,y=r.sub||r.user_id;if(!y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const R=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:y,user_id:y,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hp(JSON.stringify(s)),Hp(JSON.stringify(R)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qs())}function eF(){var r;const t=(r=Rm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rF(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sF(){const r=Qs();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iF(){return!eF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oF(){try{return typeof indexedDB=="object"}catch{return!1}}function aF(){return new Promise((r,t)=>{try{let s=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),s||self.indexedDB.deleteDatabase(i),r(!0)},l.onupgradeneeded=()=>{s=!1},l.onerror=()=>{var y;t(((y=l.error)===null||y===void 0?void 0:y.message)||"")}}catch(s){t(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF="FirebaseError";class Aa extends Error{constructor(t,s,i){super(s),this.code=t,this.customData=i,this.name=lF,Object.setPrototypeOf(this,Aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(t,s,i){this.service=t,this.serviceName=s,this.errors=i}create(t,...s){const i=s[0]||{},l=`${this.service}/${t}`,y=this.errors[t],R=y?uF(y,i):"Error",n=`${this.serviceName}: ${R} (${l}).`;return new Aa(l,n,i)}}function uF(r,t){return r.replace(cF,(s,i)=>{const l=t[i];return l!=null?String(l):`<${i}?>`})}const cF=/\{\$([^}]+)}/g;function dF(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ru(r,t){if(r===t)return!0;const s=Object.keys(r),i=Object.keys(t);for(const l of s){if(!i.includes(l))return!1;const y=r[l],R=t[l];if(p2(y)&&p2(R)){if(!Ru(y,R))return!1}else if(y!==R)return!1}for(const l of i)if(!s.includes(l))return!1;return!0}function p2(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r){const t=[];for(const[s,i]of Object.entries(r))Array.isArray(i)?i.forEach(l=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function hF(r,t){const s=new fF(r,t);return s.subscribe.bind(s)}class fF{constructor(t,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(s=>{s.next(t)})}error(t){this.forEachObserver(s=>{s.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,s,i){let l;if(t===void 0&&s===void 0&&i===void 0)throw new Error("Missing Observer.");pF(t,["next","error","complete"])?l=t:l={next:t,error:s,complete:i},l.next===void 0&&(l.next=Cv),l.error===void 0&&(l.error=Cv),l.complete===void 0&&(l.complete=Cv);const y=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),y}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,t)}sendOne(t,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{s(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pF(r,t){if(typeof r!="object"||r===null)return!1;for(const s of t)if(s in r&&typeof r[s]=="function")return!0;return!1}function Cv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(r){return r&&r._delegate?r._delegate:r}class Mu{constructor(t,s,i){this.name=t,this.instanceFactory=s,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const i=new Q8;if(this.instancesDeferred.set(s,i),this.isInitialized(s)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:s});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){var s;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(s=t==null?void 0:t.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(y){if(l)return null;throw y}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gF(t))try{this.getOrInitializeService({instanceIdentifier:fu})}catch{}for(const[s,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);try{const y=this.getOrInitializeService({instanceIdentifier:l});i.resolve(y)}catch{}}}}clearInstance(t=fu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fu){return this.instances.has(t)}getOptions(t=fu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:s});for(const[y,R]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(y);i===n&&R.resolve(l)}return l}onInit(t,s){var i;const l=this.normalizeInstanceIdentifier(s),y=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;y.add(t),this.onInitCallbacks.set(l,y);const R=this.instances.get(l);return R&&t(R,l),()=>{y.delete(t)}}invokeOnInitCallbacks(t,s){const i=this.onInitCallbacks.get(s);if(i)for(const l of i)try{l(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:yF(t),options:s}),this.instances.set(t,i),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=fu){return this.component?this.component.multipleInstances?t:fu:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yF(r){return r===fu?void 0:r}function gF(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new mF(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lr||(Lr={}));const bF={debug:Lr.DEBUG,verbose:Lr.VERBOSE,info:Lr.INFO,warn:Lr.WARN,error:Lr.ERROR,silent:Lr.SILENT},_F=Lr.INFO,wF={[Lr.DEBUG]:"log",[Lr.VERBOSE]:"log",[Lr.INFO]:"info",[Lr.WARN]:"warn",[Lr.ERROR]:"error"},xF=(r,t,...s)=>{if(t<r.logLevel)return;const i=new Date().toISOString(),l=wF[t];if(l)console[l](`[${i}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nb{constructor(t){this.name=t,this._logLevel=_F,this._logHandler=xF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lr.DEBUG,...t),this._logHandler(this,Lr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lr.VERBOSE,...t),this._logHandler(this,Lr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lr.INFO,...t),this._logHandler(this,Lr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lr.WARN,...t),this._logHandler(this,Lr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lr.ERROR,...t),this._logHandler(this,Lr.ERROR,...t)}}const SF=(r,t)=>t.some(s=>r instanceof s);let m2,y2;function EF(){return m2||(m2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jF(){return y2||(y2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GC=new WeakMap,p0=new WeakMap,HC=new WeakMap,Rv=new WeakMap,Ub=new WeakMap;function TF(r){const t=new Promise((s,i)=>{const l=()=>{r.removeEventListener("success",y),r.removeEventListener("error",R)},y=()=>{s(xl(r.result)),l()},R=()=>{i(r.error),l()};r.addEventListener("success",y),r.addEventListener("error",R)});return t.then(s=>{s instanceof IDBCursor&&GC.set(s,r)}).catch(()=>{}),Ub.set(t,r),t}function AF(r){if(p0.has(r))return;const t=new Promise((s,i)=>{const l=()=>{r.removeEventListener("complete",y),r.removeEventListener("error",R),r.removeEventListener("abort",R)},y=()=>{s(),l()},R=()=>{i(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",y),r.addEventListener("error",R),r.addEventListener("abort",R)});p0.set(r,t)}let m0={get(r,t,s){if(r instanceof IDBTransaction){if(t==="done")return p0.get(r);if(t==="objectStoreNames")return r.objectStoreNames||HC.get(r);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return xl(r[t])},set(r,t,s){return r[t]=s,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function CF(r){m0=r(m0)}function RF(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const i=r.call(Mv(this),t,...s);return HC.set(i,t.sort?t.sort():[t]),xl(i)}:jF().includes(r)?function(...t){return r.apply(Mv(this),t),xl(GC.get(this))}:function(...t){return xl(r.apply(Mv(this),t))}}function MF(r){return typeof r=="function"?RF(r):(r instanceof IDBTransaction&&AF(r),SF(r,EF())?new Proxy(r,m0):r)}function xl(r){if(r instanceof IDBRequest)return TF(r);if(Rv.has(r))return Rv.get(r);const t=MF(r);return t!==r&&(Rv.set(r,t),Ub.set(t,r)),t}const Mv=r=>Ub.get(r);function kF(r,t,{blocked:s,upgrade:i,blocking:l,terminated:y}={}){const R=indexedDB.open(r,t),n=xl(R);return i&&R.addEventListener("upgradeneeded",C=>{i(xl(R.result),C.oldVersion,C.newVersion,xl(R.transaction),C)}),s&&R.addEventListener("blocked",C=>s(C.oldVersion,C.newVersion,C)),n.then(C=>{y&&C.addEventListener("close",()=>y()),l&&C.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),n}const IF=["get","getKey","getAll","getAllKeys","count"],OF=["put","add","delete","clear"],kv=new Map;function g2(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kv.get(t))return kv.get(t);const s=t.replace(/FromIndex$/,""),i=t!==s,l=OF.includes(s);if(!(s in(i?IDBIndex:IDBObjectStore).prototype)||!(l||IF.includes(s)))return;const y=async function(R,...n){const C=this.transaction(R,l?"readwrite":"readonly");let x=C.store;return i&&(x=x.index(n.shift())),(await Promise.all([x[s](...n),l&&C.done]))[0]};return kv.set(t,y),y}CF(r=>({...r,get:(t,s,i)=>g2(t,s)||r.get(t,s,i),has:(t,s)=>!!g2(t,s)||r.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(PF(s)){const i=s.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(s=>s).join(" ")}}function PF(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const y0="@firebase/app",v2="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Nb("@firebase/app"),LF="@firebase/app-compat",NF="@firebase/analytics-compat",UF="@firebase/analytics",BF="@firebase/app-check-compat",FF="@firebase/app-check",VF="@firebase/auth",zF="@firebase/auth-compat",GF="@firebase/database",HF="@firebase/data-connect",qF="@firebase/database-compat",$F="@firebase/functions",WF="@firebase/functions-compat",YF="@firebase/installations",XF="@firebase/installations-compat",KF="@firebase/messaging",QF="@firebase/messaging-compat",ZF="@firebase/performance",JF="@firebase/performance-compat",e9="@firebase/remote-config",t9="@firebase/remote-config-compat",r9="@firebase/storage",n9="@firebase/storage-compat",s9="@firebase/firestore",i9="@firebase/vertexai",o9="@firebase/firestore-compat",a9="firebase",l9="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="[DEFAULT]",u9={[y0]:"fire-core",[LF]:"fire-core-compat",[UF]:"fire-analytics",[NF]:"fire-analytics-compat",[FF]:"fire-app-check",[BF]:"fire-app-check-compat",[VF]:"fire-auth",[zF]:"fire-auth-compat",[GF]:"fire-rtdb",[HF]:"fire-data-connect",[qF]:"fire-rtdb-compat",[$F]:"fire-fn",[WF]:"fire-fn-compat",[YF]:"fire-iid",[XF]:"fire-iid-compat",[KF]:"fire-fcm",[QF]:"fire-fcm-compat",[ZF]:"fire-perf",[JF]:"fire-perf-compat",[e9]:"fire-rc",[t9]:"fire-rc-compat",[r9]:"fire-gcs",[n9]:"fire-gcs-compat",[s9]:"fire-fst",[o9]:"fire-fst-compat",[i9]:"fire-vertex","fire-js":"fire-js",[a9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=new Map,c9=new Map,v0=new Map;function b2(r,t){try{r.container.addComponent(t)}catch(s){xa.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,s)}}function Hc(r){const t=r.name;if(v0.has(t))return xa.debug(`There were multiple attempts to register component ${t}.`),!1;v0.set(t,r);for(const s of qp.values())b2(s,r);for(const s of c9.values())b2(s,r);return!0}function Bb(r,t){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(t)}function Bo(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sl=new Fh("app","Firebase",d9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(t,s,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Mu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Sl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=l9;function qC(r,t={}){let s=r;typeof t!="object"&&(t={name:t});const i=Object.assign({name:g0,automaticDataCollectionEnabled:!1},t),l=i.name;if(typeof l!="string"||!l)throw Sl.create("bad-app-name",{appName:String(l)});if(s||(s=VC()),!s)throw Sl.create("no-options");const y=qp.get(l);if(y){if(Ru(s,y.options)&&Ru(i,y.config))return y;throw Sl.create("duplicate-app",{appName:l})}const R=new vF(l);for(const C of v0.values())R.addComponent(C);const n=new h9(s,i,R);return qp.set(l,n),n}function $C(r=g0){const t=qp.get(r);if(!t&&r===g0&&VC())return qC();if(!t)throw Sl.create("no-app",{appName:r});return t}function El(r,t,s){var i;let l=(i=u9[r])!==null&&i!==void 0?i:r;s&&(l+=`-${s}`);const y=l.match(/\s|\//),R=t.match(/\s|\//);if(y||R){const n=[`Unable to register library "${l}" with version "${t}":`];y&&n.push(`library name "${l}" contains illegal characters (whitespace or "/")`),y&&R&&n.push("and"),R&&n.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xa.warn(n.join(" "));return}Hc(new Mu(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="firebase-heartbeat-database",p9=1,Mh="firebase-heartbeat-store";let Iv=null;function WC(){return Iv||(Iv=kF(f9,p9,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Mh)}catch(s){console.warn(s)}}}}).catch(r=>{throw Sl.create("idb-open",{originalErrorMessage:r.message})})),Iv}async function m9(r){try{const s=(await WC()).transaction(Mh),i=await s.objectStore(Mh).get(YC(r));return await s.done,i}catch(t){if(t instanceof Aa)xa.warn(t.message);else{const s=Sl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xa.warn(s.message)}}}async function _2(r,t){try{const i=(await WC()).transaction(Mh,"readwrite");await i.objectStore(Mh).put(t,YC(r)),await i.done}catch(s){if(s instanceof Aa)xa.warn(s.message);else{const i=Sl.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});xa.warn(i.message)}}}function YC(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=1024,g9=30;class v9{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new _9(s),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,s;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),y=w2();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===y||this._heartbeatsCache.heartbeats.some(R=>R.date===y))return;if(this._heartbeatsCache.heartbeats.push({date:y,agent:l}),this._heartbeatsCache.heartbeats.length>g9){const R=w9(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(R,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){xa.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=w2(),{heartbeatsToSend:i,unsentEntries:l}=b9(this._heartbeatsCache.heartbeats),y=Hp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=s,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),y}catch(s){return xa.warn(s),""}}}function w2(){return new Date().toISOString().substring(0,10)}function b9(r,t=y9){const s=[];let i=r.slice();for(const l of r){const y=s.find(R=>R.agent===l.agent);if(y){if(y.dates.push(l.date),x2(s)>t){y.dates.pop();break}}else if(s.push({agent:l.agent,dates:[l.date]}),x2(s)>t){s.pop();break}i=i.slice(1)}return{heartbeatsToSend:s,unsentEntries:i}}class _9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oF()?aF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await m9(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return _2(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var s;if(await this._canUseIndexedDBPromise){const l=await this.read();return _2(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function x2(r){return Hp(JSON.stringify({version:2,heartbeats:r})).length}function w9(r){if(r.length===0)return-1;let t=0,s=r[0].date;for(let i=1;i<r.length;i++)r[i].date<s&&(s=r[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(r){Hc(new Mu("platform-logger",t=>new DF(t),"PRIVATE")),Hc(new Mu("heartbeat",t=>new v9(t),"PRIVATE")),El(y0,v2,r),El(y0,v2,"esm2017"),El("fire-js","")}x9("");var S9="firebase",E9="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */El(S9,E9,"app");var S2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jl,XC;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,E){function M(){}M.prototype=E.prototype,b.D=E.prototype,b.prototype=new M,b.prototype.constructor=b,b.C=function(P,D,O){for(var U=Array(arguments.length-2),F=2;F<arguments.length;F++)U[F-2]=arguments[F];return E.prototype[D].apply(P,U)}}function s(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,s),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(b,E,M){M||(M=0);var P=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)P[D]=E.charCodeAt(M++)|E.charCodeAt(M++)<<8|E.charCodeAt(M++)<<16|E.charCodeAt(M++)<<24;else for(D=0;16>D;++D)P[D]=E[M++]|E[M++]<<8|E[M++]<<16|E[M++]<<24;E=b.g[0],M=b.g[1],D=b.g[2];var O=b.g[3],U=E+(O^M&(D^O))+P[0]+3614090360&4294967295;E=M+(U<<7&4294967295|U>>>25),U=O+(D^E&(M^D))+P[1]+3905402710&4294967295,O=E+(U<<12&4294967295|U>>>20),U=D+(M^O&(E^M))+P[2]+606105819&4294967295,D=O+(U<<17&4294967295|U>>>15),U=M+(E^D&(O^E))+P[3]+3250441966&4294967295,M=D+(U<<22&4294967295|U>>>10),U=E+(O^M&(D^O))+P[4]+4118548399&4294967295,E=M+(U<<7&4294967295|U>>>25),U=O+(D^E&(M^D))+P[5]+1200080426&4294967295,O=E+(U<<12&4294967295|U>>>20),U=D+(M^O&(E^M))+P[6]+2821735955&4294967295,D=O+(U<<17&4294967295|U>>>15),U=M+(E^D&(O^E))+P[7]+4249261313&4294967295,M=D+(U<<22&4294967295|U>>>10),U=E+(O^M&(D^O))+P[8]+1770035416&4294967295,E=M+(U<<7&4294967295|U>>>25),U=O+(D^E&(M^D))+P[9]+2336552879&4294967295,O=E+(U<<12&4294967295|U>>>20),U=D+(M^O&(E^M))+P[10]+4294925233&4294967295,D=O+(U<<17&4294967295|U>>>15),U=M+(E^D&(O^E))+P[11]+2304563134&4294967295,M=D+(U<<22&4294967295|U>>>10),U=E+(O^M&(D^O))+P[12]+1804603682&4294967295,E=M+(U<<7&4294967295|U>>>25),U=O+(D^E&(M^D))+P[13]+4254626195&4294967295,O=E+(U<<12&4294967295|U>>>20),U=D+(M^O&(E^M))+P[14]+2792965006&4294967295,D=O+(U<<17&4294967295|U>>>15),U=M+(E^D&(O^E))+P[15]+1236535329&4294967295,M=D+(U<<22&4294967295|U>>>10),U=E+(D^O&(M^D))+P[1]+4129170786&4294967295,E=M+(U<<5&4294967295|U>>>27),U=O+(M^D&(E^M))+P[6]+3225465664&4294967295,O=E+(U<<9&4294967295|U>>>23),U=D+(E^M&(O^E))+P[11]+643717713&4294967295,D=O+(U<<14&4294967295|U>>>18),U=M+(O^E&(D^O))+P[0]+3921069994&4294967295,M=D+(U<<20&4294967295|U>>>12),U=E+(D^O&(M^D))+P[5]+3593408605&4294967295,E=M+(U<<5&4294967295|U>>>27),U=O+(M^D&(E^M))+P[10]+38016083&4294967295,O=E+(U<<9&4294967295|U>>>23),U=D+(E^M&(O^E))+P[15]+3634488961&4294967295,D=O+(U<<14&4294967295|U>>>18),U=M+(O^E&(D^O))+P[4]+3889429448&4294967295,M=D+(U<<20&4294967295|U>>>12),U=E+(D^O&(M^D))+P[9]+568446438&4294967295,E=M+(U<<5&4294967295|U>>>27),U=O+(M^D&(E^M))+P[14]+3275163606&4294967295,O=E+(U<<9&4294967295|U>>>23),U=D+(E^M&(O^E))+P[3]+4107603335&4294967295,D=O+(U<<14&4294967295|U>>>18),U=M+(O^E&(D^O))+P[8]+1163531501&4294967295,M=D+(U<<20&4294967295|U>>>12),U=E+(D^O&(M^D))+P[13]+2850285829&4294967295,E=M+(U<<5&4294967295|U>>>27),U=O+(M^D&(E^M))+P[2]+4243563512&4294967295,O=E+(U<<9&4294967295|U>>>23),U=D+(E^M&(O^E))+P[7]+1735328473&4294967295,D=O+(U<<14&4294967295|U>>>18),U=M+(O^E&(D^O))+P[12]+2368359562&4294967295,M=D+(U<<20&4294967295|U>>>12),U=E+(M^D^O)+P[5]+4294588738&4294967295,E=M+(U<<4&4294967295|U>>>28),U=O+(E^M^D)+P[8]+2272392833&4294967295,O=E+(U<<11&4294967295|U>>>21),U=D+(O^E^M)+P[11]+1839030562&4294967295,D=O+(U<<16&4294967295|U>>>16),U=M+(D^O^E)+P[14]+4259657740&4294967295,M=D+(U<<23&4294967295|U>>>9),U=E+(M^D^O)+P[1]+2763975236&4294967295,E=M+(U<<4&4294967295|U>>>28),U=O+(E^M^D)+P[4]+1272893353&4294967295,O=E+(U<<11&4294967295|U>>>21),U=D+(O^E^M)+P[7]+4139469664&4294967295,D=O+(U<<16&4294967295|U>>>16),U=M+(D^O^E)+P[10]+3200236656&4294967295,M=D+(U<<23&4294967295|U>>>9),U=E+(M^D^O)+P[13]+681279174&4294967295,E=M+(U<<4&4294967295|U>>>28),U=O+(E^M^D)+P[0]+3936430074&4294967295,O=E+(U<<11&4294967295|U>>>21),U=D+(O^E^M)+P[3]+3572445317&4294967295,D=O+(U<<16&4294967295|U>>>16),U=M+(D^O^E)+P[6]+76029189&4294967295,M=D+(U<<23&4294967295|U>>>9),U=E+(M^D^O)+P[9]+3654602809&4294967295,E=M+(U<<4&4294967295|U>>>28),U=O+(E^M^D)+P[12]+3873151461&4294967295,O=E+(U<<11&4294967295|U>>>21),U=D+(O^E^M)+P[15]+530742520&4294967295,D=O+(U<<16&4294967295|U>>>16),U=M+(D^O^E)+P[2]+3299628645&4294967295,M=D+(U<<23&4294967295|U>>>9),U=E+(D^(M|~O))+P[0]+4096336452&4294967295,E=M+(U<<6&4294967295|U>>>26),U=O+(M^(E|~D))+P[7]+1126891415&4294967295,O=E+(U<<10&4294967295|U>>>22),U=D+(E^(O|~M))+P[14]+2878612391&4294967295,D=O+(U<<15&4294967295|U>>>17),U=M+(O^(D|~E))+P[5]+4237533241&4294967295,M=D+(U<<21&4294967295|U>>>11),U=E+(D^(M|~O))+P[12]+1700485571&4294967295,E=M+(U<<6&4294967295|U>>>26),U=O+(M^(E|~D))+P[3]+2399980690&4294967295,O=E+(U<<10&4294967295|U>>>22),U=D+(E^(O|~M))+P[10]+4293915773&4294967295,D=O+(U<<15&4294967295|U>>>17),U=M+(O^(D|~E))+P[1]+2240044497&4294967295,M=D+(U<<21&4294967295|U>>>11),U=E+(D^(M|~O))+P[8]+1873313359&4294967295,E=M+(U<<6&4294967295|U>>>26),U=O+(M^(E|~D))+P[15]+4264355552&4294967295,O=E+(U<<10&4294967295|U>>>22),U=D+(E^(O|~M))+P[6]+2734768916&4294967295,D=O+(U<<15&4294967295|U>>>17),U=M+(O^(D|~E))+P[13]+1309151649&4294967295,M=D+(U<<21&4294967295|U>>>11),U=E+(D^(M|~O))+P[4]+4149444226&4294967295,E=M+(U<<6&4294967295|U>>>26),U=O+(M^(E|~D))+P[11]+3174756917&4294967295,O=E+(U<<10&4294967295|U>>>22),U=D+(E^(O|~M))+P[2]+718787259&4294967295,D=O+(U<<15&4294967295|U>>>17),U=M+(O^(D|~E))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(D+(U<<21&4294967295|U>>>11))&4294967295,b.g[2]=b.g[2]+D&4294967295,b.g[3]=b.g[3]+O&4294967295}i.prototype.u=function(b,E){E===void 0&&(E=b.length);for(var M=E-this.blockSize,P=this.B,D=this.h,O=0;O<E;){if(D==0)for(;O<=M;)l(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<E;)if(P[D++]=b.charCodeAt(O++),D==this.blockSize){l(this,P),D=0;break}}else for(;O<E;)if(P[D++]=b[O++],D==this.blockSize){l(this,P),D=0;break}}this.h=D,this.o+=E},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;var M=8*this.o;for(E=b.length-8;E<b.length;++E)b[E]=M&255,M/=256;for(this.u(b),b=Array(16),E=M=0;4>E;++E)for(var P=0;32>P;P+=8)b[M++]=this.g[E]>>>P&255;return b};function y(b,E){var M=n;return Object.prototype.hasOwnProperty.call(M,b)?M[b]:M[b]=E(b)}function R(b,E){this.h=E;for(var M=[],P=!0,D=b.length-1;0<=D;D--){var O=b[D]|0;P&&O==E||(M[D]=O,P=!1)}this.g=M}var n={};function C(b){return-128<=b&&128>b?y(b,function(E){return new R([E|0],0>E?-1:0)}):new R([b|0],0>b?-1:0)}function x(b){if(isNaN(b)||!isFinite(b))return d;if(0>b)return h(x(-b));for(var E=[],M=1,P=0;b>=M;P++)E[P]=b/M|0,M*=4294967296;return new R(E,0)}function m(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return h(m(b.substring(1),E));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=x(Math.pow(E,8)),P=d,D=0;D<b.length;D+=8){var O=Math.min(8,b.length-D),U=parseInt(b.substring(D,D+O),E);8>O?(O=x(Math.pow(E,O)),P=P.j(O).add(x(U))):(P=P.j(M),P=P.add(x(U)))}return P}var d=C(0),c=C(1),T=C(16777216);r=R.prototype,r.m=function(){if(f(this))return-h(this).m();for(var b=0,E=1,M=0;M<this.g.length;M++){var P=this.i(M);b+=(0<=P?P:4294967296+P)*E,E*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(f(this))return"-"+h(this).toString(b);for(var E=x(Math.pow(b,6)),M=this,P="";;){var D=S(M,E).g;M=p(M,D.j(E));var O=((0<M.g.length?M.g[0]:M.h)>>>0).toString(b);if(M=D,A(M))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function f(b){return b.h==-1}r.l=function(b){return b=p(this,b),f(b)?-1:A(b)?0:1};function h(b){for(var E=b.g.length,M=[],P=0;P<E;P++)M[P]=~b.g[P];return new R(M,~b.h).add(c)}r.abs=function(){return f(this)?h(this):this},r.add=function(b){for(var E=Math.max(this.g.length,b.g.length),M=[],P=0,D=0;D<=E;D++){var O=P+(this.i(D)&65535)+(b.i(D)&65535),U=(O>>>16)+(this.i(D)>>>16)+(b.i(D)>>>16);P=U>>>16,O&=65535,U&=65535,M[D]=U<<16|O}return new R(M,M[M.length-1]&-2147483648?-1:0)};function p(b,E){return b.add(h(E))}r.j=function(b){if(A(this)||A(b))return d;if(f(this))return f(b)?h(this).j(h(b)):h(h(this).j(b));if(f(b))return h(this.j(h(b)));if(0>this.l(T)&&0>b.l(T))return x(this.m()*b.m());for(var E=this.g.length+b.g.length,M=[],P=0;P<2*E;P++)M[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<b.g.length;D++){var O=this.i(P)>>>16,U=this.i(P)&65535,F=b.i(D)>>>16,H=b.i(D)&65535;M[2*P+2*D]+=U*H,u(M,2*P+2*D),M[2*P+2*D+1]+=O*H,u(M,2*P+2*D+1),M[2*P+2*D+1]+=U*F,u(M,2*P+2*D+1),M[2*P+2*D+2]+=O*F,u(M,2*P+2*D+2)}for(P=0;P<E;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=E;P<2*E;P++)M[P]=0;return new R(M,0)};function u(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function g(b,E){this.g=b,this.h=E}function S(b,E){if(A(E))throw Error("division by zero");if(A(b))return new g(d,d);if(f(b))return E=S(h(b),E),new g(h(E.g),h(E.h));if(f(E))return E=S(b,h(E)),new g(h(E.g),E.h);if(30<b.g.length){if(f(b)||f(E))throw Error("slowDivide_ only works with positive integers.");for(var M=c,P=E;0>=P.l(b);)M=j(M),P=j(P);var D=_(M,1),O=_(P,1);for(P=_(P,2),M=_(M,2);!A(P);){var U=O.add(P);0>=U.l(b)&&(D=D.add(M),O=U),P=_(P,1),M=_(M,1)}return E=p(b,D.j(E)),new g(D,E)}for(D=d;0<=b.l(E);){for(M=Math.max(1,Math.floor(b.m()/E.m())),P=Math.ceil(Math.log(M)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=x(M),U=O.j(E);f(U)||0<U.l(b);)M-=P,O=x(M),U=O.j(E);A(O)&&(O=c),D=D.add(O),b=p(b,U)}return new g(D,b)}r.A=function(b){return S(this,b).h},r.and=function(b){for(var E=Math.max(this.g.length,b.g.length),M=[],P=0;P<E;P++)M[P]=this.i(P)&b.i(P);return new R(M,this.h&b.h)},r.or=function(b){for(var E=Math.max(this.g.length,b.g.length),M=[],P=0;P<E;P++)M[P]=this.i(P)|b.i(P);return new R(M,this.h|b.h)},r.xor=function(b){for(var E=Math.max(this.g.length,b.g.length),M=[],P=0;P<E;P++)M[P]=this.i(P)^b.i(P);return new R(M,this.h^b.h)};function j(b){for(var E=b.g.length+1,M=[],P=0;P<E;P++)M[P]=b.i(P)<<1|b.i(P-1)>>>31;return new R(M,b.h)}function _(b,E){var M=E>>5;E%=32;for(var P=b.g.length-M,D=[],O=0;O<P;O++)D[O]=0<E?b.i(O+M)>>>E|b.i(O+M+1)<<32-E:b.i(O+M);return new R(D,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,XC=i,R.prototype.add=R.prototype.add,R.prototype.multiply=R.prototype.j,R.prototype.modulo=R.prototype.A,R.prototype.compare=R.prototype.l,R.prototype.toNumber=R.prototype.m,R.prototype.toString=R.prototype.toString,R.prototype.getBits=R.prototype.i,R.fromNumber=x,R.fromString=m,jl=R}).apply(typeof S2<"u"?S2:typeof self<"u"?self:typeof window<"u"?window:{});var ep=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KC,oh,QC,bp,b0,ZC,JC,eR;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(L,J,se){return L==Array.prototype||L==Object.prototype||(L[J]=se.value),L};function s(L){L=[typeof globalThis=="object"&&globalThis,L,typeof window=="object"&&window,typeof self=="object"&&self,typeof ep=="object"&&ep];for(var J=0;J<L.length;++J){var se=L[J];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var i=s(this);function l(L,J){if(J)e:{var se=i;L=L.split(".");for(var we=0;we<L.length-1;we++){var Ge=L[we];if(!(Ge in se))break e;se=se[Ge]}L=L[L.length-1],we=se[L],J=J(we),J!=we&&J!=null&&t(se,L,{configurable:!0,writable:!0,value:J})}}function y(L,J){L instanceof String&&(L+="");var se=0,we=!1,Ge={next:function(){if(!we&&se<L.length){var it=se++;return{value:J(it,L[it]),done:!1}}return we=!0,{done:!0,value:void 0}}};return Ge[Symbol.iterator]=function(){return Ge},Ge}l("Array.prototype.values",function(L){return L||function(){return y(this,function(J,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var R=R||{},n=this||self;function C(L){var J=typeof L;return J=J!="object"?J:L?Array.isArray(L)?"array":J:"null",J=="array"||J=="object"&&typeof L.length=="number"}function x(L){var J=typeof L;return J=="object"&&L!=null||J=="function"}function m(L,J,se){return L.call.apply(L.bind,arguments)}function d(L,J,se){if(!L)throw Error();if(2<arguments.length){var we=Array.prototype.slice.call(arguments,2);return function(){var Ge=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ge,we),L.apply(J,Ge)}}return function(){return L.apply(J,arguments)}}function c(L,J,se){return c=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:d,c.apply(null,arguments)}function T(L,J){var se=Array.prototype.slice.call(arguments,1);return function(){var we=se.slice();return we.push.apply(we,arguments),L.apply(this,we)}}function A(L,J){function se(){}se.prototype=J.prototype,L.aa=J.prototype,L.prototype=new se,L.prototype.constructor=L,L.Qb=function(we,Ge,it){for(var kt=Array(arguments.length-2),Or=2;Or<arguments.length;Or++)kt[Or-2]=arguments[Or];return J.prototype[Ge].apply(we,kt)}}function f(L){const J=L.length;if(0<J){const se=Array(J);for(let we=0;we<J;we++)se[we]=L[we];return se}return[]}function h(L,J){for(let se=1;se<arguments.length;se++){const we=arguments[se];if(C(we)){const Ge=L.length||0,it=we.length||0;L.length=Ge+it;for(let kt=0;kt<it;kt++)L[Ge+kt]=we[kt]}else L.push(we)}}class p{constructor(J,se){this.i=J,this.j=se,this.h=0,this.g=null}get(){let J;return 0<this.h?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function u(L){return/^[\s\xa0]*$/.test(L)}function g(){var L=n.navigator;return L&&(L=L.userAgent)?L:""}function S(L){return S[" "](L),L}S[" "]=function(){};var j=g().indexOf("Gecko")!=-1&&!(g().toLowerCase().indexOf("webkit")!=-1&&g().indexOf("Edge")==-1)&&!(g().indexOf("Trident")!=-1||g().indexOf("MSIE")!=-1)&&g().indexOf("Edge")==-1;function _(L,J,se){for(const we in L)J.call(se,L[we],we,L)}function b(L,J){for(const se in L)J.call(void 0,L[se],se,L)}function E(L){const J={};for(const se in L)J[se]=L[se];return J}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(L,J){let se,we;for(let Ge=1;Ge<arguments.length;Ge++){we=arguments[Ge];for(se in we)L[se]=we[se];for(let it=0;it<M.length;it++)se=M[it],Object.prototype.hasOwnProperty.call(we,se)&&(L[se]=we[se])}}function D(L){var J=1;L=L.split(":");const se=[];for(;0<J&&L.length;)se.push(L.shift()),J--;return L.length&&se.push(L.join(":")),se}function O(L){n.setTimeout(()=>{throw L},0)}function U(){var L=V;let J=null;return L.g&&(J=L.g,L.g=L.g.next,L.g||(L.h=null),J.next=null),J}class F{constructor(){this.h=this.g=null}add(J,se){const we=H.get();we.set(J,se),this.h?this.h.next=we:this.g=we,this.h=we}}var H=new p(()=>new G,L=>L.reset());class G{constructor(){this.next=this.g=this.h=null}set(J,se){this.h=J,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,q=!1,V=new F,$=()=>{const L=n.Promise.resolve(void 0);Y=()=>{L.then(Q)}};var Q=()=>{for(var L;L=U();){try{L.h.call(L.g)}catch(se){O(se)}var J=H;J.j(L),100>J.h&&(J.h++,L.next=J.g,J.g=L)}q=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(L,J){this.type=L,this.g=this.target=J,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var L=!1,J=Object.defineProperty({},"passive",{get:function(){L=!0}});try{const se=()=>{};n.addEventListener("test",se,J),n.removeEventListener("test",se,J)}catch{}return L}();function ce(L,J){if(ne.call(this,L?L.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,L){var se=this.type=L.type,we=L.changedTouches&&L.changedTouches.length?L.changedTouches[0]:null;if(this.target=L.target||L.srcElement,this.g=J,J=L.relatedTarget){if(j){e:{try{S(J.nodeName);var Ge=!0;break e}catch{}Ge=!1}Ge||(J=null)}}else se=="mouseover"?J=L.fromElement:se=="mouseout"&&(J=L.toElement);this.relatedTarget=J,we?(this.clientX=we.clientX!==void 0?we.clientX:we.pageX,this.clientY=we.clientY!==void 0?we.clientY:we.pageY,this.screenX=we.screenX||0,this.screenY=we.screenY||0):(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0),this.button=L.button,this.key=L.key||"",this.ctrlKey=L.ctrlKey,this.altKey=L.altKey,this.shiftKey=L.shiftKey,this.metaKey=L.metaKey,this.pointerId=L.pointerId||0,this.pointerType=typeof L.pointerType=="string"?L.pointerType:de[L.pointerType]||"",this.state=L.state,this.i=L,L.defaultPrevented&&ce.aa.h.call(this)}}A(ce,ne);var de={2:"touch",3:"pen",4:"mouse"};ce.prototype.h=function(){ce.aa.h.call(this);var L=this.i;L.preventDefault?L.preventDefault():L.returnValue=!1};var X="closure_listenable_"+(1e6*Math.random()|0),Z=0;function ie(L,J,se,we,Ge){this.listener=L,this.proxy=null,this.src=J,this.type=se,this.capture=!!we,this.ha=Ge,this.key=++Z,this.da=this.fa=!1}function he(L){L.da=!0,L.listener=null,L.proxy=null,L.src=null,L.ha=null}function ye(L){this.src=L,this.g={},this.h=0}ye.prototype.add=function(L,J,se,we,Ge){var it=L.toString();L=this.g[it],L||(L=this.g[it]=[],this.h++);var kt=le(L,J,we,Ge);return-1<kt?(J=L[kt],se||(J.fa=!1)):(J=new ie(J,this.src,it,!!we,Ge),J.fa=se,L.push(J)),J};function ve(L,J){var se=J.type;if(se in L.g){var we=L.g[se],Ge=Array.prototype.indexOf.call(we,J,void 0),it;(it=0<=Ge)&&Array.prototype.splice.call(we,Ge,1),it&&(he(J),L.g[se].length==0&&(delete L.g[se],L.h--))}}function le(L,J,se,we){for(var Ge=0;Ge<L.length;++Ge){var it=L[Ge];if(!it.da&&it.listener==J&&it.capture==!!se&&it.ha==we)return Ge}return-1}var me="closure_lm_"+(1e6*Math.random()|0),Se={};function Re(L,J,se,we,Ge){if(Array.isArray(J)){for(var it=0;it<J.length;it++)Re(L,J[it],se,we,Ge);return null}return se=Yt(se),L&&L[X]?L.K(J,se,x(we)?!!we.capture:!1,Ge):Ee(L,J,se,!1,we,Ge)}function Ee(L,J,se,we,Ge,it){if(!J)throw Error("Invalid event type");var kt=x(Ge)?!!Ge.capture:!!Ge,Or=jt(L);if(Or||(L[me]=Or=new ye(L)),se=Or.add(J,se,we,kt,it),se.proxy)return se;if(we=Ae(),se.proxy=we,we.src=L,we.listener=se,L.addEventListener)ae||(Ge=kt),Ge===void 0&&(Ge=!1),L.addEventListener(J.toString(),we,Ge);else if(L.attachEvent)L.attachEvent($e(J.toString()),we);else if(L.addListener&&L.removeListener)L.addListener(we);else throw Error("addEventListener and attachEvent are unavailable.");return se}function Ae(){function L(se){return J.call(L.src,L.listener,se)}const J=at;return L}function Be(L,J,se,we,Ge){if(Array.isArray(J))for(var it=0;it<J.length;it++)Be(L,J[it],se,we,Ge);else we=x(we)?!!we.capture:!!we,se=Yt(se),L&&L[X]?(L=L.i,J=String(J).toString(),J in L.g&&(it=L.g[J],se=le(it,se,we,Ge),-1<se&&(he(it[se]),Array.prototype.splice.call(it,se,1),it.length==0&&(delete L.g[J],L.h--)))):L&&(L=jt(L))&&(J=L.g[J.toString()],L=-1,J&&(L=le(J,se,we,Ge)),(se=-1<L?J[L]:null)&&et(se))}function et(L){if(typeof L!="number"&&L&&!L.da){var J=L.src;if(J&&J[X])ve(J.i,L);else{var se=L.type,we=L.proxy;J.removeEventListener?J.removeEventListener(se,we,L.capture):J.detachEvent?J.detachEvent($e(se),we):J.addListener&&J.removeListener&&J.removeListener(we),(se=jt(J))?(ve(se,L),se.h==0&&(se.src=null,J[me]=null)):he(L)}}}function $e(L){return L in Se?Se[L]:Se[L]="on"+L}function at(L,J){if(L.da)L=!0;else{J=new ce(J,this);var se=L.listener,we=L.ha||L.src;L.fa&&et(L),L=se.call(we,J)}return L}function jt(L){return L=L[me],L instanceof ye?L:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yt(L){return typeof L=="function"?L:(L[_t]||(L[_t]=function(J){return L.handleEvent(J)}),L[_t])}function Tt(){te.call(this),this.i=new ye(this),this.M=this,this.F=null}A(Tt,te),Tt.prototype[X]=!0,Tt.prototype.removeEventListener=function(L,J,se,we){Be(this,L,J,se,we)};function je(L,J){var se,we=L.F;if(we)for(se=[];we;we=we.F)se.push(we);if(L=L.M,we=J.type||J,typeof J=="string")J=new ne(J,L);else if(J instanceof ne)J.target=J.target||L;else{var Ge=J;J=new ne(we,L),P(J,Ge)}if(Ge=!0,se)for(var it=se.length-1;0<=it;it--){var kt=J.g=se[it];Ge=We(kt,we,!0,J)&&Ge}if(kt=J.g=L,Ge=We(kt,we,!0,J)&&Ge,Ge=We(kt,we,!1,J)&&Ge,se)for(it=0;it<se.length;it++)kt=J.g=se[it],Ge=We(kt,we,!1,J)&&Ge}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var L=this.i,J;for(J in L.g){for(var se=L.g[J],we=0;we<se.length;we++)he(se[we]);delete L.g[J],L.h--}}this.F=null},Tt.prototype.K=function(L,J,se,we){return this.i.add(String(L),J,!1,se,we)},Tt.prototype.L=function(L,J,se,we){return this.i.add(String(L),J,!0,se,we)};function We(L,J,se,we){if(J=L.i.g[String(J)],!J)return!0;J=J.concat();for(var Ge=!0,it=0;it<J.length;++it){var kt=J[it];if(kt&&!kt.da&&kt.capture==se){var Or=kt.listener,Vn=kt.ha||kt.src;kt.fa&&ve(L.i,kt),Ge=Or.call(Vn,we)!==!1&&Ge}}return Ge&&!we.defaultPrevented}function Ye(L,J,se){if(typeof L=="function")se&&(L=c(L,se));else if(L&&typeof L.handleEvent=="function")L=c(L.handleEvent,L);else throw Error("Invalid listener argument");return 2147483647<Number(J)?-1:n.setTimeout(L,J||0)}function ft(L){L.g=Ye(()=>{L.g=null,L.i&&(L.i=!1,ft(L))},L.l);const J=L.h;L.h=null,L.m.apply(null,J)}class Ct extends te{constructor(J,se){super(),this.m=J,this.l=se,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(n.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vt(L){te.call(this),this.h=L,this.g={}}A(Vt,te);var Ot=[];function At(L){_(L.g,function(J,se){this.g.hasOwnProperty(se)&&et(J)},L),L.g={}}Vt.prototype.N=function(){Vt.aa.N.call(this),At(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=n.JSON.stringify,ue=n.JSON.parse,pe=class{stringify(L){return n.JSON.stringify(L,void 0)}parse(L){return n.JSON.parse(L,void 0)}};function xe(){}xe.prototype.h=null;function De(L){return L.h||(L.h=L.i())}function Ke(){}var mt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ht(){ne.call(this,"d")}A(ht,ne);function Le(){ne.call(this,"c")}A(Le,ne);var gt={},Mt=null;function sr(){return Mt=Mt||new Tt}gt.La="serverreachability";function mr(L){ne.call(this,gt.La,L)}A(mr,ne);function tr(L){const J=sr();je(J,new mr(J))}gt.STAT_EVENT="statevent";function er(L,J){ne.call(this,gt.STAT_EVENT,L),this.stat=J}A(er,ne);function $t(L){const J=sr();je(J,new er(J,L))}gt.Ma="timingevent";function kr(L,J){ne.call(this,gt.Ma,L),this.size=J}A(kr,ne);function Cr(L,J){if(typeof L!="function")throw Error("Fn must not be null and must be a function");return n.setTimeout(function(){L()},J)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function Fr(L,J,se,we,Ge,it){L.info(function(){if(L.g)if(it)for(var kt="",Or=it.split("&"),Vn=0;Vn<Or.length;Vn++){var Dr=Or[Vn].split("=");if(1<Dr.length){var zn=Dr[0];Dr=Dr[1];var br=zn.split("_");kt=2<=br.length&&br[1]=="type"?kt+(zn+"="+Dr+"&"):kt+(zn+"=redacted&")}}else kt=null;else kt=it;return"XMLHTTP REQ ("+we+") [attempt "+Ge+"]: "+J+`
`+se+`
`+kt})}function hn(L,J,se,we,Ge,it,kt){L.info(function(){return"XMLHTTP RESP ("+we+") [ attempt "+Ge+"]: "+J+`
`+se+`
`+it+" "+kt})}function wn(L,J,se,we){L.info(function(){return"XMLHTTP TEXT ("+J+"): "+Ir(L,se)+(we?" "+we:"")})}function lr(L,J){L.info(function(){return"TIMEOUT: "+J})}_n.prototype.info=function(){};function Ir(L,J){if(!L.g)return J;if(!J)return null;try{var se=JSON.parse(J);if(se){for(L=0;L<se.length;L++)if(Array.isArray(se[L])){var we=se[L];if(!(2>we.length)){var Ge=we[1];if(Array.isArray(Ge)&&!(1>Ge.length)){var it=Ge[0];if(it!="noop"&&it!="stop"&&it!="close")for(var kt=1;kt<Ge.length;kt++)Ge[kt]=""}}}}return fe(se)}catch{return J}}var Er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Oi;function no(){}A(no,xe),no.prototype.g=function(){return new XMLHttpRequest},no.prototype.i=function(){return{}},Oi=new no;function Js(L,J,se,we){this.j=L,this.i=J,this.l=se,this.R=we||1,this.U=new Vt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wo}function wo(){this.i=null,this.g="",this.h=!1}var bi={},ke={};function vt(L,J,se){L.L=1,L.v=Yo(Vr(J)),L.m=se,L.P=!0,Ut(L,null)}function Ut(L,J){L.F=Date.now(),st(L),L.A=Vr(L.v);var se=L.A,we=L.R;Array.isArray(we)||(we=[String(we)]),Zn(se.i,"t",we),L.C=0,se=L.j.J,L.h=new wo,L.g=ql(L.j,se?J:null,!L.m),0<L.O&&(L.M=new Ct(c(L.Y,L,L.g),L.O)),J=L.U,se=L.g,we=L.ca;var Ge="readystatechange";Array.isArray(Ge)||(Ge&&(Ot[0]=Ge.toString()),Ge=Ot);for(var it=0;it<Ge.length;it++){var kt=Re(se,Ge[it],we||J.handleEvent,!1,J.h||J);if(!kt)break;J.g[kt.key]=kt}J=L.H?E(L.H):{},L.m?(L.u||(L.u="POST"),J["Content-Type"]="application/x-www-form-urlencoded",L.g.ea(L.A,L.u,L.m,J)):(L.u="GET",L.g.ea(L.A,L.u,null,J)),tr(),Fr(L.i,L.u,L.A,L.l,L.R,L.m)}Js.prototype.ca=function(L){L=L.target;const J=this.M;J&&ys(L)==3?J.j():this.Y(L)},Js.prototype.Y=function(L){try{if(L==this.g)e:{const br=ys(this.g);var J=this.g.Ba();const ji=this.g.Z();if(!(3>br)&&(br!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||br!=4||J==7||(J==8||0>=ji?tr(3):tr(2)),Bt(this);var se=this.g.Z();this.X=se;t:if(pt(this)){var we=Uu(this.g);L="";var Ge=we.length,it=ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rt(this),Jt(this);var kt="";break t}this.h.i=new n.TextDecoder}for(J=0;J<Ge;J++)this.h.h=!0,L+=this.h.i.decode(we[J],{stream:!(it&&J==Ge-1)});we.length=0,this.h.g+=L,this.C=0,kt=this.h.g}else kt=this.g.oa();if(this.o=se==200,hn(this.i,this.u,this.A,this.l,this.R,br,se),this.o){if(this.T&&!this.K){t:{if(this.g){var Or,Vn=this.g;if((Or=Vn.g?Vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!u(Or)){var Dr=Or;break t}}Dr=null}if(se=Dr)wn(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kr(this,se);else{this.o=!1,this.s=3,$t(12),Rt(this),Jt(this);break e}}if(this.P){se=!0;let w;for(;!this.J&&this.C<kt.length;)if(w=ar(this,kt),w==ke){br==4&&(this.s=4,$t(14),se=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(w==bi){this.s=4,$t(15),wn(this.i,this.l,kt,"[Invalid Chunk]"),se=!1;break}else wn(this.i,this.l,w,null),Kr(this,w);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),br!=4||kt.length!=0||this.h.h||(this.s=1,$t(16),se=!1),this.o=this.o&&se,!se)wn(this.i,this.l,kt,"[Invalid Chunked Response]"),Rt(this),Jt(this);else if(0<kt.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+kt.length),Ao(zn),zn.M=!0,$t(11))}}else wn(this.i,this.l,kt,null),Kr(this,kt);br==4&&Rt(this),this.o&&!this.J&&(br==4?Hl(this.j,this):(this.o=!1,st(this)))}else Bi(this.g),se==400&&0<kt.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Rt(this),Jt(this)}}}catch{}finally{}};function pt(L){return L.g?L.u=="GET"&&L.L!=2&&L.j.Ca:!1}function ar(L,J){var se=L.C,we=J.indexOf(`
`,se);return we==-1?ke:(se=Number(J.substring(se,we)),isNaN(se)?bi:(we+=1,we+se>J.length?ke:(J=J.slice(we,we+se),L.C=we+se,J)))}Js.prototype.cancel=function(){this.J=!0,Rt(this)};function st(L){L.S=Date.now()+L.I,Wr(L,L.I)}function Wr(L,J){if(L.B!=null)throw Error("WatchDog timer not null");L.B=Cr(c(L.ba,L),J)}function Bt(L){L.B&&(n.clearTimeout(L.B),L.B=null)}Js.prototype.ba=function(){this.B=null;const L=Date.now();0<=L-this.S?(lr(this.i,this.A),this.L!=2&&(tr(),$t(17)),Rt(this),this.s=2,Jt(this)):Wr(this,this.S-L)};function Jt(L){L.j.G==0||L.J||Hl(L.j,L)}function Rt(L){Bt(L);var J=L.M;J&&typeof J.ma=="function"&&J.ma(),L.M=null,At(L.U),L.g&&(J=L.g,L.g=null,J.abort(),J.ma())}function Kr(L,J){try{var se=L.j;if(se.G!=0&&(se.g==L||jn(se.h,L))){if(!L.K&&jn(se.h,L)&&se.G==3){try{var we=se.Da.g.parse(J)}catch{we=null}if(Array.isArray(we)&&we.length==3){var Ge=we;if(Ge[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<L.F)Jo(se),Ko(se);else break e;La(se),$t(18)}}else se.za=Ge[1],0<se.za-se.T&&37500>Ge[2]&&se.F&&se.v==0&&!se.C&&(se.C=Cr(c(se.Za,se),6e3));if(1>=pn(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else Si(se,11)}else if((L.K||se.g==L)&&Jo(se),!u(J))for(Ge=se.Da.g.parse(J),J=0;J<Ge.length;J++){let Dr=Ge[J];if(se.T=Dr[0],Dr=Dr[1],se.G==2)if(Dr[0]=="c"){se.K=Dr[1],se.ia=Dr[2];const zn=Dr[3];zn!=null&&(se.la=zn,se.j.info("VER="+se.la));const br=Dr[4];br!=null&&(se.Aa=br,se.j.info("SVER="+se.Aa));const ji=Dr[5];ji!=null&&typeof ji=="number"&&0<ji&&(we=1.5*ji,se.L=we,se.j.info("backChannelRequestTimeoutMs_="+we)),we=se;const w=L.g;if(w){const I=w.g?w.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var it=we.h;it.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(An(it,it.h),it.h=null))}if(we.D){const N=w.g?w.g.getResponseHeader("X-HTTP-Session-Id"):null;N&&(we.ya=N,zr(we.I,we.D,N))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-L.F,se.j.info("Handshake RTT: "+se.R+"ms")),we=se;var kt=L;if(we.qa=Ua(we,we.J?we.ia:null,we.W),kt.K){sn(we.h,kt);var Or=kt,Vn=we.L;Vn&&(Or.I=Vn),Or.B&&(Bt(Or),st(Or)),we.g=kt}else zl(we);0<se.i.length&&Qo(se)}else Dr[0]!="stop"&&Dr[0]!="close"||Si(se,7);else se.G==3&&(Dr[0]=="stop"||Dr[0]=="close"?Dr[0]=="stop"?Si(se,7):Pa(se):Dr[0]!="noop"&&se.l&&se.l.ta(Dr),se.v=0)}}tr(4)}catch{}}var Fn=class{constructor(L,J){this.g=L,this.map=J}};function ms(L){this.l=L||10,n.PerformanceNavigationTiming?(L=n.performance.getEntriesByType("navigation"),L=0<L.length&&(L[0].nextHopProtocol=="hq"||L[0].nextHopProtocol=="h2")):L=!!(n.chrome&&n.chrome.loadTimes&&n.chrome.loadTimes()&&n.chrome.loadTimes().wasFetchedViaSpdy),this.j=L?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(L){return L.h?!0:L.g?L.g.size>=L.j:!1}function pn(L){return L.h?1:L.g?L.g.size:0}function jn(L,J){return L.h?L.h==J:L.g?L.g.has(J):!1}function An(L,J){L.g?L.g.add(J):L.h=J}function sn(L,J){L.h&&L.h==J?L.h=null:L.g&&L.g.has(J)&&L.g.delete(J)}ms.prototype.cancel=function(){if(this.i=Cs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const L of this.g.values())L.cancel();this.g.clear()}};function Cs(L){if(L.h!=null)return L.i.concat(L.h.D);if(L.g!=null&&L.g.size!==0){let J=L.i;for(const se of L.g.values())J=J.concat(se.D);return J}return f(L.i)}function Ll(L){if(L.V&&typeof L.V=="function")return L.V();if(typeof Map<"u"&&L instanceof Map||typeof Set<"u"&&L instanceof Set)return Array.from(L.values());if(typeof L=="string")return L.split("");if(C(L)){for(var J=[],se=L.length,we=0;we<se;we++)J.push(L[we]);return J}J=[],se=0;for(we in L)J[se++]=L[we];return J}function pd(L){if(L.na&&typeof L.na=="function")return L.na();if(!L.V||typeof L.V!="function"){if(typeof Map<"u"&&L instanceof Map)return Array.from(L.keys());if(!(typeof Set<"u"&&L instanceof Set)){if(C(L)||typeof L=="string"){var J=[];L=L.length;for(var se=0;se<L;se++)J.push(se);return J}J=[],se=0;for(const we in L)J[se++]=we;return J}}}function Wo(L,J){if(L.forEach&&typeof L.forEach=="function")L.forEach(J,void 0);else if(C(L)||typeof L=="string")Array.prototype.forEach.call(L,J,void 0);else for(var se=pd(L),we=Ll(L),Ge=we.length,it=0;it<Ge;it++)J.call(void 0,we[it],se&&se[it],L)}var Nl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ca(L,J){if(L){L=L.split("&");for(var se=0;se<L.length;se++){var we=L[se].indexOf("="),Ge=null;if(0<=we){var it=L[se].substring(0,we);Ge=L[se].substring(we+1)}else it=L[se];J(it,Ge?decodeURIComponent(Ge.replace(/\+/g," ")):"")}}}function so(L){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,L instanceof so){this.h=L.h,ei(this,L.j),this.o=L.o,this.g=L.g,Di(this,L.s),this.l=L.l;var J=L.i,se=new _i;se.i=J.i,J.g&&(se.g=new Map(J.g),se.h=J.h),Ra(this,se),this.m=L.m}else L&&(J=String(L).match(Nl))?(this.h=!1,ei(this,J[1]||"",!0),this.o=xo(J[2]||""),this.g=xo(J[3]||"",!0),Di(this,J[4]),this.l=xo(J[5]||"",!0),Ra(this,J[6]||"",!0),this.m=xo(J[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}so.prototype.toString=function(){var L=[],J=this.j;J&&L.push(ti(J,Ma,!0),":");var se=this.g;return(se||J=="file")&&(L.push("//"),(J=this.o)&&L.push(ti(J,Ma,!0),"@"),L.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&L.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&L.push("/"),L.push(ti(se,se.charAt(0)=="/"?ka:Nu,!0))),(se=this.i.toString())&&L.push("?",se),(se=this.m)&&L.push("#",ti(se,Ul)),L.join("")};function Vr(L){return new so(L)}function ei(L,J,se){L.j=se?xo(J,!0):J,L.j&&(L.j=L.j.replace(/:$/,""))}function Di(L,J){if(J){if(J=Number(J),isNaN(J)||0>J)throw Error("Bad port number "+J);L.s=J}else L.s=null}function Ra(L,J,se){J instanceof _i?(L.i=J,Ia(L.i,L.h)):(se||(J=ti(J,md)),L.i=new _i(J,L.h))}function zr(L,J,se){L.i.set(J,se)}function Yo(L){return zr(L,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),L}function xo(L,J){return L?J?decodeURI(L.replace(/%25/g,"%2525")):decodeURIComponent(L):""}function ti(L,J,se){return typeof L=="string"?(L=encodeURI(L).replace(J,Lu),se&&(L=L.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L):null}function Lu(L){return L=L.charCodeAt(0),"%"+(L>>4&15).toString(16)+(L&15).toString(16)}var Ma=/[#\/\?@]/g,Nu=/[#\?:]/g,ka=/[#\?]/g,md=/[#\?@]/g,Ul=/#/g;function _i(L,J){this.h=this.g=null,this.i=L||null,this.j=!!J}function ri(L){L.g||(L.g=new Map,L.h=0,L.i&&Ca(L.i,function(J,se){L.add(decodeURIComponent(J.replace(/\+/g," ")),se)}))}r=_i.prototype,r.add=function(L,J){ri(this),this.i=null,L=Pi(this,L);var se=this.g.get(L);return se||this.g.set(L,se=[]),se.push(J),this.h+=1,this};function io(L,J){ri(L),J=Pi(L,J),L.g.has(J)&&(L.i=null,L.h-=L.g.get(J).length,L.g.delete(J))}function hi(L,J){return ri(L),J=Pi(L,J),L.g.has(J)}r.forEach=function(L,J){ri(this),this.g.forEach(function(se,we){se.forEach(function(Ge){L.call(J,Ge,we,this)},this)},this)},r.na=function(){ri(this);const L=Array.from(this.g.values()),J=Array.from(this.g.keys()),se=[];for(let we=0;we<J.length;we++){const Ge=L[we];for(let it=0;it<Ge.length;it++)se.push(J[we])}return se},r.V=function(L){ri(this);let J=[];if(typeof L=="string")hi(this,L)&&(J=J.concat(this.g.get(Pi(this,L))));else{L=Array.from(this.g.values());for(let se=0;se<L.length;se++)J=J.concat(L[se])}return J},r.set=function(L,J){return ri(this),this.i=null,L=Pi(this,L),hi(this,L)&&(this.h-=this.g.get(L).length),this.g.set(L,[J]),this.h+=1,this},r.get=function(L,J){return L?(L=this.V(L),0<L.length?String(L[0]):J):J};function Zn(L,J,se){io(L,J),0<se.length&&(L.i=null,L.g.set(Pi(L,J),f(se)),L.h+=se.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const L=[],J=Array.from(this.g.keys());for(var se=0;se<J.length;se++){var we=J[se];const it=encodeURIComponent(String(we)),kt=this.V(we);for(we=0;we<kt.length;we++){var Ge=it;kt[we]!==""&&(Ge+="="+encodeURIComponent(String(kt[we]))),L.push(Ge)}}return this.i=L.join("&")};function Pi(L,J){return J=String(J),L.j&&(J=J.toLowerCase()),J}function Ia(L,J){J&&!L.j&&(ri(L),L.i=null,L.g.forEach(function(se,we){var Ge=we.toLowerCase();we!=Ge&&(io(this,we),Zn(this,Ge,se))},L)),L.j=J}function oo(L,J){const se=new _n;if(n.Image){const we=new Image;we.onload=T(fi,se,"TestLoadImage: loaded",!0,J,we),we.onerror=T(fi,se,"TestLoadImage: error",!1,J,we),we.onabort=T(fi,se,"TestLoadImage: abort",!1,J,we),we.ontimeout=T(fi,se,"TestLoadImage: timeout",!1,J,we),n.setTimeout(function(){we.ontimeout&&we.ontimeout()},1e4),we.src=L}else J(!1)}function So(L,J){const se=new _n,we=new AbortController,Ge=setTimeout(()=>{we.abort(),fi(se,"TestPingServer: timeout",!1,J)},1e4);fetch(L,{signal:we.signal}).then(it=>{clearTimeout(Ge),it.ok?fi(se,"TestPingServer: ok",!0,J):fi(se,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(Ge),fi(se,"TestPingServer: error",!1,J)})}function fi(L,J,se,we,Ge){try{Ge&&(Ge.onload=null,Ge.onerror=null,Ge.onabort=null,Ge.ontimeout=null),we(se)}catch{}}function ao(){this.g=new pe}function wi(L,J,se){const we=se||"";try{Wo(L,function(Ge,it){let kt=Ge;x(Ge)&&(kt=fe(Ge)),J.push(we+it+"="+encodeURIComponent(kt))})}catch(Ge){throw J.push(we+"type="+encodeURIComponent("_badmap")),Ge}}function Eo(L){this.l=L.Ub||null,this.j=L.eb||!1}A(Eo,xe),Eo.prototype.g=function(){return new Li(this.l,this.j)},Eo.prototype.i=function(L){return function(){return L}}({});function Li(L,J){Tt.call(this),this.D=L,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Li,Tt),r=Li.prototype,r.open=function(L,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=L,this.A=J,this.readyState=1,xi(this)},r.send=function(L){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const J={headers:this.u,method:this.B,credentials:this.m,cache:void 0};L&&(J.body=L),(this.D||n).fetch(new Request(this.A,J)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},r.Sa=function(L){if(this.g&&(this.l=L,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=L.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")L.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof n.ReadableStream<"u"&&"body"in L){if(this.j=L.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oa(this)}else L.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oa(L){L.j.read().then(L.Pa.bind(L)).catch(L.ga.bind(L))}r.Pa=function(L){if(this.g){if(this.o&&L.value)this.response.push(L.value);else if(!this.o){var J=L.value?L.value:new Uint8Array(0);(J=this.v.decode(J,{stream:!L.done}))&&(this.response=this.responseText+=J)}L.done?Ni(this):xi(this),this.readyState==3&&Oa(this)}},r.Ra=function(L){this.g&&(this.response=this.responseText=L,Ni(this))},r.Qa=function(L){this.g&&(this.response=L,Ni(this))},r.ga=function(){this.g&&Ni(this)};function Ni(L){L.readyState=4,L.l=null,L.j=null,L.v=null,xi(L)}r.setRequestHeader=function(L,J){this.u.append(L,J)},r.getResponseHeader=function(L){return this.h&&this.h.get(L.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const L=[],J=this.h.entries();for(var se=J.next();!se.done;)se=se.value,L.push(se[0]+": "+se[1]),se=J.next();return L.join(`\r
`)};function xi(L){L.onreadystatechange&&L.onreadystatechange.call(L)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(L){this.m=L?"include":"same-origin"}});function Bl(L){let J="";return _(L,function(se,we){J+=we,J+=":",J+=se,J+=`\r
`}),J}function Jn(L,J,se){e:{for(we in se){var we=!1;break e}we=!0}we||(se=Bl(se),typeof L=="string"?se!=null&&encodeURIComponent(String(se)):zr(L,J,se))}function Qr(L){Tt.call(this),this.headers=new Map,this.o=L||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Qr,Tt);var Da=/^https?$/i,jo=["POST","PUT"];r=Qr.prototype,r.Ha=function(L){this.J=L},r.ea=function(L,J,se,we){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+L);J=J?J.toUpperCase():"GET",this.D=L,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oi.g(),this.v=this.o?De(this.o):De(Oi),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(J,String(L),!0),this.B=!1}catch(it){ni(this,it);return}if(L=se||"",se=new Map(this.headers),we)if(Object.getPrototypeOf(we)===Object.prototype)for(var Ge in we)se.set(Ge,we[Ge]);else if(typeof we.keys=="function"&&typeof we.get=="function")for(const it of we.keys())se.set(it,we.get(it));else throw Error("Unknown input type for opt_headers: "+String(we));we=Array.from(se.keys()).find(it=>it.toLowerCase()=="content-type"),Ge=n.FormData&&L instanceof n.FormData,!(0<=Array.prototype.indexOf.call(jo,J,void 0))||we||Ge||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,kt]of se)this.g.setRequestHeader(it,kt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rs(this),this.u=!0,this.g.send(L),this.u=!1}catch(it){ni(this,it)}};function ni(L,J){L.h=!1,L.g&&(L.j=!0,L.g.abort(),L.j=!1),L.l=J,L.m=5,Us(L),Bs(L)}function Us(L){L.A||(L.A=!0,je(L,"complete"),je(L,"error"))}r.abort=function(L){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=L||7,je(this,"complete"),je(this,"abort"),Bs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),Qr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ui(this):this.bb())},r.bb=function(){Ui(this)};function Ui(L){if(L.h&&typeof R<"u"&&(!L.v[1]||ys(L)!=4||L.Z()!=2)){if(L.u&&ys(L)==4)Ye(L.Ea,0,L);else if(je(L,"readystatechange"),ys(L)==4){L.h=!1;try{const kt=L.Z();e:switch(kt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break e;default:J=!1}var se;if(!(se=J)){var we;if(we=kt===0){var Ge=String(L.D).match(Nl)[1]||null;!Ge&&n.self&&n.self.location&&(Ge=n.self.location.protocol.slice(0,-1)),we=!Da.test(Ge?Ge.toLowerCase():"")}se=we}if(se)je(L,"complete"),je(L,"success");else{L.m=6;try{var it=2<ys(L)?L.g.statusText:""}catch{it=""}L.l=it+" ["+L.Z()+"]",Us(L)}}finally{Bs(L)}}}}function Bs(L,J){if(L.g){Rs(L);const se=L.g,we=L.v[0]?()=>{}:null;L.g=null,L.v=null,J||je(L,"ready");try{se.onreadystatechange=we}catch{}}}function Rs(L){L.I&&(n.clearTimeout(L.I),L.I=null)}r.isActive=function(){return!!this.g};function ys(L){return L.g?L.g.readyState:0}r.Z=function(){try{return 2<ys(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(L){if(this.g){var J=this.g.responseText;return L&&J.indexOf(L)==0&&(J=J.substring(L.length)),ue(J)}};function Uu(L){try{if(!L.g)return null;if("response"in L.g)return L.g.response;switch(L.H){case"":case"text":return L.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in L.g)return L.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(L){const J={};L=(L.g&&2<=ys(L)&&L.g.getAllResponseHeaders()||"").split(`\r
`);for(let we=0;we<L.length;we++){if(u(L[we]))continue;var se=D(L[we]);const Ge=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const it=J[Ge]||[];J[Ge]=it,it.push(se)}b(J,function(we){return we.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(L,J,se){return se&&se.internalChannelParams&&se.internalChannelParams[L]||J}function Xo(L){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fi("failFast",!1,L),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fi("baseRetryDelayMs",5e3,L),this.cb=Fi("retryDelaySeedMs",1e4,L),this.Wa=Fi("forwardChannelMaxRetries",2,L),this.wa=Fi("forwardChannelRequestTimeoutMs",2e4,L),this.pa=L&&L.xmlHttpFactory||void 0,this.Xa=L&&L.Tb||void 0,this.Ca=L&&L.useFetchStreams||!1,this.L=void 0,this.J=L&&L.supportsCrossDomainXhr||!1,this.K="",this.h=new ms(L&&L.concurrentRequestLimit),this.Da=new ao,this.P=L&&L.fastHandshake||!1,this.O=L&&L.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=L&&L.Rb||!1,L&&L.xa&&this.j.xa(),L&&L.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&L&&L.detectBufferingProxy||!1,this.ja=void 0,L&&L.longPollingTimeout&&0<L.longPollingTimeout&&(this.ja=L.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xo.prototype,r.la=8,r.G=1,r.connect=function(L,J,se,we){$t(0),this.W=L,this.H=J||{},se&&we!==void 0&&(this.H.OSID=se,this.H.OAID=we),this.F=this.X,this.I=Ua(this,null,this.W),Qo(this)};function Pa(L){if(Fl(L),L.G==3){var J=L.U++,se=Vr(L.I);if(zr(se,"SID",L.K),zr(se,"RID",J),zr(se,"TYPE","terminate"),To(L,se),J=new Js(L,L.j,J),J.L=2,J.v=Yo(Vr(se)),se=!1,n.navigator&&n.navigator.sendBeacon)try{se=n.navigator.sendBeacon(J.v.toString(),"")}catch{}!se&&n.Image&&(new Image().src=J.v,se=!0),se||(J.g=ql(J.j,null),J.g.ea(J.v)),J.F=Date.now(),st(J)}ea(L)}function Ko(L){L.g&&(Ao(L),L.g.cancel(),L.g=null)}function Fl(L){Ko(L),L.u&&(n.clearTimeout(L.u),L.u=null),Jo(L),L.h.cancel(),L.s&&(typeof L.s=="number"&&n.clearTimeout(L.s),L.s=null)}function Qo(L){if(!fn(L.h)&&!L.s){L.s=!0;var J=L.Ga;Y||$(),q||(Y(),q=!0),V.add(J,L),L.B=0}}function Bu(L,J){return pn(L.h)>=L.h.j-(L.s?1:0)?!1:L.s?(L.i=J.D.concat(L.i),!0):L.G==1||L.G==2||L.B>=(L.Va?0:L.Wa)?!1:(L.s=Cr(c(L.Ga,L,J),Na(L,L.B)),L.B++,!0)}r.Ga=function(L){if(this.s)if(this.s=null,this.G==1){if(!L){this.U=Math.floor(1e5*Math.random()),L=this.U++;const Ge=new Js(this,this.j,L);let it=this.o;if(this.S&&(it?(it=E(it),P(it,this.S)):it=this.S),this.m!==null||this.O||(Ge.H=it,it=null),this.P)e:{for(var J=0,se=0;se<this.i.length;se++){t:{var we=this.i[se];if("__data__"in we.map&&(we=we.map.__data__,typeof we=="string")){we=we.length;break t}we=void 0}if(we===void 0)break;if(J+=we,4096<J){J=se;break e}if(J===4096||se===this.i.length-1){J=se+1;break e}}J=1e3}else J=1e3;J=Vl(this,Ge,J),se=Vr(this.I),zr(se,"RID",L),zr(se,"CVER",22),this.D&&zr(se,"X-HTTP-Session-Id",this.D),To(this,se),it&&(this.O?J="headers="+encodeURIComponent(String(Bl(it)))+"&"+J:this.m&&Jn(se,this.m,it)),An(this.h,Ge),this.Ua&&zr(se,"TYPE","init"),this.P?(zr(se,"$req",J),zr(se,"SID","null"),Ge.T=!0,vt(Ge,se,null)):vt(Ge,se,J),this.G=2}}else this.G==3&&(L?Zo(this,L):this.i.length==0||fn(this.h)||Zo(this))};function Zo(L,J){var se;J?se=J.l:se=L.U++;const we=Vr(L.I);zr(we,"SID",L.K),zr(we,"RID",se),zr(we,"AID",L.T),To(L,we),L.m&&L.o&&Jn(we,L.m,L.o),se=new Js(L,L.j,se,L.B+1),L.m===null&&(se.H=L.o),J&&(L.i=J.D.concat(L.i)),J=Vl(L,se,1e3),se.I=Math.round(.5*L.wa)+Math.round(.5*L.wa*Math.random()),An(L.h,se),vt(se,we,J)}function To(L,J){L.H&&_(L.H,function(se,we){zr(J,we,se)}),L.l&&Wo({},function(se,we){zr(J,we,se)})}function Vl(L,J,se){se=Math.min(L.i.length,se);var we=L.l?c(L.l.Na,L.l,L):null;e:{var Ge=L.i;let it=-1;for(;;){const kt=["count="+se];it==-1?0<se?(it=Ge[0].g,kt.push("ofs="+it)):it=0:kt.push("ofs="+it);let Or=!0;for(let Vn=0;Vn<se;Vn++){let Dr=Ge[Vn].g;const zn=Ge[Vn].map;if(Dr-=it,0>Dr)it=Math.max(0,Ge[Vn].g-100),Or=!1;else try{wi(zn,kt,"req"+Dr+"_")}catch{we&&we(zn)}}if(Or){we=kt.join("&");break e}}}return L=L.i.splice(0,se),J.D=L,we}function zl(L){if(!L.g&&!L.u){L.Y=1;var J=L.Fa;Y||$(),q||(Y(),q=!0),V.add(J,L),L.v=0}}function La(L){return L.g||L.u||3<=L.v?!1:(L.Y++,L.u=Cr(c(L.Fa,L),Na(L,L.v)),L.v++,!0)}r.Fa=function(){if(this.u=null,Gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var L=2*this.R;this.j.info("BP detection timer enabled: "+L),this.A=Cr(c(this.ab,this),L)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Ko(this),Gl(this))};function Ao(L){L.A!=null&&(n.clearTimeout(L.A),L.A=null)}function Gl(L){L.g=new Js(L,L.j,"rpc",L.Y),L.m===null&&(L.g.H=L.o),L.g.O=0;var J=Vr(L.qa);zr(J,"RID","rpc"),zr(J,"SID",L.K),zr(J,"AID",L.T),zr(J,"CI",L.F?"0":"1"),!L.F&&L.ja&&zr(J,"TO",L.ja),zr(J,"TYPE","xmlhttp"),To(L,J),L.m&&L.o&&Jn(J,L.m,L.o),L.L&&(L.g.I=L.L);var se=L.g;L=L.ia,se.L=1,se.v=Yo(Vr(J)),se.m=null,se.P=!0,Ut(se,L)}r.Za=function(){this.C!=null&&(this.C=null,Ko(this),La(this),$t(19))};function Jo(L){L.C!=null&&(n.clearTimeout(L.C),L.C=null)}function Hl(L,J){var se=null;if(L.g==J){Jo(L),Ao(L),L.g=null;var we=2}else if(jn(L.h,J))se=J.D,sn(L.h,J),we=1;else return;if(L.G!=0){if(J.o)if(we==1){se=J.m?J.m.length:0,J=Date.now()-J.F;var Ge=L.B;we=sr(),je(we,new kr(we,se)),Qo(L)}else zl(L);else if(Ge=J.s,Ge==3||Ge==0&&0<J.X||!(we==1&&Bu(L,J)||we==2&&La(L)))switch(se&&0<se.length&&(J=L.h,J.i=J.i.concat(se)),Ge){case 1:Si(L,5);break;case 4:Si(L,10);break;case 3:Si(L,6);break;default:Si(L,2)}}}function Na(L,J){let se=L.Ta+Math.floor(Math.random()*L.cb);return L.isActive()||(se*=2),se*J}function Si(L,J){if(L.j.info("Error code "+J),J==2){var se=c(L.fb,L),we=L.Xa;const Ge=!we;we=new so(we||"//www.google.com/images/cleardot.gif"),n.location&&n.location.protocol=="http"||ei(we,"https"),Yo(we),Ge?oo(we.toString(),se):So(we.toString(),se)}else $t(2);L.G=0,L.l&&L.l.sa(J),ea(L),Fl(L)}r.fb=function(L){L?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function ea(L){if(L.G=0,L.ka=[],L.l){const J=Cs(L.h);(J.length!=0||L.i.length!=0)&&(h(L.ka,J),h(L.ka,L.i),L.h.i.length=0,f(L.i),L.i.length=0),L.l.ra()}}function Ua(L,J,se){var we=se instanceof so?Vr(se):new so(se);if(we.g!="")J&&(we.g=J+"."+we.g),Di(we,we.s);else{var Ge=n.location;we=Ge.protocol,J=J?J+"."+Ge.hostname:Ge.hostname,Ge=+Ge.port;var it=new so(null);we&&ei(it,we),J&&(it.g=J),Ge&&Di(it,Ge),se&&(it.l=se),we=it}return se=L.D,J=L.ya,se&&J&&zr(we,se,J),zr(we,"VER",L.la),To(L,we),we}function ql(L,J,se){if(J&&!L.J)throw Error("Can't create secondary domain capable XhrIo object.");return J=L.Ca&&!L.pa?new Qr(new Eo({eb:se})):new Qr(L.pa),J.Ha(L.J),J}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ei(){}r=Ei.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function si(){}si.prototype.g=function(L,J){return new Pt(L,J)};function Pt(L,J){Tt.call(this),this.g=new Xo(J),this.l=L,this.h=J&&J.messageUrlParams||null,L=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(L?L["X-Client-Protocol"]="webchannel":L={"X-Client-Protocol":"webchannel"}),this.g.o=L,L=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(L?L["X-WebChannel-Content-Type"]=J.messageContentType:L={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.va&&(L?L["X-WebChannel-Client-Profile"]=J.va:L={"X-WebChannel-Client-Profile":J.va}),this.g.S=L,(L=J&&J.Sb)&&!u(L)&&(this.g.m=L),this.v=J&&J.supportsCrossDomainXhr||!1,this.u=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!u(J)&&(this.g.D=J,L=this.h,L!==null&&J in L&&(L=this.h,J in L&&delete L[J])),this.j=new Ms(this)}A(Pt,Tt),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Pa(this.g)},Pt.prototype.o=function(L){var J=this.g;if(typeof L=="string"){var se={};se.__data__=L,L=se}else this.u&&(se={},se.__data__=fe(L),L=se);J.i.push(new Fn(J.Ya++,L)),J.G==3&&Qo(J)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Pa(this.g),delete this.g,Pt.aa.N.call(this)};function Fu(L){ht.call(this),L.__headers__&&(this.headers=L.__headers__,this.statusCode=L.__status__,delete L.__headers__,delete L.__status__);var J=L.__sm__;if(J){e:{for(const se in J){L=se;break e}L=void 0}(this.i=L)&&(L=this.i,J=J!==null&&L in J?J[L]:void 0),this.data=J}else this.data=L}A(Fu,ht);function $l(){Le.call(this),this.status=1}A($l,Le);function Ms(L){this.g=L}A(Ms,Ei),Ms.prototype.ua=function(){je(this.g,"a")},Ms.prototype.ta=function(L){je(this.g,new Fu(L))},Ms.prototype.sa=function(L){je(this.g,new $l)},Ms.prototype.ra=function(){je(this.g,"b")},si.prototype.createWebChannel=si.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,eR=function(){return new si},JC=function(){return sr()},ZC=gt,b0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,bp=Er,jr.COMPLETE="complete",QC=jr,Ke.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,oh=Ke,Qr.prototype.listenOnce=Qr.prototype.L,Qr.prototype.getLastError=Qr.prototype.Ka,Qr.prototype.getLastErrorCode=Qr.prototype.Ba,Qr.prototype.getStatus=Qr.prototype.Z,Qr.prototype.getResponseJson=Qr.prototype.Oa,Qr.prototype.getResponseText=Qr.prototype.oa,Qr.prototype.send=Qr.prototype.ea,Qr.prototype.setWithCredentials=Qr.prototype.Ha,KC=Qr}).apply(typeof ep<"u"?ep:typeof self<"u"?self:typeof window<"u"?window:{});const E2="@firebase/firestore",j2="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ws.UNAUTHENTICATED=new Ws(null),Ws.GOOGLE_CREDENTIALS=new Ws("google-credentials-uid"),Ws.FIRST_PARTY=new Ws("first-party-uid"),Ws.MOCK_USER=new Ws("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Nb("@firebase/firestore");function yc(){return ku.logLevel}function qt(r,...t){if(ku.logLevel<=Lr.DEBUG){const s=t.map(Fb);ku.debug(`Firestore (${ld}): ${r}`,...s)}}function Sa(r,...t){if(ku.logLevel<=Lr.ERROR){const s=t.map(Fb);ku.error(`Firestore (${ld}): ${r}`,...s)}}function qc(r,...t){if(ku.logLevel<=Lr.WARN){const s=t.map(Fb);ku.warn(`Firestore (${ld}): ${r}`,...s)}}function Fb(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(r,t,s){let i="Unexpected state";typeof t=="string"?i=t:s=t,tR(r,i,s)}function tR(r,t,s){let i=`FIRESTORE (${ld}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(s!==void 0)try{i+=" CONTEXT: "+JSON.stringify(s)}catch{i+=" CONTEXT: "+s}throw Sa(i),new Error(i)}function Dn(r,t,s,i){let l="Unexpected state";typeof s=="string"?l=s:i=s,r||tR(t,l,i)}function $r(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends Aa{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class j9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable(()=>s(Ws.UNAUTHENTICATED))}shutdown(){}}class T9{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class A9{constructor(t){this.t=t,this.currentUser=Ws.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){Dn(this.o===void 0,42304);let i=this.i;const l=C=>this.i!==i?(i=this.i,s(C)):Promise.resolve();let y=new jc;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new jc,t.enqueueRetryable(()=>l(this.currentUser))};const R=()=>{const C=y;t.enqueueRetryable(async()=>{await C.promise,await l(this.currentUser)})},n=C=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.o&&(this.auth.addAuthTokenListener(this.o),R())};this.t.onInit(C=>n(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?n(C):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new jc)}},0),R()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(i=>this.i!==t?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dn(typeof i.accessToken=="string",31837,{l:i}),new rR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Dn(t===null||typeof t=="string",2055,{h:t}),new Ws(t)}}class C9{constructor(t,s,i){this.P=t,this.T=s,this.I=i,this.type="FirstParty",this.user=Ws.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R9{constructor(t,s,i){this.P=t,this.T=s,this.I=i}getToken(){return Promise.resolve(new C9(this.P,this.T,this.I))}start(t,s){t.enqueueRetryable(()=>s(Ws.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M9{constructor(t,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bo(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,s){Dn(this.o===void 0,3512);const i=y=>{y.error!=null&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const R=y.token!==this.m;return this.m=y.token,qt("FirebaseAppCheckTokenProvider",`Received ${R?"new":"existing"} token.`),R?s(y.token):Promise.resolve()};this.o=y=>{t.enqueueRetryable(()=>i(y))};const l=y=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(y=>l(y)),setTimeout(()=>{if(!this.appCheck){const y=this.V.getImmediate({optional:!0});y?l(y):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new T2(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(s=>s?(Dn(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new T2(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(s);else for(let i=0;i<r;i++)s[i]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=k9(40);for(let y=0;y<l.length;++y)i.length<20&&l[y]<s&&(i+=t.charAt(l[y]%62))}return i}}function Ar(r,t){return r<t?-1:r>t?1:0}function _0(r,t){let s=0;for(;s<r.length&&s<t.length;){const i=r.codePointAt(s),l=t.codePointAt(s);if(i!==l){if(i<128&&l<128)return Ar(i,l);{const y=nR(),R=O9(y.encode(A2(r,s)),y.encode(A2(t,s)));return R!==0?R:Ar(i,l)}}s+=i>65535?2:1}return Ar(r.length,t.length)}function A2(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function O9(r,t){for(let s=0;s<r.length&&s<t.length;++s)if(r[s]!==t[s])return Ar(r[s],t[s]);return Ar(r.length,t.length)}function $c(r,t,s){return r.length===t.length&&r.every((i,l)=>s(i,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=-62135596800,R2=1e6;class As{static now(){return As.fromMillis(Date.now())}static fromDate(t){return As.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),i=Math.floor((t-1e3*s)*R2);return new As(s,i)}constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new Kt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new Kt(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<C2)throw new Kt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Kt(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R2}_compareTo(t){return this.seconds===t.seconds?Ar(this.nanoseconds,t.nanoseconds):Ar(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-C2;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{static fromTimestamp(t){return new fr(t)}static min(){return new fr(new As(0,0))}static max(){return new fr(new As(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="__name__";class Lo{constructor(t,s,i){s===void 0?s=0:s>t.length&&pr(637,{offset:s,range:t.length}),i===void 0?i=t.length-s:i>t.length-s&&pr(1746,{length:i,range:t.length-s}),this.segments=t,this.offset=s,this.len=i}get length(){return this.len}isEqual(t){return Lo.comparator(this,t)===0}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof Lo?t.forEach(i=>{s.push(i)}):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,i=this.limit();s<i;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const i=Math.min(t.length,s.length);for(let l=0;l<i;l++){const y=Lo.compareSegments(t.get(l),s.get(l));if(y!==0)return y}return Ar(t.length,s.length)}static compareSegments(t,s){const i=Lo.isNumericId(t),l=Lo.isNumericId(s);return i&&!l?-1:!i&&l?1:i&&l?Lo.extractNumericId(t).compare(Lo.extractNumericId(s)):_0(t,s)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return jl.fromString(t.substring(4,t.length-2))}}class On extends Lo{construct(t,s,i){return new On(t,s,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const s=[];for(const i of t){if(i.indexOf("//")>=0)throw new Kt(It.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);s.push(...i.split("/").filter(l=>l.length>0))}return new On(s)}static emptyPath(){return new On([])}}const D9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xs extends Lo{construct(t,s,i){return new Xs(t,s,i)}static isValidIdentifier(t){return D9.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M2}static keyField(){return new Xs([M2])}static fromServerFormat(t){const s=[];let i="",l=0;const y=()=>{if(i.length===0)throw new Kt(It.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(i),i=""};let R=!1;for(;l<t.length;){const n=t[l];if(n==="\\"){if(l+1===t.length)throw new Kt(It.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const C=t[l+1];if(C!=="\\"&&C!=="."&&C!=="`")throw new Kt(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=C,l+=2}else n==="`"?(R=!R,l++):n!=="."||R?(i+=n,l++):(y(),l++)}if(y(),R)throw new Kt(It.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xs(s)}static emptyPath(){return new Xs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.path=t}static fromPath(t){return new nr(On.fromString(t))}static fromName(t){return new nr(On.fromString(t).popFirst(5))}static empty(){return new nr(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&On.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,s){return On.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nr(new On(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=-1;function P9(r,t){const s=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,l=fr.fromTimestamp(i===1e9?new As(s+1,0):new As(s,i));return new Rl(l,nr.empty(),t)}function L9(r){return new Rl(r.readTime,r.key,kh)}class Rl{constructor(t,s,i){this.readTime=t,this.documentKey=s,this.largestBatchId=i}static min(){return new Rl(fr.min(),nr.empty(),kh)}static max(){return new Rl(fr.max(),nr.empty(),kh)}}function N9(r,t){let s=r.readTime.compareTo(t.readTime);return s!==0?s:(s=nr.comparator(r.documentKey,t.documentKey),s!==0?s:Ar(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mm(r){if(r.code!==It.FAILED_PRECONDITION||r.message!==U9)throw r;qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&pr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new bt((i,l)=>{this.nextCallback=y=>{this.wrapSuccess(t,y).next(i,l)},this.catchCallback=y=>{this.wrapFailure(s,y).next(i,l)}})}toPromise(){return new Promise((t,s)=>{this.next(t,s)})}wrapUserFunction(t){try{const s=t();return s instanceof bt?s:bt.resolve(s)}catch(s){return bt.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction(()=>t(s)):bt.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction(()=>t(s)):bt.reject(s)}static resolve(t){return new bt((s,i)=>{s(t)})}static reject(t){return new bt((s,i)=>{i(t)})}static waitFor(t){return new bt((s,i)=>{let l=0,y=0,R=!1;t.forEach(n=>{++l,n.next(()=>{++y,R&&y===l&&s()},C=>i(C))}),R=!0,y===l&&s()})}static or(t){let s=bt.resolve(!1);for(const i of t)s=s.next(l=>l?bt.resolve(l):i());return s}static forEach(t,s){const i=[];return t.forEach((l,y)=>{i.push(s.call(this,l,y))}),this.waitFor(i)}static mapArray(t,s){return new bt((i,l)=>{const y=t.length,R=new Array(y);let n=0;for(let C=0;C<y;C++){const x=C;s(t[x]).next(m=>{R[x]=m,++n,n===y&&i(R)},m=>l(m))}})}static doWhile(t,s){return new bt((i,l)=>{const y=()=>{t()===!0?s().next(()=>{y()},l):i()};y()})}}function F9(r){const t=r.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function ud(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>s.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}km.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=-1;function Im(r){return r==null}function $p(r){return r===0&&1/r==-1/0}function z9(r){return typeof r=="number"&&Number.isInteger(r)&&!$p(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="";function G9(r){let t="";for(let s=0;s<r.length;s++)t.length>0&&(t=k2(t)),t=H9(r.get(s),t);return k2(t)}function H9(r,t){let s=t;const i=r.length;for(let l=0;l<i;l++){const y=r.charAt(l);switch(y){case"\0":s+="";break;case sR:s+="";break;default:s+=y}}return s}function k2(r){return r+sR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r){let t=0;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t++;return t}function cd(r,t){for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t(s,r[s])}function iR(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(t,s){this.comparator=t,this.root=s||Ps.EMPTY}insert(t,s){return new Qn(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(t){return new Qn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}indexOf(t){let s=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(t,i.key);if(l===0)return s+i.left.size;l<0?i=i.left:(s+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((s,i)=>(t(s,i),!1))}toString(){const t=[];return this.inorderTraversal((s,i)=>(t.push(`${s}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new tp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new tp(this.root,t,this.comparator,!1)}getReverseIterator(){return new tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new tp(this.root,t,this.comparator,!0)}}class tp{constructor(t,s,i,l){this.isReverse=l,this.nodeStack=[];let y=1;for(;!t.isEmpty();)if(y=s?i(t.key,s):1,s&&l&&(y*=-1),y<0)t=this.isReverse?t.left:t.right;else{if(y===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ps{constructor(t,s,i,l,y){this.key=t,this.value=s,this.color=i??Ps.RED,this.left=l??Ps.EMPTY,this.right=y??Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,i,l,y){return new Ps(t??this.key,s??this.value,i??this.color,l??this.left,y??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,i){let l=this;const y=i(t,l.key);return l=y<0?l.copy(null,null,null,l.left.insert(t,s,i),null):y===0?l.copy(null,s,null,null,null):l.copy(null,null,null,null,l.right.insert(t,s,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let i,l=this;if(s(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,s),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),s(t,l.key)===0){if(l.right.isEmpty())return Ps.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,s))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pr(27949);return t+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1;Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw pr(57766)}get value(){throw pr(16141)}get color(){throw pr(16727)}get left(){throw pr(29726)}get right(){throw pr(36894)}copy(t,s,i,l,y){return this}insert(t,s,i){return new Ps(t,s)}remove(t,s){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.comparator=t,this.data=new Qn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((s,i)=>(t(s),!1))}forEachInRange(t,s){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,t[1])>=0)return;s(l.key)}}forEachWhile(t,s){let i;for(i=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new O2(this.data.getIterator())}getIteratorFrom(t){return new O2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach(i=>{s=s.add(i)}),s}isEqual(t){if(!(t instanceof ps)||this.size!==t.size)return!1;const s=this.data.getIterator(),i=t.data.getIterator();for(;s.hasNext();){const l=s.getNext().key,y=i.getNext().key;if(this.comparator(l,y)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(s=>{t.push(s)}),t}toString(){const t=[];return this.forEach(s=>t.push(s)),"SortedSet("+t.toString()+")"}copy(t){const s=new ps(this.comparator);return s.data=t,s}}class O2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(t){this.fields=t,t.sort(Xs.comparator)}static empty(){return new bl([])}unionWith(t){let s=new ps(Xs.comparator);for(const i of this.fields)s=s.add(i);for(const i of t)s=s.add(i);return new bl(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return $c(this.fields,t.fields,(s,i)=>s.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.binaryString=t}static fromBase64String(t){const s=function(l){try{return atob(l)}catch(y){throw typeof DOMException<"u"&&y instanceof DOMException?new oR("Invalid base64 string: "+y):y}}(t);return new Ls(s)}static fromUint8Array(t){const s=function(l){let y="";for(let R=0;R<l.length;++R)y+=String.fromCharCode(l[R]);return y}(t);return new Ls(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const i=new Uint8Array(s.length);for(let l=0;l<s.length;l++)i[l]=s.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ar(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ls.EMPTY_BYTE_STRING=new Ls("");const q9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(r){if(Dn(!!r,39018),typeof r=="string"){let t=0;const s=q9.exec(r);if(Dn(!!s,46558,{timestamp:r}),s[1]){let l=s[1];l=(l+"000000000").substr(0,9),t=Number(l)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wn(r.seconds),nanos:Wn(r.nanos)}}function Wn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function kl(r){return typeof r=="string"?Ls.fromBase64String(r):Ls.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="server_timestamp",lR="__type__",uR="__previous_value__",cR="__local_write_time__";function Vb(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[lR])===null||s===void 0?void 0:s.stringValue)===aR}function Om(r){const t=r.mapValue.fields[uR];return Vb(t)?Om(t):t}function Ih(r){const t=Ml(r.mapValue.fields[cR].timestampValue);return new As(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(t,s,i,l,y,R,n,C,x){this.databaseId=t,this.appId=s,this.persistenceKey=i,this.host=l,this.ssl=y,this.forceLongPolling=R,this.autoDetectLongPolling=n,this.longPollingOptions=C,this.useFetchStreams=x}}const Wp="(default)";class Oh{constructor(t,s){this.projectId=t,this.database=s||Wp}static empty(){return new Oh("","")}get isDefaultDatabase(){return this.database===Wp}isEqual(t){return t instanceof Oh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="__type__",W9="__max__",rp={mapValue:{}},hR="__vector__",Yp="value";function Il(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Vb(r)?4:X9(r)?9007199254740991:Y9(r)?10:11:pr(28295,{value:r})}function qo(r,t){if(r===t)return!0;const s=Il(r);if(s!==Il(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ih(r).isEqual(Ih(t));case 3:return function(l,y){if(typeof l.timestampValue=="string"&&typeof y.timestampValue=="string"&&l.timestampValue.length===y.timestampValue.length)return l.timestampValue===y.timestampValue;const R=Ml(l.timestampValue),n=Ml(y.timestampValue);return R.seconds===n.seconds&&R.nanos===n.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,y){return kl(l.bytesValue).isEqual(kl(y.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,y){return Wn(l.geoPointValue.latitude)===Wn(y.geoPointValue.latitude)&&Wn(l.geoPointValue.longitude)===Wn(y.geoPointValue.longitude)}(r,t);case 2:return function(l,y){if("integerValue"in l&&"integerValue"in y)return Wn(l.integerValue)===Wn(y.integerValue);if("doubleValue"in l&&"doubleValue"in y){const R=Wn(l.doubleValue),n=Wn(y.doubleValue);return R===n?$p(R)===$p(n):isNaN(R)&&isNaN(n)}return!1}(r,t);case 9:return $c(r.arrayValue.values||[],t.arrayValue.values||[],qo);case 10:case 11:return function(l,y){const R=l.mapValue.fields||{},n=y.mapValue.fields||{};if(I2(R)!==I2(n))return!1;for(const C in R)if(R.hasOwnProperty(C)&&(n[C]===void 0||!qo(R[C],n[C])))return!1;return!0}(r,t);default:return pr(52216,{left:r})}}function Dh(r,t){return(r.values||[]).find(s=>qo(s,t))!==void 0}function Wc(r,t){if(r===t)return 0;const s=Il(r),i=Il(t);if(s!==i)return Ar(s,i);switch(s){case 0:case 9007199254740991:return 0;case 1:return Ar(r.booleanValue,t.booleanValue);case 2:return function(y,R){const n=Wn(y.integerValue||y.doubleValue),C=Wn(R.integerValue||R.doubleValue);return n<C?-1:n>C?1:n===C?0:isNaN(n)?isNaN(C)?0:-1:1}(r,t);case 3:return D2(r.timestampValue,t.timestampValue);case 4:return D2(Ih(r),Ih(t));case 5:return _0(r.stringValue,t.stringValue);case 6:return function(y,R){const n=kl(y),C=kl(R);return n.compareTo(C)}(r.bytesValue,t.bytesValue);case 7:return function(y,R){const n=y.split("/"),C=R.split("/");for(let x=0;x<n.length&&x<C.length;x++){const m=Ar(n[x],C[x]);if(m!==0)return m}return Ar(n.length,C.length)}(r.referenceValue,t.referenceValue);case 8:return function(y,R){const n=Ar(Wn(y.latitude),Wn(R.latitude));return n!==0?n:Ar(Wn(y.longitude),Wn(R.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return P2(r.arrayValue,t.arrayValue);case 10:return function(y,R){var n,C,x,m;const d=y.fields||{},c=R.fields||{},T=(n=d[Yp])===null||n===void 0?void 0:n.arrayValue,A=(C=c[Yp])===null||C===void 0?void 0:C.arrayValue,f=Ar(((x=T==null?void 0:T.values)===null||x===void 0?void 0:x.length)||0,((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0);return f!==0?f:P2(T,A)}(r.mapValue,t.mapValue);case 11:return function(y,R){if(y===rp.mapValue&&R===rp.mapValue)return 0;if(y===rp.mapValue)return 1;if(R===rp.mapValue)return-1;const n=y.fields||{},C=Object.keys(n),x=R.fields||{},m=Object.keys(x);C.sort(),m.sort();for(let d=0;d<C.length&&d<m.length;++d){const c=_0(C[d],m[d]);if(c!==0)return c;const T=Wc(n[C[d]],x[m[d]]);if(T!==0)return T}return Ar(C.length,m.length)}(r.mapValue,t.mapValue);default:throw pr(23264,{Pe:s})}}function D2(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ar(r,t);const s=Ml(r),i=Ml(t),l=Ar(s.seconds,i.seconds);return l!==0?l:Ar(s.nanos,i.nanos)}function P2(r,t){const s=r.values||[],i=t.values||[];for(let l=0;l<s.length&&l<i.length;++l){const y=Wc(s[l],i[l]);if(y)return y}return Ar(s.length,i.length)}function Yc(r){return w0(r)}function w0(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const i=Ml(s);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(s){return kl(s).toBase64()}(r.bytesValue):"referenceValue"in r?function(s){return nr.fromName(s).toString()}(r.referenceValue):"geoPointValue"in r?function(s){return`geo(${s.latitude},${s.longitude})`}(r.geoPointValue):"arrayValue"in r?function(s){let i="[",l=!0;for(const y of s.values||[])l?l=!1:i+=",",i+=w0(y);return i+"]"}(r.arrayValue):"mapValue"in r?function(s){const i=Object.keys(s.fields||{}).sort();let l="{",y=!0;for(const R of i)y?y=!1:l+=",",l+=`${R}:${w0(s.fields[R])}`;return l+"}"}(r.mapValue):pr(61005,{value:r})}function _p(r){switch(Il(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Om(r);return t?16+_p(t):16;case 5:return 2*r.stringValue.length;case 6:return kl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,y)=>l+_p(y),0)}(r.arrayValue);case 10:case 11:return function(i){let l=0;return cd(i.fields,(y,R)=>{l+=y.length+_p(R)}),l}(r.mapValue);default:throw pr(13486,{value:r})}}function L2(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function x0(r){return!!r&&"integerValue"in r}function zb(r){return!!r&&"arrayValue"in r}function N2(r){return!!r&&"nullValue"in r}function U2(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ov(r){return!!r&&"mapValue"in r}function Y9(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[dR])===null||s===void 0?void 0:s.stringValue)===hR}function vh(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return cd(r.mapValue.fields,(s,i)=>t.mapValue.fields[s]=vh(i)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(r.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=vh(r.arrayValue.values[s]);return t}return Object.assign({},r)}function X9(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===W9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.value=t}static empty(){return new Fo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let i=0;i<t.length-1;++i)if(s=(s.mapValue.fields||{})[t.get(i)],!Ov(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=vh(s)}setAll(t){let s=Xs.emptyPath(),i={},l=[];t.forEach((R,n)=>{if(!s.isImmediateParentOf(n)){const C=this.getFieldsMap(s);this.applyChanges(C,i,l),i={},l=[],s=n.popLast()}R?i[n.lastSegment()]=vh(R):l.push(n.lastSegment())});const y=this.getFieldsMap(s);this.applyChanges(y,i,l)}delete(t){const s=this.field(t.popLast());Ov(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return qo(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let i=0;i<t.length;++i){let l=s.mapValue.fields[t.get(i)];Ov(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},s.mapValue.fields[t.get(i)]=l),s=l}return s.mapValue.fields}applyChanges(t,s,i){cd(s,(l,y)=>t[l]=y);for(const l of i)delete t[l]}clone(){return new Fo(vh(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,s,i,l,y,R,n){this.key=t,this.documentType=s,this.version=i,this.readTime=l,this.createTime=y,this.data=R,this.documentState=n}static newInvalidDocument(t){return new Ys(t,0,fr.min(),fr.min(),fr.min(),Fo.empty(),0)}static newFoundDocument(t,s,i,l){return new Ys(t,1,s,fr.min(),i,l,0)}static newNoDocument(t,s){return new Ys(t,2,s,fr.min(),fr.min(),Fo.empty(),0)}static newUnknownDocument(t,s){return new Ys(t,3,s,fr.min(),fr.min(),Fo.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(fr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ys&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,s){this.position=t,this.inclusive=s}}function B2(r,t,s){let i=0;for(let l=0;l<r.position.length;l++){const y=t[l],R=r.position[l];if(y.field.isKeyField()?i=nr.comparator(nr.fromName(R.referenceValue),s.key):i=Wc(R,s.data.field(y.field)),y.dir==="desc"&&(i*=-1),i!==0)break}return i}function F2(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let s=0;s<r.position.length;s++)if(!qo(r.position[s],t.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,s="asc"){this.field=t,this.dir=s}}function K9(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{}class as extends fR{constructor(t,s,i){super(),this.field=t,this.op=s,this.value=i}static create(t,s,i){return t.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(t,s,i):new Z9(t,s,i):s==="array-contains"?new t7(t,i):s==="in"?new r7(t,i):s==="not-in"?new n7(t,i):s==="array-contains-any"?new s7(t,i):new as(t,s,i)}static createKeyFieldInFilter(t,s,i){return s==="in"?new J9(t,i):new e7(t,i)}matches(t){const s=t.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(Wc(s,this.value)):s!==null&&Il(this.value)===Il(s)&&this.matchesComparison(Wc(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vo extends fR{constructor(t,s){super(),this.filters=t,this.op=s,this.Te=null}static create(t,s){return new vo(t,s)}matches(t){return pR(this)?this.filters.find(s=>!s.matches(t))===void 0:this.filters.find(s=>s.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,s)=>t.concat(s.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function pR(r){return r.op==="and"}function mR(r){return Q9(r)&&pR(r)}function Q9(r){for(const t of r.filters)if(t instanceof vo)return!1;return!0}function S0(r){if(r instanceof as)return r.field.canonicalString()+r.op.toString()+Yc(r.value);if(mR(r))return r.filters.map(t=>S0(t)).join(",");{const t=r.filters.map(s=>S0(s)).join(",");return`${r.op}(${t})`}}function yR(r,t){return r instanceof as?function(i,l){return l instanceof as&&i.op===l.op&&i.field.isEqual(l.field)&&qo(i.value,l.value)}(r,t):r instanceof vo?function(i,l){return l instanceof vo&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((y,R,n)=>y&&yR(R,l.filters[n]),!0):!1}(r,t):void pr(19439)}function gR(r){return r instanceof as?function(s){return`${s.field.canonicalString()} ${s.op} ${Yc(s.value)}`}(r):r instanceof vo?function(s){return s.op.toString()+" {"+s.getFilters().map(gR).join(" ,")+"}"}(r):"Filter"}class Z9 extends as{constructor(t,s,i){super(t,s,i),this.key=nr.fromName(i.referenceValue)}matches(t){const s=nr.comparator(t.key,this.key);return this.matchesComparison(s)}}class J9 extends as{constructor(t,s){super(t,"in",s),this.keys=vR("in",s)}matches(t){return this.keys.some(s=>s.isEqual(t.key))}}class e7 extends as{constructor(t,s){super(t,"not-in",s),this.keys=vR("not-in",s)}matches(t){return!this.keys.some(s=>s.isEqual(t.key))}}function vR(r,t){var s;return(((s=t.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(i=>nr.fromName(i.referenceValue))}class t7 extends as{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return zb(s)&&Dh(s.arrayValue,this.value)}}class r7 extends as{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return s!==null&&Dh(this.value.arrayValue,s)}}class n7 extends as{constructor(t,s){super(t,"not-in",s)}matches(t){if(Dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return s!==null&&s.nullValue===void 0&&!Dh(this.value.arrayValue,s)}}class s7 extends as{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!zb(s)||!s.arrayValue.values)&&s.arrayValue.values.some(i=>Dh(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t,s=null,i=[],l=[],y=null,R=null,n=null){this.path=t,this.collectionGroup=s,this.orderBy=i,this.filters=l,this.limit=y,this.startAt=R,this.endAt=n,this.Ie=null}}function V2(r,t=null,s=[],i=[],l=null,y=null,R=null){return new i7(r,t,s,i,l,y,R)}function Gb(r){const t=$r(r);if(t.Ie===null){let s=t.path.canonicalString();t.collectionGroup!==null&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map(i=>S0(i)).join(","),s+="|ob:",s+=t.orderBy.map(i=>function(y){return y.field.canonicalString()+y.dir}(i)).join(","),Im(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(i=>Yc(i)).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(i=>Yc(i)).join(",")),t.Ie=s}return t.Ie}function Hb(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!K9(r.orderBy[s],t.orderBy[s]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(!yR(r.filters[s],t.filters[s]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!F2(r.startAt,t.startAt)&&F2(r.endAt,t.endAt)}function E0(r){return nr.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,s=null,i=[],l=[],y=null,R="F",n=null,C=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=i,this.filters=l,this.limit=y,this.limitType=R,this.startAt=n,this.endAt=C,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function o7(r,t,s,i,l,y,R,n){return new dd(r,t,s,i,l,y,R,n)}function qb(r){return new dd(r)}function z2(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function bR(r){return r.collectionGroup!==null}function bh(r){const t=$r(r);if(t.Ee===null){t.Ee=[];const s=new Set;for(const y of t.explicitOrderBy)t.Ee.push(y),s.add(y.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(R){let n=new ps(Xs.comparator);return R.filters.forEach(C=>{C.getFlattenedFilters().forEach(x=>{x.isInequality()&&(n=n.add(x.field))})}),n})(t).forEach(y=>{s.has(y.canonicalString())||y.isKeyField()||t.Ee.push(new Ph(y,i))}),s.has(Xs.keyField().canonicalString())||t.Ee.push(new Ph(Xs.keyField(),i))}return t.Ee}function zo(r){const t=$r(r);return t.de||(t.de=a7(t,bh(r))),t.de}function a7(r,t){if(r.limitType==="F")return V2(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const y=l.dir==="desc"?"asc":"desc";return new Ph(l.field,y)});const s=r.endAt?new Xp(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Xp(r.startAt.position,r.startAt.inclusive):null;return V2(r.path,r.collectionGroup,t,r.filters,r.limit,s,i)}}function j0(r,t){const s=r.filters.concat([t]);return new dd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),s,r.limit,r.limitType,r.startAt,r.endAt)}function Kp(r,t,s){return new dd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,s,r.startAt,r.endAt)}function Dm(r,t){return Hb(zo(r),zo(t))&&r.limitType===t.limitType}function _R(r){return`${Gb(zo(r))}|lt:${r.limitType}`}function gc(r){return`Query(target=${function(s){let i=s.path.canonicalString();return s.collectionGroup!==null&&(i+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(i+=`, filters: [${s.filters.map(l=>gR(l)).join(", ")}]`),Im(s.limit)||(i+=", limit: "+s.limit),s.orderBy.length>0&&(i+=`, orderBy: [${s.orderBy.map(l=>function(R){return`${R.field.canonicalString()} (${R.dir})`}(l)).join(", ")}]`),s.startAt&&(i+=", startAt: ",i+=s.startAt.inclusive?"b:":"a:",i+=s.startAt.position.map(l=>Yc(l)).join(",")),s.endAt&&(i+=", endAt: ",i+=s.endAt.inclusive?"a:":"b:",i+=s.endAt.position.map(l=>Yc(l)).join(",")),`Target(${i})`}(zo(r))}; limitType=${r.limitType})`}function Pm(r,t){return t.isFoundDocument()&&function(i,l){const y=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(y):nr.isDocumentKey(i.path)?i.path.isEqual(y):i.path.isImmediateParentOf(y)}(r,t)&&function(i,l){for(const y of bh(i))if(!y.field.isKeyField()&&l.data.field(y.field)===null)return!1;return!0}(r,t)&&function(i,l){for(const y of i.filters)if(!y.matches(l))return!1;return!0}(r,t)&&function(i,l){return!(i.startAt&&!function(R,n,C){const x=B2(R,n,C);return R.inclusive?x<=0:x<0}(i.startAt,bh(i),l)||i.endAt&&!function(R,n,C){const x=B2(R,n,C);return R.inclusive?x>=0:x>0}(i.endAt,bh(i),l))}(r,t)}function l7(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function wR(r){return(t,s)=>{let i=!1;for(const l of bh(r)){const y=u7(l,t,s);if(y!==0)return y;i=i||l.field.isKeyField()}return 0}}function u7(r,t,s){const i=r.field.isKeyField()?nr.comparator(t.key,s.key):function(y,R,n){const C=R.data.field(y),x=n.data.field(y);return C!==null&&x!==null?Wc(C,x):pr(42886)}(r.field,t,s);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return pr(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i!==void 0){for(const[l,y]of i)if(this.equalsFn(l,t))return y}}has(t){return this.get(t)!==void 0}set(t,s){const i=this.mapKeyFn(t),l=this.inner[i];if(l===void 0)return this.inner[i]=[[t,s]],void this.innerSize++;for(let y=0;y<l.length;y++)if(this.equalsFn(l[y][0],t))return void(l[y]=[t,s]);l.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],t))return i.length===1?delete this.inner[s]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(t){cd(this.inner,(s,i)=>{for(const[l,y]of i)t(l,y)})}isEmpty(){return iR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=new Qn(nr.comparator);function Ol(){return c7}const xR=new Qn(nr.comparator);function ah(...r){let t=xR;for(const s of r)t=t.insert(s.key,s);return t}function d7(r){let t=xR;return r.forEach((s,i)=>t=t.insert(s,i.overlayedDocument)),t}function _u(){return _h()}function SR(){return _h()}function _h(){return new Pu(r=>r.toString(),(r,t)=>r.isEqual(t))}const h7=new ps(nr.comparator);function Xr(...r){let t=h7;for(const s of r)t=t.add(s);return t}const f7=new ps(Ar);function p7(){return f7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$p(t)?"-0":t}}function ER(r){return{integerValue:""+r}}function m7(r,t){return z9(t)?ER(t):$b(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this._=void 0}}function y7(r,t,s){return r instanceof T0?function(l,y){const R={fields:{[lR]:{stringValue:aR},[cR]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return y&&Vb(y)&&(y=Om(y)),y&&(R.fields[uR]=y),{mapValue:R}}(s,t):r instanceof Qp?jR(r,t):r instanceof Zp?TR(r,t):function(l,y){const R=v7(l,y),n=G2(R)+G2(l.Re);return x0(R)&&x0(l.Re)?ER(n):$b(l.serializer,n)}(r,t)}function g7(r,t,s){return r instanceof Qp?jR(r,t):r instanceof Zp?TR(r,t):s}function v7(r,t){return r instanceof A0?function(i){return x0(i)||function(y){return!!y&&"doubleValue"in y}(i)}(t)?t:{integerValue:0}:null}class T0 extends Lm{}class Qp extends Lm{constructor(t){super(),this.elements=t}}function jR(r,t){const s=AR(t);for(const i of r.elements)s.some(l=>qo(l,i))||s.push(i);return{arrayValue:{values:s}}}class Zp extends Lm{constructor(t){super(),this.elements=t}}function TR(r,t){let s=AR(t);for(const i of r.elements)s=s.filter(l=>!qo(l,i));return{arrayValue:{values:s}}}class A0 extends Lm{constructor(t,s){super(),this.serializer=t,this.Re=s}}function G2(r){return Wn(r.integerValue||r.doubleValue)}function AR(r){return zb(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function b7(r,t){return r.field.isEqual(t.field)&&function(i,l){return i instanceof Qp&&l instanceof Qp||i instanceof Zp&&l instanceof Zp?$c(i.elements,l.elements,qo):i instanceof A0&&l instanceof A0?qo(i.Re,l.Re):i instanceof T0&&l instanceof T0}(r.transform,t.transform)}class ju{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new ju}static exists(t){return new ju(void 0,t)}static updateTime(t){return new ju(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wp(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Wb{}function CR(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new w7(r.key,ju.none()):new Yb(r.key,r.data,ju.none());{const s=r.data,i=Fo.empty();let l=new ps(Xs.comparator);for(let y of t.fields)if(!l.has(y)){let R=s.field(y);R===null&&y.length>1&&(y=y.popLast(),R=s.field(y)),R===null?i.delete(y):i.set(y,R),l=l.add(y)}return new Nm(r.key,i,new bl(l.toArray()),ju.none())}}function _7(r,t,s){r instanceof Yb?function(l,y,R){const n=l.value.clone(),C=q2(l.fieldTransforms,y,R.transformResults);n.setAll(C),y.convertToFoundDocument(R.version,n).setHasCommittedMutations()}(r,t,s):r instanceof Nm?function(l,y,R){if(!wp(l.precondition,y))return void y.convertToUnknownDocument(R.version);const n=q2(l.fieldTransforms,y,R.transformResults),C=y.data;C.setAll(RR(l)),C.setAll(n),y.convertToFoundDocument(R.version,C).setHasCommittedMutations()}(r,t,s):function(l,y,R){y.convertToNoDocument(R.version).setHasCommittedMutations()}(0,t,s)}function wh(r,t,s,i){return r instanceof Yb?function(y,R,n,C){if(!wp(y.precondition,R))return n;const x=y.value.clone(),m=$2(y.fieldTransforms,C,R);return x.setAll(m),R.convertToFoundDocument(R.version,x).setHasLocalMutations(),null}(r,t,s,i):r instanceof Nm?function(y,R,n,C){if(!wp(y.precondition,R))return n;const x=$2(y.fieldTransforms,C,R),m=R.data;return m.setAll(RR(y)),m.setAll(x),R.convertToFoundDocument(R.version,m).setHasLocalMutations(),n===null?null:n.unionWith(y.fieldMask.fields).unionWith(y.fieldTransforms.map(d=>d.field))}(r,t,s,i):function(y,R,n){return wp(y.precondition,R)?(R.convertToNoDocument(R.version).setHasLocalMutations(),null):n}(r,t,s)}function H2(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&$c(i,l,(y,R)=>b7(y,R))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yb extends Wb{constructor(t,s,i,l=[]){super(),this.key=t,this.value=s,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Nm extends Wb{constructor(t,s,i,l,y=[]){super(),this.key=t,this.data=s,this.fieldMask=i,this.precondition=l,this.fieldTransforms=y,this.type=1}getFieldMask(){return this.fieldMask}}function RR(r){const t=new Map;return r.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const i=r.data.field(s);t.set(s,i)}}),t}function q2(r,t,s){const i=new Map;Dn(r.length===s.length,32656,{Ve:s.length,me:r.length});for(let l=0;l<s.length;l++){const y=r[l],R=y.transform,n=t.data.field(y.field);i.set(y.field,g7(R,n,s[l]))}return i}function $2(r,t,s){const i=new Map;for(const l of r){const y=l.transform,R=s.data.field(l.field);i.set(l.field,y7(y,R,t))}return i}class w7 extends Wb{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(t,s,i,l){this.batchId=t,this.localWriteTime=s,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(t,s){const i=s.mutationResults;for(let l=0;l<this.mutations.length;l++){const y=this.mutations[l];y.key.isEqual(t.key)&&_7(y,t,i[l])}}applyToLocalView(t,s){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(s=wh(i,t,s,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(s=wh(i,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const i=SR();return this.mutations.forEach(l=>{const y=t.get(l.key),R=y.overlayedDocument;let n=this.applyToLocalView(R,y.mutatedFields);n=s.has(l.key)?null:n;const C=CR(R,n);C!==null&&i.set(l.key,C),R.isValidDocument()||R.convertToNoDocument(fr.min())}),i}keys(){return this.mutations.reduce((t,s)=>t.add(s.key),Xr())}isEqual(t){return this.batchId===t.batchId&&$c(this.mutations,t.mutations,(s,i)=>H2(s,i))&&$c(this.baseMutations,t.baseMutations,(s,i)=>H2(s,i))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(t,s){this.count=t,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ss,Hr;function MR(r){if(r===void 0)return Sa("GRPC error has no .code"),It.UNKNOWN;switch(r){case ss.OK:return It.OK;case ss.CANCELLED:return It.CANCELLED;case ss.UNKNOWN:return It.UNKNOWN;case ss.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case ss.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case ss.INTERNAL:return It.INTERNAL;case ss.UNAVAILABLE:return It.UNAVAILABLE;case ss.UNAUTHENTICATED:return It.UNAUTHENTICATED;case ss.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case ss.NOT_FOUND:return It.NOT_FOUND;case ss.ALREADY_EXISTS:return It.ALREADY_EXISTS;case ss.PERMISSION_DENIED:return It.PERMISSION_DENIED;case ss.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case ss.ABORTED:return It.ABORTED;case ss.OUT_OF_RANGE:return It.OUT_OF_RANGE;case ss.UNIMPLEMENTED:return It.UNIMPLEMENTED;case ss.DATA_LOSS:return It.DATA_LOSS;default:return pr(39323,{code:r})}}(Hr=ss||(ss={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=new jl([4294967295,4294967295],0);function W2(r){const t=nR().encode(r),s=new XC;return s.update(t),new Uint8Array(s.digest())}function Y2(r){const t=new DataView(r.buffer),s=t.getUint32(0,!0),i=t.getUint32(4,!0),l=t.getUint32(8,!0),y=t.getUint32(12,!0);return[new jl([s,i],0),new jl([l,y],0)]}class Xb{constructor(t,s,i){if(this.bitmap=t,this.padding=s,this.hashCount=i,s<0||s>=8)throw new lh(`Invalid padding: ${s}`);if(i<0)throw new lh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${i}`);if(t.length===0&&s!==0)throw new lh(`Invalid padding when bitmap length is 0: ${s}`);this.pe=8*t.length-s,this.ye=jl.fromNumber(this.pe)}we(t,s,i){let l=t.add(s.multiply(jl.fromNumber(i)));return l.compare(j7)===1&&(l=new jl([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const s=W2(t),[i,l]=Y2(s);for(let y=0;y<this.hashCount;y++){const R=this.we(i,l,y);if(!this.be(R))return!1}return!0}static create(t,s,i){const l=t%8==0?0:8-t%8,y=new Uint8Array(Math.ceil(t/8)),R=new Xb(y,l,s);return i.forEach(n=>R.insert(n)),R}insert(t){if(this.pe===0)return;const s=W2(t),[i,l]=Y2(s);for(let y=0;y<this.hashCount;y++){const R=this.we(i,l,y);this.Se(R)}}Se(t){const s=Math.floor(t/8),i=t%8;this.bitmap[s]|=1<<i}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,s,i,l,y){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=y}static createSynthesizedRemoteEventForCurrentChange(t,s,i){const l=new Map;return l.set(t,zh.createSynthesizedTargetChangeForCurrentChange(t,s,i)),new Um(fr.min(),l,new Qn(Ar),Ol(),Xr())}}class zh{constructor(t,s,i,l,y){this.resumeToken=t,this.current=s,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=y}static createSynthesizedTargetChangeForCurrentChange(t,s,i){return new zh(i,s,Xr(),Xr(),Xr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t,s,i,l){this.De=t,this.removedTargetIds=s,this.key=i,this.ve=l}}class kR{constructor(t,s){this.targetId=t,this.Ce=s}}class IR{constructor(t,s,i=Ls.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=s,this.resumeToken=i,this.cause=l}}class X2{constructor(){this.Fe=0,this.Me=K2(),this.xe=Ls.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Xr(),s=Xr(),i=Xr();return this.Me.forEach((l,y)=>{switch(y){case 0:t=t.add(l);break;case 2:s=s.add(l);break;case 1:i=i.add(l);break;default:pr(38017,{changeType:y})}}),new zh(this.xe,this.Oe,t,s,i)}Qe(){this.Ne=!1,this.Me=K2()}$e(t,s){this.Ne=!0,this.Me=this.Me.insert(t,s)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Dn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class T7{constructor(t){this.ze=t,this.je=new Map,this.He=Ol(),this.Je=np(),this.Ye=np(),this.Ze=new Qn(Ar)}Xe(t){for(const s of t.De)t.ve&&t.ve.isFoundDocument()?this.et(s,t.ve):this.tt(s,t.key,t.ve);for(const s of t.removedTargetIds)this.tt(s,t.key,t.ve)}nt(t){this.forEachTarget(t,s=>{const i=this.rt(s);switch(t.state){case 0:this.it(s)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(s);break;case 3:this.it(s)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(s)&&(this.st(s),i.ke(t.resumeToken));break;default:pr(56790,{state:t.state})}})}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.je.forEach((i,l)=>{this.it(l)&&s(l)})}ot(t){const s=t.targetId,i=t.Ce.count,l=this._t(s);if(l){const y=l.target;if(E0(y))if(i===0){const R=new nr(y.path);this.tt(s,R,Ys.newNoDocument(R,fr.min()))}else Dn(i===1,20013,{expectedCount:i});else{const R=this.ut(s);if(R!==i){const n=this.ct(t),C=n?this.lt(n,t,R):1;if(C!==0){this.st(s);const x=C===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(s,x)}}}}}ct(t){const s=t.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:y=0}=s;let R,n;try{R=kl(i).toUint8Array()}catch(C){if(C instanceof oR)return qc("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw C}try{n=new Xb(R,l,y)}catch(C){return qc(C instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",C),null}return n.pe===0?null:n}lt(t,s,i){return s.Ce.count===i-this.Tt(t,s.targetId)?0:2}Tt(t,s){const i=this.ze.getRemoteKeysForTarget(s);let l=0;return i.forEach(y=>{const R=this.ze.Pt(),n=`projects/${R.projectId}/databases/${R.database}/documents/${y.path.canonicalString()}`;t.mightContain(n)||(this.tt(s,y,null),l++)}),l}It(t){const s=new Map;this.je.forEach((y,R)=>{const n=this._t(R);if(n){if(y.current&&E0(n.target)){const C=new nr(n.target.path);this.Et(C).has(R)||this.dt(R,C)||this.tt(R,C,Ys.newNoDocument(C,t))}y.Le&&(s.set(R,y.qe()),y.Qe())}});let i=Xr();this.Ye.forEach((y,R)=>{let n=!0;R.forEachWhile(C=>{const x=this._t(C);return!x||x.purpose==="TargetPurposeLimboResolution"||(n=!1,!1)}),n&&(i=i.add(y))}),this.He.forEach((y,R)=>R.setReadTime(t));const l=new Um(t,s,this.Ze,this.He,i);return this.He=Ol(),this.Je=np(),this.Ye=np(),this.Ze=new Qn(Ar),l}et(t,s){if(!this.it(t))return;const i=this.dt(t,s.key)?2:0;this.rt(t).$e(s.key,i),this.He=this.He.insert(s.key,s),this.Je=this.Je.insert(s.key,this.Et(s.key).add(t)),this.Ye=this.Ye.insert(s.key,this.At(s.key).add(t))}tt(t,s,i){if(!this.it(t))return;const l=this.rt(t);this.dt(t,s)?l.$e(s,1):l.Ue(s),this.Ye=this.Ye.insert(s,this.At(s).delete(t)),this.Ye=this.Ye.insert(s,this.At(s).add(t)),i&&(this.He=this.He.insert(s,i))}removeTarget(t){this.je.delete(t)}ut(t){const s=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let s=this.je.get(t);return s||(s=new X2,this.je.set(t,s)),s}At(t){let s=this.Ye.get(t);return s||(s=new ps(Ar),this.Ye=this.Ye.insert(t,s)),s}Et(t){let s=this.Je.get(t);return s||(s=new ps(Ar),this.Je=this.Je.insert(t,s)),s}it(t){const s=this._t(t)!==null;return s||qt("WatchChangeAggregator","Detected inactive target",t),s}_t(t){const s=this.je.get(t);return s&&s.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new X2),this.ze.getRemoteKeysForTarget(t).forEach(s=>{this.tt(t,s,null)})}dt(t,s){return this.ze.getRemoteKeysForTarget(t).has(s)}}function np(){return new Qn(nr.comparator)}function K2(){return new Qn(nr.comparator)}const A7={asc:"ASCENDING",desc:"DESCENDING"},C7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R7={and:"AND",or:"OR"};class M7{constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function C0(r,t){return r.useProto3Json||Im(t)?t:{value:t}}function R0(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OR(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Tc(r){return Dn(!!r,49232),fr.fromTimestamp(function(s){const i=Ml(s);return new As(i.seconds,i.nanos)}(r))}function DR(r,t){return M0(r,t).canonicalString()}function M0(r,t){const s=function(l){return new On(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?s:s.child(t)}function PR(r){const t=On.fromString(r);return Dn(FR(t),10190,{key:t.toString()}),t}function Dv(r,t){const s=PR(t);if(s.get(1)!==r.databaseId.projectId)throw new Kt(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+r.databaseId.projectId);if(s.get(3)!==r.databaseId.database)throw new Kt(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+r.databaseId.database);return new nr(NR(s))}function LR(r,t){return DR(r.databaseId,t)}function k7(r){const t=PR(r);return t.length===4?On.emptyPath():NR(t)}function Q2(r){return new On(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function NR(r){return Dn(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function I7(r,t){let s;if("targetChange"in t){t.targetChange;const i=function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:pr(39313,{state:x})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],y=function(x,m){return x.useProto3Json?(Dn(m===void 0||typeof m=="string",58123),Ls.fromBase64String(m||"")):(Dn(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Ls.fromUint8Array(m||new Uint8Array))}(r,t.targetChange.resumeToken),R=t.targetChange.cause,n=R&&function(x){const m=x.code===void 0?It.UNKNOWN:MR(x.code);return new Kt(m,x.message||"")}(R);s=new IR(i,l,y,n||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const l=Dv(r,i.document.name),y=Tc(i.document.updateTime),R=i.document.createTime?Tc(i.document.createTime):fr.min(),n=new Fo({mapValue:{fields:i.document.fields}}),C=Ys.newFoundDocument(l,y,R,n),x=i.targetIds||[],m=i.removedTargetIds||[];s=new xp(x,m,C.key,C)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const l=Dv(r,i.document),y=i.readTime?Tc(i.readTime):fr.min(),R=Ys.newNoDocument(l,y),n=i.removedTargetIds||[];s=new xp([],n,R.key,R)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const l=Dv(r,i.document),y=i.removedTargetIds||[];s=new xp([],y,l,null)}else{if(!("filter"in t))return pr(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:l=0,unchangedNames:y}=i,R=new E7(l,y),n=i.targetId;s=new kR(n,R)}}return s}function O7(r,t){return{documents:[LR(r,t.path)]}}function D7(r,t){const s={structuredQuery:{}},i=t.path;let l;t.collectionGroup!==null?(l=i,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=i.popLast(),s.structuredQuery.from=[{collectionId:i.lastSegment()}]),s.parent=LR(r,l);const y=function(x){if(x.length!==0)return BR(vo.create(x,"and"))}(t.filters);y&&(s.structuredQuery.where=y);const R=function(x){if(x.length!==0)return x.map(m=>function(c){return{field:vc(c.field),direction:N7(c.dir)}}(m))}(t.orderBy);R&&(s.structuredQuery.orderBy=R);const n=C0(r,t.limit);return n!==null&&(s.structuredQuery.limit=n),t.startAt&&(s.structuredQuery.startAt=function(x){return{before:x.inclusive,values:x.position}}(t.startAt)),t.endAt&&(s.structuredQuery.endAt=function(x){return{before:!x.inclusive,values:x.position}}(t.endAt)),{gt:s,parent:l}}function P7(r){let t=k7(r.parent);const s=r.structuredQuery,i=s.from?s.from.length:0;let l=null;if(i>0){Dn(i===1,65062);const m=s.from[0];m.allDescendants?l=m.collectionId:t=t.child(m.collectionId)}let y=[];s.where&&(y=function(d){const c=UR(d);return c instanceof vo&&mR(c)?c.getFilters():[c]}(s.where));let R=[];s.orderBy&&(R=function(d){return d.map(c=>function(A){return new Ph(bc(A.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(c))}(s.orderBy));let n=null;s.limit&&(n=function(d){let c;return c=typeof d=="object"?d.value:d,Im(c)?null:c}(s.limit));let C=null;s.startAt&&(C=function(d){const c=!!d.before,T=d.values||[];return new Xp(T,c)}(s.startAt));let x=null;return s.endAt&&(x=function(d){const c=!d.before,T=d.values||[];return new Xp(T,c)}(s.endAt)),o7(t,l,R,y,n,"F",C,x)}function L7(r,t){const s=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pr(28987,{purpose:l})}}(t.purpose);return s==null?null:{"goog-listen-tags":s}}function UR(r){return r.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const i=bc(s.unaryFilter.field);return as.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=bc(s.unaryFilter.field);return as.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const y=bc(s.unaryFilter.field);return as.create(y,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const R=bc(s.unaryFilter.field);return as.create(R,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pr(61313);default:return pr(60726)}}(r):r.fieldFilter!==void 0?function(s){return as.create(bc(s.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pr(58110);default:return pr(50506)}}(s.fieldFilter.op),s.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(s){return vo.create(s.compositeFilter.filters.map(i=>UR(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pr(1026)}}(s.compositeFilter.op))}(r):pr(30097,{filter:r})}function N7(r){return A7[r]}function U7(r){return C7[r]}function B7(r){return R7[r]}function vc(r){return{fieldPath:r.canonicalString()}}function bc(r){return Xs.fromServerFormat(r.fieldPath)}function BR(r){return r instanceof as?function(s){if(s.op==="=="){if(U2(s.value))return{unaryFilter:{field:vc(s.field),op:"IS_NAN"}};if(N2(s.value))return{unaryFilter:{field:vc(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(U2(s.value))return{unaryFilter:{field:vc(s.field),op:"IS_NOT_NAN"}};if(N2(s.value))return{unaryFilter:{field:vc(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vc(s.field),op:U7(s.op),value:s.value}}}(r):r instanceof vo?function(s){const i=s.getFilters().map(l=>BR(l));return i.length===1?i[0]:{compositeFilter:{op:B7(s.op),filters:i}}}(r):pr(54877,{filter:r})}function FR(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,s,i,l,y=fr.min(),R=fr.min(),n=Ls.EMPTY_BYTE_STRING,C=null){this.target=t,this.targetId=s,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=R,this.resumeToken=n,this.expectedCount=C}withSequenceNumber(t){return new _l(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(t){this.wt=t}}function V7(r){const t=P7({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z7{constructor(){this.yn=new G7}addToCollectionParentIndex(t,s){return this.yn.add(s),bt.resolve()}getCollectionParents(t,s){return bt.resolve(this.yn.getEntries(s))}addFieldIndex(t,s){return bt.resolve()}deleteFieldIndex(t,s){return bt.resolve()}deleteAllFieldIndexes(t){return bt.resolve()}createTargetIndexes(t,s){return bt.resolve()}getDocumentsMatchingTarget(t,s){return bt.resolve(null)}getIndexType(t,s){return bt.resolve(0)}getFieldIndexes(t,s){return bt.resolve([])}getNextCollectionGroupToUpdate(t){return bt.resolve(null)}getMinOffset(t,s){return bt.resolve(Rl.min())}getMinOffsetFromCollectionGroup(t,s){return bt.resolve(Rl.min())}updateCollectionGroup(t,s,i){return bt.resolve()}updateIndexEntries(t,s){return bt.resolve()}}class G7{constructor(){this.index={}}add(t){const s=t.lastSegment(),i=t.popLast(),l=this.index[s]||new ps(On.comparator),y=!l.has(i);return this.index[s]=l.add(i),y}has(t){const s=t.lastSegment(),i=t.popLast(),l=this.index[s];return l&&l.has(i)}getEntries(t){return(this.index[t]||new ps(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VR=41943040;class mi{static withCacheSize(t){return new mi(t,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,s,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(VR,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Xc(0)}static ir(){return new Xc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="LruGarbageCollector",H7=1048576;function ej([r,t],[s,i]){const l=Ar(r,s);return l===0?Ar(t,i):l}class q7{constructor(t){this.cr=t,this.buffer=new ps(ej),this.lr=0}hr(){return++this.lr}Pr(t){const s=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(s);else{const i=this.buffer.last();ej(s,i)<0&&(this.buffer=this.buffer.delete(i).add(s))}}get maxValue(){return this.buffer.last()[0]}}class $7{constructor(t,s,i){this.garbageCollector=t,this.asyncQueue=s,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){qt(J2,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){ud(s)?qt(J2,"Ignoring IndexedDB error during garbage collection: ",s):await Mm(s)}await this.Ir(3e5)})}}class W7{constructor(t,s){this.Er=t,this.params=s}calculateTargetCount(t,s){return this.Er.dr(t).next(i=>Math.floor(s/100*i))}nthSequenceNumber(t,s){if(s===0)return bt.resolve(km.le);const i=new q7(s);return this.Er.forEachTarget(t,l=>i.Pr(l.sequenceNumber)).next(()=>this.Er.Ar(t,l=>i.Pr(l))).next(()=>i.maxValue)}removeTargets(t,s,i){return this.Er.removeTargets(t,s,i)}removeOrphanedDocuments(t,s){return this.Er.removeOrphanedDocuments(t,s)}collect(t,s){return this.params.cacheSizeCollectionThreshold===-1?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(Z2)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z2):this.Rr(t,s))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,s){let i,l,y,R,n,C,x;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),l=this.params.maximumSequenceNumbersToCollect):l=d,R=Date.now(),this.nthSequenceNumber(t,l))).next(d=>(i=d,n=Date.now(),this.removeTargets(t,i,s))).next(d=>(y=d,C=Date.now(),this.removeOrphanedDocuments(t,i))).next(d=>(x=Date.now(),yc()<=Lr.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${R-m}ms
	Determined least recently used ${l} in `+(n-R)+`ms
	Removed ${y} targets in `+(C-n)+`ms
	Removed ${d} documents in `+(x-C)+`ms
Total Duration: ${x-m}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:y,documentsRemoved:d})))}}function Y7(r,t){return new W7(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.changes=new Pu(t=>t.toString(),(t,s)=>t.isEqual(s)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,Ys.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const i=this.changes.get(s);return i!==void 0?bt.resolve(i):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(t,s,i,l){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=i,this.indexManager=l}getDocument(t,s){let i=null;return this.documentOverlayCache.getOverlay(t,s).next(l=>(i=l,this.remoteDocumentCache.getEntry(t,s))).next(l=>(i!==null&&wh(i.mutation,l,bl.empty(),As.now()),l))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next(i=>this.getLocalViewOfDocuments(t,i,Xr()).next(()=>i))}getLocalViewOfDocuments(t,s,i=Xr()){const l=_u();return this.populateOverlays(t,l,s).next(()=>this.computeViews(t,s,l,i).next(y=>{let R=ah();return y.forEach((n,C)=>{R=R.insert(n,C.overlayedDocument)}),R}))}getOverlayedDocuments(t,s){const i=_u();return this.populateOverlays(t,i,s).next(()=>this.computeViews(t,s,i,Xr()))}populateOverlays(t,s,i){const l=[];return i.forEach(y=>{s.has(y)||l.push(y)}),this.documentOverlayCache.getOverlays(t,l).next(y=>{y.forEach((R,n)=>{s.set(R,n)})})}computeViews(t,s,i,l){let y=Ol();const R=_h(),n=function(){return _h()}();return s.forEach((C,x)=>{const m=i.get(x.key);l.has(x.key)&&(m===void 0||m.mutation instanceof Nm)?y=y.insert(x.key,x):m!==void 0?(R.set(x.key,m.mutation.getFieldMask()),wh(m.mutation,x,m.mutation.getFieldMask(),As.now())):R.set(x.key,bl.empty())}),this.recalculateAndSaveOverlays(t,y).next(C=>(C.forEach((x,m)=>R.set(x,m)),s.forEach((x,m)=>{var d;return n.set(x,new K7(m,(d=R.get(x))!==null&&d!==void 0?d:null))}),n))}recalculateAndSaveOverlays(t,s){const i=_h();let l=new Qn((R,n)=>R-n),y=Xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next(R=>{for(const n of R)n.keys().forEach(C=>{const x=s.get(C);if(x===null)return;let m=i.get(C)||bl.empty();m=n.applyToLocalView(x,m),i.set(C,m);const d=(l.get(n.batchId)||Xr()).add(C);l=l.insert(n.batchId,d)})}).next(()=>{const R=[],n=l.getReverseIterator();for(;n.hasNext();){const C=n.getNext(),x=C.key,m=C.value,d=SR();m.forEach(c=>{if(!y.has(c)){const T=CR(s.get(c),i.get(c));T!==null&&d.set(c,T),y=y.add(c)}}),R.push(this.documentOverlayCache.saveOverlays(t,x,d))}return bt.waitFor(R)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,s,i,l){return function(R){return nr.isDocumentKey(R.path)&&R.collectionGroup===null&&R.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(t,s.path):bR(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,i,l):this.getDocumentsMatchingCollectionQuery(t,s,i,l)}getNextDocuments(t,s,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,i,l).next(y=>{const R=l-y.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,i.largestBatchId,l-y.size):bt.resolve(_u());let n=kh,C=y;return R.next(x=>bt.forEach(x,(m,d)=>(n<d.largestBatchId&&(n=d.largestBatchId),y.get(m)?bt.resolve():this.remoteDocumentCache.getEntry(t,m).next(c=>{C=C.insert(m,c)}))).next(()=>this.populateOverlays(t,x,y)).next(()=>this.computeViews(t,C,x,Xr())).next(m=>({batchId:n,changes:d7(m)})))})}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new nr(s)).next(i=>{let l=ah();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(t,s,i,l){const y=s.collectionGroup;let R=ah();return this.indexManager.getCollectionParents(t,y).next(n=>bt.forEach(n,C=>{const x=function(d,c){return new dd(c,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(s,C.child(y));return this.getDocumentsMatchingCollectionQuery(t,x,i,l).next(m=>{m.forEach((d,c)=>{R=R.insert(d,c)})})}).next(()=>R))}getDocumentsMatchingCollectionQuery(t,s,i,l){let y;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,i.largestBatchId).next(R=>(y=R,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,i,y,l))).next(R=>{y.forEach((C,x)=>{const m=x.getKey();R.get(m)===null&&(R=R.insert(m,Ys.newInvalidDocument(m)))});let n=ah();return R.forEach((C,x)=>{const m=y.get(C);m!==void 0&&wh(m.mutation,x,bl.empty(),As.now()),Pm(s,x)&&(n=n.insert(C,x))}),n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,s){return bt.resolve(this.Fr.get(s))}saveBundleMetadata(t,s){return this.Fr.set(s.id,function(l){return{id:l.id,version:l.version,createTime:Tc(l.createTime)}}(s)),bt.resolve()}getNamedQuery(t,s){return bt.resolve(this.Mr.get(s))}saveNamedQuery(t,s){return this.Mr.set(s.name,function(l){return{name:l.name,query:V7(l.bundledQuery),readTime:Tc(l.readTime)}}(s)),bt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.overlays=new Qn(nr.comparator),this.Or=new Map}getOverlay(t,s){return bt.resolve(this.overlays.get(s))}getOverlays(t,s){const i=_u();return bt.forEach(s,l=>this.getOverlay(t,l).next(y=>{y!==null&&i.set(l,y)})).next(()=>i)}saveOverlays(t,s,i){return i.forEach((l,y)=>{this.St(t,s,y)}),bt.resolve()}removeOverlaysForBatchId(t,s,i){const l=this.Or.get(i);return l!==void 0&&(l.forEach(y=>this.overlays=this.overlays.remove(y)),this.Or.delete(i)),bt.resolve()}getOverlaysForCollection(t,s,i){const l=_u(),y=s.length+1,R=new nr(s.child("")),n=this.overlays.getIteratorFrom(R);for(;n.hasNext();){const C=n.getNext().value,x=C.getKey();if(!s.isPrefixOf(x.path))break;x.path.length===y&&C.largestBatchId>i&&l.set(C.getKey(),C)}return bt.resolve(l)}getOverlaysForCollectionGroup(t,s,i,l){let y=new Qn((x,m)=>x-m);const R=this.overlays.getIterator();for(;R.hasNext();){const x=R.getNext().value;if(x.getKey().getCollectionGroup()===s&&x.largestBatchId>i){let m=y.get(x.largestBatchId);m===null&&(m=_u(),y=y.insert(x.largestBatchId,m)),m.set(x.getKey(),x)}}const n=_u(),C=y.getIterator();for(;C.hasNext()&&(C.getNext().value.forEach((x,m)=>n.set(x,m)),!(n.size()>=l)););return bt.resolve(n)}St(t,s,i){const l=this.overlays.get(i.key);if(l!==null){const R=this.Or.get(l.largestBatchId).delete(i.key);this.Or.set(l.largestBatchId,R)}this.overlays=this.overlays.insert(i.key,new S7(s,i));let y=this.Or.get(s);y===void 0&&(y=Xr(),this.Or.set(s,y)),this.Or.set(s,y.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.sessionToken=Ls.EMPTY_BYTE_STRING}getSessionToken(t){return bt.resolve(this.sessionToken)}setSessionToken(t,s){return this.sessionToken=s,bt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.Nr=new ps(Ss.Br),this.Lr=new ps(Ss.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,s){const i=new Ss(t,s);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,s){t.forEach(i=>this.addReference(i,s))}removeReference(t,s){this.Qr(new Ss(t,s))}$r(t,s){t.forEach(i=>this.removeReference(i,s))}Ur(t){const s=new nr(new On([])),i=new Ss(s,t),l=new Ss(s,t+1),y=[];return this.Lr.forEachInRange([i,l],R=>{this.Qr(R),y.push(R.key)}),y}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const s=new nr(new On([])),i=new Ss(s,t),l=new Ss(s,t+1);let y=Xr();return this.Lr.forEachInRange([i,l],R=>{y=y.add(R.key)}),y}containsKey(t){const s=new Ss(t,0),i=this.Nr.firstAfterOrEqual(s);return i!==null&&t.isEqual(i.key)}}class Ss{constructor(t,s){this.key=t,this.Gr=s}static Br(t,s){return nr.comparator(t.key,s.key)||Ar(t.Gr,s.Gr)}static kr(t,s){return Ar(t.Gr,s.Gr)||nr.comparator(t.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.Jn=1,this.zr=new ps(Ss.Br)}checkEmpty(t){return bt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,s,i,l){const y=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const R=new x7(y,s,i,l);this.mutationQueue.push(R);for(const n of l)this.zr=this.zr.add(new Ss(n.key,y)),this.indexManager.addToCollectionParentIndex(t,n.key.path.popLast());return bt.resolve(R)}lookupMutationBatch(t,s){return bt.resolve(this.jr(s))}getNextMutationBatchAfterBatchId(t,s){const i=s+1,l=this.Hr(i),y=l<0?0:l;return bt.resolve(this.mutationQueue.length>y?this.mutationQueue[y]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(this.mutationQueue.length===0?V9:this.Jn-1)}getAllMutationBatches(t){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const i=new Ss(s,0),l=new Ss(s,Number.POSITIVE_INFINITY),y=[];return this.zr.forEachInRange([i,l],R=>{const n=this.jr(R.Gr);y.push(n)}),bt.resolve(y)}getAllMutationBatchesAffectingDocumentKeys(t,s){let i=new ps(Ar);return s.forEach(l=>{const y=new Ss(l,0),R=new Ss(l,Number.POSITIVE_INFINITY);this.zr.forEachInRange([y,R],n=>{i=i.add(n.Gr)})}),bt.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,s){const i=s.path,l=i.length+1;let y=i;nr.isDocumentKey(y)||(y=y.child(""));const R=new Ss(new nr(y),0);let n=new ps(Ar);return this.zr.forEachWhile(C=>{const x=C.key.path;return!!i.isPrefixOf(x)&&(x.length===l&&(n=n.add(C.Gr)),!0)},R),bt.resolve(this.Jr(n))}Jr(t){const s=[];return t.forEach(i=>{const l=this.jr(i);l!==null&&s.push(l)}),s}removeMutationBatch(t,s){Dn(this.Yr(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return bt.forEach(s.mutations,l=>{const y=new Ss(l.key,s.batchId);return i=i.delete(y),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,s){const i=new Ss(s,0),l=this.zr.firstAfterOrEqual(i);return bt.resolve(s.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,bt.resolve()}Yr(t,s){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const s=this.Hr(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(t){this.Zr=t,this.docs=function(){return new Qn(nr.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const i=s.key,l=this.docs.get(i),y=l?l.size:0,R=this.Zr(s);return this.docs=this.docs.insert(i,{document:s.mutableCopy(),size:R}),this.size+=R-y,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const i=this.docs.get(s);return bt.resolve(i?i.document.mutableCopy():Ys.newInvalidDocument(s))}getEntries(t,s){let i=Ol();return s.forEach(l=>{const y=this.docs.get(l);i=i.insert(l,y?y.document.mutableCopy():Ys.newInvalidDocument(l))}),bt.resolve(i)}getDocumentsMatchingQuery(t,s,i,l){let y=Ol();const R=s.path,n=new nr(R.child("__id-9223372036854775808__")),C=this.docs.getIteratorFrom(n);for(;C.hasNext();){const{key:x,value:{document:m}}=C.getNext();if(!R.isPrefixOf(x.path))break;x.path.length>R.length+1||N9(L9(m),i)<=0||(l.has(m.key)||Pm(s,m))&&(y=y.insert(m.key,m.mutableCopy()))}return bt.resolve(y)}getAllFromCollectionGroup(t,s,i,l){pr(9500)}Xr(t,s){return bt.forEach(this.docs,i=>s(i))}newChangeBuffer(t){return new nV(this)}getSize(t){return bt.resolve(this.size)}}class nV extends X7{constructor(t){super(),this.vr=t}applyChanges(t){const s=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?s.push(this.vr.addEntry(t,l)):this.vr.removeEntry(i)}),bt.waitFor(s)}getFromCache(t,s){return this.vr.getEntry(t,s)}getAllFromCache(t,s){return this.vr.getEntries(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t){this.persistence=t,this.ei=new Pu(s=>Gb(s),Hb),this.lastRemoteSnapshotVersion=fr.min(),this.highestTargetId=0,this.ti=0,this.ni=new Kb,this.targetCount=0,this.ri=Xc.rr()}forEachTarget(t,s){return this.ei.forEach((i,l)=>s(l)),bt.resolve()}getLastRemoteSnapshotVersion(t){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(t,s,i){return i&&(this.lastRemoteSnapshotVersion=i),s>this.ti&&(this.ti=s),bt.resolve()}ar(t){this.ei.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.ri=new Xc(s),this.highestTargetId=s),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,s){return this.ar(s),this.targetCount+=1,bt.resolve()}updateTargetData(t,s){return this.ar(s),bt.resolve()}removeTargetData(t,s){return this.ei.delete(s.target),this.ni.Ur(s.targetId),this.targetCount-=1,bt.resolve()}removeTargets(t,s,i){let l=0;const y=[];return this.ei.forEach((R,n)=>{n.sequenceNumber<=s&&i.get(n.targetId)===null&&(this.ei.delete(R),y.push(this.removeMatchingKeysForTargetId(t,n.targetId)),l++)}),bt.waitFor(y).next(()=>l)}getTargetCount(t){return bt.resolve(this.targetCount)}getTargetData(t,s){const i=this.ei.get(s)||null;return bt.resolve(i)}addMatchingKeys(t,s,i){return this.ni.qr(s,i),bt.resolve()}removeMatchingKeys(t,s,i){this.ni.$r(s,i);const l=this.persistence.referenceDelegate,y=[];return l&&s.forEach(R=>{y.push(l.markPotentiallyOrphaned(t,R))}),bt.waitFor(y)}removeMatchingKeysForTargetId(t,s){return this.ni.Ur(s),bt.resolve()}getMatchingKeysForTargetId(t,s){const i=this.ni.Wr(s);return bt.resolve(i)}containsKey(t,s){return bt.resolve(this.ni.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,s){this.ii={},this.overlays={},this.si=new km(0),this.oi=!1,this.oi=!0,this._i=new eV,this.referenceDelegate=t(this),this.ai=new sV(this),this.indexManager=new z7,this.remoteDocumentCache=function(l){return new rV(l)}(i=>this.referenceDelegate.ui(i)),this.serializer=new F7(s),this.ci=new Z7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new J7,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let i=this.ii[t.toKey()];return i||(i=new tV(s,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,s,i){qt("MemoryPersistence","Starting transaction:",t);const l=new iV(this.si.next());return this.referenceDelegate.li(),i(l).next(y=>this.referenceDelegate.hi(l).next(()=>y)).toPromise().then(y=>(l.raiseOnCommittedEvent(),y))}Pi(t,s){return bt.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,s)))}}class iV extends B9{constructor(t){super(),this.currentSequenceNumber=t}}class Qb{constructor(t){this.persistence=t,this.Ti=new Kb,this.Ii=null}static Ei(t){return new Qb(t)}get di(){if(this.Ii)return this.Ii;throw pr(60996)}addReference(t,s,i){return this.Ti.addReference(i,s),this.di.delete(i.toString()),bt.resolve()}removeReference(t,s,i){return this.Ti.removeReference(i,s),this.di.add(i.toString()),bt.resolve()}markPotentiallyOrphaned(t,s){return this.di.add(s.toString()),bt.resolve()}removeTarget(t,s){this.Ti.Ur(s.targetId).forEach(l=>this.di.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,s.targetId).next(l=>{l.forEach(y=>this.di.add(y.toString()))}).next(()=>i.removeTargetData(t,s))}li(){this.Ii=new Set}hi(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.di,i=>{const l=nr.fromPath(i);return this.Ai(t,l).next(y=>{y||s.removeEntry(l,fr.min())})}).next(()=>(this.Ii=null,s.apply(t)))}updateLimboDocument(t,s){return this.Ai(t,s).next(i=>{i?this.di.delete(s.toString()):this.di.add(s.toString())})}ui(t){return 0}Ai(t,s){return bt.or([()=>bt.resolve(this.Ti.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.Pi(t,s)])}}class Jp{constructor(t,s){this.persistence=t,this.Ri=new Pu(i=>G9(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=Y7(this,s)}static Ei(t,s){return new Jp(t,s)}li(){}hi(t){return bt.resolve()}forEachTarget(t,s){return this.persistence.getTargetCache().forEachTarget(t,s)}dr(t){const s=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>s.next(l=>i+l))}Vr(t){let s=0;return this.Ar(t,i=>{s++}).next(()=>s)}Ar(t,s){return bt.forEach(this.Ri,(i,l)=>this.gr(t,i,l).next(y=>y?bt.resolve():s(l)))}removeTargets(t,s,i){return this.persistence.getTargetCache().removeTargets(t,s,i)}removeOrphanedDocuments(t,s){let i=0;const l=this.persistence.getRemoteDocumentCache(),y=l.newChangeBuffer();return l.Xr(t,R=>this.gr(t,R,s).next(n=>{n||(i++,y.removeEntry(R,fr.min()))})).next(()=>y.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,s){return this.Ri.set(s,t.currentSequenceNumber),bt.resolve()}removeTarget(t,s){const i=s.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,s,i){return this.Ri.set(i,t.currentSequenceNumber),bt.resolve()}removeReference(t,s,i){return this.Ri.set(i,t.currentSequenceNumber),bt.resolve()}updateLimboDocument(t,s){return this.Ri.set(s,t.currentSequenceNumber),bt.resolve()}ui(t){let s=t.key.toString().length;return t.isFoundDocument()&&(s+=_p(t.data.value)),s}gr(t,s,i){return bt.or([()=>this.persistence.Pi(t,s),()=>this.persistence.getTargetCache().containsKey(t,s),()=>{const l=this.Ri.get(s);return bt.resolve(l!==void 0&&l>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,s,i,l){this.targetId=t,this.fromCache=s,this.ls=i,this.hs=l}static Ps(t,s){let i=Xr(),l=Xr();for(const y of s.docChanges)switch(y.type){case 0:i=i.add(y.doc.key);break;case 1:l=l.add(y.doc.key)}return new Zb(t,s.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return iF()?8:F9(Qs())>0?6:4}()}initialize(t,s){this.As=t,this.indexManager=s,this.Ts=!0}getDocumentsMatchingQuery(t,s,i,l){const y={result:null};return this.Rs(t,s).next(R=>{y.result=R}).next(()=>{if(!y.result)return this.Vs(t,s,l,i).next(R=>{y.result=R})}).next(()=>{if(y.result)return;const R=new oV;return this.fs(t,s,R).next(n=>{if(y.result=n,this.Is)return this.gs(t,s,R,n.size)})}).next(()=>y.result)}gs(t,s,i,l){return i.documentReadCount<this.Es?(yc()<=Lr.DEBUG&&qt("QueryEngine","SDK will not create cache indexes for query:",gc(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),bt.resolve()):(yc()<=Lr.DEBUG&&qt("QueryEngine","Query:",gc(s),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ds*l?(yc()<=Lr.DEBUG&&qt("QueryEngine","The SDK decides to create cache indexes for query:",gc(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zo(s))):bt.resolve())}Rs(t,s){if(z2(s))return bt.resolve(null);let i=zo(s);return this.indexManager.getIndexType(t,i).next(l=>l===0?null:(s.limit!==null&&l===1&&(s=Kp(s,null,"F"),i=zo(s)),this.indexManager.getDocumentsMatchingTarget(t,i).next(y=>{const R=Xr(...y);return this.As.getDocuments(t,R).next(n=>this.indexManager.getMinOffset(t,i).next(C=>{const x=this.ps(s,n);return this.ys(s,x,R,C.readTime)?this.Rs(t,Kp(s,null,"F")):this.ws(t,x,s,C)}))})))}Vs(t,s,i,l){return z2(s)||l.isEqual(fr.min())?bt.resolve(null):this.As.getDocuments(t,i).next(y=>{const R=this.ps(s,y);return this.ys(s,R,i,l)?bt.resolve(null):(yc()<=Lr.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),gc(s)),this.ws(t,R,s,P9(l,kh)).next(n=>n))})}ps(t,s){let i=new ps(wR(t));return s.forEach((l,y)=>{Pm(t,y)&&(i=i.add(y))}),i}ys(t,s,i,l){if(t.limit===null)return!1;if(i.size!==s.size)return!0;const y=t.limitType==="F"?s.last():s.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(l)>0)}fs(t,s,i){return yc()<=Lr.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",gc(s)),this.As.getDocumentsMatchingQuery(t,s,Rl.min(),i)}ws(t,s,i,l){return this.As.getDocumentsMatchingQuery(t,i,l).next(y=>(s.forEach(R=>{y=y.insert(R.key,R)}),y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="LocalStore",lV=3e8;class uV{constructor(t,s,i,l){this.persistence=t,this.bs=s,this.serializer=l,this.Ss=new Qn(Ar),this.Ds=new Pu(y=>Gb(y),Hb),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Q7(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>t.collect(s,this.Ss))}}function cV(r,t,s,i){return new uV(r,t,s,i)}async function GR(r,t){const s=$r(r);return await s.persistence.runTransaction("Handle user change","readonly",i=>{let l;return s.mutationQueue.getAllMutationBatches(i).next(y=>(l=y,s.Fs(t),s.mutationQueue.getAllMutationBatches(i))).next(y=>{const R=[],n=[];let C=Xr();for(const x of l){R.push(x.batchId);for(const m of x.mutations)C=C.add(m.key)}for(const x of y){n.push(x.batchId);for(const m of x.mutations)C=C.add(m.key)}return s.localDocuments.getDocuments(i,C).next(x=>({Ms:x,removedBatchIds:R,addedBatchIds:n}))})})}function HR(r){const t=$r(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",s=>t.ai.getLastRemoteSnapshotVersion(s))}function dV(r,t){const s=$r(r),i=t.snapshotVersion;let l=s.Ss;return s.persistence.runTransaction("Apply remote event","readwrite-primary",y=>{const R=s.Cs.newChangeBuffer({trackRemovals:!0});l=s.Ss;const n=[];t.targetChanges.forEach((m,d)=>{const c=l.get(d);if(!c)return;n.push(s.ai.removeMatchingKeys(y,m.removedDocuments,d).next(()=>s.ai.addMatchingKeys(y,m.addedDocuments,d)));let T=c.withSequenceNumber(y.currentSequenceNumber);t.targetMismatches.get(d)!==null?T=T.withResumeToken(Ls.EMPTY_BYTE_STRING,fr.min()).withLastLimboFreeSnapshotVersion(fr.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),l=l.insert(d,T),function(f,h,p){return f.resumeToken.approximateByteSize()===0||h.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=lV?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(c,T,m)&&n.push(s.ai.updateTargetData(y,T))});let C=Ol(),x=Xr();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&n.push(s.persistence.referenceDelegate.updateLimboDocument(y,m))}),n.push(hV(y,R,t.documentUpdates).next(m=>{C=m.xs,x=m.Os})),!i.isEqual(fr.min())){const m=s.ai.getLastRemoteSnapshotVersion(y).next(d=>s.ai.setTargetsMetadata(y,y.currentSequenceNumber,i));n.push(m)}return bt.waitFor(n).next(()=>R.apply(y)).next(()=>s.localDocuments.getLocalViewOfDocuments(y,C,x)).next(()=>C)}).then(y=>(s.Ss=l,y))}function hV(r,t,s){let i=Xr(),l=Xr();return s.forEach(y=>i=i.add(y)),t.getEntries(r,i).next(y=>{let R=Ol();return s.forEach((n,C)=>{const x=y.get(n);C.isFoundDocument()!==x.isFoundDocument()&&(l=l.add(n)),C.isNoDocument()&&C.version.isEqual(fr.min())?(t.removeEntry(n,C.readTime),R=R.insert(n,C)):!x.isValidDocument()||C.version.compareTo(x.version)>0||C.version.compareTo(x.version)===0&&x.hasPendingWrites?(t.addEntry(C),R=R.insert(n,C)):qt(Jb,"Ignoring outdated watch update for ",n,". Current version:",x.version," Watch version:",C.version)}),{xs:R,Os:l}})}function fV(r,t){const s=$r(r);return s.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return s.ai.getTargetData(i,t).next(y=>y?(l=y,bt.resolve(l)):s.ai.allocateTargetId(i).next(R=>(l=new _l(t,R,"TargetPurposeListen",i.currentSequenceNumber),s.ai.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=s.Ss.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(s.Ss=s.Ss.insert(i.targetId,i),s.Ds.set(t,i.targetId)),i})}async function k0(r,t,s){const i=$r(r),l=i.Ss.get(t),y=s?"readwrite":"readwrite-primary";try{s||await i.persistence.runTransaction("Release target",y,R=>i.persistence.referenceDelegate.removeTarget(R,l))}catch(R){if(!ud(R))throw R;qt(Jb,`Failed to update sequence numbers for target ${t}: ${R}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(l.target)}function tj(r,t,s){const i=$r(r);let l=fr.min(),y=Xr();return i.persistence.runTransaction("Execute query","readwrite",R=>function(C,x,m){const d=$r(C),c=d.Ds.get(m);return c!==void 0?bt.resolve(d.Ss.get(c)):d.ai.getTargetData(x,m)}(i,R,zo(t)).next(n=>{if(n)return l=n.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(R,n.targetId).next(C=>{y=C})}).next(()=>i.bs.getDocumentsMatchingQuery(R,t,s?l:fr.min(),s?y:Xr())).next(n=>(pV(i,l7(t),n),{documents:n,Ns:y})))}function pV(r,t,s){let i=r.vs.get(t)||fr.min();s.forEach((l,y)=>{y.readTime.compareTo(i)>0&&(i=y.readTime)}),r.vs.set(t,i)}class rj{constructor(){this.activeTargetIds=p7()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mV{constructor(){this.So=new rj,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,i){}addLocalQueryTarget(t,s=!0){return s&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,s,i){this.Do[t]=s}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new rj,Promise.resolve()}handleUserChange(t,s,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="ConnectivityMonitor";class sj{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){qt(nj,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){qt(nj,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp=null;function I0(){return sp===null?sp=function(){return 268435456+Math.round(2147483648*Math.random())}():sp++,"0x"+sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="RestConnection",gV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vV{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Lo=s+"://"+t.host,this.ko=`projects/${i}/databases/${l}`,this.qo=this.databaseId.database===Wp?`project_id=${i}`:`project_id=${i}&database_id=${l}`}Qo(t,s,i,l,y){const R=I0(),n=this.$o(t,s.toUriEncodedString());qt(Pv,`Sending RPC '${t}' ${R}:`,n,i);const C={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(C,l,y),this.Ko(t,n,C,i).then(x=>(qt(Pv,`Received RPC '${t}' ${R}: `,x),x),x=>{throw qc(Pv,`RPC '${t}' ${R} failed with error: `,x,"url: ",n,"request:",i),x})}Wo(t,s,i,l,y,R){return this.Qo(t,s,i,l,y)}Uo(t,s,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ld}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((l,y)=>t[y]=l),i&&i.headers.forEach((l,y)=>t[y]=l)}$o(t,s){const i=gV[t];return`${this.Lo}/v1/${s}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="WebChannelConnection";class _V extends vV{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,s,i,l){const y=I0();return new Promise((R,n)=>{const C=new KC;C.setWithCredentials(!0),C.listenOnce(QC.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case bp.NO_ERROR:const m=C.getResponseJson();qt($s,`XHR for RPC '${t}' ${y} received:`,JSON.stringify(m)),R(m);break;case bp.TIMEOUT:qt($s,`RPC '${t}' ${y} timed out`),n(new Kt(It.DEADLINE_EXCEEDED,"Request time out"));break;case bp.HTTP_ERROR:const d=C.getStatus();if(qt($s,`RPC '${t}' ${y} failed with status:`,d,"response text:",C.getResponseText()),d>0){let c=C.getResponseJson();Array.isArray(c)&&(c=c[0]);const T=c==null?void 0:c.error;if(T&&T.status&&T.message){const A=function(h){const p=h.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(p)>=0?p:It.UNKNOWN}(T.status);n(new Kt(A,T.message))}else n(new Kt(It.UNKNOWN,"Server responded with status "+C.getStatus()))}else n(new Kt(It.UNAVAILABLE,"Connection failed."));break;default:pr(9055,{s_:t,streamId:y,o_:C.getLastErrorCode(),__:C.getLastError()})}}finally{qt($s,`RPC '${t}' ${y} completed.`)}});const x=JSON.stringify(l);qt($s,`RPC '${t}' ${y} sending request:`,l),C.send(s,"POST",x,i,15)})}a_(t,s,i){const l=I0(),y=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],R=eR(),n=JC(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(C.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(C.useFetchStreams=!0),this.Uo(C.initMessageHeaders,s,i),C.encodeInitMessageHeaders=!0;const m=y.join("");qt($s,`Creating RPC '${t}' stream ${l}: ${m}`,C);const d=R.createWebChannel(m,C);let c=!1,T=!1;const A=new bV({Go:h=>{T?qt($s,`Not sending because RPC '${t}' stream ${l} is closed:`,h):(c||(qt($s,`Opening RPC '${t}' stream ${l} transport.`),d.open(),c=!0),qt($s,`RPC '${t}' stream ${l} sending:`,h),d.send(h))},zo:()=>d.close()}),f=(h,p,u)=>{h.listen(p,g=>{try{u(g)}catch(S){setTimeout(()=>{throw S},0)}})};return f(d,oh.EventType.OPEN,()=>{T||(qt($s,`RPC '${t}' stream ${l} transport opened.`),A.t_())}),f(d,oh.EventType.CLOSE,()=>{T||(T=!0,qt($s,`RPC '${t}' stream ${l} transport closed`),A.r_())}),f(d,oh.EventType.ERROR,h=>{T||(T=!0,qc($s,`RPC '${t}' stream ${l} transport errored. Name:`,h.name,"Message:",h.message),A.r_(new Kt(It.UNAVAILABLE,"The operation could not be completed")))}),f(d,oh.EventType.MESSAGE,h=>{var p;if(!T){const u=h.data[0];Dn(!!u,16349);const g=u,S=(g==null?void 0:g.error)||((p=g[0])===null||p===void 0?void 0:p.error);if(S){qt($s,`RPC '${t}' stream ${l} received error:`,S);const j=S.status;let _=function(M){const P=ss[M];if(P!==void 0)return MR(P)}(j),b=S.message;_===void 0&&(_=It.INTERNAL,b="Unknown error status: "+j+" with message "+S.message),T=!0,A.r_(new Kt(_,b)),d.close()}else qt($s,`RPC '${t}' stream ${l} received:`,u),A.i_(u)}}),f(n,ZC.STAT_EVENT,h=>{h.stat===b0.PROXY?qt($s,`RPC '${t}' stream ${l} detected buffering proxy`):h.stat===b0.NOPROXY&&qt($s,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function Lv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(r){return new M7(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,s,i=1e3,l=1.5,y=6e4){this.bi=t,this.timerId=s,this.u_=i,this.c_=l,this.l_=y,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const s=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),l=Math.max(0,s-i);l>0&&qt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.h_} ms, delay with jitter: ${s} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,l,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="PersistentStream";class wV{constructor(t,s,i,l,y,R,n,C){this.bi=t,this.R_=i,this.V_=l,this.connection=y,this.authCredentialsProvider=R,this.appCheckCredentialsProvider=n,this.listener=C,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new qR(t,s)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,s){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():s&&s.code===It.RESOURCE_EXHAUSTED?(Sa(s.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):s&&s.code===It.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(s)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),s=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.m_===s&&this.B_(i,l)},i=>{t(()=>{const l=new Kt(It.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(l)})})}B_(t,s){const i=this.N_(this.m_);this.stream=this.k_(t,s),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(l=>{i(()=>this.L_(l))}),this.stream.onMessage(l=>{i(()=>++this.p_==1?this.q_(l):this.onNext(l))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return qt(ij,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return s=>{this.bi.enqueueAndForget(()=>this.m_===t?s():(qt(ij,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xV extends wV{constructor(t,s,i,l,y,R){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,i,l,R),this.serializer=y}k_(t,s){return this.connection.a_("Listen",t,s)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const s=I7(this.serializer,t),i=function(y){if(!("targetChange"in y))return fr.min();const R=y.targetChange;return R.targetIds&&R.targetIds.length?fr.min():R.readTime?Tc(R.readTime):fr.min()}(t);return this.listener.Q_(s,i)}U_(t){const s={};s.database=Q2(this.serializer),s.addTarget=function(y,R){let n;const C=R.target;if(n=E0(C)?{documents:O7(y,C)}:{query:D7(y,C).gt},n.targetId=R.targetId,R.resumeToken.approximateByteSize()>0){n.resumeToken=OR(y,R.resumeToken);const x=C0(y,R.expectedCount);x!==null&&(n.expectedCount=x)}else if(R.snapshotVersion.compareTo(fr.min())>0){n.readTime=R0(y,R.snapshotVersion.toTimestamp());const x=C0(y,R.expectedCount);x!==null&&(n.expectedCount=x)}return n}(this.serializer,t);const i=L7(this.serializer,t);i&&(s.labels=i),this.F_(s)}K_(t){const s={};s.database=Q2(this.serializer),s.removeTarget=t,this.F_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{}class EV extends SV{constructor(t,s,i,l){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=i,this.serializer=l,this.J_=!1}Y_(){if(this.J_)throw new Kt(It.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,s,i,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([y,R])=>this.connection.Qo(t,M0(s,i),l,y,R)).catch(y=>{throw y.name==="FirebaseError"?(y.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),y):new Kt(It.UNKNOWN,y.toString())})}Wo(t,s,i,l,y){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([R,n])=>this.connection.Wo(t,M0(s,i),l,R,n,y)).catch(R=>{throw R.name==="FirebaseError"?(R.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),R):new Kt(It.UNKNOWN,R.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class jV{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const s=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Sa(s),this.ea=!1):qt("OnlineStateTracker",s)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="RemoteStore";class TV{constructor(t,s,i,l,y){this.localStore=t,this.datastore=s,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=y,this.ca.vo(R=>{i.enqueueAndForget(async()=>{Hh(this)&&(qt(Kc,"Restarting streams for network reachability change."),await async function(C){const x=$r(C);x.aa.add(4),await Gh(x),x.la.set("Unknown"),x.aa.delete(4),await Fm(x)}(this))})}),this.la=new jV(i,l)}}async function Fm(r){if(Hh(r))for(const t of r.ua)await t(!0)}async function Gh(r){for(const t of r.ua)await t(!1)}function $R(r,t){const s=$r(r);s._a.has(t.targetId)||(s._a.set(t.targetId,t),n1(s)?r1(s):hd(s).b_()&&t1(s,t))}function e1(r,t){const s=$r(r),i=hd(s);s._a.delete(t),i.b_()&&WR(s,t),s._a.size===0&&(i.b_()?i.v_():Hh(s)&&s.la.set("Unknown"))}function t1(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fr.min())>0){const s=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}hd(r).U_(t)}function WR(r,t){r.ha.Ke(t),hd(r).K_(t)}function r1(r){r.ha=new T7({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),hd(r).start(),r.la.ta()}function n1(r){return Hh(r)&&!hd(r).w_()&&r._a.size>0}function Hh(r){return $r(r).aa.size===0}function YR(r){r.ha=void 0}async function AV(r){r.la.set("Online")}async function CV(r){r._a.forEach((t,s)=>{t1(r,t)})}async function RV(r,t){YR(r),n1(r)?(r.la.ia(t),r1(r)):r.la.set("Unknown")}async function MV(r,t,s){if(r.la.set("Online"),t instanceof IR&&t.state===2&&t.cause)try{await async function(l,y){const R=y.cause;for(const n of y.targetIds)l._a.has(n)&&(await l.remoteSyncer.rejectListen(n,R),l._a.delete(n),l.ha.removeTarget(n))}(r,t)}catch(i){qt(Kc,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await oj(r,i)}else if(t instanceof xp?r.ha.Xe(t):t instanceof kR?r.ha.ot(t):r.ha.nt(t),!s.isEqual(fr.min()))try{const i=await HR(r.localStore);s.compareTo(i)>=0&&await function(y,R){const n=y.ha.It(R);return n.targetChanges.forEach((C,x)=>{if(C.resumeToken.approximateByteSize()>0){const m=y._a.get(x);m&&y._a.set(x,m.withResumeToken(C.resumeToken,R))}}),n.targetMismatches.forEach((C,x)=>{const m=y._a.get(C);if(!m)return;y._a.set(C,m.withResumeToken(Ls.EMPTY_BYTE_STRING,m.snapshotVersion)),WR(y,C);const d=new _l(m.target,C,x,m.sequenceNumber);t1(y,d)}),y.remoteSyncer.applyRemoteEvent(n)}(r,s)}catch(i){qt(Kc,"Failed to raise snapshot:",i),await oj(r,i)}}async function oj(r,t,s){if(!ud(t))throw t;r.aa.add(1),await Gh(r),r.la.set("Offline"),s||(s=()=>HR(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{qt(Kc,"Retrying IndexedDB access"),await s(),r.aa.delete(1),await Fm(r)})}async function aj(r,t){const s=$r(r);s.asyncQueue.verifyOperationInProgress(),qt(Kc,"RemoteStore received new credentials");const i=Hh(s);s.aa.add(3),await Gh(s),i&&s.la.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.aa.delete(3),await Fm(s)}async function kV(r,t){const s=$r(r);t?(s.aa.delete(2),await Fm(s)):t||(s.aa.add(2),await Gh(s),s.la.set("Unknown"))}function hd(r){return r.Pa||(r.Pa=function(s,i,l){const y=$r(s);return y.Y_(),new xV(i,y.connection,y.authCredentials,y.appCheckCredentials,y.serializer,l)}(r.datastore,r.asyncQueue,{jo:AV.bind(null,r),Jo:CV.bind(null,r),Zo:RV.bind(null,r),Q_:MV.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),n1(r)?r1(r):r.la.set("Unknown")):(await r.Pa.stop(),YR(r))})),r.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,s,i,l,y){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=i,this.op=l,this.removalCallback=y,this.deferred=new jc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(R=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,s,i,l,y){const R=Date.now()+i,n=new s1(t,s,R,l,y);return n.start(i),n}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Kt(It.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function XR(r,t){if(Sa("AsyncQueue",`${t}: ${r}`),ud(r))return new Kt(It.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{static emptySet(t){return new Ac(t.comparator)}constructor(t){this.comparator=t?(s,i)=>t(s,i)||nr.comparator(s.key,i.key):(s,i)=>nr.comparator(s.key,i.key),this.keyedMap=ah(),this.sortedSet=new Qn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((s,i)=>(t(s),!1))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof Ac)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;s.hasNext();){const l=s.getNext().key,y=i.getNext().key;if(!l.isEqual(y))return!1}return!0}toString(){const t=[];return this.forEach(s=>{t.push(s.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,s){const i=new Ac;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=s,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(){this.Ia=new Qn(nr.comparator)}track(t){const s=t.doc.key,i=this.Ia.get(s);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(s,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(s,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(s,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(s,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(s):t.type===1&&i.type===2?this.Ia=this.Ia.insert(s,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(s,{type:2,doc:t.doc}):pr(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(s,t)}da(){const t=[];return this.Ia.inorderTraversal((s,i)=>{t.push(i)}),t}}class Qc{constructor(t,s,i,l,y,R,n,C,x){this.query=t,this.docs=s,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=y,this.fromCache=R,this.syncStateChanged=n,this.excludesMetadataChanges=C,this.hasCachedResults=x}static fromInitialDocuments(t,s,i,l,y){const R=[];return s.forEach(n=>{R.push({type:0,doc:n})}),new Qc(t,s,Ac.emptySet(s),R,i,l,!0,!1,y)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,i=t.docChanges;if(s.length!==i.length)return!1;for(let l=0;l<s.length;l++)if(s[l].type!==i[l].type||!s[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class OV{constructor(){this.queries=uj(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(s,i){const l=$r(s),y=l.queries;l.queries=uj(),y.forEach((R,n)=>{for(const C of n.Ra)C.onError(i)})})(this,new Kt(It.ABORTED,"Firestore shutting down"))}}function uj(){return new Pu(r=>_R(r),Dm)}async function DV(r,t){const s=$r(r);let i=3;const l=t.query;let y=s.queries.get(l);y?!y.Va()&&t.ma()&&(i=2):(y=new IV,i=t.ma()?0:1);try{switch(i){case 0:y.Aa=await s.onListen(l,!0);break;case 1:y.Aa=await s.onListen(l,!1);break;case 2:await s.onFirstRemoteStoreListen(l)}}catch(R){const n=XR(R,`Initialization of query '${gc(t.query)}' failed`);return void t.onError(n)}s.queries.set(l,y),y.Ra.push(t),t.ga(s.onlineState),y.Aa&&t.pa(y.Aa)&&i1(s)}async function PV(r,t){const s=$r(r),i=t.query;let l=3;const y=s.queries.get(i);if(y){const R=y.Ra.indexOf(t);R>=0&&(y.Ra.splice(R,1),y.Ra.length===0?l=t.ma()?0:1:!y.Va()&&t.ma()&&(l=2))}switch(l){case 0:return s.queries.delete(i),s.onUnlisten(i,!0);case 1:return s.queries.delete(i),s.onUnlisten(i,!1);case 2:return s.onLastRemoteStoreUnlisten(i);default:return}}function LV(r,t){const s=$r(r);let i=!1;for(const l of t){const y=l.query,R=s.queries.get(y);if(R){for(const n of R.Ra)n.pa(l)&&(i=!0);R.Aa=l}}i&&i1(s)}function NV(r,t,s){const i=$r(r),l=i.queries.get(t);if(l)for(const y of l.Ra)y.onError(s);i.queries.delete(t)}function i1(r){r.fa.forEach(t=>{t.next()})}var O0,cj;(cj=O0||(O0={})).ya="default",cj.Cache="cache";class UV{constructor(t,s,i){this.query=t,this.wa=s,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const l of t.docChanges)l.type!==3&&i.push(l);t=new Qc(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.ba?this.Da(t)&&(this.wa.next(t),s=!0):this.va(t,this.onlineState)&&(this.Ca(t),s=!0),this.Sa=t,s}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let s=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),s=!0),s}va(t,s){if(!t.fromCache||!this.ma())return!0;const i=s!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||s==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const s=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}Ca(t){t=Qc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==O0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t){this.key=t}}class QR{constructor(t){this.key=t}}class BV{constructor(t,s){this.query=t,this.qa=s,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Xr(),this.mutatedKeys=Xr(),this.Ua=wR(t),this.Ka=new Ac(this.Ua)}get Wa(){return this.qa}Ga(t,s){const i=s?s.za:new lj,l=s?s.Ka:this.Ka;let y=s?s.mutatedKeys:this.mutatedKeys,R=l,n=!1;const C=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,x=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((m,d)=>{const c=l.get(m),T=Pm(this.query,d)?d:null,A=!!c&&this.mutatedKeys.has(c.key),f=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let h=!1;c&&T?c.data.isEqual(T.data)?A!==f&&(i.track({type:3,doc:T}),h=!0):this.ja(c,T)||(i.track({type:2,doc:T}),h=!0,(C&&this.Ua(T,C)>0||x&&this.Ua(T,x)<0)&&(n=!0)):!c&&T?(i.track({type:0,doc:T}),h=!0):c&&!T&&(i.track({type:1,doc:c}),h=!0,(C||x)&&(n=!0)),h&&(T?(R=R.add(T),y=f?y.add(m):y.delete(m)):(R=R.delete(m),y=y.delete(m)))}),this.query.limit!==null)for(;R.size>this.query.limit;){const m=this.query.limitType==="F"?R.last():R.first();R=R.delete(m.key),y=y.delete(m.key),i.track({type:1,doc:m})}return{Ka:R,za:i,ys:n,mutatedKeys:y}}ja(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,i,l){const y=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const R=t.za.da();R.sort((m,d)=>function(T,A){const f=h=>{switch(h){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pr(20277,{Vt:h})}};return f(T)-f(A)}(m.type,d.type)||this.Ua(m.doc,d.doc)),this.Ha(i),l=l!=null&&l;const n=s&&!l?this.Ja():[],C=this.$a.size===0&&this.current&&!l?1:0,x=C!==this.Qa;return this.Qa=C,R.length!==0||x?{snapshot:new Qc(this.query,t.Ka,y,R,t.mutatedKeys,C===0,x,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:n}:{Ya:n}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new lj,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(s=>this.qa=this.qa.add(s)),t.modifiedDocuments.forEach(s=>{}),t.removedDocuments.forEach(s=>this.qa=this.qa.delete(s)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Xr(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const s=[];return t.forEach(i=>{this.$a.has(i)||s.push(new QR(i))}),this.$a.forEach(i=>{t.has(i)||s.push(new KR(i))}),s}Xa(t){this.qa=t.Ns,this.$a=Xr();const s=this.Ga(t.documents);return this.applyChanges(s,!0)}eu(){return Qc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const o1="SyncEngine";class FV{constructor(t,s,i){this.query=t,this.targetId=s,this.view=i}}class VV{constructor(t){this.key=t,this.tu=!1}}class zV{constructor(t,s,i,l,y,R){this.localStore=t,this.remoteStore=s,this.eventManager=i,this.sharedClientState=l,this.currentUser=y,this.maxConcurrentLimboResolutions=R,this.nu={},this.ru=new Pu(n=>_R(n),Dm),this.iu=new Map,this.su=new Set,this.ou=new Qn(nr.comparator),this._u=new Map,this.au=new Kb,this.uu={},this.cu=new Map,this.lu=Xc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function GV(r,t,s=!0){const i=rM(r);let l;const y=i.ru.get(t);return y?(i.sharedClientState.addLocalQueryTarget(y.targetId),l=y.view.eu()):l=await ZR(i,t,s,!0),l}async function HV(r,t){const s=rM(r);await ZR(s,t,!0,!1)}async function ZR(r,t,s,i){const l=await fV(r.localStore,zo(t)),y=l.targetId,R=r.sharedClientState.addLocalQueryTarget(y,s);let n;return i&&(n=await qV(r,t,y,R==="current",l.resumeToken)),r.isPrimaryClient&&s&&$R(r.remoteStore,l),n}async function qV(r,t,s,i,l){r.Pu=(d,c,T)=>async function(f,h,p,u){let g=h.view.Ga(p);g.ys&&(g=await tj(f.localStore,h.query,!1).then(({documents:b})=>h.view.Ga(b,g)));const S=u&&u.targetChanges.get(h.targetId),j=u&&u.targetMismatches.get(h.targetId)!=null,_=h.view.applyChanges(g,f.isPrimaryClient,S,j);return hj(f,h.targetId,_.Ya),_.snapshot}(r,d,c,T);const y=await tj(r.localStore,t,!0),R=new BV(t,y.Ns),n=R.Ga(y.documents),C=zh.createSynthesizedTargetChangeForCurrentChange(s,i&&r.onlineState!=="Offline",l),x=R.applyChanges(n,r.isPrimaryClient,C);hj(r,s,x.Ya);const m=new FV(t,s,R);return r.ru.set(t,m),r.iu.has(s)?r.iu.get(s).push(t):r.iu.set(s,[t]),x.snapshot}async function $V(r,t,s){const i=$r(r),l=i.ru.get(t),y=i.iu.get(l.targetId);if(y.length>1)return i.iu.set(l.targetId,y.filter(R=>!Dm(R,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await k0(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),s&&e1(i.remoteStore,l.targetId),D0(i,l.targetId)}).catch(Mm)):(D0(i,l.targetId),await k0(i.localStore,l.targetId,!0))}async function WV(r,t){const s=$r(r),i=s.ru.get(t),l=s.iu.get(i.targetId);s.isPrimaryClient&&l.length===1&&(s.sharedClientState.removeLocalQueryTarget(i.targetId),e1(s.remoteStore,i.targetId))}async function JR(r,t){const s=$r(r);try{const i=await dV(s.localStore,t);t.targetChanges.forEach((l,y)=>{const R=s._u.get(y);R&&(Dn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?R.tu=!0:l.modifiedDocuments.size>0?Dn(R.tu,14607):l.removedDocuments.size>0&&(Dn(R.tu,42227),R.tu=!1))}),await tM(s,i,t)}catch(i){await Mm(i)}}function dj(r,t,s){const i=$r(r);if(i.isPrimaryClient&&s===0||!i.isPrimaryClient&&s===1){const l=[];i.ru.forEach((y,R)=>{const n=R.view.ga(t);n.snapshot&&l.push(n.snapshot)}),function(R,n){const C=$r(R);C.onlineState=n;let x=!1;C.queries.forEach((m,d)=>{for(const c of d.Ra)c.ga(n)&&(x=!0)}),x&&i1(C)}(i.eventManager,t),l.length&&i.nu.Q_(l),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function YV(r,t,s){const i=$r(r);i.sharedClientState.updateQueryState(t,"rejected",s);const l=i._u.get(t),y=l&&l.key;if(y){let R=new Qn(nr.comparator);R=R.insert(y,Ys.newNoDocument(y,fr.min()));const n=Xr().add(y),C=new Um(fr.min(),new Map,new Qn(Ar),R,n);await JR(i,C),i.ou=i.ou.remove(y),i._u.delete(t),a1(i)}else await k0(i.localStore,t,!1).then(()=>D0(i,t,s)).catch(Mm)}function D0(r,t,s=null){r.sharedClientState.removeLocalQueryTarget(t);for(const i of r.iu.get(t))r.ru.delete(i),s&&r.nu.Tu(i,s);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(i=>{r.au.containsKey(i)||eM(r,i)})}function eM(r,t){r.su.delete(t.path.canonicalString());const s=r.ou.get(t);s!==null&&(e1(r.remoteStore,s),r.ou=r.ou.remove(t),r._u.delete(s),a1(r))}function hj(r,t,s){for(const i of s)i instanceof KR?(r.au.addReference(i.key,t),XV(r,i)):i instanceof QR?(qt(o1,"Document no longer in limbo: "+i.key),r.au.removeReference(i.key,t),r.au.containsKey(i.key)||eM(r,i.key)):pr(19791,{Iu:i})}function XV(r,t){const s=t.key,i=s.path.canonicalString();r.ou.get(s)||r.su.has(i)||(qt(o1,"New document in limbo: "+s),r.su.add(i),a1(r))}function a1(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const s=new nr(On.fromString(t)),i=r.lu.next();r._u.set(i,new VV(s)),r.ou=r.ou.insert(s,i),$R(r.remoteStore,new _l(zo(qb(s.path)),i,"TargetPurposeLimboResolution",km.le))}}async function tM(r,t,s){const i=$r(r),l=[],y=[],R=[];i.ru.isEmpty()||(i.ru.forEach((n,C)=>{R.push(i.Pu(C,t,s).then(x=>{var m;if((x||s)&&i.isPrimaryClient){const d=x?!x.fromCache:(m=s==null?void 0:s.targetChanges.get(C.targetId))===null||m===void 0?void 0:m.current;i.sharedClientState.updateQueryState(C.targetId,d?"current":"not-current")}if(x){l.push(x);const d=Zb.Ps(C.targetId,x);y.push(d)}}))}),await Promise.all(R),i.nu.Q_(l),await async function(C,x){const m=$r(C);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>bt.forEach(x,c=>bt.forEach(c.ls,T=>m.persistence.referenceDelegate.addReference(d,c.targetId,T)).next(()=>bt.forEach(c.hs,T=>m.persistence.referenceDelegate.removeReference(d,c.targetId,T)))))}catch(d){if(!ud(d))throw d;qt(Jb,"Failed to update sequence numbers: "+d)}for(const d of x){const c=d.targetId;if(!d.fromCache){const T=m.Ss.get(c),A=T.snapshotVersion,f=T.withLastLimboFreeSnapshotVersion(A);m.Ss=m.Ss.insert(c,f)}}}(i.localStore,y))}async function KV(r,t){const s=$r(r);if(!s.currentUser.isEqual(t)){qt(o1,"User change. New user:",t.toKey());const i=await GR(s.localStore,t);s.currentUser=t,function(y,R){y.cu.forEach(n=>{n.forEach(C=>{C.reject(new Kt(It.CANCELLED,R))})}),y.cu.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await tM(s,i.Ms)}}function QV(r,t){const s=$r(r),i=s._u.get(t);if(i&&i.tu)return Xr().add(i.key);{let l=Xr();const y=s.iu.get(t);if(!y)return l;for(const R of y){const n=s.ru.get(R);l=l.unionWith(n.view.Wa)}return l}}function rM(r){const t=$r(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=JR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YV.bind(null,t),t.nu.Q_=LV.bind(null,t.eventManager),t.nu.Tu=NV.bind(null,t.eventManager),t}class em{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Bm(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,s){return null}fu(t,s){return null}Vu(t){return cV(this.persistence,new aV,t.initialUser,this.serializer)}Ru(t){return new zR(Qb.Ei,this.serializer)}Au(t){return new mV}async terminate(){var t,s;(t=this.gcScheduler)===null||t===void 0||t.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}em.provider={build:()=>new em};class ZV extends em{constructor(t){super(),this.cacheSizeBytes=t}mu(t,s){Dn(this.persistence.referenceDelegate instanceof Jp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new $7(i,t.asyncQueue,s)}Ru(t){const s=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new zR(i=>Jp.Ei(i,s),this.serializer)}}class P0{async initialize(t,s){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dj(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KV.bind(null,this.syncEngine),await kV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new OV}()}createDatastore(t){const s=Bm(t.databaseInfo.databaseId),i=function(y){return new _V(y)}(t.databaseInfo);return function(y,R,n,C){return new EV(y,R,n,C)}(t.authCredentials,t.appCheckCredentials,i,s)}createRemoteStore(t){return function(i,l,y,R,n){return new TV(i,l,y,R,n)}(this.localStore,this.datastore,t.asyncQueue,s=>dj(this.syncEngine,s,0),function(){return sj.C()?new sj:new yV}())}createSyncEngine(t,s){return function(l,y,R,n,C,x,m){const d=new zV(l,y,R,n,C,x);return m&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}async terminate(){var t,s;await async function(l){const y=$r(l);qt(Kc,"RemoteStore shutting down."),y.aa.add(5),await Gh(y),y.ca.shutdown(),y.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}P0.provider={build:()=>new P0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Sa("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,s){setTimeout(()=>{this.muted||t(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="FirestoreClient";class ez{constructor(t,s,i,l,y){this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=i,this.databaseInfo=l,this.user=Ws.UNAUTHENTICATED,this.clientId=I9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=y,this.authCredentials.start(i,async R=>{qt(Dl,"Received user=",R.uid),await this.authCredentialListener(R),this.user=R}),this.appCheckCredentials.start(i,R=>(qt(Dl,"Received new app check token=",R),this.appCheckCredentialListener(R,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(s){const i=XR(s,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Nv(r,t){r.asyncQueue.verifyOperationInProgress(),qt(Dl,"Initializing OfflineComponentProvider");const s=r.configuration;await t.initialize(s);let i=s.initialUser;r.setCredentialChangeListener(async l=>{i.isEqual(l)||(await GR(t.localStore,l),i=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function fj(r,t){r.asyncQueue.verifyOperationInProgress();const s=await tz(r);qt(Dl,"Initializing OnlineComponentProvider"),await t.initialize(s,r.configuration),r.setCredentialChangeListener(i=>aj(t.remoteStore,i)),r.setAppCheckTokenChangeListener((i,l)=>aj(t.remoteStore,l)),r._onlineComponents=t}async function tz(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){qt(Dl,"Using user provided OfflineComponentProvider");try{await Nv(r,r._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!function(l){return l.name==="FirebaseError"?l.code===It.FAILED_PRECONDITION||l.code===It.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s))throw s;qc("Error using user provided cache. Falling back to memory cache: "+s),await Nv(r,new em)}}else qt(Dl,"Using default OfflineComponentProvider"),await Nv(r,new ZV(void 0));return r._offlineComponents}async function rz(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(qt(Dl,"Using user provided OnlineComponentProvider"),await fj(r,r._uninitializedComponentsProvider._online)):(qt(Dl,"Using default OnlineComponentProvider"),await fj(r,new P0))),r._onlineComponents}async function pj(r){const t=await rz(r),s=t.eventManager;return s.onListen=GV.bind(null,t.syncEngine),s.onUnlisten=$V.bind(null,t.syncEngine),s.onFirstRemoteStoreListen=HV.bind(null,t.syncEngine),s.onLastRemoteStoreUnlisten=WV.bind(null,t.syncEngine),s}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Map;function nz(r,t,s,i){if(t===!0&&i===!0)throw new Kt(It.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function yj(r){if(nr.isDocumentKey(r))throw new Kt(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pr(12329,{type:typeof r})}function Sp(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new Kt(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Vm(r);throw new Kt(It.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="firestore.googleapis.com",gj=!0;class vj{constructor(t){var s,i;if(t.host===void 0){if(t.ssl!==void 0)throw new Kt(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sM,this.ssl=gj}else this.host=t.host,this.ssl=(s=t.ssl)!==null&&s!==void 0?s:gj;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=VR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<H7)throw new Kt(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}nz("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nM((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(y){if(y.timeoutSeconds!==void 0){if(isNaN(y.timeoutSeconds))throw new Kt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new Kt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new Kt(It.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class l1{constructor(t,s,i,l){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Kt(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Kt(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vj(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new j9;switch(i.type){case"firstParty":return new R9(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Kt(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const i=mj.get(s);i&&(qt("ComponentProvider","Removing Datastore"),mj.delete(s),i.terminate())}(this),Promise.resolve()}}function sz(r,t,s,i={}){var l;const y=(r=Sp(r,l1))._getSettings(),R=Object.assign(Object.assign({},y),{emulatorOptions:r._getEmulatorOptions()}),n=`${t}:${s}`;y.host!==sM&&y.host!==n&&qc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const C=Object.assign(Object.assign({},y),{host:n,ssl:!1,emulatorOptions:i});if(!Ru(C,R)&&(r._setSettings(C),i.mockUserToken)){let x,m;if(typeof i.mockUserToken=="string")x=i.mockUserToken,m=Ws.MOCK_USER;else{x=Z8(i.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new Kt(It.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ws(d)}r._authCredentials=new T9(new rR(x,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,s,i){this.converter=s,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Pl(this.firestore,t,this._query)}}class $o{constructor(t,s,i){this.converter=s,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $o(this.firestore,t,this._key)}}class Cc extends Pl{constructor(t,s,i){super(t,s,qb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $o(this.firestore,null,new nr(t))}withConverter(t){return new Cc(this.firestore,t,this._path)}}function iz(r,t,...s){if(r=go(r),r instanceof l1){const i=On.fromString(t,...s);return yj(i),new Cc(r,null,i)}{if(!(r instanceof $o||r instanceof Cc))throw new Kt(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(On.fromString(t,...s));return yj(i),new Cc(r.firestore,null,i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="AsyncQueue";class _j{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new qR(this,"async_queue_retry"),this.ju=()=>{const i=Lv();i&&qt(bj,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const s=Lv();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const s=Lv();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const s=new jc;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!ud(t))throw t;qt(bj,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const s=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,Sa("INTERNAL UNHANDLED ERROR: ",wj(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=s,s}enqueueAfterDelay(t,s,i){this.Ju(),this.zu.indexOf(t)>-1&&(s=0);const l=s1.createAndSchedule(this,t,s,i,y=>this.Xu(y));return this.Uu.push(l),l}Ju(){this.Ku&&pr(47125,{ec:wj(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const s of this.Uu)if(s.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((s,i)=>s.targetTimeMs-i.targetTimeMs);for(const s of this.Uu)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const s=this.Uu.indexOf(t);this.Uu.splice(s,1)}}function wj(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(r){return function(s,i){if(typeof s!="object"||s===null)return!1;const l=s;for(const y of i)if(y in l&&typeof l[y]=="function")return!0;return!1}(r,["next","error","complete"])}class L0 extends l1{constructor(t,s,i,l){super(t,s,i,l),this.type="firestore",this._queue=new _j,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _j(t),this._firestoreClient=void 0,await t}}}function oz(r,t){const s=typeof r=="object"?r:$C(),i=typeof r=="string"?r:Wp,l=Bb(s,"firestore").getImmediate({identifier:i});if(!l._initialized){const y=K8("firestore");y&&sz(l,...y)}return l}function az(r){if(r._terminated)throw new Kt(It.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lz(r),r._firestoreClient}function lz(r){var t,s,i;const l=r._freezeSettings(),y=function(n,C,x,m){return new $9(n,C,x,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,nM(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((s=l.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new ez(r._authCredentials,r._appCheckCredentials,r._queue,y,r._componentsProvider&&function(n){const C=n==null?void 0:n._online.build();return{_offline:n==null?void 0:n._offline.build(C),_online:C}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zc(Ls.fromBase64String(t))}catch(s){throw new Kt(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new Zc(Ls.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(...t){for(let s=0;s<t.length;++s)if(t[s].length===0)throw new Kt(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new Kt(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new Kt(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ar(this._lat,t._lat)||Ar(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this._values=(t||[]).map(s=>s)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,l){if(i.length!==l.length)return!1;for(let y=0;y<i.length;++y)if(i[y]!==l[y])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=/^__.*__$/;function aM(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pr(40011,{oc:r})}}class d1{constructor(t,s,i,l,y,R){this.settings=t,this.databaseId=s,this.serializer=i,this.ignoreUndefinedProperties=l,y===void 0&&this._c(),this.fieldTransforms=y||[],this.fieldMask=R||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new d1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var s;const i=(s=this.path)===null||s===void 0?void 0:s.child(t),l=this.ac({path:i,cc:!1});return l.lc(t),l}hc(t){var s;const i=(s=this.path)===null||s===void 0?void 0:s.child(t),l=this.ac({path:i,cc:!1});return l._c(),l}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return N0(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(s=>t.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>t.isPrefixOf(s.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(aM(this.oc)&&uz.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class cz{constructor(t,s,i){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=i||Bm(t)}dc(t,s,i,l=!1){return new d1({oc:t,methodName:s,Ec:i,path:Xs.emptyPath(),cc:!1,Ic:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dz(r){const t=r._freezeSettings(),s=Bm(r._databaseId);return new cz(r._databaseId,!!t.ignoreUndefinedProperties,s)}function hz(r,t,s,i=!1){return h1(s,r.dc(i?4:3,t))}function h1(r,t){if(lM(r=go(r)))return pz("Unsupported field value:",t,r),fz(r,t);if(r instanceof oM)return function(i,l){if(!aM(l.oc))throw l.Tc(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Tc(`${i._methodName}() is not currently supported inside arrays`);const y=i._toFieldTransform(l);y&&l.fieldTransforms.push(y)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(i,l){const y=[];let R=0;for(const n of i){let C=h1(n,l.Pc(R));C==null&&(C={nullValue:"NULL_VALUE"}),y.push(C),R++}return{arrayValue:{values:y}}}(r,t)}return function(i,l){if((i=go(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return m7(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const y=As.fromDate(i);return{timestampValue:R0(l.serializer,y)}}if(i instanceof As){const y=new As(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:R0(l.serializer,y)}}if(i instanceof u1)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zc)return{bytesValue:OR(l.serializer,i._byteString)};if(i instanceof $o){const y=l.databaseId,R=i.firestore._databaseId;if(!R.isEqual(y))throw l.Tc(`Document reference is for database ${R.projectId}/${R.database} but should be for database ${y.projectId}/${y.database}`);return{referenceValue:DR(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof c1)return function(R,n){return{mapValue:{fields:{[dR]:{stringValue:hR},[Yp]:{arrayValue:{values:R.toArray().map(x=>{if(typeof x!="number")throw n.Tc("VectorValues must only contain numeric values.");return $b(n.serializer,x)})}}}}}}(i,l);throw l.Tc(`Unsupported field value: ${Vm(i)}`)}(r,t)}function fz(r,t){const s={};return iR(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cd(r,(i,l)=>{const y=h1(l,t.uc(i));y!=null&&(s[i]=y)}),{mapValue:{fields:s}}}function lM(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof As||r instanceof u1||r instanceof Zc||r instanceof $o||r instanceof oM||r instanceof c1)}function pz(r,t,s){if(!lM(s)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(s)){const i=Vm(s);throw i==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+i)}}const mz=new RegExp("[~\\*/\\[\\]]");function yz(r,t,s){if(t.search(mz)>=0)throw N0(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,s);try{return new iM(...t.split("."))._internalPath}catch{throw N0(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,s)}}function N0(r,t,s,i,l){const y=i&&!i.isEmpty(),R=l!==void 0;let n=`Function ${t}() called with invalid data`;s&&(n+=" (via `toFirestore()`)"),n+=". ";let C="";return(y||R)&&(C+=" (found",y&&(C+=` in field ${i}`),R&&(C+=` in document ${l}`),C+=")"),new Kt(It.INVALID_ARGUMENT,n+r+C)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(t,s,i,l,y){this._firestore=t,this._userDataWriter=s,this._key=i,this._document=l,this._converter=y}get id(){return this._key.path.lastSegment()}get ref(){return new $o(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(f1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s)}}}class gz extends uM{data(){return super.data()}}function f1(r,t){return typeof t=="string"?yz(r,t):t instanceof iM?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Kt(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p1{}class m1 extends p1{}function bz(r,t,...s){let i=[];t instanceof p1&&i.push(t),i=i.concat(s),function(y){const R=y.filter(C=>C instanceof g1).length,n=y.filter(C=>C instanceof y1).length;if(R>1||R>0&&n>0)throw new Kt(It.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)r=l._apply(r);return r}class y1 extends m1{constructor(t,s,i){super(),this._field=t,this._op=s,this._value=i,this.type="where"}static _create(t,s,i){return new y1(t,s,i)}_apply(t){const s=this._parse(t);return cM(t._query,s),new Pl(t.firestore,t.converter,j0(t._query,s))}_parse(t){const s=dz(t.firestore);return function(y,R,n,C,x,m,d){let c;if(x.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Kt(It.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Ej(d,m);const A=[];for(const f of d)A.push(Sj(C,y,f));c={arrayValue:{values:A}}}else c=Sj(C,y,d)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Ej(d,m),c=hz(n,R,d,m==="in"||m==="not-in");return as.create(x,m,c)}(t._query,"where",s,t.firestore._databaseId,this._field,this._op,this._value)}}class g1 extends p1{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new g1(t,s)}_parse(t){const s=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return s.length===1?s[0]:vo.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return s.getFilters().length===0?t:(function(l,y){let R=l;const n=y.getFlattenedFilters();for(const C of n)cM(R,C),R=j0(R,C)}(t._query,s),new Pl(t.firestore,t.converter,j0(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class v1 extends m1{constructor(t,s){super(),this._field=t,this._direction=s,this.type="orderBy"}static _create(t,s){return new v1(t,s)}_apply(t){const s=function(l,y,R){if(l.startAt!==null)throw new Kt(It.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Kt(It.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ph(y,R)}(t._query,this._field,this._direction);return new Pl(t.firestore,t.converter,function(l,y){const R=l.explicitOrderBy.concat([y]);return new dd(l.path,l.collectionGroup,R,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,s))}}function _z(r,t="asc"){const s=t,i=f1("orderBy",r);return v1._create(i,s)}class b1 extends m1{constructor(t,s,i){super(),this.type=t,this._limit=s,this._limitType=i}static _create(t,s,i){return new b1(t,s,i)}_apply(t){return new Pl(t.firestore,t.converter,Kp(t._query,this._limit,this._limitType))}}function wz(r){return b1._create("limit",r,"F")}function Sj(r,t,s){if(typeof(s=go(s))=="string"){if(s==="")throw new Kt(It.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bR(t)&&s.indexOf("/")!==-1)throw new Kt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const i=t.path.child(On.fromString(s));if(!nr.isDocumentKey(i))throw new Kt(It.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return L2(r,new nr(i))}if(s instanceof $o)return L2(r,s._key);throw new Kt(It.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(s)}.`)}function Ej(r,t){if(!Array.isArray(r)||r.length===0)throw new Kt(It.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cM(r,t){const s=function(l,y){for(const R of l)for(const n of R.getFlattenedFilters())if(y.indexOf(n.op)>=0)return n.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(s!==null)throw s===t.op?new Kt(It.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Kt(It.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}class xz{convertValue(t,s="none"){switch(Il(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(kl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 11:return this.convertObject(t.mapValue,s);case 10:return this.convertVectorValue(t.mapValue);default:throw pr(62114,{value:t})}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const i={};return cd(t,(l,y)=>{i[l]=this.convertValue(y,s)}),i}convertVectorValue(t){var s,i,l;const y=(l=(i=(s=t.fields)===null||s===void 0?void 0:s[Yp].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(R=>Wn(R.doubleValue));return new c1(y)}convertGeoPoint(t){return new u1(Wn(t.latitude),Wn(t.longitude))}convertArray(t,s){return(t.values||[]).map(i=>this.convertValue(i,s))}convertServerTimestamp(t,s){switch(s){case"previous":const i=Om(t);return i==null?null:this.convertValue(i,s);case"estimate":return this.convertTimestamp(Ih(t));default:return null}}convertTimestamp(t){const s=Ml(t);return new As(s.seconds,s.nanos)}convertDocumentKey(t,s){const i=On.fromString(t);Dn(FR(i),9688,{name:t});const l=new Oh(i.get(1),i.get(3)),y=new nr(i.popFirst(5));return l.isEqual(s)||Sa(`Document ${y} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dM extends uM{constructor(t,s,i,l,y,R){super(t,s,i,l,R),this._firestore=t,this._firestoreImpl=t,this.metadata=y}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new Ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const i=this._document.data.field(f1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,s.serverTimestamps)}}}class Ep extends dM{data(t={}){return super.data(t)}}class Sz{constructor(t,s,i,l){this._firestore=t,this._userDataWriter=s,this._snapshot=l,this.metadata=new uh(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const t=[];return this.forEach(s=>t.push(s)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,s){this._snapshot.docs.forEach(i=>{t.call(s,new Ep(this._firestore,this._userDataWriter,i.key,i,new uh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new Kt(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(l,y){if(l._snapshot.oldDocs.isEmpty()){let R=0;return l._snapshot.docChanges.map(n=>{const C=new Ep(l._firestore,l._userDataWriter,n.doc.key,n.doc,new uh(l._snapshot.mutatedKeys.has(n.doc.key),l._snapshot.fromCache),l.query.converter);return n.doc,{type:"added",doc:C,oldIndex:-1,newIndex:R++}})}{let R=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(n=>y||n.type!==3).map(n=>{const C=new Ep(l._firestore,l._userDataWriter,n.doc.key,n.doc,new uh(l._snapshot.mutatedKeys.has(n.doc.key),l._snapshot.fromCache),l.query.converter);let x=-1,m=-1;return n.type!==0&&(x=R.indexOf(n.doc.key),R=R.delete(n.doc.key)),n.type!==1&&(R=R.add(n.doc),m=R.indexOf(n.doc.key)),{type:Ez(n.type),doc:C,oldIndex:x,newIndex:m}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function Ez(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pr(61501,{type:r})}}class hM extends xz{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zc(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new $o(this.firestore,null,s)}}function jz(r,...t){var s,i,l;r=go(r);let y={includeMetadataChanges:!1,source:"default"},R=0;typeof t[R]!="object"||xj(t[R])||(y=t[R],R++);const n={includeMetadataChanges:y.includeMetadataChanges,source:y.source};if(xj(t[R])){const d=t[R];t[R]=(s=d.next)===null||s===void 0?void 0:s.bind(d),t[R+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),t[R+2]=(l=d.complete)===null||l===void 0?void 0:l.bind(d)}let C,x,m;if(r instanceof $o)x=Sp(r.firestore,L0),m=qb(r._key.path),C={next:d=>{t[R]&&t[R](Tz(x,r,d))},error:t[R+1],complete:t[R+2]};else{const d=Sp(r,Pl);x=Sp(d.firestore,L0),m=d._query;const c=new hM(x);C={next:T=>{t[R]&&t[R](new Sz(x,c,d,T))},error:t[R+1],complete:t[R+2]},vz(r._query)}return function(c,T,A,f){const h=new JV(f),p=new UV(T,h,A);return c.asyncQueue.enqueueAndForget(async()=>DV(await pj(c),p)),()=>{h.yu(),c.asyncQueue.enqueueAndForget(async()=>PV(await pj(c),p))}}(az(x),m,n,C)}function Tz(r,t,s){const i=s.docs.get(t._key),l=new hM(r);return new dM(r,l,t._key,i,new uh(s.hasPendingWrites,s.fromCache),t.converter)}(function(t,s=!0){(function(l){ld=l})(ad),Hc(new Mu("firestore",(i,{instanceIdentifier:l,options:y})=>{const R=i.getProvider("app").getImmediate(),n=new L0(new A9(i.getProvider("auth-internal")),new M9(R,i.getProvider("app-check-internal")),function(x,m){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Kt(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(x.options.projectId,m)}(R,l),R);return y=Object.assign({useFetchStreams:s},y),n._setSettings(y),n},"PUBLIC").setMultipleInstances(!0)),El(E2,j2,t),El(E2,j2,"esm2017")})();function fM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Az=fM,pM=new Fh("auth","Firebase",fM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Nb("@firebase/auth");function Cz(r,...t){tm.logLevel<=Lr.WARN&&tm.warn(`Auth (${ad}): ${r}`,...t)}function jp(r,...t){tm.logLevel<=Lr.ERROR&&tm.error(`Auth (${ad}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(r,...t){throw _1(r,...t)}function Go(r,...t){return _1(r,...t)}function mM(r,t,s){const i=Object.assign(Object.assign({},Az()),{[t]:s});return new Fh("auth","Firebase",i).create(t,{appName:r.name})}function Tu(r){return mM(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _1(r,...t){if(typeof r!="string"){const s=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(s,...i)}return pM.create(r,...t)}function or(r,t,...s){if(!r)throw _1(t,...s)}function va(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jp(t),new Error(t)}function ja(r,t){r||va(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Rz(){return jj()==="http:"||jj()==="https:"}function jj(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Rz()||rF()||"connection"in navigator)?navigator.onLine:!0}function kz(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t,s){this.shortDelay=t,this.longDelay=s,ja(s>t,"Short delay should be less than long delay!"),this.isMobile=J8()||nF()}get(){return Mz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r,t){ja(r.emulator,"Emulator should always be set here");const{url:s}=r.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{static initialize(t,s,i){this.fetchImpl=t,s&&(this.headersImpl=s),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;va("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;va("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;va("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dz=new qh(3e4,6e4);function x1(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function fd(r,t,s,i,l={}){return gM(r,l,async()=>{let y={},R={};i&&(t==="GET"?R=i:y={body:JSON.stringify(i)});const n=Vh(Object.assign({key:r.config.apiKey},R)).slice(1),C=await r._getAdditionalHeaders();C["Content-Type"]="application/json",r.languageCode&&(C["X-Firebase-Locale"]=r.languageCode);const x=Object.assign({method:t,headers:C},y);return tF()||(x.referrerPolicy="no-referrer"),yM.fetch()(await vM(r,r.config.apiHost,s,n),x)})}async function gM(r,t,s){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},Iz),t);try{const l=new Lz(r),y=await Promise.race([s(),l.promise]);l.clearNetworkTimeout();const R=await y.json();if("needConfirmation"in R)throw ip(r,"account-exists-with-different-credential",R);if(y.ok&&!("errorMessage"in R))return R;{const n=y.ok?R.errorMessage:R.error.message,[C,x]=n.split(" : ");if(C==="FEDERATED_USER_ID_ALREADY_LINKED")throw ip(r,"credential-already-in-use",R);if(C==="EMAIL_EXISTS")throw ip(r,"email-already-in-use",R);if(C==="USER_DISABLED")throw ip(r,"user-disabled",R);const m=i[C]||C.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw mM(r,m,x);Ea(r,m)}}catch(l){if(l instanceof Aa)throw l;Ea(r,"network-request-failed",{message:String(l)})}}async function Pz(r,t,s,i,l={}){const y=await fd(r,t,s,i,l);return"mfaPendingCredential"in y&&Ea(r,"multi-factor-auth-required",{_serverResponse:y}),y}async function vM(r,t,s,i){const l=`${t}${s}?${i}`,y=r,R=y.config.emulator?w1(r.config,l):`${r.config.apiScheme}://${l}`;return Oz.includes(s)&&(await y._persistenceManagerAvailable,y._getPersistenceType()==="COOKIE")?y._getPersistence()._getFinalTarget(R).toString():R}class Lz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,i)=>{this.timer=setTimeout(()=>i(Go(this.auth,"network-request-failed")),Dz.get())})}}function ip(r,t,s){const i={appName:r.name};s.email&&(i.email=s.email),s.phoneNumber&&(i.phoneNumber=s.phoneNumber);const l=Go(r,t,i);return l.customData._tokenResponse=s,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(r,t){return fd(r,"POST","/v1/accounts:delete",t)}async function rm(r,t){return fd(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Uz(r,t=!1){const s=go(r),i=await s.getIdToken(t),l=S1(i);or(l&&l.exp&&l.auth_time&&l.iat,s.auth,"internal-error");const y=typeof l.firebase=="object"?l.firebase:void 0,R=y==null?void 0:y.sign_in_provider;return{claims:l,token:i,authTime:xh(Uv(l.auth_time)),issuedAtTime:xh(Uv(l.iat)),expirationTime:xh(Uv(l.exp)),signInProvider:R||null,signInSecondFactor:(y==null?void 0:y.sign_in_second_factor)||null}}function Uv(r){return Number(r)*1e3}function S1(r){const[t,s,i]=r.split(".");if(t===void 0||s===void 0||i===void 0)return jp("JWT malformed, contained fewer than 3 sections"),null;try{const l=BC(s);return l?JSON.parse(l):(jp("Failed to decode base64 JWT payload"),null)}catch(l){return jp("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Tj(r){const t=S1(r);return or(t,"internal-error"),or(typeof t.exp<"u","internal-error"),or(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(r,t,s=!1){if(s)return t;try{return await t}catch(i){throw i instanceof Aa&&Bz(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function Bz({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var s;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=xh(this.lastLoginAt),this.creationTime=xh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(r){var t;const s=r.auth,i=await r.getIdToken(),l=await Lh(r,rm(s,{idToken:i}));or(l==null?void 0:l.users.length,s,"internal-error");const y=l.users[0];r._notifyReloadListener(y);const R=!((t=y.providerUserInfo)===null||t===void 0)&&t.length?bM(y.providerUserInfo):[],n=zz(r.providerData,R),C=r.isAnonymous,x=!(r.email&&y.passwordHash)&&!(n!=null&&n.length),m=C?x:!1,d={uid:y.localId,displayName:y.displayName||null,photoURL:y.photoUrl||null,email:y.email||null,emailVerified:y.emailVerified||!1,phoneNumber:y.phoneNumber||null,tenantId:y.tenantId||null,providerData:n,metadata:new B0(y.createdAt,y.lastLoginAt),isAnonymous:m};Object.assign(r,d)}async function Vz(r){const t=go(r);await nm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function zz(r,t){return[...r.filter(i=>!t.some(l=>l.providerId===i.providerId)),...t]}function bM(r){return r.map(t=>{var{providerId:s}=t,i=cb(t,["providerId"]);return{providerId:s,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gz(r,t){const s=await gM(r,{},async()=>{const i=Vh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:y}=r.config,R=await vM(r,l,"/v1/token",`key=${y}`),n=await r._getAdditionalHeaders();return n["Content-Type"]="application/x-www-form-urlencoded",yM.fetch()(R,{method:"POST",headers:n,body:i})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function Hz(r,t){return fd(r,"POST","/v2/accounts:revokeToken",x1(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){or(t.idToken,"internal-error"),or(typeof t.idToken<"u","internal-error"),or(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tj(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}updateFromIdToken(t){or(t.length!==0,"internal-error");const s=Tj(t);this.updateTokensAndExpiration(t,null,s)}async getToken(t,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(or(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:i,refreshToken:l,expiresIn:y}=await Gz(t,s);this.updateTokensAndExpiration(i,l,Number(y))}updateTokensAndExpiration(t,s,i){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,s){const{refreshToken:i,accessToken:l,expirationTime:y}=s,R=new Rc;return i&&(or(typeof i=="string","internal-error",{appName:t}),R.refreshToken=i),l&&(or(typeof l=="string","internal-error",{appName:t}),R.accessToken=l),y&&(or(typeof y=="number","internal-error",{appName:t}),R.expirationTime=y),R}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Rc,this.toJSON())}_performRefresh(){return va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r,t){or(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class fo{constructor(t){var{uid:s,auth:i,stsTokenManager:l}=t,y=cb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=y.displayName||null,this.email=y.email||null,this.emailVerified=y.emailVerified||!1,this.phoneNumber=y.phoneNumber||null,this.photoURL=y.photoURL||null,this.isAnonymous=y.isAnonymous||!1,this.tenantId=y.tenantId||null,this.providerData=y.providerData?[...y.providerData]:[],this.metadata=new B0(y.createdAt||void 0,y.lastLoginAt||void 0)}async getIdToken(t){const s=await Lh(this,this.stsTokenManager.getToken(this.auth,t));return or(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return Uz(this,t)}reload(){return Vz(this)}_assign(t){this!==t&&(or(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>Object.assign({},s)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const s=new fo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(t){or(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),s&&await nm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bo(this.auth.app))return Promise.reject(Tu(this.auth));const t=await this.getIdToken();return await Lh(this,Nz(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){var i,l,y,R,n,C,x,m;const d=(i=s.displayName)!==null&&i!==void 0?i:void 0,c=(l=s.email)!==null&&l!==void 0?l:void 0,T=(y=s.phoneNumber)!==null&&y!==void 0?y:void 0,A=(R=s.photoURL)!==null&&R!==void 0?R:void 0,f=(n=s.tenantId)!==null&&n!==void 0?n:void 0,h=(C=s._redirectEventId)!==null&&C!==void 0?C:void 0,p=(x=s.createdAt)!==null&&x!==void 0?x:void 0,u=(m=s.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:g,emailVerified:S,isAnonymous:j,providerData:_,stsTokenManager:b}=s;or(g&&b,t,"internal-error");const E=Rc.fromJSON(this.name,b);or(typeof g=="string",t,"internal-error"),ul(d,t.name),ul(c,t.name),or(typeof S=="boolean",t,"internal-error"),or(typeof j=="boolean",t,"internal-error"),ul(T,t.name),ul(A,t.name),ul(f,t.name),ul(h,t.name),ul(p,t.name),ul(u,t.name);const M=new fo({uid:g,auth:t,email:c,emailVerified:S,displayName:d,isAnonymous:j,photoURL:A,phoneNumber:T,tenantId:f,stsTokenManager:E,createdAt:p,lastLoginAt:u});return _&&Array.isArray(_)&&(M.providerData=_.map(P=>Object.assign({},P))),h&&(M._redirectEventId=h),M}static async _fromIdTokenResponse(t,s,i=!1){const l=new Rc;l.updateFromServerResponse(s);const y=new fo({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:i});return await nm(y),y}static async _fromGetAccountInfoResponse(t,s,i){const l=s.users[0];or(l.localId!==void 0,"internal-error");const y=l.providerUserInfo!==void 0?bM(l.providerUserInfo):[],R=!(l.email&&l.passwordHash)&&!(y!=null&&y.length),n=new Rc;n.updateFromIdToken(i);const C=new fo({uid:l.localId,auth:t,stsTokenManager:n,isAnonymous:R}),x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:y,metadata:new B0(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(y!=null&&y.length)};return Object.assign(C,x),C}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new Map;function ba(r){ja(r instanceof Function,"Expected a class definition");let t=Aj.get(r);return t?(ja(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Aj.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}_M.type="NONE";const Cj=_M;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,t,s){return`firebase:${r}:${t}:${s}`}class Mc{constructor(t,s,i){this.persistence=t,this.auth=s,this.userKey=i;const{config:l,name:y}=this.auth;this.fullUserKey=Tp(this.userKey,l.apiKey,y),this.fullPersistenceKey=Tp("persistence",l.apiKey,y),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const s=await rm(this.auth,{idToken:t}).catch(()=>{});return s?fo._fromGetAccountInfoResponse(this.auth,s,t):null}return fo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,i="authUser"){if(!s.length)return new Mc(ba(Cj),t,i);const l=(await Promise.all(s.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let y=l[0]||ba(Cj);const R=Tp(i,t.config.apiKey,t.name);let n=null;for(const x of s)try{const m=await x._get(R);if(m){let d;if(typeof m=="string"){const c=await rm(t,{idToken:m}).catch(()=>{});if(!c)break;d=await fo._fromGetAccountInfoResponse(t,c,m)}else d=fo._fromJSON(t,m);x!==y&&(n=d),y=x;break}}catch{}const C=l.filter(x=>x._shouldAllowMigration);return!y._shouldAllowMigration||!C.length?new Mc(y,t,i):(y=C[0],n&&await y._set(R,n.toJSON()),await Promise.all(s.map(async x=>{if(x!==y)try{await x._remove(R)}catch{}})),new Mc(y,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(EM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TM(t))return"Blackberry";if(AM(t))return"Webos";if(xM(t))return"Safari";if((t.includes("chrome/")||SM(t))&&!t.includes("edge/"))return"Chrome";if(jM(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(s);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function wM(r=Qs()){return/firefox\//i.test(r)}function xM(r=Qs()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function SM(r=Qs()){return/crios\//i.test(r)}function EM(r=Qs()){return/iemobile/i.test(r)}function jM(r=Qs()){return/android/i.test(r)}function TM(r=Qs()){return/blackberry/i.test(r)}function AM(r=Qs()){return/webos/i.test(r)}function E1(r=Qs()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qz(r=Qs()){var t;return E1(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $z(){return sF()&&document.documentMode===10}function CM(r=Qs()){return E1(r)||jM(r)||AM(r)||TM(r)||/windows phone/i.test(r)||EM(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(r,t=[]){let s;switch(r){case"Browser":s=Rj(Qs());break;case"Worker":s=`${Rj(Qs())}-${r}`;break;default:s=r}const i=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${ad}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const i=y=>new Promise((R,n)=>{try{const C=t(y);R(C)}catch(C){n(C)}});i.onAbort=s,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const i of this.queue)await i(t),i.onAbort&&s.push(i.onAbort)}catch(i){s.reverse();for(const l of s)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(r,t={}){return fd(r,"GET","/v2/passwordPolicy",x1(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=6;class Kz{constructor(t){var s,i,l,y;const R=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=R.minPasswordLength)!==null&&s!==void 0?s:Xz,R.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=R.maxPasswordLength),R.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=R.containsLowercaseCharacter),R.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=R.containsUppercaseCharacter),R.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=R.containsNumericCharacter),R.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=R.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(y=t.forceUpgradeOnSignin)!==null&&y!==void 0?y:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var s,i,l,y,R,n;const C={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,C),this.validatePasswordCharacterOptions(t,C),C.isValid&&(C.isValid=(s=C.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),C.isValid&&(C.isValid=(i=C.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),C.isValid&&(C.isValid=(l=C.containsLowercaseLetter)!==null&&l!==void 0?l:!0),C.isValid&&(C.isValid=(y=C.containsUppercaseLetter)!==null&&y!==void 0?y:!0),C.isValid&&(C.isValid=(R=C.containsNumericCharacter)!==null&&R!==void 0?R:!0),C.isValid&&(C.isValid=(n=C.containsNonAlphanumericCharacter)!==null&&n!==void 0?n:!0),C}validatePasswordLengthOptions(t,s){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(s.meetsMinPasswordLength=t.length>=i),l&&(s.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let i;for(let l=0;l<t.length;l++)i=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(s,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,s,i,l,y){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(t,s,i,l){this.app=t,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mj(this),this.idTokenSubscription=new Mj(this),this.beforeStateQueue=new Wz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(y=>this._resolvePersistenceManagerAvailable=y)}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=ba(s)),this._initializationPromise=this.queue(async()=>{var i,l,y;if(!this._deleted&&(this.persistenceManager=await Mc.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((y=this.currentUser)===null||y===void 0?void 0:y.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const s=await rm(this,{idToken:t}),i=await fo._fromGetAccountInfoResponse(this,s,t);await this.directlySetCurrentUser(i)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Bo(this.app)){const R=this.app.settings.authIdToken;return R?new Promise(n=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(R).then(n,n))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,y=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const R=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,n=l==null?void 0:l._redirectEventId,C=await this.tryRedirectSignIn(t);(!R||R===n)&&(C!=null&&C.user)&&(l=C.user,y=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(y)try{await this.beforeStateQueue.runMiddleware(l)}catch(R){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(R))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return or(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await nm(t)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kz()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bo(this.app))return Promise.reject(Tu(this));const s=t?go(t):null;return s&&or(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&or(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bo(this.app)?Promise.reject(Tu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bo(this.app)?Promise.reject(Tu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ba(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Yz(this),s=new Kz(t);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fh("auth","Firebase",t())}onAuthStateChanged(t,s,i){return this.registerStateListener(this.authStateSubscription,t,s,i)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,i){return this.registerStateListener(this.idTokenSubscription,t,s,i)}authStateReady(){return new Promise((t,s)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},s)}})}async revokeAccessToken(t){if(this.currentUser){const s=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:s};this.tenantId!=null&&(i.tenantId=this.tenantId),await Hz(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,s){const i=await this.getOrInitRedirectPersistenceManager(s);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&ba(t)||this._popupRedirectResolver;or(s,this,"argument-error"),this.redirectPersistenceManager=await Mc.create(this,[ba(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var s,i;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(s=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,i,l){if(this._deleted)return()=>{};const y=typeof s=="function"?s:s.next.bind(s);let R=!1;const n=this._isInitialized?Promise.resolve():this._initializationPromise;if(or(n,this,"internal-error"),n.then(()=>{R||y(this.currentUser)}),typeof s=="function"){const C=t.addObserver(s,i,l);return()=>{R=!0,C()}}else{const C=t.addObserver(s);return()=>{R=!0,C()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return or(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(s["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(s["X-Firebase-AppCheck"]=l),s}async _getAppCheckToken(){var t;if(Bo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return s!=null&&s.error&&Cz(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function j1(r){return go(r)}class Mj{constructor(t){this.auth=t,this.observer=null,this.addObserver=hF(s=>this.observer=s)}get next(){return or(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zz(r){T1=r}function Jz(r){return T1.loadJS(r)}function eG(){return T1.gapiScript}function tG(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(r,t){const s=Bb(r,"auth");if(s.isInitialized()){const l=s.getImmediate(),y=s.getOptions();if(Ru(y,t??{}))return l;Ea(l,"already-initialized")}return s.initialize({options:t})}function nG(r,t){const s=(t==null?void 0:t.persistence)||[],i=(Array.isArray(s)?s:[s]).map(ba);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function sG(r,t,s){const i=j1(r);or(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const l=!1,y=MM(t),{host:R,port:n}=iG(t),C=n===null?"":`:${n}`,x={url:`${y}//${R}${C}/`},m=Object.freeze({host:R,port:n,protocol:y.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){or(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),or(Ru(x,i.config.emulator)&&Ru(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=x,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,oG()}function MM(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function iG(r){const t=MM(r),s=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!s)return{host:"",port:null};const i=s[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const y=l[1];return{host:y,port:kj(i.substr(y.length+1))}}else{const[y,R]=i.split(":");return{host:y,port:kj(R)}}}function kj(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function oG(){function r(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return va("not implemented")}_getIdTokenResponse(t){return va("not implemented")}_linkToIdToken(t,s){return va("not implemented")}_getReauthenticationResolver(t){return va("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(r,t){return Pz(r,"POST","/v1/accounts:signInWithIdp",x1(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aG="http://localhost";class Iu extends kM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new Iu(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):Ea("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:l}=s,y=cb(s,["providerId","signInMethod"]);if(!i||!l)return null;const R=new Iu(i,l);return R.idToken=y.idToken||void 0,R.accessToken=y.accessToken||void 0,R.secret=y.secret,R.nonce=y.nonce,R.pendingToken=y.pendingToken||null,R}_getIdTokenResponse(t){const s=this.buildRequest();return kc(t,s)}_linkToIdToken(t,s){const i=this.buildRequest();return i.idToken=s,kc(t,i)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,kc(t,s)}buildRequest(){const t={requestUri:aG,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=Vh(s)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends IM{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends $h{constructor(){super("facebook.com")}static credential(t){return Iu._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return pl.credentialFromTaggedObject(t)}static credentialFromError(t){return pl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return pl.credential(t.oauthAccessToken)}catch{return null}}}pl.FACEBOOK_SIGN_IN_METHOD="facebook.com";pl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return Iu._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return ml.credentialFromTaggedObject(t)}static credentialFromError(t){return ml.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:i}=t;if(!s&&!i)return null;try{return ml.credential(s,i)}catch{return null}}}ml.GOOGLE_SIGN_IN_METHOD="google.com";ml.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends $h{constructor(){super("github.com")}static credential(t){return Iu._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return yl.credentialFromTaggedObject(t)}static credentialFromError(t){return yl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return yl.credential(t.oauthAccessToken)}catch{return null}}}yl.GITHUB_SIGN_IN_METHOD="github.com";yl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends $h{constructor(){super("twitter.com")}static credential(t,s){return Iu._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return gl.credentialFromTaggedObject(t)}static credentialFromError(t){return gl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:i}=t;if(!s||!i)return null;try{return gl.credential(s,i)}catch{return null}}}gl.TWITTER_SIGN_IN_METHOD="twitter.com";gl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,i,l=!1){const y=await fo._fromIdTokenResponse(t,i,l),R=Ij(i);return new Jc({user:y,providerId:R,_tokenResponse:i,operationType:s})}static async _forOperation(t,s,i){await t._updateTokensIfNecessary(i,!0);const l=Ij(i);return new Jc({user:t,providerId:l,_tokenResponse:i,operationType:s})}}function Ij(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Aa{constructor(t,s,i,l){var y;super(s.code,s.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:t.name,tenantId:(y=t.tenantId)!==null&&y!==void 0?y:void 0,_serverResponse:s.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,s,i,l){return new sm(t,s,i,l)}}function OM(r,t,s,i){return(t==="reauthenticate"?s._getReauthenticationResolver(r):s._getIdTokenResponse(r)).catch(y=>{throw y.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(r,y,t,i):y})}async function lG(r,t,s=!1){const i=await Lh(r,t._linkToIdToken(r.auth,await r.getIdToken()),s);return Jc._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uG(r,t,s=!1){const{auth:i}=r;if(Bo(i.app))return Promise.reject(Tu(i));const l="reauthenticate";try{const y=await Lh(r,OM(i,l,t,r),s);or(y.idToken,i,"internal-error");const R=S1(y.idToken);or(R,i,"internal-error");const{sub:n}=R;return or(r.uid===n,i,"user-mismatch"),Jc._forOperation(r,l,y)}catch(y){throw(y==null?void 0:y.code)==="auth/user-not-found"&&Ea(i,"user-mismatch"),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cG(r,t,s=!1){if(Bo(r.app))return Promise.reject(Tu(r));const i="signIn",l=await OM(r,i,t),y=await Jc._fromIdTokenResponse(r,i,l);return s||await r._updateCurrentUser(y.user),y}function dG(r,t,s,i){return go(r).onIdTokenChanged(t,s,i)}function hG(r,t,s){return go(r).beforeAuthStateChanged(t,s)}const im="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(im,"1"),this.storage.removeItem(im),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=1e3,pG=10;class PM extends DM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const i=this.storage.getItem(s),l=this.localCache[s];i!==l&&t(s,l,i)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((R,n,C)=>{this.notifyListeners(R,C)});return}const i=t.key;s?this.detachListener():this.stopPolling();const l=()=>{const R=this.storage.getItem(i);!s&&this.localCache[i]===R||this.notifyListeners(i,R)},y=this.storage.getItem(i);$z()&&y!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,pG):l()}notifyListeners(t,s){this.localCache[t]=s;const i=this.listeners[t];if(i)for(const l of Array.from(i))l(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:i}),!0)})},fG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}PM.type="LOCAL";const mG=PM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM extends DM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}LM.type="SESSION";const NM=LM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(l=>l.isListeningto(t));if(s)return s;const i=new zm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:i,eventType:l,data:y}=s.data,R=this.handlersMap[l];if(!(R!=null&&R.size))return;s.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const n=Array.from(R).map(async x=>x(s.origin,y)),C=await yG(n);s.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:C})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r="",t=10){let s="";for(let i=0;i<t;i++)s+=Math.floor(Math.random()*10);return r+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let y,R;return new Promise((n,C)=>{const x=A1("",20);l.port1.start();const m=setTimeout(()=>{C(new Error("unsupported_event"))},i);R={messageChannel:l,onMessage(d){const c=d;if(c.data.eventId===x)switch(c.data.status){case"ack":clearTimeout(m),y=setTimeout(()=>{C(new Error("timeout"))},3e3);break;case"done":clearTimeout(y),n(c.data.response);break;default:clearTimeout(m),clearTimeout(y),C(new Error("invalid_response"));break}}},this.handlers.add(R),l.port1.addEventListener("message",R.onMessage),this.target.postMessage({eventType:t,eventId:x,data:s},[l.port2])}).finally(()=>{R&&this.removeMessageHandler(R)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(){return window}function vG(r){Ho().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return typeof Ho().WorkerGlobalScope<"u"&&typeof Ho().importScripts=="function"}async function bG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _G(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function wG(){return UM()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="firebaseLocalStorageDb",xG=1,om="firebaseLocalStorage",FM="fbase_key";class Wh{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Gm(r,t){return r.transaction([om],t?"readwrite":"readonly").objectStore(om)}function SG(){const r=indexedDB.deleteDatabase(BM);return new Wh(r).toPromise()}function F0(){const r=indexedDB.open(BM,xG);return new Promise((t,s)=>{r.addEventListener("error",()=>{s(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(om,{keyPath:FM})}catch(l){s(l)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(om)?t(i):(i.close(),await SG(),t(await F0()))})})}async function Oj(r,t,s){const i=Gm(r,!0).put({[FM]:t,value:s});return new Wh(i).toPromise()}async function EG(r,t){const s=Gm(r,!1).get(t),i=await new Wh(s).toPromise();return i===void 0?null:i.value}function Dj(r,t){const s=Gm(r,!0).delete(t);return new Wh(s).toPromise()}const jG=800,TG=3;class VM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await F0(),this.db)}async _withRetries(t){let s=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(s++>TG)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zm._getInstance(wG()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await bG(),!this.activeServiceWorker)return;this.sender=new gG(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((s=i[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_G()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await F0();return await Oj(t,im,"1"),await Dj(t,im),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(i=>Oj(i,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(i=>EG(i,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Dj(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const y=Gm(l,!1).getAll();return new Wh(y).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],i=new Set;if(t.length!==0)for(const{fbase_key:l,value:y}of t)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(y)&&(this.notifyListeners(l,y),s.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),s.push(l));return s}notifyListeners(t,s){this.localCache[t]=s;const i=this.listeners[t];if(i)for(const l of Array.from(i))l(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VM.type="LOCAL";const AG=VM;new qh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(r,t){return t?ba(t):(or(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends kM{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return kc(t,this._buildIdpRequest())}_linkToIdToken(t,s){return kc(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return kc(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function RG(r){return cG(r.auth,new C1(r),r.bypassAuthState)}function MG(r){const{auth:t,user:s}=r;return or(s,t,"internal-error"),uG(s,new C1(r),r.bypassAuthState)}async function kG(r){const{auth:t,user:s}=r;return or(s,t,"internal-error"),lG(s,new C1(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,s,i,l,y=!1){this.auth=t,this.resolver=i,this.user=l,this.bypassAuthState=y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:i,postBody:l,tenantId:y,error:R,type:n}=t;if(R){this.reject(R);return}const C={auth:this.auth,requestUri:s,sessionId:i,tenantId:y||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(n)(C))}catch(x){this.reject(x)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RG;case"linkViaPopup":case"linkViaRedirect":return kG;case"reauthViaPopup":case"reauthViaRedirect":return MG;default:Ea(this.auth,"internal-error")}}resolve(t){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=new qh(2e3,1e4);class xc extends zM{constructor(t,s,i,l,y){super(t,s,l,y),this.provider=i,this.authWindow=null,this.pollId=null,xc.currentPopupAction&&xc.currentPopupAction.cancel(),xc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return or(t,this.auth,"internal-error"),t}async onExecution(){ja(this.filter.length===1,"Popup operations only handle one event");const t=A1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Go(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Go(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xc.currentPopupAction=null}pollUserCancellation(){const t=()=>{var s,i;if(!((i=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Go(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,IG.get())};t()}}xc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG="pendingRedirect",Ap=new Map;class DG extends zM{constructor(t,s,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,i),this.eventId=null}async execute(){let t=Ap.get(this.auth._key());if(!t){try{const i=await PG(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(s){t=()=>Promise.reject(s)}Ap.set(this.auth._key(),t)}return this.bypassAuthState||Ap.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PG(r,t){const s=UG(t),i=NG(r);if(!await i._isAvailable())return!1;const l=await i._get(s)==="true";return await i._remove(s),l}function LG(r,t){Ap.set(r._key(),t)}function NG(r){return ba(r._redirectPersistence)}function UG(r){return Tp(OG,r.config.apiKey,r.name)}async function BG(r,t,s=!1){if(Bo(r.app))return Promise.reject(Tu(r));const i=j1(r),l=CG(i,t),R=await new DG(i,l,s).execute();return R&&!s&&(delete R.user._redirectEventId,await i._persistUserIfCurrent(R.user),await i._setRedirectUser(null,t)),R}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=10*60*1e3;class VG{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(s=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!zG(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){var i;if(t.error&&!GM(t)){const l=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";s.onError(Go(this.auth,l))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const i=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FG&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pj(t))}saveEventToCache(t){this.cachedEventUids.add(Pj(t)),this.lastProcessedEventTime=Date.now()}}function Pj(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function GM({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function zG(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GM(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GG(r,t={}){return fd(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qG=/^https?/;async function $G(r){if(r.config.emulator)return;const{authorizedDomains:t}=await GG(r);for(const s of t)try{if(WG(s))return}catch{}Ea(r,"unauthorized-domain")}function WG(r){const t=U0(),{protocol:s,hostname:i}=new URL(t);if(r.startsWith("chrome-extension://")){const R=new URL(r);return R.hostname===""&&i===""?s==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&R.hostname===i}if(!qG.test(s))return!1;if(HG.test(r))return i===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG=new qh(3e4,6e4);function Lj(){const r=Ho().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let s=0;s<r.CP.length;s++)r.CP[s]=null}}function XG(r){return new Promise((t,s)=>{var i,l,y;function R(){Lj(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lj(),s(Go(r,"network-request-failed"))},timeout:YG.get()})}if(!((l=(i=Ho().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((y=Ho().gapi)===null||y===void 0)&&y.load)R();else{const n=tG("iframefcb");return Ho()[n]=()=>{gapi.load?R():s(Go(r,"network-request-failed"))},Jz(`${eG()}?onload=${n}`).catch(C=>s(C))}}).catch(t=>{throw Cp=null,t})}let Cp=null;function KG(r){return Cp=Cp||XG(r),Cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=new qh(5e3,15e3),ZG="__/auth/iframe",JG="emulator/auth/iframe",eH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rH(r){const t=r.config;or(t.authDomain,r,"auth-domain-config-required");const s=t.emulator?w1(t,JG):`https://${r.config.authDomain}/${ZG}`,i={apiKey:t.apiKey,appName:r.name,v:ad},l=tH.get(r.config.apiHost);l&&(i.eid=l);const y=r._getFrameworks();return y.length&&(i.fw=y.join(",")),`${s}?${Vh(i).slice(1)}`}async function nH(r){const t=await KG(r),s=Ho().gapi;return or(s,r,"internal-error"),t.open({where:document.body,url:rH(r),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eH,dontclear:!0},i=>new Promise(async(l,y)=>{await i.restyle({setHideOnLeave:!1});const R=Go(r,"network-request-failed"),n=Ho().setTimeout(()=>{y(R)},QG.get());function C(){Ho().clearTimeout(n),l(i)}i.ping(C).then(C,()=>{y(R)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iH=500,oH=600,aH="_blank",lH="http://localhost";class Nj{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uH(r,t,s,i=iH,l=oH){const y=Math.max((window.screen.availHeight-l)/2,0).toString(),R=Math.max((window.screen.availWidth-i)/2,0).toString();let n="";const C=Object.assign(Object.assign({},sH),{width:i.toString(),height:l.toString(),top:y,left:R}),x=Qs().toLowerCase();s&&(n=SM(x)?aH:s),wM(x)&&(t=t||lH,C.scrollbars="yes");const m=Object.entries(C).reduce((c,[T,A])=>`${c}${T}=${A},`,"");if(qz(x)&&n!=="_self")return cH(t||"",n),new Nj(null);const d=window.open(t||"",n,m);or(d,r,"popup-blocked");try{d.focus()}catch{}return new Nj(d)}function cH(r,t){const s=document.createElement("a");s.href=r,s.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH="__/auth/handler",hH="emulator/auth/handler",fH=encodeURIComponent("fac");async function Uj(r,t,s,i,l,y){or(r.config.authDomain,r,"auth-domain-config-required"),or(r.config.apiKey,r,"invalid-api-key");const R={apiKey:r.config.apiKey,appName:r.name,authType:s,redirectUrl:i,v:ad,eventId:l};if(t instanceof IM){t.setDefaultLanguage(r.languageCode),R.providerId=t.providerId||"",dF(t.getCustomParameters())||(R.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,d]of Object.entries({}))R[m]=d}if(t instanceof $h){const m=t.getScopes().filter(d=>d!=="");m.length>0&&(R.scopes=m.join(","))}r.tenantId&&(R.tid=r.tenantId);const n=R;for(const m of Object.keys(n))n[m]===void 0&&delete n[m];const C=await r._getAppCheckToken(),x=C?`#${fH}=${encodeURIComponent(C)}`:"";return`${pH(r)}?${Vh(n).slice(1)}${x}`}function pH({config:r}){return r.emulator?w1(r,hH):`https://${r.authDomain}/${dH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="webStorageSupport";class mH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NM,this._completeRedirectFn=BG,this._overrideRedirectResult=LG}async _openPopup(t,s,i,l){var y;ja((y=this.eventManagers[t._key()])===null||y===void 0?void 0:y.manager,"_initialize() not called before _openPopup()");const R=await Uj(t,s,i,U0(),l);return uH(t,R,A1())}async _openRedirect(t,s,i,l){await this._originValidation(t);const y=await Uj(t,s,i,U0(),l);return vG(y),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:l,promise:y}=this.eventManagers[s];return l?Promise.resolve(l):(ja(y,"If manager is not set, promise should be"),y)}const i=this.initAndGetManager(t);return this.eventManagers[s]={promise:i},i.catch(()=>{delete this.eventManagers[s]}),i}async initAndGetManager(t){const s=await nH(t),i=new VG(t);return s.register("authEvent",l=>(or(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=s,i}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(Bv,{type:Bv},l=>{var y;const R=(y=l==null?void 0:l[0])===null||y===void 0?void 0:y[Bv];R!==void 0&&s(!!R),Ea(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=$G(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return CM()||xM()||E1()}}const yH=mH;var Bj="@firebase/auth",Fj="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){or(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bH(r){Hc(new Mu("auth",(t,{options:s})=>{const i=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),y=t.getProvider("app-check-internal"),{apiKey:R,authDomain:n}=i.options;or(R&&!R.includes(":"),"invalid-api-key",{appName:i.name});const C={apiKey:R,authDomain:n,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RM(r)},x=new Qz(i,l,y,C);return nG(x,s),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,i)=>{t.getProvider("auth-internal").initialize()})),Hc(new Mu("auth-internal",t=>{const s=j1(t.getProvider("auth").getImmediate());return(i=>new gH(i))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),El(Bj,Fj,vH(r)),El(Bj,Fj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=5*60,wH=zC("authIdTokenMaxAge")||_H;let Vj=null;const xH=r=>async t=>{const s=t&&await t.getIdTokenResult(),i=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(i&&i>wH)return;const l=s==null?void 0:s.token;Vj!==l&&(Vj=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function SH(r=$C()){const t=Bb(r,"auth");if(t.isInitialized())return t.getImmediate();const s=rG(r,{popupRedirectResolver:yH,persistence:[AG,mG,NM]}),i=zC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const y=new URL(i,location.origin);if(location.origin===y.origin){const R=xH(y.toString());hG(s,R,()=>R(s.currentUser)),dG(s,n=>R(n))}}const l=FC("auth");return l&&sG(s,`http://${l}`),s}function EH(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}Zz({loadJS(r){return new Promise((t,s)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=t,i.onerror=l=>{const y=Go("internal-error");y.customData=l,s(y)},i.type="text/javascript",i.charset="UTF-8",EH().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bH("Browser");const jH={apiKey:"AIzaSyB0CkEQk6MEe6sJGihsmxkQhcoHLsLiHzg",authDomain:"rp-chat-log.firebaseapp.com",projectId:"rp-chat-log",storageBucket:"rp-chat-log.firebasestorage.app",messagingSenderId:"400175216764",appId:"1:400175216764:web:0cea1ba52b6a19e83131f9"},HM=qC(jH),TH=oz(HM);SH(HM);function AH({isMobile:r,playingGuest:t,chatUser:s,setChatUser:i,hasSetUser:l,setHasSetUser:y}){const[R,n]=Pe.useState([]),[C,x]=Pe.useState(""),[m,d]=Pe.useState(""),[c,T]=Pe.useState(null),A=Pe.useRef(null),f=h=>{const p=h.getDate(),u=h.getMonth()+1,g=h.getHours().toString().padStart(2,"0"),S=h.getMinutes().toString().padStart(2,"0");return`${p}/${u} ${g}:${S}`};return Pe.useEffect(()=>{const h=bz(iz(TH,"posts"),_z("timeofpost","desc"),wz(100)),p=jz(h,u=>{const g=u.docs.map(S=>({id:S.id,...S.data()}));n(g)});return()=>p()},[]),Pe.useEffect(()=>{A.current&&A.current.scrollIntoView({behavior:"smooth"})},[R]),ge.jsxs("div",{className:"blog-content-text__desktop",style:{marginBottom:t&&r===!0?"15%":t==null&&r===!0?"5%":"2%"},children:[ge.jsxs("div",{className:"all-chats",style:{width:t&&r===!0?"":t==null&&r===!0?"98%":"75%",paddingTop:r?"":"10%"},children:[R.map(h=>{var p,u,g;return ge.jsx("div",{className:"post",style:{height:"auto",width:"100%",transition:"all 3s"},children:ge.jsxs("p",{style:{lineHeight:"1vh",marginBottom:"1vh"},children:[ge.jsx("div",{style:{display:"inline-block",width:"10vw"},children:ge.jsxs("b",{style:{fontWeight:"1000",color:"rgb(0, 0, 0)",fontSize:"2vh",width:"auto"},children:[h.name," ",((p=h==null?void 0:h.reply)==null?void 0:p.name)&&" → "+h.reply.name]})}),ge.jsx("p",{style:{color:"rgb(137, 137, 137)",fontWeight:"100",fontSize:r?"1.4vh":"2vh",display:"inline",marginLeft:".5vh"},children:h.timeofpost&&f(h.timeofpost.toDate())}),l&&ge.jsx("p",{className:"reply-button",style:{fontWeight:"100",fontSize:r?"1.4vh":"2vh",display:"inline",marginLeft:"1vh",cursor:"pointer",color:c===h.id?"rgb(255, 0, 90)":"rgb(0, 0, 0)"},onClick:()=>{d(h),c===h.id&&T(null),T(c===h.id?null:h.id)},children:c===h.id?"Cancel":"Reply"}),ge.jsxs("p",{style:{fontWeight:"300",fontSize:"2vh",display:"inline",marginLeft:(u=h==null?void 0:h.reply)!=null&&u.name?"1vw":""},children:[((g=h==null?void 0:h.reply)==null?void 0:g.name)&&" →  ",h.content]})]})},h.id)}),ge.jsxs("div",{style:{height:"auto",width:"90%",paddingBottom:"1vh"},children:[ge.jsxs("p",{style:{lineHeight:"1vh",marginBottom:"1vh"},children:[ge.jsx("b",{style:{fontWeight:"1000",color:"transparent",backgroundColor:"transparent",fontSize:r?"2vh":"2.5vh"},children:"hi"}),ge.jsxs("p",{style:{color:"transparent",fontWeight:"100",fontSize:r?"1.3vh":"2.5vh",display:"inline",marginLeft:".5vh"},children:["hi"," "]}),l&&ge.jsx("p",{className:"reply-button",style:{fontWeight:"100",fontSize:r?"1.4vh":"2vh",display:"inline",marginLeft:"1vh",cursor:"pointer",color:"transparent",backgroundColor:"transparent"},children:"hi"})]}),ge.jsx("p",{style:{fontSize:r?"5vh":"1.5vh",fontStyle:"italic",margin:"0",marginBottom:".5vh",color:"transparent"},children:"hi"}),ge.jsx("p",{style:{fontWeight:"100",fontSize:r?"5vh":"2.5vh",display:"inline",color:"transparent"},children:"hi"})]})]}),ge.jsx("div",{ref:A})]})}const CH=({isMobile:r,playingGuest:t,setChatUser:s,chatUser:i,hasSetUser:l,setHasSetUser:y})=>ge.jsx("div",{className:"blog-container",children:ge.jsx(AH,{isMobile:r,playingGuest:t,setChatUser:s,chatUser:i,hasSetUser:l,setHasSetUser:y})}),RH=({isMobile:r,isPlaying:t})=>{const{articleName:s}=Kj(),i=eb.find(m=>m.url===s),[l,y]=Pe.useState(!0),[R,n]=Pe.useState(!1),[C,x]=Pe.useState(!1);return Pe.useEffect(()=>{const m=setTimeout(()=>{n(!0),setTimeout(()=>x(!0),1e3)},50);return()=>clearTimeout(m)},[]),Pe.useEffect(()=>{const m=()=>{y(window.scrollY<100)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]),ge.jsxs(ge.Fragment,{children:[i!=null&&!r&&ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:"article-content__desktop",children:ge.jsx("p",{className:"article-content-text__desktop",dangerouslySetInnerHTML:{__html:i==null?void 0:i.description}})}),ge.jsxs("div",{className:"article-info-container",style:{transition:"opacity 1s ease-in-out"},children:[ge.jsxs("div",{className:"selected-article-container",style:{opacity:R?1:0,bottom:l?"65.5vh":"7vh",transition:"bottom 1.5s, opacity 0.5s",transitionDelay:".3s"},children:[ge.jsx("a",{target:"_blank",href:i==null?void 0:i.igLink,style:{bottom:"0"},children:ge.jsx("img",{src:i==null?void 0:i.src2,style:{height:"19vh",width:"19vh",objectFit:"cover"}})}),ge.jsxs("div",{className:"",children:[ge.jsxs("div",{style:{fontSize:"2.7vh",lineHeight:"3vh"},children:[ge.jsx("span",{style:{fontFamily:"Helvetica",fontWeight:"100"},children:i==null?void 0:i.rpCount}),ge.jsx("br",{}),ge.jsx("span",{style:{backgroundColor:"black",color:"white",padding:"2px 5px"},children:ge.jsx("b",{children:i==null?void 0:i.title})})]}),ge.jsx("a",{href:i==null?void 0:i.igLink,target:"_blank",style:{fontWeight:"1000",color:"black",textDecoration:"none",lineHeight:"4vh"},children:i==null?void 0:i.title2}),ge.jsx("br",{}),ge.jsx("br",{}),ge.jsxs("div",{style:{transition:"opacity 0.5s",fontSize:"1.7vh",lineHeight:"2vh",opacity:l?1:0},children:[ge.jsx("p",{style:{margin:"0"},children:i==null?void 0:i.tag}),ge.jsx("p",{style:{margin:"0"},children:(i==null?void 0:i.broadcastDate)+" | "+(i==null?void 0:i.length)})]})]})]}),ge.jsx("div",{className:"article-summary",style:{position:"fixed",top:"35vh",left:"3vw",width:"28vw",fontFamily:"Helvetica",opacity:R&&l?1:0,transition:R&&l?"opacity 0.7s":"opacity 0.3s",fontSize:"2vh",backgroundColor:l?"rgb(247, 247, 247)":"transparent",transitionDelay:R?C?l?"1.4s":"0s":".3s":"0s"},children:ge.jsx("p",{children:i==null?void 0:i.summary})})]})]}),i&&r?ge.jsx("div",{children:ge.jsxs("div",{className:"article-content-text__mobile",children:[ge.jsxs("div",{className:"selected-article-container-mob",style:{transition:"bottom 1.5s, opacity 0.5s",transitionDelay:".3s",width:t!=null?"90%":""},children:[ge.jsx("a",{target:"_blank",href:i==null?void 0:i.igLink,style:{bottom:"0"},children:ge.jsx("img",{src:i==null?void 0:i.src2,style:{height:"28vw",width:"28vw",objectFit:"cover",paddingLeft:"2vw"}})}),ge.jsxs("div",{style:{paddingLeft:"3vw"},children:[ge.jsxs("div",{style:{fontSize:"4.5vw",lineHeight:"6.2vw",width:"100%"},children:[ge.jsx("span",{style:{fontFamily:"Helvetica",fontWeight:"100"},children:i==null?void 0:i.rpCount}),ge.jsx("br",{}),ge.jsx("span",{style:{backgroundColor:"black",color:"white",padding:"2px 5px"},children:ge.jsx("b",{children:i==null?void 0:i.title})})]}),ge.jsx("a",{href:i==null?void 0:i.igLink,target:"_blank",style:{fontWeight:"1000",color:"black",textDecoration:"none",lineHeight:"4vh",fontSize:"4vw"},children:i==null?void 0:i.title2}),ge.jsx("br",{}),ge.jsx("br",{}),ge.jsxs("div",{style:{fontSize:"3vw",lineHeight:"4vw"},children:[ge.jsx("p",{style:{margin:"0"},children:i==null?void 0:i.tag}),ge.jsx("p",{style:{margin:"0"},children:(i==null?void 0:i.broadcastDate)+" | "+(i==null?void 0:i.length)})]})]})]}),ge.jsx("p",{className:"article-content-description__mobile",style:{fontFamily:"Helvetica",fontSize:"5vw",width:t!=null?"90%":"92%",marginLeft:"3vw",paddingBottom:t!=null?"20px":"10px"},dangerouslySetInnerHTML:{__html:i==null?void 0:i.description}})]})}):null]})};function MH(){const[r,t]=Pe.useState(window.innerWidth<=768),[s]=Pe.useState(0),[i,l]=Pe.useState(null),[y,R]=Pe.useState(null),[n,C]=Pe.useState(!1),[x,m]=Pe.useState(!1);return Pe.useEffect(()=>{const d=()=>t(window.innerWidth<=768);return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),ge.jsxs(kI,{children:[ge.jsx("div",{className:"gradient-overlay-tl"}),ge.jsx(qO,{isMobile:r,isPlaying:i,headerOpen:x}),i&&ge.jsx(VI,{children:ge.jsx($O,{playingGuest:i,isMobile:r})}),ge.jsxs(lI,{children:[ge.jsx(ya,{path:"/",element:ge.jsx(V8,{selectedIndex:null,isMobile:r,mobileIndex:s})}),ge.jsx(ya,{path:"/rp/:guestName",element:ge.jsx(r4,{isMobile:r,setPlayingGuest:l,isPlaying:i})}),ge.jsx(ya,{path:"/chat",element:ge.jsx(CH,{isMobile:r,playingGuest:i,setChatUser:R,chatUser:y,hasSetUser:n,setHasSetUser:C})}),ge.jsx(ya,{path:"/about",element:ge.jsx(n4,{isMobile:r})}),ge.jsx(ya,{path:"/rg/:articleName",element:ge.jsx(RH,{isMobile:r,isPlaying:i})}),ge.jsx(ya,{path:"/visitorlog",element:ge.jsx(P8,{})}),ge.jsx(ya,{path:"/visitorcheck",element:ge.jsx(F8,{isPlaying:i,isMobile:r})}),ge.jsx(ya,{path:"*",element:ge.jsx(oI,{to:"/",replace:!0})})]})]})}g3.createRoot(document.getElementById("root")).render(ge.jsx(Pe.StrictMode,{children:ge.jsx(MH,{})}));
